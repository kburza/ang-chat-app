"use strict";(self.webpackChunkangular_sign_up=self.webpackChunkangular_sign_up||[]).push([[179],{804:()=>{function Ve(n){return"function"==typeof n}function Bu(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Zp=Bu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function wl(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class pt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Ve(i))try{i()}catch(o){e=o instanceof Zp?o.errors:[o]}const{_teardowns:r}=this;if(r){this._teardowns=null;for(const o of r)try{lS(o)}catch(s){e=e??[],s instanceof Zp?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Zp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)lS(e);else{if(e instanceof pt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&wl(t,e)}remove(e){const{_teardowns:t}=this;t&&wl(t,e),e instanceof pt&&e._removeParent(this)}}pt.EMPTY=(()=>{const n=new pt;return n.closed=!0,n})();const sS=pt.EMPTY;function aS(n){return n instanceof pt||n&&"closed"in n&&Ve(n.remove)&&Ve(n.add)&&Ve(n.unsubscribe)}function lS(n){Ve(n)?n():n.unsubscribe()}const Xs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Yp={setTimeout(...n){const{delegate:e}=Yp;return(e?.setTimeout||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=Yp;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function cS(n){Yp.setTimeout(()=>{const{onUnhandledError:e}=Xs;if(!e)throw n;e(n)})}function Ml(){}const Rq=w2("C",void 0,void 0);function w2(n,e,t){return{kind:n,value:e,error:t}}let Js=null;function Qp(n){if(Xs.useDeprecatedSynchronousErrorHandling){const e=!Js;if(e&&(Js={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Js;if(Js=null,t)throw i}}else n()}class M2 extends pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,aS(e)&&e.add(this)):this.destination=Fq}static create(e,t,i){return new C2(e,t,i)}next(e){this.isStopped?E2(function Oq(n){return w2("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?E2(function Pq(n){return w2("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?E2(Rq,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class C2 extends M2{constructor(e,t,i){let r;if(super(),Ve(e))r=e;else if(e){let o;({next:r,error:t,complete:i}=e),this&&Xs.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe()):o=e,r=r?.bind(o),t=t?.bind(o),i=i?.bind(o)}this.destination={next:r?x2(r):Ml,error:x2(t??uS),complete:i?x2(i):Ml}}}function x2(n,e){return(...t)=>{try{n(...t)}catch(i){Xs.useDeprecatedSynchronousErrorHandling?function Nq(n){Xs.useDeprecatedSynchronousErrorHandling&&Js&&(Js.errorThrown=!0,Js.error=n)}(i):cS(i)}}}function uS(n){throw n}function E2(n,e){const{onStoppedNotification:t}=Xs;t&&Yp.setTimeout(()=>t(n,e))}const Fq={closed:!0,next:Ml,error:uS,complete:Ml},S2="function"==typeof Symbol&&Symbol.observable||"@@observable";function es(n){return n}function dS(n){return 0===n.length?es:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function Bq(n){return n&&n instanceof M2||function Vq(n){return n&&Ve(n.next)&&Ve(n.error)&&Ve(n.complete)}(n)&&aS(n)}(t)?t:new C2(t,i,r);return Qp(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=hS(i))((r,o)=>{let s;s=this.subscribe(a=>{try{t(a)}catch(l){o(l),s?.unsubscribe()}},o,r)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[S2](){return this}pipe(...t){return dS(t)(this)}toPromise(t){return new(t=hS(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function hS(n){var e;return null!==(e=n??Xs.Promise)&&void 0!==e?e:Promise}const Hq=Bu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ge=(()=>{class n extends Ue{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new pS(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Hq}next(t){Qp(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const r of i)r.next(t)}})}error(t){Qp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Qp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?sS:(o.push(t),new pt(()=>wl(o,t)))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Ue;return t.source=this,t}}return n.create=(e,t)=>new pS(e,t),n})();class pS extends ge{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:sS}}function fS(n){return Ve(n?.lift)}function Et(n){return e=>{if(fS(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class at extends M2{constructor(e,t,i,r,o){super(e),this.onFinalize=o,this._next=t?function(s){try{t(s)}catch(a){e.error(a)}}:super._next,this._error=r?function(s){try{r(s)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Z(n,e){return Et((t,i)=>{let r=0;t.subscribe(new at(i,o=>{i.next(n.call(e,o,r++))}))})}function ea(n){return this instanceof ea?(this.v=n,this):new ea(n)}function qq(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(p){return new Promise(function(f,m){o.push([h,p,f,m])>1||a(h,p)})})}function a(h,p){try{!function l(h){h.value instanceof ea?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(i[h](p))}catch(f){d(o[0][3],f)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Uq(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function yS(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const D2=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function _S(n){return Ve(n?.then)}function vS(n){return Ve(n[S2])}function kS(n){return Symbol.asyncIterator&&Ve(n?.[Symbol.asyncIterator])}function bS(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const wS=function Gq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function MS(n){return Ve(n?.[wS])}function CS(n){return qq(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield ea(t.read());if(r)return yield ea(void 0);yield yield ea(i)}}finally{t.releaseLock()}})}function xS(n){return Ve(n?.getReader)}function Qn(n){if(n instanceof Ue)return n;if(null!=n){if(vS(n))return function Wq(n){return new Ue(e=>{const t=n[S2]();if(Ve(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(D2(n))return function Kq(n){return new Ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(_S(n))return function Zq(n){return new Ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,cS)})}(n);if(kS(n))return ES(n);if(MS(n))return function Yq(n){return new Ue(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(xS(n))return function Qq(n){return ES(CS(n))}(n)}throw bS(n)}function ES(n){return new Ue(e=>{(function Xq(n,e){var t,i,r,o;return function jq(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Uq(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ho(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Ut(n,e,t=1/0){return Ve(e)?Ut((i,r)=>Z((o,s)=>e(i,o,r,s))(Qn(n(i,r))),t):("number"==typeof e&&(t=e),Et((i,r)=>function Jq(n,e,t,i,r,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},p=m=>c<i?f(m):l.push(m),f=m=>{o&&e.next(m),c++;let y=!1;Qn(t(m,u++)).subscribe(new at(e,k=>{r?.(k),o?p(k):e.next(k)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<i;){const k=l.shift();s?ho(e,s,()=>f(k)):f(k)}h()}catch(k){e.error(k)}}))};return n.subscribe(new at(e,p,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function Cl(n=1/0){return Ut(es,n)}const hr=new Ue(n=>n.complete());function SS(n){return n&&Ve(n.schedule)}function I2(n){return n[n.length-1]}function TS(n){return Ve(I2(n))?n.pop():void 0}function Hu(n){return SS(I2(n))?n.pop():void 0}function Xp(n,e=0){return Et((t,i)=>{t.subscribe(new at(i,r=>ho(i,n,()=>i.next(r),e),()=>ho(i,n,()=>i.complete(),e),r=>ho(i,n,()=>i.error(r),e)))})}function Jp(n,e=0){return Et((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function DS(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ue(t=>{ho(t,e,()=>{const i=n[Symbol.asyncIterator]();ho(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function $e(n,e){return e?function aU(n,e){if(null!=n){if(vS(n))return function nU(n,e){return Qn(n).pipe(Jp(e),Xp(e))}(n,e);if(D2(n))return function rU(n,e){return new Ue(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(_S(n))return function iU(n,e){return Qn(n).pipe(Jp(e),Xp(e))}(n,e);if(kS(n))return DS(n,e);if(MS(n))return function oU(n,e){return new Ue(t=>{let i;return ho(t,e,()=>{i=n[wS](),ho(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Ve(i?.return)&&i.return()})}(n,e);if(xS(n))return function sU(n,e){return DS(CS(n),e)}(n,e)}throw bS(n)}(n,e):Qn(n)}function Fr(...n){const e=Hu(n),t=function tU(n,e){return"number"==typeof I2(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Qn(i[0]):Cl(t)($e(i,e)):hr}function Pt(n){return n<=0?()=>hr:Et((e,t)=>{let i=0;e.subscribe(new at(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function IS(n={}){const{connector:e=(()=>new ge),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s=null,a=null,l=null,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=null},p=()=>{h(),s=l=null,u=d=!1},f=()=>{const m=s;p(),m?.unsubscribe()};return Et((m,y)=>{c++,!d&&!u&&h();const k=l=l??e();y.add(()=>{c--,0===c&&!d&&!u&&(a=A2(f,r))}),k.subscribe(y),s||(s=new C2({next:w=>k.next(w),error:w=>{d=!0,h(),a=A2(p,t,w),k.error(w)},complete:()=>{u=!0,h(),a=A2(p,i),k.complete()}}),$e(m).subscribe(s))})(o)}}function A2(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Pt(1)).subscribe(()=>n())}function nt(n){for(let e in n)if(n[e]===nt)return e;throw Error("Could not find renamed property on target object.")}function R2(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function it(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(it).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function P2(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const lU=nt({__forward_ref__:nt});function Ge(n){return n.__forward_ref__=Ge,n.toString=function(){return it(this())},n}function se(n){return O2(n)?n():n}function O2(n){return"function"==typeof n&&n.hasOwnProperty(lU)&&n.__forward_ref__===Ge}class D extends Error{constructor(e,t){super(function ef(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function he(n){return"string"==typeof n?n:null==n?"":String(n)}function tf(n,e){throw new D(-201,!1)}function Pi(n,e){null==n&&function We(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ye(n){return{providers:n.providers||[],imports:n.imports||[]}}function N2(n){return AS(n,nf)||AS(n,PS)}function AS(n,e){return n.hasOwnProperty(e)?n[e]:null}function RS(n){return n&&(n.hasOwnProperty(F2)||n.hasOwnProperty(gU))?n[F2]:null}const nf=nt({\u0275prov:nt}),F2=nt({\u0275inj:nt}),PS=nt({ngInjectableDef:nt}),gU=nt({ngInjectorDef:nt});var ie=(()=>((ie=ie||{})[ie.Default=0]="Default",ie[ie.Host=1]="Host",ie[ie.Self=2]="Self",ie[ie.SkipSelf=4]="SkipSelf",ie[ie.Optional=8]="Optional",ie))();let L2;function Yi(n){const e=L2;return L2=n,e}function OS(n,e,t){const i=N2(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ie.Optional?null:void 0!==e?e:void tf(it(n))}function ts(n){return{toString:n}.toString()}var pr=(()=>((pr=pr||{})[pr.OnPush=0]="OnPush",pr[pr.Default=1]="Default",pr))(),fr=(()=>{return(n=fr||(fr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",fr;var n})();const Ye=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xl={},ze=[],rf=nt({\u0275cmp:nt}),V2=nt({\u0275dir:nt}),sf=nt({\u0275pipe:nt}),NS=nt({\u0275mod:nt}),fo=nt({\u0275fac:nt}),ju=nt({__NG_ELEMENT_ID__:nt});let _U=0;function Ae(n){return ts(()=>{const t=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===pr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ze,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||fr.Emulated,id:"c"+_U++,styles:n.styles||ze,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return r.inputs=VS(n.inputs,i),r.outputs=VS(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(FS).filter(LS):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(ei).filter(LS):null,r})}function FS(n){return Qe(n)||Jn(n)}function LS(n){return null!==n}const kU={};function _e(n){return ts(()=>{const e={type:n.type,bootstrap:n.bootstrap||ze,declarations:n.declarations||ze,imports:n.imports||ze,exports:n.exports||ze,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(kU[n.id]=n.type),e})}function VS(n,e){if(null==n)return xl;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}const G=Ae;function Xn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Qe(n){return n[rf]||null}function Jn(n){return n[V2]||null}function ei(n){return n[sf]||null}function Oi(n,e){const t=n[NS]||null;if(!t&&!0===e)throw new Error(`Type ${it(n)} does not have '\u0275mod' property.`);return t}function gi(n){return Array.isArray(n)&&"object"==typeof n[1]}function gr(n){return Array.isArray(n)&&!0===n[1]}function j2(n){return 0!=(8&n.flags)}function uf(n){return 2==(2&n.flags)}function df(n){return 1==(1&n.flags)}function yr(n){return null!==n.template}function xU(n){return 0!=(256&n[2])}function oa(n,e){return n.hasOwnProperty(fo)?n[fo]:null}class TU{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function En(){return jS}function jS(n){return n.type.prototype.ngOnChanges&&(n.setInput=IU),DU}function DU(){const n=qS(this),e=n?.current;if(e){const t=n.previous;if(t===xl)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function IU(n,e,t,i){const r=qS(n)||function AU(n,e){return n[zS]=e}(n,{previous:xl,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[t],l=s[a];o[a]=new TU(l&&l.currentValue,e,s===xl),n[i]=e}En.ngInherit=!0;const zS="__ngSimpleChanges__";function qS(n){return n[zS]||null}function Qt(n){for(;Array.isArray(n);)n=n[0];return n}function hf(n,e){return Qt(e[n])}function Ji(n,e){return Qt(e[n.index])}function G2(n,e){return n.data[e]}function Il(n,e){return n[e]}function Fi(n,e){const t=e[n];return gi(t)?t:t[0]}function US(n){return 4==(4&n[2])}function W2(n){return 64==(64&n[2])}function ns(n,e){return null==e?null:n[e]}function $S(n){n[18]=0}function K2(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const ce={lFrame:eT(null),bindingsEnabled:!0};function WS(){return ce.bindingsEnabled}function A(){return ce.lFrame.lView}function Ne(){return ce.lFrame.tView}function an(n){return ce.lFrame.contextLView=n,n[8]}function ln(n){return ce.lFrame.contextLView=null,n}function cn(){let n=KS();for(;null!==n&&64===n.type;)n=n.parent;return n}function KS(){return ce.lFrame.currentTNode}function Lr(n,e){const t=ce.lFrame;t.currentTNode=n,t.isParent=e}function Z2(){return ce.lFrame.isParent}function Y2(){ce.lFrame.isParent=!1}function ti(){const n=ce.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Al(){return ce.lFrame.bindingIndex++}function $U(n,e){const t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Q2(e)}function Q2(n){ce.lFrame.currentDirectiveIndex=n}function QS(){return ce.lFrame.currentQueryIndex}function J2(n){ce.lFrame.currentQueryIndex=n}function WU(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function XS(n,e,t){if(t&ie.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ie.Host||(r=WU(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;e=r,n=o}const i=ce.lFrame=JS();return i.currentTNode=e,i.lView=n,!0}function e0(n){const e=JS(),t=n[1];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function JS(){const n=ce.lFrame,e=null===n?null:n.child;return null===e?eT(n):e}function eT(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function tT(){const n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const nT=tT;function t0(){const n=tT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ni(){return ce.lFrame.selectedIndex}function is(n){ce.lFrame.selectedIndex=n}function Nt(){const n=ce.lFrame;return G2(n.tView,n.selectedIndex)}function n0(){ce.lFrame.currentNamespace="svg"}function ff(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function mf(n,e,t){rT(n,e,3,t)}function gf(n,e,t,i){(3&n[2])===t&&rT(n,e,t,i)}function r0(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function rT(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(e$(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function e$(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Gu{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function yf(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];sT(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function oT(n){return 3===n||4===n||6===n}function sT(n){return 64===n.charCodeAt(0)}function _f(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||aT(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function aT(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function lT(n){return-1!==n}function Rl(n){return 32767&n}function Pl(n,e){let t=function o$(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let s0=!0;function vf(n){const e=s0;return s0=n,e}let s$=0;const Vr={};function Ku(n,e){const t=l0(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,a0(i.data,n),a0(e,null),a0(i.blueprint,null));const r=kf(n,e),o=n.injectorIndex;if(lT(r)){const s=Rl(r),a=Pl(r,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function a0(n,e){n.push(0,0,0,0,0,0,0,0,e)}function l0(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function kf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=yT(r),null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function bf(n,e,t){!function a$(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(ju)&&(i=t[ju]),null==i&&(i=t[ju]=s$++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function dT(n,e,t){if(t&ie.Optional)return n;tf()}function hT(n,e,t,i){if(t&ie.Optional&&void 0===i&&(i=null),0==(t&(ie.Self|ie.Host))){const r=n[9],o=Yi(void 0);try{return r?r.get(e,i,t&ie.Optional):OS(e,i,t&ie.Optional)}finally{Yi(o)}}return dT(i,0,t)}function pT(n,e,t,i=ie.Default,r){if(null!==n){if(1024&e[2]){const s=function h$(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=fT(o,s,t,i|ie.Self,Vr);if(a!==Vr)return a;let l=o.parent;if(!l){const c=s[21];if(c){const u=c.get(t,Vr,i);if(u!==Vr)return u}l=yT(s),s=s[15]}o=l}return r}(n,e,t,i,Vr);if(s!==Vr)return s}const o=fT(n,e,t,i,Vr);if(o!==Vr)return o}return hT(e,t,i,r)}function fT(n,e,t,i,r){const o=function u$(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ju)?n[ju]:void 0;return"number"==typeof e?e>=0?255&e:d$:e}(t);if("function"==typeof o){if(!XS(e,n,i))return i&ie.Host?dT(r,0,i):hT(e,t,i,r);try{const s=o(i);if(null!=s||i&ie.Optional)return s;tf()}finally{nT()}}else if("number"==typeof o){let s=null,a=l0(n,e),l=-1,c=i&ie.Host?e[16][6]:null;for((-1===a||i&ie.SkipSelf)&&(l=-1===a?kf(n,e):e[a+8],-1!==l&&gT(i,!1)?(s=e[1],a=Rl(l),e=Pl(l,e)):a=-1);-1!==a;){const u=e[1];if(mT(o,a,u.data)){const d=c$(a,e,t,s,i,c);if(d!==Vr)return d}l=e[a+8],-1!==l&&gT(i,e[1].data[a+8]===c)&&mT(o,a,e)?(s=u,a=Rl(l),e=Pl(l,e)):a=-1}}return r}function c$(n,e,t,i,r,o){const s=e[1],a=s.data[n+8],u=wf(a,s,t,null==i?uf(a)&&s0:i!=s&&0!=(3&a.type),r&ie.Host&&o===a);return null!==u?Zu(e,s,u,a):Vr}function wf(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let p=i?a:a+u;p<h;p++){const f=s[p];if(p<l&&t===f||p>=l&&f.type===t)return p}if(r){const p=s[l];if(p&&yr(p)&&p.type===t)return l}return null}function Zu(n,e,t,i){let r=n[t];const o=e.data;if(function t$(n){return n instanceof Gu}(r)){const s=r;s.resolving&&function cU(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new D(-200,`Circular dependency in DI detected for ${n}${t}`)}(function je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():he(n)}(o[t]));const a=vf(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Yi(s.injectImpl):null;XS(n,i,ie.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function JU(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=jS(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&Yi(l),vf(a),s.resolving=!1,nT()}}return r}function mT(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function gT(n,e){return!(n&ie.Self||n&ie.Host&&e)}class Ol{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return pT(this._tNode,this._lView,e,i,t)}}function d$(){return new Ol(cn(),A())}function un(n){return ts(()=>{const e=n.prototype.constructor,t=e[fo]||c0(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[fo]||c0(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function c0(n){return O2(n)?()=>{const e=c0(se(n));return e&&e()}:oa(n)}function yT(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function os(n){return function l$(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(oT(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(cn(),n)}const Fl="__parameters__";function Vl(n,e,t){return ts(()=>{const i=function u0(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Fl)?l[Fl]:Object.defineProperty(l,Fl,{value:[]})[Fl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class N{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Li(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),Li(i,e)):e!==n&&e.push(i)}return e}function yo(n,e){n.forEach(t=>Array.isArray(t)?yo(t,e):e(t))}function vT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Mf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Xu(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Vi(n,e,t){let i=Bl(n,e);return i>=0?n[1|i]=t:(i=~i,function g$(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function h0(n,e){const t=Bl(n,e);if(t>=0)return n[1|t]}function Bl(n,e){return function wT(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Ju={},f0="__NG_DI_FLAG__",xf="ngTempTokenPath",C$=/\n/gm,MT="__source";let ed;function Hl(n){const e=ed;return ed=n,e}function E$(n,e=ie.Default){if(void 0===ed)throw new D(-203,!1);return null===ed?OS(n,void 0,e):ed.get(n,e&ie.Optional?null:void 0,e)}function C(n,e=ie.Default){return(function yU(){return L2}()||E$)(se(n),e)}function ct(n,e=ie.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),C(n,e)}function m0(n){const e=[];for(let t=0;t<n.length;t++){const i=se(n[t]);if(Array.isArray(i)){if(0===i.length)throw new D(900,!1);let r,o=ie.Default;for(let s=0;s<i.length;s++){const a=i[s],l=S$(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(C(r,o))}else e.push(C(i))}return e}function td(n,e){return n[f0]=e,n.prototype[f0]=e,n}function S$(n){return n[f0]}const wt=td(Vl("Optional"),8),jl=td(Vl("SkipSelf"),4);let y0,Tf,Df;function ql(n){return function _0(){if(void 0===Tf&&(Tf=null,Ye.trustedTypes))try{Tf=Ye.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Tf}()?.createHTML(n)||n}function PT(n){return function v0(){if(void 0===Df&&(Df=null,Ye.trustedTypes))try{Df=Ye.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Df}()?.createHTML(n)||n}class sa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class z$ extends sa{getTypeName(){return"HTML"}}class q$ extends sa{getTypeName(){return"Style"}}class U$ extends sa{getTypeName(){return"Script"}}class $$ extends sa{getTypeName(){return"URL"}}class G$ extends sa{getTypeName(){return"ResourceURL"}}function Bi(n){return n instanceof sa?n.changingThisBreaksApplicationSecurity:n}function Br(n,e){const t=function W$(n){return n instanceof sa&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class J${constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ql(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class eG{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ql(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=ql(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const s=t.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const nG=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,iG=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rd(n){return(n=String(n)).match(nG)||n.match(iG)?n:"unsafe:"+n}function LT(n){return(n=String(n)).split(",").map(e=>rd(e.trim())).join(", ")}function Hr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function od(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const VT=Hr("area,br,col,hr,img,wbr"),BT=Hr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),HT=Hr("rp,rt"),k0=od(VT,od(BT,Hr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),od(HT,Hr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),od(HT,BT)),b0=Hr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),w0=Hr("srcset"),jT=od(b0,w0,Hr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rG=Hr("script,style,template");class oG{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!k0.hasOwnProperty(t))return this.sanitizedSomething=!0,!rG.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!jT.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;b0[a]&&(l=rd(l)),w0[a]&&(l=LT(l)),this.buf.push(" ",s,'="',zT(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();k0.hasOwnProperty(t)&&!VT.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(zT(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const sG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aG=/([^\#-~ |!])/g;function zT(n){return n.replace(/&/g,"&amp;").replace(sG,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(aG,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let If;function qT(n,e){let t=null;try{If=If||function FT(n){const e=new eG(n);return function tG(){try{return!!(new window.DOMParser).parseFromString(ql(""),"text/html")}catch{return!1}}()?new J$(e):e}(n);let i=e?String(e):"";t=If.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=If.getInertBodyElement(i)}while(i!==o);return ql((new oG).sanitizeChildren(M0(t)||t))}finally{if(t){const i=M0(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function M0(n){return"content"in n&&function lG(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var qe=(()=>((qe=qe||{})[qe.NONE=0]="NONE",qe[qe.HTML=1]="HTML",qe[qe.STYLE=2]="STYLE",qe[qe.SCRIPT=3]="SCRIPT",qe[qe.URL=4]="URL",qe[qe.RESOURCE_URL=5]="RESOURCE_URL",qe))();function UT(n){const e=sd();return e?PT(e.sanitize(qe.HTML,n)||""):Br(n,"HTML")?PT(Bi(n)):qT(function RT(){return void 0!==y0?y0:typeof document<"u"?document:void 0}(),he(n))}function C0(n){const e=sd();return e?e.sanitize(qe.URL,n)||"":Br(n,"URL")?Bi(n):rd(he(n))}function sd(){const n=A();return n&&n[12]}const x0=new N("ENVIRONMENT_INITIALIZER"),GT=new N("INJECTOR",-1),WT=new N("INJECTOR_DEF_TYPES");class KT{get(e,t=Ju){if(t===Ju){const i=new Error(`NullInjectorError: No provider for ${it(e)}!`);throw i.name="NullInjectorError",i}return t}}function mG(...n){return{\u0275providers:ZT(0,n)}}function ZT(n,...e){const t=[],i=new Set;let r;return yo(e,o=>{const s=o;E0(s,t,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&YT(r,t),t}function YT(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];yo(r,o=>{e.push(o)})}}function E0(n,e,t,i){if(!(n=se(n)))return!1;let r=null,o=RS(n);const s=!o&&Qe(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=RS(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)E0(c,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{yo(o.imports,u=>{E0(u,e,t,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&YT(c,e)}if(!a){const c=oa(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:ze},{provide:WT,useValue:r,multi:!0},{provide:x0,useValue:()=>C(r),multi:!0})}const l=o.providers;null==l||a||yo(l,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}const gG=nt({provide:String,useValue:nt});function S0(n){return null!==n&&"object"==typeof n&&gG in n}function aa(n){return"function"==typeof n}const T0=new N("Set Injector scope."),Af={},_G={};let D0;function Rf(){return void 0===D0&&(D0=new KT),D0}class ss{}class JT extends ss{constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,A0(e,s=>this.processProvider(s)),this.records.set(GT,Ul(void 0,this)),r.has("environment")&&this.records.set(ss,Ul(void 0,this));const o=this.records.get(T0);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(WT.multi,ze,ie.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Hl(this),i=Yi(void 0);try{return e()}finally{Hl(t),Yi(i)}}get(e,t=Ju,i=ie.Default){this.assertNotDestroyed();const r=Hl(this),o=Yi(void 0);try{if(!(i&ie.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function MG(n){return"function"==typeof n||"object"==typeof n&&n instanceof N}(e)&&N2(e);a=l&&this.injectableDefInScope(l)?Ul(I0(e),Af):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&ie.Self?Rf():this.parent).get(e,t=i&ie.Optional&&t===Ju?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[xf]=s[xf]||[]).unshift(it(e)),r)throw s;return function T$(n,e,t,i){const r=n[xf];throw e[MT]&&r.unshift(e[MT]),n.message=function D$(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=it(e);if(Array.isArray(e))r=e.map(it).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):it(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(C$,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[xf]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Yi(o),Hl(r)}}resolveInjectorInitializers(){const e=Hl(this),t=Yi(void 0);try{const i=this.get(x0.multi,ze,ie.Self);for(const r of i)r()}finally{Hl(e),Yi(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(it(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let t=aa(e=se(e))?e:se(e&&e.provide);const i=function kG(n){return S0(n)?Ul(void 0,n.useValue):Ul(eD(n),Af)}(e);if(aa(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Ul(void 0,Af,!0),r.factory=()=>m0(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Af&&(t.value=_G,t.value=t.factory()),"object"==typeof t.value&&t.value&&function wG(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=se(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function I0(n){const e=N2(n),t=null!==e?e.factory:oa(n);if(null!==t)return t;if(n instanceof N)throw new D(204,!1);if(n instanceof Function)return function vG(n){const e=n.length;if(e>0)throw Xu(e,"?"),new D(204,!1);const t=function fU(n){const e=n&&(n[nf]||n[PS]);if(e){const t=function mU(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new D(204,!1)}function eD(n,e,t){let i;if(aa(n)){const r=se(n);return oa(r)||I0(r)}if(S0(n))i=()=>se(n.useValue);else if(function XT(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...m0(n.deps||[]));else if(function QT(n){return!(!n||!n.useExisting)}(n))i=()=>C(se(n.useExisting));else{const r=se(n&&(n.useClass||n.provide));if(!function bG(n){return!!n.deps}(n))return oa(r)||I0(r);i=()=>new r(...m0(n.deps))}return i}function Ul(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function CG(n){return!!n.\u0275providers}function A0(n,e){for(const t of n)Array.isArray(t)?A0(t,e):CG(t)?A0(t.\u0275providers,e):e(t)}class tD{}class SG{resolveComponentFactory(e){throw function EG(n){const e=Error(`No component factory found for ${it(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let la=(()=>{class n{}return n.NULL=new SG,n})();function TG(){return $l(cn(),A())}function $l(n,e){return new Re(Ji(n,e))}let Re=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=TG,n})();function DG(n){return n instanceof Re?n.nativeElement:n}class ad{}let _r=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function IG(){const n=A(),t=Fi(cn().index,n);return(gi(t)?t:n)[11]}(),n})(),AG=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>null}),n})();class as{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const iD=new as("14.1.1"),R0={};function L0(n){return n.ngOriginalError}class _o{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&L0(e);for(;t&&L0(t);)t=L0(t);return t||null}}const V0=new Map;let qG=0;const H0="__ngContext__";function jn(n,e){gi(e)?(n[H0]=e[20],function $G(n){V0.set(n[20],n)}(e)):n[H0]=e}function ld(n){const e=n[H0];return"number"==typeof e?function cD(n){return V0.get(n)||null}(e):e||null}function j0(n){const e=ld(n);return e?gi(e)?e:e.lView:null}const eW=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ye))();function fD(n){return n.ownerDocument.defaultView}function vo(n){return n instanceof Function?n():n}var yi=(()=>((yi=yi||{})[yi.Important=1]="Important",yi[yi.DashCase=2]="DashCase",yi))();function q0(n,e){return undefined(n,e)}function cd(n){const e=n[3];return gr(e)?e[3]:e}function U0(n){return _D(n[13])}function $0(n){return _D(n[4])}function _D(n){for(;null!==n&&!gr(n);)n=n[4];return n}function Wl(n,e,t,i,r){if(null!=i){let o,s=!1;gr(i)?o=i:gi(i)&&(s=!0,i=i[0]);const a=Qt(i);0===n&&null!==t?null==r?CD(e,t,a):ca(e,t,a,r||null,!0):1===n&&null!==t?ca(e,t,a,r||null,!0):2===n?function AD(n,e,t){const i=Pf(n,e);i&&function yW(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function kW(n,e,t,i,r){const o=t[7];o!==Qt(t)&&Wl(e,n,i,o,r);for(let a=10;a<t.length;a++){const l=t[a];ud(l[1],l,n,e,i,o)}}(e,n,o,t,r)}}function W0(n,e,t){return n.createElement(e,t)}function kD(n,e){const t=n[9],i=t.indexOf(e),r=e[3];512&e[2]&&(e[2]&=-513,K2(r,-1)),t.splice(i,1)}function K0(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&kD(r,i),e>0&&(n[t-1][4]=i[4]);const o=Mf(n,10+e);!function cW(n,e){ud(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function bD(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&ud(n,e,t,3,null,null),function hW(n){let e=n[13];if(!e)return Z0(n[1],n);for(;e;){let t=null;if(gi(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)gi(e)&&Z0(e[1],e),e=e[3];null===e&&(e=n),gi(e)&&Z0(e[1],e),t=e&&e[4]}e=t}}(e)}}function Z0(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function gW(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Gu)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,e),function mW(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):Qt(e[s]),l=i[r=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=t[o+1]];t[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&gr(e[3])){t!==e[3]&&kD(t,e);const i=e[19];null!==i&&i.detachView(n)}!function GG(n){V0.delete(n[20])}(e)}}function wD(n,e,t){return function MD(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===fr.None||r===fr.Emulated)return null}return Ji(i,t)}(n,e.parent,t)}function ca(n,e,t,i,r){n.insertBefore(e,t,i,r)}function CD(n,e,t){n.appendChild(e,t)}function xD(n,e,t,i,r){null!==i?ca(n,e,t,i,r):CD(n,e,t)}function Pf(n,e){return n.parentNode(e)}function ED(n,e,t){return TD(n,e,t)}let TD=function SD(n,e,t){return 40&n.type?Ji(n,t):null};function Of(n,e,t,i){const r=wD(n,i,e),o=e[11],a=ED(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)xD(o,r,t[l],a,!1);else xD(o,r,t,a,!1)}function Nf(n,e){if(null!==e){const t=e.type;if(3&t)return Ji(e,n);if(4&t)return Q0(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Nf(n,i);{const r=n[e.index];return gr(r)?Q0(-1,r):Qt(r)}}if(32&t)return q0(e,n)()||Qt(n[e.index]);{const i=ID(n,e);return null!==i?Array.isArray(i)?i[0]:Nf(cd(n[16]),i):Nf(n,e.next)}}return null}function ID(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Q0(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return Nf(i,r)}return e[7]}function X0(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&jn(Qt(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)X0(n,e,t.child,i,r,o,!1),Wl(e,n,r,a,o);else if(32&l){const c=q0(t,i);let u;for(;u=c();)Wl(e,n,r,u,o);Wl(e,n,r,a,o)}else 16&l?RD(n,e,i,t,r,o):Wl(e,n,r,a,o);t=s?t.projectionNext:t.next}}function ud(n,e,t,i,r,o){X0(t,i,n.firstChild,e,r,o,!1)}function RD(n,e,t,i,r,o){const s=t[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Wl(e,n,r,l[c],o);else X0(n,e,l,s[3],r,o,!0)}function PD(n,e,t){n.setAttribute(e,"style",t)}function J0(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function OD(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}const ND="ng-template";function wW(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==OD(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function FD(n){return 4===n.type&&n.value!==ND}function MW(n,e,t){return e===(4!==n.type||t?n.value:ND)}function CW(n,e,t){let i=4;const r=n.attrs||[],o=function SW(n){for(let e=0;e<n.length;e++)if(oT(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!MW(n,l,t)||""===l&&1===e.length){if(vr(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!wW(n.attrs,c,t)){if(vr(i))return!1;s=!0}continue}const d=xW(8&i?"class":l,r,FD(n),t);if(-1===d){if(vr(i))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":r[d+1].toLowerCase();const p=8&i?h:null;if(p&&-1!==OD(p,c,0)||2&i&&c!==h){if(vr(i))return!1;s=!0}}}}else{if(!s&&!vr(i)&&!vr(l))return!1;if(s&&vr(l))continue;s=!1,i=l|1&i}}return vr(i)||s}function vr(n){return 0==(1&n)}function xW(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function TW(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function LD(n,e,t=!1){for(let i=0;i<e.length;i++)if(CW(n,e[i],t))return!0;return!1}function DW(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function VD(n,e){return n?":not("+e.trim()+")":e}function IW(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!vr(s)&&(e+=VD(o,r),r=""),i=s,o=o||!vr(i);t++}return""!==r&&(e+=VD(o,r)),e}const pe={};function I(n){BD(Ne(),A(),ni()+n,!1)}function BD(n,e,t,i){if(!i)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&mf(e,o,t)}else{const o=n.preOrderHooks;null!==o&&gf(e,o,0,t)}is(t)}function qD(n,e=null,t=null,i){const r=UD(n,e,t,i);return r.resolveInjectorInitializers(),r}function UD(n,e=null,t=null,i,r=new Set){const o=[t||ze,mG(n)];return i=i||("object"==typeof n?void 0:it(n)),new JT(o,e||Rf(),i||null,r)}let Ft=(()=>{class n{static create(t,i){if(Array.isArray(t))return qD({name:""},i,t,"");{const r=t.name??"";return qD({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=Ju,n.NULL=new KT,n.\u0275prov=V({token:n,providedIn:"any",factory:()=>C(GT)}),n.__NG_ELEMENT_ID__=-1,n})();function _(n,e=ie.Default){const t=A();return null===t?C(n,e):pT(cn(),t,se(n),e)}function Lf(){throw new Error("invalid")}function Vf(n,e){return n<<17|e<<2}function kr(n){return n>>17&32767}function r_(n){return 2|n}function ko(n){return(131068&n)>>2}function o_(n,e){return-131069&n|e<<2}function s_(n){return 1|n}function aI(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],o=t[i+1];if(-1!==o){const s=n.data[o];J2(r),s.contentQueries(2,e[o],o)}}}function jf(n,e,t,i,r,o,s,a,l,c,u){const d=e.blueprint.slice();return d[0]=r,d[2]=76|i,(null!==u||n&&1024&n[2])&&(d[2]|=1024),$S(d),d[3]=d[15]=n,d[8]=t,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=o,d[20]=function UG(){return qG++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function Zl(n,e,t,i,r){let o=n.data[e];if(null===o)o=function m_(n,e,t,i,r){const o=KS(),s=Z2(),l=n.data[e]=function pK(n,e,t,i,r,o){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,i,r),function UU(){return ce.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function $u(){const n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Lr(o,!0),o}function Yl(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function zf(n,e,t){e0(e);try{const i=n.viewQuery;null!==i&&C_(1,i,t);const r=n.template;null!==r&&lI(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&aI(n,e),n.staticViewQueries&&C_(2,n.viewQuery,t);const o=n.components;null!==o&&function cK(n,e){for(let t=0;t<e.length;t++)DK(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,t0()}}function dd(n,e,t,i){const r=e[2];if(128!=(128&r)){e0(e);try{$S(e),function ZS(n){return ce.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&lI(n,e,t,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&mf(e,c,null)}else{const c=n.preOrderHooks;null!==c&&gf(e,c,0,null),r0(e,0)}if(function SK(n){for(let e=U0(n);null!==e;e=$0(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],o=r[3];0==(512&r[2])&&K2(o,1),r[2]|=512}}}(e),function EK(n){for(let e=U0(n);null!==e;e=$0(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];W2(i)&&dd(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&aI(n,e),s){const c=n.contentCheckHooks;null!==c&&mf(e,c)}else{const c=n.contentHooks;null!==c&&gf(e,c,1),r0(e,1)}!function aK(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)is(~r);else{const o=r,s=t[++i],a=t[++i];$U(s,o),a(2,e[o])}}}finally{is(-1)}}(n,e);const a=n.components;null!==a&&function lK(n,e){for(let t=0;t<e.length;t++)TK(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&C_(2,l,i),s){const c=n.viewCheckHooks;null!==c&&mf(e,c)}else{const c=n.viewHooks;null!==c&&gf(e,c,2),r0(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,K2(e[3],-1))}finally{t0()}}}function uK(n,e,t,i){const r=e[10],s=US(e);try{!s&&r.begin&&r.begin(),s&&zf(n,e,i),dd(n,e,t,i)}finally{!s&&r.end&&r.end()}}function lI(n,e,t,i,r){const o=ni(),s=2&i;try{is(-1),s&&e.length>22&&BD(n,e,22,!1),t(i,r)}finally{is(o)}}function cI(n,e,t){if(j2(e)){const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function g_(n,e,t){!WS()||(function _K(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||Ku(t,e),jn(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=yr(l);c&&MK(e,t,l);const u=Zu(e,n,a,t);jn(u,e),null!==s&&CK(0,a-r,u,l,0,s),c&&(Fi(t.index,e)[8]=u)}}(n,e,t,Ji(t,e)),128==(128&t.flags)&&function vK(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function GU(){return ce.lFrame.currentDirectiveIndex}();try{is(o);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];Q2(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&gI(l,c)}}finally{is(-1),Q2(s)}}(n,e,t))}function y_(n,e,t=Ji){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function uI(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=__(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function __(n,e,t,i,r,o,s,a,l,c){const u=22+i,d=u+r,h=function dK(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:pe);return t}(u,d),p="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function dI(n,e,t,i){const r=MI(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&CI(n).push(i,r.length-1))}function hI(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function pI(n,e){const i=e.directiveEnd,r=n.data,o=e.attrs,s=[];let a=null,l=null;for(let c=e.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===o||FD(e)?null:xK(d,o);s.push(h),a=hI(d,c,a),l=hI(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}function Hi(n,e,t,i,r,o,s,a){const l=Ji(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(x_(n,t,u,i,r),uf(e)&&fI(t,e.index)):3&e.type&&(i=function fK(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(l,i,r))}function fI(n,e){const t=Fi(e,n);16&t[2]||(t[2]|=32)}function v_(n,e,t,i){let r=!1;if(WS()){const o=function kK(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];LD(t,s.selectors,!1)&&(r||(r=[]),bf(Ku(t,e),n,s.type),yr(s)?(yI(n,t),r.unshift(s)):r.push(s))}return r}(n,e,t),s=null===i?null:{"":-1};if(null!==o){r=!0,_I(t,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Yl(n,e,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];t.mergedAttrs=_f(t.mergedAttrs,d.hostAttrs),vI(n,t,e,c,d),wK(c,d,s),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}pI(n,t)}s&&function bK(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new D(-301,!1);i.push(e[r],o)}}}(t,i,s)}return t.mergedAttrs=_f(t.mergedAttrs,t.attrs),r}function mI(n,e,t,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function yK(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function gI(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function yI(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function wK(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;yr(e)&&(t[""]=n)}}function _I(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function vI(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=oa(r.type)),s=new Gu(o,yr(r),_);n.blueprint[i]=s,t[i]=s,mI(n,e,0,i,Yl(n,t,r.hostVars,pe),r)}function MK(n,e,t){const i=Ji(e,n),r=uI(t),o=n[10],s=qf(n,jf(n,r,null,t.onPush?32:16,i,e,o,o.createRenderer(i,t),null,null,null));n[e.index]=s}function jr(n,e,t,i,r,o){const s=Ji(n,e);!function k_(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?he(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[11],s,o,n.value,t,i,r)}function CK(n,e,t,i,r,o){const s=o[e];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function xK(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function kI(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function TK(n,e){const t=Fi(e,n);if(W2(t)){const i=t[1];48&t[2]?dd(i,t,i.template,t[8]):t[5]>0&&b_(t)}}function b_(n){for(let i=U0(n);null!==i;i=$0(i))for(let r=10;r<i.length;r++){const o=i[r];if(512&o[2]){const s=o[1];dd(s,o,s.template,o[8])}else o[5]>0&&b_(o)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Fi(t[i],n);W2(r)&&r[5]>0&&b_(r)}}function DK(n,e){const t=Fi(e,n),i=t[1];(function IK(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),zf(i,t,t[8])}function qf(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function w_(n){for(;n;){n[2]|=32;const e=cd(n);if(xU(n)&&!e)return n;n=e}return null}function wI(n){!function bI(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=j0(t);if(null!==i){const r=i[1];uK(r,i,r.template,t)}}}(n[8])}function C_(n,e,t){J2(0),e(n,t)}const RK=(()=>Promise.resolve(null))();function MI(n){return n[7]||(n[7]=[])}function CI(n){return n.cleanup||(n.cleanup=[])}function EI(n,e){const t=n[9],i=t?t.get(_o,null):null;i&&i.handleError(e)}function x_(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Uf(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=P2(r,a):2==o&&(i=P2(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function $f(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&i.push(Qt(o)),gr(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&$f(l[1],l,c,i)}const s=t.type;if(8&s)$f(n,e,t.child,i);else if(32&s){const a=q0(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=ID(e,t);if(Array.isArray(a))i.push(...a);else{const l=cd(e[16]);$f(l[1],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class hd{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return $f(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(gr(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(K0(e,i),Mf(t,i))}this._attachedToViewContainer=!1}bD(this._lView[1],this._lView)}onDestroy(e){dI(this._lView[1],this._lView,null,e)}markForCheck(){w_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function M_(n,e,t){const i=e[10];i.begin&&i.begin();try{dd(n,e,n.template,t)}catch(r){throw EI(e,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dW(n,e){ud(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class PK extends hd{constructor(e){super(e),this._view=e}detectChanges(){wI(this._view)}checkNoChanges(){}get context(){return null}}class E_ extends la{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Qe(e);return new pd(t,this.ngModule)}}function SI(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class NK{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){const r=this.injector.get(e,R0,i);return r!==R0||t===R0?r:this.parentInjector.get(e,t,i)}}class pd extends tD{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function AW(n){return n.map(IW).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return SI(this.componentDef.inputs)}get outputs(){return SI(this.componentDef.outputs)}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof ss?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new NK(e,o):e,a=s.get(ad,null);if(null===a)throw new D(407,!1);const l=s.get(AG,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function hK(n,e,t){return n.selectRootElement(e,t===fr.ShadowDom)}(c,i,this.componentDef.encapsulation):W0(a.createRenderer(null,this.componentDef),u,function OK(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,p=function HK(n,e){return{components:[],scheduler:n||eW,clean:RK,playerHandler:e||null,flags:0}}(),f=__(0,null,null,1,0,null,null,null,null,null),m=jf(null,f,p,h,null,null,a,c,l,s,null);let y,k;e0(m);try{const w=function VK(n,e,t,i,r,o){const s=t[1];t[22]=n;const l=Zl(s,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Uf(l,c,!0),null!==n&&(yf(r,n,c),null!==l.classes&&J0(r,n,l.classes),null!==l.styles&&PD(r,n,l.styles)));const u=i.createRenderer(n,e),d=jf(t,uI(e),null,e.onPush?32:16,t[22],l,i,u,o||null,null,null);return s.firstCreatePass&&(bf(Ku(l,t),s,e.type),yI(s,l),_I(l,t.length,1)),qf(t,d),t[22]=d}(d,this.componentDef,m,a,c);if(d)if(i)yf(c,d,["ng-version",iD.full]);else{const{attrs:v,classes:E}=function RW(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!vr(r))break;r=o}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);v&&yf(c,d,v),E&&E.length>0&&J0(c,d,E.join(" "))}if(k=G2(f,22),void 0!==t){const v=k.projection=[];for(let E=0;E<this.ngContentSelectors.length;E++){const H=t[E];v.push(null!=H?Array.from(H):null)}}y=function BK(n,e,t,i,r){const o=t[1],s=function gK(n,e,t){const i=cn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),vI(n,i,e,Yl(n,e,1,null),t),pI(n,i));const r=Zu(e,n,i.directiveStart,i);jn(r,e);const o=Ji(i,e);return o&&jn(o,e),r}(o,t,e);if(i.components.push(s),n[8]=s,null!==r)for(const l of r)l(s,e);if(e.contentQueries){const l=cn();e.contentQueries(1,s,l.directiveStart)}const a=cn();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(is(a.index),mI(t[1],a,0,a.directiveStart,a.directiveEnd,e),gI(e,s)),s}(w,this.componentDef,m,p,[jK]),zf(f,m,null)}finally{t0()}return new LK(this.componentType,y,$l(k,m),m,k)}}class LK extends class xG{}{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new PK(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const o=this._rootLView;x_(o[1],o,r,e,t),fI(o,this._tNode.index)}}get injector(){return new Ol(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function jK(){const n=cn();ff(A()[1],n)}function fe(n){let e=function TI(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(yr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=S_(n.inputs),s.declaredInputs=S_(n.declaredInputs),s.outputs=S_(n.outputs);const a=r.hostBindings;a&&$K(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&qK(n,l),c&&UK(n,c),R2(n.inputs,r.inputs),R2(n.declaredInputs,r.declaredInputs),R2(n.outputs,r.outputs),yr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===fe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function zK(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=_f(r.hostAttrs,t=_f(t,r.hostAttrs))}}(i)}function S_(n){return n===xl?{}:n===ze?[]:n}function qK(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function UK(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function $K(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let Gf=null;function ua(){if(!Gf){const n=Ye.Symbol;if(n&&n.iterator)Gf=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Gf=i)}}}return Gf}function fd(n){return!!T_(n)&&(Array.isArray(n)||!(n instanceof Map)&&ua()in n)}function T_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function zr(n,e,t){return n[e]=t}function zn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Xe(n,e,t,i){const r=A();return zn(r,Al(),e)&&(Ne(),jr(Nt(),r,n,e,t,i)),Xe}function X(n,e,t,i,r,o,s,a){const l=A(),c=Ne(),u=n+22,d=c.firstCreatePass?function eZ(n,e,t,i,r,o,s,a,l){const c=e.consts,u=Zl(e,n,4,s||null,ns(c,a));v_(e,t,u,ns(c,l)),ff(e,u);const d=u.tViews=__(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,o,s):c.data[u];Lr(d,!1);const h=l[11].createComment("");Of(c,l,h,d),jn(h,l),qf(l,l[u]=kI(h,l,h,d)),df(d)&&g_(c,l,d),null!=s&&y_(l,d,a)}function br(n){return Il(function qU(){return ce.lFrame.contextLView}(),22+n)}function R(n,e,t){const i=A();return zn(i,Al(),e)&&Hi(Ne(),Nt(),i,n,e,i[11],t,!1),R}function D_(n,e,t,i,r){const s=r?"class":"style";x_(n,t,e.inputs[s],s,i)}function x(n,e,t,i){const r=A(),o=Ne(),s=22+n,a=r[11],l=r[s]=W0(a,e,function XU(){return ce.lFrame.currentNamespace}()),c=o.firstCreatePass?function nZ(n,e,t,i,r,o,s){const a=e.consts,c=Zl(e,n,2,r,ns(a,o));return v_(e,t,c,ns(a,s)),null!==c.attrs&&Uf(c,c.attrs,!1),null!==c.mergedAttrs&&Uf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,0,e,t,i):o.data[s];Lr(c,!0);const u=c.mergedAttrs;null!==u&&yf(a,l,u);const d=c.classes;null!==d&&J0(a,l,d);const h=c.styles;return null!==h&&PD(a,l,h),64!=(64&c.flags)&&Of(o,r,l,c),0===function VU(){return ce.lFrame.elementDepthCount}()&&jn(l,r),function BU(){ce.lFrame.elementDepthCount++}(),df(c)&&(g_(o,r,c),cI(o,c,r)),null!==i&&y_(r,c),x}function S(){let n=cn();Z2()?Y2():(n=n.parent,Lr(n,!1));const e=n;!function HU(){ce.lFrame.elementDepthCount--}();const t=Ne();return t.firstCreatePass&&(ff(t,n),j2(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function i$(n){return 0!=(16&n.flags)}(e)&&D_(t,e,A(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function r$(n){return 0!=(32&n.flags)}(e)&&D_(t,e,A(),e.stylesWithoutHost,!1),S}function te(n,e,t,i){return x(n,e,t,i),S(),te}function _i(n,e,t){const i=A(),r=Ne(),o=n+22,s=r.firstCreatePass?function iZ(n,e,t,i,r){const o=e.consts,s=ns(o,i),a=Zl(e,n,8,"ng-container",s);return null!==s&&Uf(a,s,!0),v_(e,t,a,ns(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];Lr(s,!0);const a=i[o]=i[11].createComment("");return Of(r,i,a,s),jn(a,i),df(s)&&(g_(r,i,s),cI(r,s,i)),null!=t&&y_(i,s),_i}function vi(){let n=cn();const e=Ne();return Z2()?Y2():(n=n.parent,Lr(n,!1)),e.firstCreatePass&&(ff(e,n),j2(n)&&e.queries.elementEnd(n)),vi}function Kf(n,e,t){return _i(n,e,t),vi(),Kf}function wr(){return A()}function gd(n){return!!n&&"function"==typeof n.then}function VI(n){return!!n&&"function"==typeof n.subscribe}const I_=VI;function me(n,e,t,i){const r=A(),o=Ne(),s=cn();return function HI(n,e,t,i,r,o,s,a){const l=df(i),u=n.firstCreatePass&&CI(n),d=e[8],h=MI(e);let p=!0;if(3&i.type||a){const y=Ji(i,e),k=a?a(y):y,w=h.length,v=a?H=>a(Qt(H[i.index])):i.index;let E=null;if(!a&&l&&(E=function rZ(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,p=!1;else{o=zI(i,e,d,o,!1);const H=t.listen(k,r,o);h.push(o,H),u&&u.push(r,v,w,w+1)}}else o=zI(i,e,d,o,!1);const f=i.outputs;let m;if(p&&null!==f&&(m=f[r])){const y=m.length;if(y)for(let k=0;k<y;k+=2){const q=e[m[k]][m[k+1]].subscribe(o),de=h.length;h.push(o,q),u&&u.push(r,i.index,de,-(de+1))}}}(o,r,r[11],s,n,e,0,i),me}function jI(n,e,t,i){try{return!1!==t(i)}catch(r){return EI(n,r),!1}}function zI(n,e,t,i,r){return function o(s){if(s===Function)return i;w_(2&n.flags?Fi(n.index,e):e);let l=jI(e,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=jI(e,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function J(n=1){return function KU(n){return(ce.lFrame.contextLView=function ZU(n,e){for(;n>0;)e=e[15],n--;return e}(n,ce.lFrame.contextLView))[8]}(n)}function oZ(n,e){let t=null;const i=function EW(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?LD(n,o,!0):DW(i,o))return r}else t=r}return t}function ki(n){const e=A()[16][6];if(!e.projection){const i=e.projection=Xu(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?oZ(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function St(n,e=0,t){const i=A(),r=Ne(),o=Zl(r,22+n,16,null,t||null);null===o.projection&&(o.projection=e),Y2(),64!=(64&o.flags)&&function vW(n,e,t){RD(e[11],0,e,t,wD(n,t,e),ED(t.parent||e[6],t,e))}(r,i,o)}function XI(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?kr(o):ko(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];lZ(n[a],e)&&(l=!0,n[a+1]=i?s_(u):r_(u)),a=i?kr(u):ko(u)}l&&(n[t+1]=i?r_(o):s_(o))}function lZ(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Bl(n,e)>=0}function bi(n,e,t){return Mr(n,e,t,!1),bi}function Lt(n,e){return Mr(n,e,null,!0),Lt}function Mr(n,e,t,i){const r=A(),o=Ne(),s=function go(n){const e=ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function sA(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[ni()],s=function oA(n,e){return e>=n.expandoStartIndex}(n,t);(function uA(n,e){return 0!=(n.flags&(e?16:32))})(o,i)&&null===e&&!s&&(e=!1),e=function yZ(n,e,t,i){const r=function X2(n){const e=ce.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=yd(t=R_(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=R_(r,n,e,t,i),null===o){let l=function _Z(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==ko(i))return n[kr(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=R_(null,n,e,l[1],i),l=yd(l,e.attrs,i),function vZ(n,e,t,i){n[kr(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function kZ(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=yd(i,n[o].hostAttrs,t);return yd(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function sZ(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=kr(s),l=ko(s);n[i]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Bl(d,u)>0)&&(c=!0)}else u=t;if(r)if(0!==l){const h=kr(n[a+1]);n[i+1]=Vf(h,a),0!==h&&(n[h+1]=o_(n[h+1],i)),n[a+1]=function QW(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Vf(a,0),0!==a&&(n[a+1]=o_(n[a+1],i)),a=i;else n[i+1]=Vf(l,0),0===a?a=i:n[l+1]=o_(n[l+1],i),l=i;c&&(n[i+1]=r_(n[i+1])),XI(n,u,i,!0),XI(n,u,i,!1),function aZ(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Bl(o,e)>=0&&(t[i+1]=s_(t[i+1]))}(e,u,n,i,o),s=Vf(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==pe&&zn(r,s,e)&&function lA(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];Zf(function JD(n){return 1==(1&n)}(c)?cA(l,e,t,r,ko(c),s):void 0)||(Zf(o)||function XD(n){return 2==(2&n)}(c)&&(o=cA(l,null,t,r,a,s)),function bW(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:yi.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=yi.Important),n.setStyle(t,i,r,o))}}(i,s,hf(ni(),t),r,o))}(o,o.data[ni()],r,r[11],n,r[s+1]=function MZ(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=it(Bi(n)))),n}(e,t),i,s)}function R_(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=yd(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function yd(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Vi(n,s,!!t||e[++o]))}return void 0===n?null:n}function cA(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===pe&&(h=d?ze:void 0);let p=d?h0(h,i):u===i?h:void 0;if(c&&!Zf(p)&&(p=h0(l,i)),Zf(p)&&(a=p,s))return a;const f=n[r+1];r=s?kr(f):ko(f)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=h0(l,i))}return a}function Zf(n){return void 0!==n}function T(n,e=""){const t=A(),i=Ne(),r=n+22,o=i.firstCreatePass?Zl(i,r,1,e,null):i.data[r],s=t[r]=function G0(n,e){return n.createText(e)}(t[11],e);Of(i,t,s,o),Lr(o,!1)}function ii(n){return xr("",n,""),ii}function xr(n,e,t){const i=A(),r=function Xl(n,e,t,i){return zn(n,Al(),t)?e+he(t)+i:pe}(i,n,e,t);return r!==pe&&function bo(n,e,t){const i=hf(e,n);!function vD(n,e,t){n.setValue(e,t)}(n[11],i,t)}(i,ni(),r),xr}function Yf(n,e,t){const i=A();return zn(i,Al(),e)&&Hi(Ne(),Nt(),i,n,e,i[11],t,!0),Yf}const ha=void 0;var qZ=["en",[["a","p"],["AM","PM"],ha],[["AM","PM"],ha,ha],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ha,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ha,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ha,"{1} 'at' {0}",ha],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function zZ(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let ac={};function ri(n){const e=function UZ(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=IA(e);if(t)return t;const i=e.split("-")[0];if(t=IA(i),t)return t;if("en"===i)return qZ;throw new D(701,!1)}function IA(n){return n in ac||(ac[n]=Ye.ng&&Ye.ng.common&&Ye.ng.common.locales&&Ye.ng.common.locales[n]),ac[n]}var U=(()=>((U=U||{})[U.LocaleId=0]="LocaleId",U[U.DayPeriodsFormat=1]="DayPeriodsFormat",U[U.DayPeriodsStandalone=2]="DayPeriodsStandalone",U[U.DaysFormat=3]="DaysFormat",U[U.DaysStandalone=4]="DaysStandalone",U[U.MonthsFormat=5]="MonthsFormat",U[U.MonthsStandalone=6]="MonthsStandalone",U[U.Eras=7]="Eras",U[U.FirstDayOfWeek=8]="FirstDayOfWeek",U[U.WeekendRange=9]="WeekendRange",U[U.DateFormat=10]="DateFormat",U[U.TimeFormat=11]="TimeFormat",U[U.DateTimeFormat=12]="DateTimeFormat",U[U.NumberSymbols=13]="NumberSymbols",U[U.NumberFormats=14]="NumberFormats",U[U.CurrencyCode=15]="CurrencyCode",U[U.CurrencySymbol=16]="CurrencySymbol",U[U.CurrencyName=17]="CurrencyName",U[U.Currencies=18]="Currencies",U[U.Directionality=19]="Directionality",U[U.PluralCase=20]="PluralCase",U[U.ExtraData=21]="ExtraData",U))();const lc="en-US";let AA=lc;function N_(n,e,t,i,r){if(n=se(n),Array.isArray(n))for(let o=0;o<n.length;o++)N_(n[o],e,t,i,r);else{const o=Ne(),s=A();let a=aa(n)?n:se(n.provide),l=eD(n);const c=cn(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(aa(n)||!n.multi){const p=new Gu(l,r,_),f=L_(a,e,r?u:u+h,d);-1===f?(bf(Ku(c,s),o,a),F_(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(p),s.push(p)):(t[f]=p,s[f]=p)}else{const p=L_(a,e,u+h,d),f=L_(a,e,u,u+h),m=p>=0&&t[p],y=f>=0&&t[f];if(r&&!y||!r&&!m){bf(Ku(c,s),o,a);const k=function jY(n,e,t,i,r){const o=new Gu(n,t,_);return o.multi=[],o.index=e,o.componentProviders=0,n6(o,r,i&&!t),o}(r?HY:BY,t.length,r,i,l);!r&&y&&(t[f].providerFactory=k),F_(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(k),s.push(k)}else F_(o,n,p>-1?p:f,n6(t[r?f:p],l,!r&&i));!r&&i&&y&&t[f].componentProviders++}}}function F_(n,e,t,i){const r=aa(e),o=function yG(n){return!!n.useClass}(e);if(r||o){const l=(o?se(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function n6(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function L_(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function BY(n,e,t,i){return V_(this.multi,[])}function HY(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Zu(t,t[1],this.providerFactory.index,i);o=a.slice(0,s),V_(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],V_(r,o);return o}function V_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Be(n,e=[]){return t=>{t.providersResolver=(i,r)=>function VY(n,e,t){const i=Ne();if(i.firstCreatePass){const r=yr(n);N_(t,i.data,i.blueprint,r,!0),N_(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class pa{}class r6{}class o6 extends pa{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new E_(this);const i=Oi(e);this._bootstrapComponents=vo(i.bootstrap),this._r3Injector=UD(e,t,[{provide:pa,useValue:this},{provide:la,useValue:this.componentFactoryResolver}],it(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class B_ extends r6{constructor(e){super(),this.moduleType=e}create(e){return new o6(this.moduleType,e)}}class qY extends pa{constructor(e,t,i){super(),this.componentFactoryResolver=new E_(this),this.instance=null;const r=new JT([...e,{provide:pa,useValue:this},{provide:la,useValue:this.componentFactoryResolver}],t||Rf(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function t1(n,e,t=null){return new qY(n,e,t).injector}function fa(n,e,t,i){return h6(A(),ti(),n,e,t,i)}function n1(n,e,t,i,r){return function p6(n,e,t,i,r,o,s){const a=e+t;return function da(n,e,t,i){const r=zn(n,e,t);return zn(n,e+1,i)||r}(n,a,r,o)?zr(n,a+2,s?i.call(s,r,o):i(r,o)):wd(n,a+2)}(A(),ti(),n,e,t,i,r)}function wd(n,e){const t=n[e];return t===pe?void 0:t}function h6(n,e,t,i,r,o){const s=e+t;return zn(n,s,r)?zr(n,s+1,o?i.call(o,r):i(r)):wd(n,s+1)}function Ke(n,e){const t=Ne();let i;const r=n+22;t.firstCreatePass?(i=function lQ(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=oa(i.type)),s=Yi(_);try{const a=vf(!1),l=o();return vf(a),function tZ(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,A(),r,l),l}finally{Yi(s)}}function Ze(n,e,t){const i=n+22,r=A(),o=Il(r,i);return function Md(n,e){return n[1].data[e].pure}(r,i)?h6(r,ti(),e,o.transform,t,o):o.transform(t)}function j_(n){return e=>{setTimeout(n,void 0,e)}}const Me=class pQ extends ge{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=j_(o),r&&(r=j_(r)),s&&(s=j_(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof pt&&e.add(a),a}};function fQ(){return this._results[ua()]()}class uc{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ua(),i=uc.prototype;i[t]||(i[t]=fQ)}get changes(){return this._changes||(this._changes=new Me)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=Li(e);(this._changesDetected=!function f$(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ji=(()=>{class n{}return n.__NG_ELEMENT_ID__=yQ,n})();const mQ=ji,gQ=class extends mQ{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tViews,r=jf(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(i)),zf(i,r,e),new hd(r)}};function yQ(){return r1(cn(),A())}function r1(n,e){return 4&n.type?new gQ(e,n,$l(n,e)):null}let wi=(()=>{class n{}return n.__NG_ELEMENT_ID__=_Q,n})();function _Q(){return v6(cn(),A())}const vQ=wi,y6=class extends vQ{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return $l(this._hostTNode,this._hostLView)}get injector(){return new Ol(this._hostTNode,this._hostLView)}get parentInjector(){const e=kf(this._hostTNode,this._hostLView);if(lT(e)){const t=Pl(e,this._hostLView),i=Rl(e);return new Ol(t[1].data[i+8],t)}return new Ol(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=_6(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,r),s}createComponent(e,t,i,r,o){const s=e&&!function Qu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,i=d.injector,r=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?e:new pd(Qe(e)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get(ss,null);h&&(o=h)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,r=i[1];if(function LU(n){return gr(n[3])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[3],h=new y6(d,d[6],d[3]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function pW(n,e,t,i){const r=10+i,o=t.length;i>0&&(t[r-1][4]=e),i<o-10?(e[4]=t[r],vT(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function fW(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(r,i,s,o);const a=Q0(o,s),l=i[11],c=Pf(l,s[7]);return null!==c&&function uW(n,e,t,i,r,o){i[0]=r,i[6]=e,ud(n,i,t,1,r,o)}(r,s[6],l,i,c,a),e.attachToViewContainerRef(),vT(z_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=_6(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=K0(this._lContainer,t);i&&(Mf(z_(this._lContainer),t),bD(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=K0(this._lContainer,t);return i&&null!=Mf(z_(this._lContainer),t)?new hd(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function _6(n){return n[8]}function z_(n){return n[8]||(n[8]=[])}function v6(n,e){let t;const i=e[n.index];if(gr(i))t=i;else{let r;if(8&n.type)r=Qt(i);else{const o=e[11];r=o.createComment("");const s=Ji(n,e);ca(o,Pf(o,s),r,function _W(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=kI(i,e,r,n),qf(e,t)}return new y6(t,n,e)}class q_{constructor(e){this.queryList=e,this.matches=null}clone(){return new q_(this.queryList)}setDirty(){this.queryList.setDirty()}}class U_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new U_(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==C6(e,t).matches&&this.queries[t].setDirty()}}class k6{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class $_{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new $_(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class G_{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new G_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,wQ(t,o)),this.matchTNodeWithReadOption(e,t,wf(t,e,o,!1,!1))}else i===ji?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,wf(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Re||r===wi||r===ji&&4&t.type)this.addMatch(t.index,-2);else{const o=wf(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function wQ(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function CQ(n,e,t,i){return-1===t?function MQ(n,e){return 11&n.type?$l(n,e):4&n.type?r1(n,e):null}(e,n):-2===t?function xQ(n,e,t){return t===Re?$l(e,n):t===ji?r1(e,n):t===wi?v6(e,n):void 0}(n,e,i):Zu(n,n[1],t,e)}function b6(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:CQ(e,o[c],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function W_(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=b6(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&W_(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const p=d[h];W_(p[1],p,c,i)}}}}}return i}function Se(n){const e=A(),t=Ne(),i=QS();J2(i+1);const r=C6(t,i);if(n.dirty&&US(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?W_(t,e,i,[]):b6(t,e,r,i);n.reset(o,DG),n.notifyOnChanges()}return!0}return!1}function oi(n,e,t){const i=Ne();i.firstCreatePass&&(M6(i,new k6(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),w6(i,A(),e)}function Tt(n,e,t,i){const r=Ne();if(r.firstCreatePass){const o=cn();M6(r,new k6(e,t,i),o.index),function SQ(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}w6(r,A(),t)}function Te(){return function EQ(n,e){return n[19].queries[e].queryList}(A(),QS())}function w6(n,e,t){const i=new uc(4==(4&t));dI(n,e,i,i.destroy),null===e[19]&&(e[19]=new U_),e[19].queries.push(new q_(i))}function M6(n,e,t){null===n.queries&&(n.queries=new $_),n.queries.track(new G_(e,t))}function C6(n,e){return n.queries.getByIndex(e)}function dc(n,e){return r1(n,e)}function s1(...n){}const a1=new N("Application Initializer");let l1=(()=>{class n{constructor(t){this.appInits=t,this.resolve=s1,this.reject=s1,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(gd(o))t.push(o);else if(I_(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(C(a1,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xd=new N("AppId",{providedIn:"root",factory:function q6(){return`${X_()}${X_()}${X_()}`}});function X_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const U6=new N("Platform Initializer"),mc=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$6=new N("appBootstrapListener"),ma=new N("AnimationModuleType");let WQ=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $r=new N("LocaleId",{providedIn:"root",factory:()=>ct($r,ie.Optional|ie.SkipSelf)||function KQ(){return typeof $localize<"u"&&$localize.locale||lc}()});class YQ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let J_=(()=>{class n{compileModuleSync(t){return new B_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=vo(Oi(t).declarations).reduce((s,a)=>{const l=Qe(a);return l&&s.push(new pd(l)),s},[]);return new YQ(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JQ=(()=>Promise.resolve(0))();function ev(n){typeof Zone>"u"?JQ.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Me(!1),this.onMicrotaskEmpty=new Me(!1),this.onStable=new Me(!1),this.onError=new Me(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function eX(){let n=Ye.requestAnimationFrame,e=Ye.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function iX(n){const e=()=>{!function nX(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ye,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,nv(n),n.isCheckStableRunning=!0,tv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),nv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{try{return K6(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),Z6(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return K6(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),Z6(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,nv(n),tv(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ae.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(ae.isInAngularZone())throw new D(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,tX,s1,s1);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const tX={};function tv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function nv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function K6(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Z6(n){n._nesting--,tv(n)}class rX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Me,this.onMicrotaskEmpty=new Me,this.onStable=new Me,this.onError=new Me}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const Y6=new N(""),c1=new N("");let ov,iv=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ov||(function oX(n){ov=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ae.assertNotInAngularZone(),ev(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ev(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(C(ae),C(rv),C(c1))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),rv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return ov?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),us=null;const Q6=new N("AllowMultipleToken"),sv=new N("PlatformDestroyListeners");class X6{constructor(e,t){this.name=e,this.token=t}}function e8(n,e,t=[]){const i=`Platform: ${e}`,r=new N(i);return(o=[])=>{let s=av();if(!s||s.injector.get(Q6,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function lX(n){if(us&&!us.get(Q6,!1))throw new D(400,!1);us=n;const e=n.get(n8);(function J6(n){const e=n.get(U6,null);e&&e.forEach(t=>t())})(n)}(function t8(n=[],e){return Ft.create({name:e,providers:[{provide:T0,useValue:"platform"},{provide:sv,useValue:new Set([()=>us=null])},...n]})}(a,i))}return function uX(n){const e=av();if(!e)throw new D(401,!1);return e}()}}function av(){return us?.get(n8)??null}let n8=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function dX(n,e){let t;return t="noop"===n?new rX:("zone.js"===n?void 0:n)||new ae(e),t}(i?.ngZone,function i8(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:ae,useValue:r}];return r.run(()=>{const s=Ft.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),l=a.injector.get(_o,null);if(!l)throw new D(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{u1(this._modules,a),c.unsubscribe()})}),function r8(n,e,t){try{const i=t();return gd(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(l1);return c.runInitializers(),c.donePromise.then(()=>(function RA(n){Pi(n,"Expected localeId to be defined"),"string"==typeof n&&(AA=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get($r,lc)||lc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,i=[]){const r=o8({},i);return function sX(n,e,t){const i=new B_(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(ga);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new D(403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(sv,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(C(Ft))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function o8(n,e){return Array.isArray(e)?e.reduce(o8,n):{...n,...e}}let ga=(()=>{class n{constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ue(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Ue(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),ev(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Fr(o,s.pipe(IS()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof tD;if(!this._injector.get(l1).done)throw!r&&function pc(n){const e=Qe(n)||Jn(n)||ei(n);return null!==e&&e.standalone}(t),new D(405,false);let s;s=r?t:this._injector.get(la).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function aX(n){return n.isBoundToModule}(s)?void 0:this._injector.get(pa),c=s.create(Ft.NULL,[],i||s.selector,a),u=c.location.nativeElement,d=c.injector.get(Y6,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),u1(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;u1(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get($6,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>u1(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(C(ae),C(ss),C(_o))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function u1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let a8=!0,Sn=(()=>{class n{}return n.__NG_ELEMENT_ID__=fX,n})();function fX(n){return function mX(n,e,t){if(uf(n)&&!t){const i=Fi(n.index,e);return new hd(i,i)}return 47&n.type?new hd(e[16],e):null}(cn(),A(),16==(16&n))}class h8{constructor(){}supports(e){return fd(e)}create(e){return new bX(e)}}const kX=(n,e)=>e;class bX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kX}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<f8(i,r,o)?t:i,a=f8(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const p=h<o.length?o[h]:o[h]=0,f=p+h;u<=f&&f<c&&(o[h]=p+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!fd(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function YK(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[ua()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new wX(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new p8),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new p8),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class wX{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class p8{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new MX,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function f8(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class m8{constructor(){}supports(e){return e instanceof Map||T_(e)}create(){return new CX}}class CX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||T_(e)))throw new D(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new xX(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class xX{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function g8(){return new p1([new h8])}let p1=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||g8()),deps:[[n,new jl,new wt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new D(901,!1)}}return n.\u0275prov=V({token:n,providedIn:"root",factory:g8}),n})();function y8(){return new Ed([new m8])}let Ed=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||y8()),deps:[[n,new jl,new wt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new D(901,!1)}}return n.\u0275prov=V({token:n,providedIn:"root",factory:y8}),n})();const TX=e8(null,"core",[]);let DX=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(C(ga))},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({}),n})();function Mo(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let f1=null;function Gr(){return f1}const xe=new N("DocumentToken");let hv=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return function PX(){return C(_8)}()},providedIn:"platform"}),n})();const OX=new N("Location Initialized");let _8=(()=>{class n extends hv{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gr().getBaseHref(this._doc)}onPopState(t){const i=Gr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Gr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){v8()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){v8()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(C(xe))},n.\u0275prov=V({token:n,factory:function(){return function NX(){return new _8(C(xe))}()},providedIn:"platform"}),n})();function v8(){return!!window.history.pushState}function pv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function k8(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Co(n){return n&&"?"!==n[0]?"?"+n:n}let _a=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return ct(w8)},providedIn:"root"}),n})();const b8=new N("appBaseHref");let w8=(()=>{class n extends _a{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ct(xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return pv(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Co(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Co(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Co(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(C(hv),C(b8,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FX=(()=>{class n extends _a{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=pv(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Co(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Co(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(C(hv),C(b8,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),m1=(()=>{class n{constructor(t){this._subject=new Me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=k8(M8(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Co(i))}normalize(t){return n.stripTrailingSlash(function VX(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,M8(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Co(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Co(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Co,n.joinWithSlash=pv,n.stripTrailingSlash=k8,n.\u0275fac=function(t){return new(t||n)(C(_a))},n.\u0275prov=V({token:n,factory:function(){return function LX(){return new m1(C(_a))}()},providedIn:"root"}),n})();function M8(n){return n.replace(/\/index.html$/,"")}var $t=(()=>(($t=$t||{})[$t.Format=0]="Format",$t[$t.Standalone=1]="Standalone",$t))(),De=(()=>((De=De||{})[De.Narrow=0]="Narrow",De[De.Abbreviated=1]="Abbreviated",De[De.Wide=2]="Wide",De[De.Short=3]="Short",De))(),Dt=(()=>((Dt=Dt||{})[Dt.Short=0]="Short",Dt[Dt.Medium=1]="Medium",Dt[Dt.Long=2]="Long",Dt[Dt.Full=3]="Full",Dt))(),ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Group=1]="Group",ne[ne.List=2]="List",ne[ne.PercentSign=3]="PercentSign",ne[ne.PlusSign=4]="PlusSign",ne[ne.MinusSign=5]="MinusSign",ne[ne.Exponential=6]="Exponential",ne[ne.SuperscriptingExponent=7]="SuperscriptingExponent",ne[ne.PerMille=8]="PerMille",ne[ne.Infinity=9]="Infinity",ne[ne.NaN=10]="NaN",ne[ne.TimeSeparator=11]="TimeSeparator",ne[ne.CurrencyDecimal=12]="CurrencyDecimal",ne[ne.CurrencyGroup=13]="CurrencyGroup",ne))();function g1(n,e){return nr(ri(n)[U.DateFormat],e)}function y1(n,e){return nr(ri(n)[U.TimeFormat],e)}function _1(n,e){return nr(ri(n)[U.DateTimeFormat],e)}function tr(n,e){const t=ri(n),i=t[U.NumberSymbols][e];if(typeof i>"u"){if(e===ne.CurrencyDecimal)return t[U.NumberSymbols][ne.Decimal];if(e===ne.CurrencyGroup)return t[U.NumberSymbols][ne.Group]}return i}function x8(n){if(!n[U.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[U.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function nr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function mv(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const QX=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Sd={},XX=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var pn=(()=>((pn=pn||{})[pn.Short=0]="Short",pn[pn.ShortGMT=1]="ShortGMT",pn[pn.Long=2]="Long",pn[pn.Extended=3]="Extended",pn))(),re=(()=>((re=re||{})[re.FullYear=0]="FullYear",re[re.Month=1]="Month",re[re.Date=2]="Date",re[re.Hours=3]="Hours",re[re.Minutes=4]="Minutes",re[re.Seconds=5]="Seconds",re[re.FractionalSeconds=6]="FractionalSeconds",re[re.Day=7]="Day",re))(),be=(()=>((be=be||{})[be.DayPeriods=0]="DayPeriods",be[be.Days=1]="Days",be[be.Months=2]="Months",be[be.Eras=3]="Eras",be))();function JX(n,e,t,i){let r=function lJ(n){if(T8(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return v1(r,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(QX))return function cJ(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,l,c),e}(i)}const e=new Date(n);if(!T8(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=xo(t,e)||e;let a,s=[];for(;e;){if(a=XX.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;e=u}}let l=r.getTimezoneOffset();i&&(l=S8(i,l),r=function aJ(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function sJ(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(S8(e,r)-r))}(r,i,!0));let c="";return s.forEach(u=>{const d=function oJ(n){if(yv[n])return yv[n];let e;switch(n){case"G":case"GG":case"GGG":e=ut(be.Eras,De.Abbreviated);break;case"GGGG":e=ut(be.Eras,De.Wide);break;case"GGGGG":e=ut(be.Eras,De.Narrow);break;case"y":e=Jt(re.FullYear,1,0,!1,!0);break;case"yy":e=Jt(re.FullYear,2,0,!0,!0);break;case"yyy":e=Jt(re.FullYear,3,0,!1,!0);break;case"yyyy":e=Jt(re.FullYear,4,0,!1,!0);break;case"Y":e=M1(1);break;case"YY":e=M1(2,!0);break;case"YYY":e=M1(3);break;case"YYYY":e=M1(4);break;case"M":case"L":e=Jt(re.Month,1,1);break;case"MM":case"LL":e=Jt(re.Month,2,1);break;case"MMM":e=ut(be.Months,De.Abbreviated);break;case"MMMM":e=ut(be.Months,De.Wide);break;case"MMMMM":e=ut(be.Months,De.Narrow);break;case"LLL":e=ut(be.Months,De.Abbreviated,$t.Standalone);break;case"LLLL":e=ut(be.Months,De.Wide,$t.Standalone);break;case"LLLLL":e=ut(be.Months,De.Narrow,$t.Standalone);break;case"w":e=gv(1);break;case"ww":e=gv(2);break;case"W":e=gv(1,!0);break;case"d":e=Jt(re.Date,1);break;case"dd":e=Jt(re.Date,2);break;case"c":case"cc":e=Jt(re.Day,1);break;case"ccc":e=ut(be.Days,De.Abbreviated,$t.Standalone);break;case"cccc":e=ut(be.Days,De.Wide,$t.Standalone);break;case"ccccc":e=ut(be.Days,De.Narrow,$t.Standalone);break;case"cccccc":e=ut(be.Days,De.Short,$t.Standalone);break;case"E":case"EE":case"EEE":e=ut(be.Days,De.Abbreviated);break;case"EEEE":e=ut(be.Days,De.Wide);break;case"EEEEE":e=ut(be.Days,De.Narrow);break;case"EEEEEE":e=ut(be.Days,De.Short);break;case"a":case"aa":case"aaa":e=ut(be.DayPeriods,De.Abbreviated);break;case"aaaa":e=ut(be.DayPeriods,De.Wide);break;case"aaaaa":e=ut(be.DayPeriods,De.Narrow);break;case"b":case"bb":case"bbb":e=ut(be.DayPeriods,De.Abbreviated,$t.Standalone,!0);break;case"bbbb":e=ut(be.DayPeriods,De.Wide,$t.Standalone,!0);break;case"bbbbb":e=ut(be.DayPeriods,De.Narrow,$t.Standalone,!0);break;case"B":case"BB":case"BBB":e=ut(be.DayPeriods,De.Abbreviated,$t.Format,!0);break;case"BBBB":e=ut(be.DayPeriods,De.Wide,$t.Format,!0);break;case"BBBBB":e=ut(be.DayPeriods,De.Narrow,$t.Format,!0);break;case"h":e=Jt(re.Hours,1,-12);break;case"hh":e=Jt(re.Hours,2,-12);break;case"H":e=Jt(re.Hours,1);break;case"HH":e=Jt(re.Hours,2);break;case"m":e=Jt(re.Minutes,1);break;case"mm":e=Jt(re.Minutes,2);break;case"s":e=Jt(re.Seconds,1);break;case"ss":e=Jt(re.Seconds,2);break;case"S":e=Jt(re.FractionalSeconds,1);break;case"SS":e=Jt(re.FractionalSeconds,2);break;case"SSS":e=Jt(re.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=b1(pn.Short);break;case"ZZZZZ":e=b1(pn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=b1(pn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=b1(pn.Long);break;default:return null}return yv[n]=e,e}(u);c+=d?d(r,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function v1(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function xo(n,e){const t=function BX(n){return ri(n)[U.LocaleId]}(n);if(Sd[t]=Sd[t]||{},Sd[t][e])return Sd[t][e];let i="";switch(e){case"shortDate":i=g1(n,Dt.Short);break;case"mediumDate":i=g1(n,Dt.Medium);break;case"longDate":i=g1(n,Dt.Long);break;case"fullDate":i=g1(n,Dt.Full);break;case"shortTime":i=y1(n,Dt.Short);break;case"mediumTime":i=y1(n,Dt.Medium);break;case"longTime":i=y1(n,Dt.Long);break;case"fullTime":i=y1(n,Dt.Full);break;case"short":const r=xo(n,"shortTime"),o=xo(n,"shortDate");i=k1(_1(n,Dt.Short),[r,o]);break;case"medium":const s=xo(n,"mediumTime"),a=xo(n,"mediumDate");i=k1(_1(n,Dt.Medium),[s,a]);break;case"long":const l=xo(n,"longTime"),c=xo(n,"longDate");i=k1(_1(n,Dt.Long),[l,c]);break;case"full":const u=xo(n,"fullTime"),d=xo(n,"fullDate");i=k1(_1(n,Dt.Full),[u,d])}return i&&(Sd[t][e]=i),i}function k1(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Sr(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function Jt(n,e,t=0,i=!1,r=!1){return function(o,s){let a=function tJ(n,e){switch(n){case re.FullYear:return e.getFullYear();case re.Month:return e.getMonth();case re.Date:return e.getDate();case re.Hours:return e.getHours();case re.Minutes:return e.getMinutes();case re.Seconds:return e.getSeconds();case re.FractionalSeconds:return e.getMilliseconds();case re.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===re.Hours)0===a&&-12===t&&(a=12);else if(n===re.FractionalSeconds)return function eJ(n,e){return Sr(n,3).substring(0,e)}(a,e);const l=tr(s,ne.MinusSign);return Sr(a,e,l,i,r)}}function ut(n,e,t=$t.Format,i=!1){return function(r,o){return function nJ(n,e,t,i,r,o){switch(t){case be.Months:return function zX(n,e,t){const i=ri(n),o=nr([i[U.MonthsFormat],i[U.MonthsStandalone]],e);return nr(o,t)}(e,r,i)[n.getMonth()];case be.Days:return function jX(n,e,t){const i=ri(n),o=nr([i[U.DaysFormat],i[U.DaysStandalone]],e);return nr(o,t)}(e,r,i)[n.getDay()];case be.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function GX(n){const e=ri(n);return x8(e),(e[U.ExtraData][2]||[]).map(i=>"string"==typeof i?mv(i):[mv(i[0]),mv(i[1])])}(e),u=function WX(n,e,t){const i=ri(n);x8(i);const o=nr([i[U.ExtraData][0],i[U.ExtraData][1]],e)||[];return nr(o,t)||[]}(e,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){const[p,f]=h,m=s>=p.hours&&a>=p.minutes,y=s<f.hours||s===f.hours&&a<f.minutes;if(p.hours<f.hours){if(m&&y)return!0}else if(m||y)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function HX(n,e,t){const i=ri(n),o=nr([i[U.DayPeriodsFormat],i[U.DayPeriodsStandalone]],e);return nr(o,t)}(e,r,i)[s<12?0:1];case be.Eras:return function qX(n,e){return nr(ri(n)[U.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function b1(n){return function(e,t,i){const r=-1*i,o=tr(t,ne.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case pn.Short:return(r>=0?"+":"")+Sr(s,2,o)+Sr(Math.abs(r%60),2,o);case pn.ShortGMT:return"GMT"+(r>=0?"+":"")+Sr(s,1,o);case pn.Long:return"GMT"+(r>=0?"+":"")+Sr(s,2,o)+":"+Sr(Math.abs(r%60),2,o);case pn.Extended:return 0===i?"Z":(r>=0?"+":"")+Sr(s,2,o)+":"+Sr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function E8(n){return v1(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function gv(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{const o=E8(t),s=function rJ(n){const e=v1(n,0,1).getDay();return v1(n,0,1+(e<=4?4:11)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Sr(r,n,tr(i,ne.MinusSign))}}function M1(n,e=!1){return function(t,i){return Sr(E8(t).getFullYear(),n,tr(i,ne.MinusSign),e)}}const yv={};function S8(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function T8(n){return n instanceof Date&&!isNaN(n.valueOf())}let gc=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(fd(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${it(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(_(p1),_(Ed),_(Re),_(_r))},n.\u0275dir=G({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class MJ{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yc=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new MJ(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),O8(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{O8(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(_(wi),_(ji),_(p1))},n.\u0275dir=G({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function O8(n,e){n.context.$implicit=e.item}let Ci=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new xJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N8("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N8("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(_(wi),_(ji))},n.\u0275dir=G({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class xJ{constructor(){this.$implicit=null,this.ngIf=null}}function N8(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${it(e)}'.`)}class Mv{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Dd=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Cv=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Mv(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(_(wi),_(ji),_(Dd,9))},n.\u0275dir=G({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),_c=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),s=-1===r.indexOf("-")?void 0:yi.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(Ed),_(_r))},n.\u0275dir=G({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function Tr(n,e){return new D(2100,!1)}class DJ{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class IJ{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const AJ=new IJ,RJ=new DJ;let va=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(gd(t))return AJ;if(VI(t))return RJ;throw Tr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(_(Sn,16))},n.\u0275pipe=Xn({name:"async",type:n,pure:!1,standalone:!0}),n})();const LJ=new N("DATE_PIPE_DEFAULT_TIMEZONE");let xv=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,o){if(null==t||""===t||t!=t)return null;try{return JX(t,i,o||this.locale,r??this.defaultTimezone??void 0)}catch(s){throw Tr()}}}return n.\u0275fac=function(t){return new(t||n)(_($r,16),_(LJ,24))},n.\u0275pipe=Xn({name:"date",type:n,pure:!0,standalone:!0}),n})(),ds=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({}),n})();const V8="browser";let JJ=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>new eee(C(xe),window)}),n})();class eee{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function tee(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=B8(this.window.history)||B8(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function B8(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Tv extends class iee extends class RX{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function AX(n){f1||(f1=n)}(new Tv)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ree(){return Id=Id||document.querySelector("base"),Id?Id.getAttribute("href"):null}();return null==t?null:function oee(n){x1=x1||document.createElement("a"),x1.setAttribute("href",n);const e=x1.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Id=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function bJ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let x1,Id=null;const H8=new N("TRANSITION_ID"),aee=[{provide:a1,useFactory:function see(n,e,t){return()=>{t.get(l1).donePromise.then(()=>{const i=Gr(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[H8,xe,Ft],multi:!0}];let cee=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const E1=new N("EventManagerPlugins");let S1=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(C(E1),C(ae))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class j8{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Gr().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let z8=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),Ad=(()=>{class n extends z8{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(q8),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(q8))}}return n.\u0275fac=function(t){return new(t||n)(C(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();function q8(n){Gr().remove(n)}const Dv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Iv=/%COMP%/g;function T1(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?T1(n,r,t):(r=r.replace(Iv,n),t.push(r))}return t}function G8(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let D1=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Av(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case fr.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new mee(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case fr.ShadowDom:return new gee(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=T1(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(C(S1),C(Ad),C(xd))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class Av{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Dv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(K8(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(K8(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Dv[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Dv[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(yi.DashCase|yi.Important)?e.style.setProperty(t,i,r&yi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&yi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,G8(i)):this.eventManager.addEventListener(e,t,G8(i))}}function K8(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class mee extends Av{constructor(e,t,i,r){super(e),this.component=i;const o=T1(r+"-"+i.id,i.styles,[]);t.addStyles(o),this.contentAttr=function hee(n){return"_ngcontent-%COMP%".replace(Iv,n)}(r+"-"+i.id),this.hostAttr=function pee(n){return"_nghost-%COMP%".replace(Iv,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class gee extends Av{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=T1(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let yee=(()=>{class n extends j8{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(C(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const Z8=["alt","control","meta","shift"],vee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Y8={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kee={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bee=(()=>{class n extends j8{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(Z8.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(t){let i="",r=function wee(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Y8.hasOwnProperty(e)&&(e=Y8[e]))}return vee[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Z8.forEach(o=>{o!=r&&(0,kee[o])(t)&&(i+=o+".")}),i+=r,i}static eventCallback(t,i,r){return o=>{n.getEventFullKey(o)===t&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(C(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const Q8=[{provide:mc,useValue:V8},{provide:U6,useValue:function Mee(){Tv.makeCurrent()},multi:!0},{provide:xe,useFactory:function xee(){return function B$(n){y0=n}(document),document},deps:[]}],Eee=e8(TX,"browser",Q8),X8=new N(""),J8=[{provide:c1,useClass:class lee{addToWindow(e){Ye.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Ye.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ye.getAllAngularRootElements=()=>e.getAllRootElements(),Ye.frameworkStabilizers||(Ye.frameworkStabilizers=[]),Ye.frameworkStabilizers.push(i=>{const r=Ye.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Gr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Y6,useClass:iv,deps:[ae,rv,c1]},{provide:iv,useClass:iv,deps:[ae,rv,c1]}],e7=[{provide:T0,useValue:"root"},{provide:_o,useFactory:function Cee(){return new _o},deps:[]},{provide:E1,useClass:yee,multi:!0,deps:[xe,ae,mc]},{provide:E1,useClass:bee,multi:!0,deps:[xe]},{provide:D1,useClass:D1,deps:[S1,Ad,xd]},{provide:ad,useExisting:D1},{provide:z8,useExisting:Ad},{provide:Ad,useClass:Ad,deps:[xe]},{provide:S1,useClass:S1,deps:[E1,ae]},{provide:class nee{},useClass:cee,deps:[]},[]];let t7=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:xd,useValue:t.appId},{provide:H8,useExisting:xd},aee]}}}return n.\u0275fac=function(t){return new(t||n)(C(X8,12))},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({providers:[...e7,...J8],imports:[ds,DX]}),n})(),n7=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(C(xe))},n.\u0275prov=V({token:n,factory:function(t){let i=null;return i=t?new t:function Tee(){return new n7(C(xe))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ov=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(t){let i=null;return i=t?new(t||n):C(s7),i},providedIn:"root"}),n})(),s7=(()=>{class n extends Ov{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case qe.NONE:return i;case qe.HTML:return Br(i,"HTML")?Bi(i):qT(this._doc,String(i)).toString();case qe.STYLE:return Br(i,"Style")?Bi(i):i;case qe.SCRIPT:if(Br(i,"Script"))return Bi(i);throw new Error("unsafe value used in a script context");case qe.URL:return Br(i,"URL")?Bi(i):rd(String(i));case qe.RESOURCE_URL:if(Br(i,"ResourceURL"))return Bi(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function K$(n){return new z$(n)}(t)}bypassSecurityTrustStyle(t){return function Z$(n){return new q$(n)}(t)}bypassSecurityTrustScript(t){return function Y$(n){return new U$(n)}(t)}bypassSecurityTrustUrl(t){return function Q$(n){return new $$(n)}(t)}bypassSecurityTrustResourceUrl(t){return function X$(n){return new G$(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(C(xe))},n.\u0275prov=V({token:n,factory:function(t){let i=null;return i=t?new t:function Nee(n){return new s7(n.get(xe))}(C(Ft)),i},providedIn:"root"}),n})();function a7(n,e,t,i,r,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(l){a7(o,i,r,s,a,"next",l)}function a(l){a7(o,i,r,s,a,"throw",l)}s(void 0)})}}const l7=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},Fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,p=63&c;l||(p=64,s||(h=64)),i.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[p])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(l7(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],s=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==o||null==a||null==c||null==d)throw new Bee;i.push(o<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Bee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I1=function(n){return function(n){const e=l7(n);return Fv.encodeByteArray(e,!0)}(n).replace(/\./g,"")},A1=function(n){try{return Fv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},R1=()=>{try{return function zee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&A1(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},u7=n=>{var e,t;return null===(t=null===(e=R1())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},d7=n=>{const e=u7(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]},h7=()=>{var n;return null===(n=R1())||void 0===n?void 0:n.config},p7=n=>{var e;return null===(e=R1())||void 0===e?void 0:e[`_${n}`]};class P1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function f7(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[I1(JSON.stringify({alg:"none",type:"JWT"})),I1(JSON.stringify(s)),""].join(".")}function yn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Lv(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function ka(){try{return"object"==typeof indexedDB}catch{return!1}}function Rd(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function Vv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class zi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wr.prototype.create)}}class Wr{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function Yee(n,e){return n.replace(Qee,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new zi(r,`${this.serviceName}: ${s} (${r}).`,i)}}const Qee=/\{\$([^}]+)}/g;function Xee(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function N1(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],s=e[r];if(y7(o)&&y7(s)){if(!N1(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function y7(n){return null!==n&&"object"==typeof n}function F1(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Pd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Od(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class ete{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function tte(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=Bv),void 0===r.error&&(r.error=Bv),void 0===r.complete&&(r.complete=Bv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bv(){}function jv(n,e=1e3,t=2){const i=e*Math.pow(t,n),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}function ft(n){return n&&n._delegate?n._delegate:n}class Tn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ba="[DEFAULT]";class ate{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new P1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function cte(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ba?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ute{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ate(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const zv=[];var Pe=(()=>{return(n=Pe||(Pe={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Pe;var n})();const _7={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},dte=Pe.INFO,hte={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},pte=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=hte[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class vc{constructor(e){this.name=e,this._logLevel=dte,this._logHandler=pte,this._userLogHandler=null,zv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?_7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}let v7,k7;const b7=new WeakMap,qv=new WeakMap,w7=new WeakMap,Uv=new WeakMap,$v=new WeakMap;let Gv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return qv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||w7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ps(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function bte(n){return"function"==typeof n?function kte(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function gte(){return k7||(k7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Wv(this),e),ps(b7.get(this))}:function(...e){return ps(n.apply(Wv(this),e))}:function(e,...t){const i=n.call(Wv(this),e,...t);return w7.set(i,e.sort?e.sort():[e]),ps(i)}}(n):(n instanceof IDBTransaction&&function _te(n){if(qv.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});qv.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function mte(){return v7||(v7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Gv):n)}function ps(n){if(n instanceof IDBRequest)return function yte(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ps(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&b7.set(t,n)}).catch(()=>{}),$v.set(e,n),e}(n);if(Uv.has(n))return Uv.get(n);const e=bte(n);return e!==n&&(Uv.set(n,e),$v.set(e,n)),e}const Wv=n=>$v.get(n),Mte=["get","getKey","getAll","getAllKeys","count"],Cte=["put","add","delete","clear"],Kv=new Map;function M7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Kv.get(e))return Kv.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Cte.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Mte.includes(t))return;const o=function(){var s=g(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return Kv.set(e,o),o}!function vte(n){Gv=n(Gv)}(n=>({...n,get:(e,t,i)=>M7(e,t)||n.get(e,t,i),has:(e,t)=>!!M7(e,t)||n.has(e,t)}));class xte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Ete(n){return"VERSION"===n.getComponent()?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const Zv="@firebase/app",wa=new vc("@firebase/app"),L1="[DEFAULT]",Xte={[Zv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ma=new Map,V1=new Map;function Jte(n,e){try{n.container.addComponent(e)}catch(t){wa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qn(n){const e=n.name;if(V1.has(e))return wa.debug(`There were multiple attempts to register component ${e}.`),!1;V1.set(e,n);for(const t of Ma.values())Jte(t,n);return!0}function Ca(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Eo=new Wr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tne{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}const fs="9.23.0";function x7(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:L1,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw Eo.create("bad-app-name",{appName:String(r)});if(t||(t=h7()),!t)throw Eo.create("no-options");const o=Ma.get(r);if(o){if(N1(t,o.options)&&N1(i,o.config))return o;throw Eo.create("duplicate-app",{appName:r})}const s=new ute(r);for(const l of V1.values())s.addComponent(l);const a=new tne(t,i,s);return Ma.set(r,a),a}function B1(n=L1){const e=Ma.get(n);if(!e&&n===L1&&h7())return x7();if(!e)throw Eo.create("no-app",{appName:n});return e}function E7(){return Array.from(Ma.values())}function mt(n,e,t){var i;let r=null!==(i=Xte[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void wa.warn(a.join(" "))}qn(new Tn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Nd="firebase-heartbeat-store";let R7,P7,Qv=null;function S7(){return Qv||(Qv=function wte(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=ps(s);return i&&s.addEventListener("upgradeneeded",l=>{i(ps(s.result),l.oldVersion,l.newVersion,ps(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Nd)}}).catch(n=>{throw Eo.create("idb-open",{originalErrorMessage:n.message})})),Qv}function Xv(){return(Xv=g(function*(n){try{return yield(yield S7()).transaction(Nd).objectStore(Nd).get(D7(n))}catch(e){if(e instanceof zi)wa.warn(e.message);else{const t=Eo.create("idb-get",{originalErrorMessage:e?.message});wa.warn(t.message)}}})).apply(this,arguments)}function T7(n,e){return Jv.apply(this,arguments)}function Jv(){return(Jv=g(function*(n,e){try{const i=(yield S7()).transaction(Nd,"readwrite");yield i.objectStore(Nd).put(e,D7(n)),yield i.done}catch(t){if(t instanceof zi)wa.warn(t.message);else{const i=Eo.create("idb-set",{originalErrorMessage:t?.message});wa.warn(i.message)}}})).apply(this,arguments)}function D7(n){return`${n.name}!${n.options.appId}`}class ane{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cne(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return g(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=I7();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(o=>o.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=I7(),{heartbeatsToSend:i,unsentEntries:r}=function lne(n,e=1024){const t=[];let i=n.slice();for(const r of n){const o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),A7(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),A7(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=I1(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function I7(){return(new Date).toISOString().substring(0,10)}class cne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!ka()&&Rd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function rne(n){return Xv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return T7(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return T7(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function A7(n){return I1(JSON.stringify({version:2,heartbeats:n})).length}!function une(n){qn(new Tn("platform-logger",e=>new xte(e),"PRIVATE")),qn(new Tn("heartbeat",e=>new ane(e),"PRIVATE")),mt(Zv,"0.9.13",n),mt(Zv,"0.9.13","esm2017"),mt("fire-js","")}(""),mt("firebase","9.23.0","app");const O7=new WeakMap,ek=new WeakMap,N7=new WeakMap,tk=new WeakMap,nk=new WeakMap;let ik={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return ek.get(n);if("objectStoreNames"===e)return n.objectStoreNames||N7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ms(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function kne(n){return"function"==typeof n?function vne(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mne(){return P7||(P7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(rk(this),e),ms(O7.get(this))}:function(...e){return ms(n.apply(rk(this),e))}:function(e,...t){const i=n.call(rk(this),e,...t);return N7.set(i,e.sort?e.sort():[e]),ms(i)}}(n):(n instanceof IDBTransaction&&function yne(n){if(ek.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});ek.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function fne(){return R7||(R7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ik):n)}function ms(n){if(n instanceof IDBRequest)return function gne(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ms(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&O7.set(t,n)}).catch(()=>{}),nk.set(e,n),e}(n);if(tk.has(n))return tk.get(n);const e=kne(n);return e!==n&&(tk.set(n,e),nk.set(e,n)),e}const rk=n=>nk.get(n),wne=["get","getKey","getAll","getAllKeys","count"],Mne=["put","add","delete","clear"],ok=new Map;function F7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(ok.get(e))return ok.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Mne.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!wne.includes(t))return;const o=function(){var s=g(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return ok.set(e,o),o}!function _ne(n){ik=n(ik)}(n=>({...n,get:(e,t,i)=>F7(e,t)||n.get(e,t,i),has:(e,t)=>!!F7(e,t)||n.has(e,t)}));const L7="@firebase/installations",B7="w:0.6.4",H7="FIS_v2",So=new Wr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function j7(n){return n instanceof zi&&n.code.includes("request-failed")}function ak({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function z7(n){return{token:n.token,requestStatus:2,expiresIn:Dne(n.expiresIn),creationTime:Date.now()}}function lk(n,e){return ck.apply(this,arguments)}function ck(){return(ck=g(function*(n,e){const i=(yield e.json()).error;return So.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function q7({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function U7(n,{refreshToken:e}){const t=q7(n);return t.append("Authorization",function Ine(n){return`${H7} ${n}`}(e)),t}function uk(n){return dk.apply(this,arguments)}function dk(){return(dk=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Dne(n){return Number(n.replace("s","000"))}function Ane(n,e){return hk.apply(this,arguments)}function hk(){return(hk=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=ak(n),r=q7(n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:H7,appId:n.appId,sdkVersion:B7})},l=yield uk(()=>fetch(i,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:z7(c.authToken)}}throw yield lk("Create Installation",l)})).apply(this,arguments)}function $7(n){return new Promise(e=>{setTimeout(e,n)})}const Pne=/^[cdef][\w-]{21}$/;function One(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Nne(n){return function Rne(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Pne.test(t)?t:""}catch{return""}}function kc(n){return`${n.appName}!${n.appId}`}const bc=new Map;function G7(n,e){const t=kc(n);W7(t,e),function Vne(n,e){const t=function K7(){return!xa&&"BroadcastChannel"in self&&(xa=new BroadcastChannel("[Firebase] FID Change"),xa.onmessage=n=>{W7(n.data.key,n.data.fid)}),xa}();t&&t.postMessage({key:n,fid:e}),function Z7(){0===bc.size&&xa&&(xa.close(),xa=null)}()}(t,e)}function W7(n,e){const t=bc.get(n);if(t)for(const i of t)i(e)}let xa=null;const Ea="firebase-installations-store";let fk=null;function mk(){return fk||(fk=function bne(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=ms(s);return i&&s.addEventListener("upgradeneeded",l=>{i(ms(s.result),l.oldVersion,l.newVersion,ms(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ea)}})),fk}function H1(n,e){return gk.apply(this,arguments)}function gk(){return(gk=g(function*(n,e){const t=kc(n),r=(yield mk()).transaction(Ea,"readwrite"),o=r.objectStore(Ea),s=yield o.get(t);return yield o.put(e,t),yield r.done,(!s||s.fid!==e.fid)&&G7(n,e.fid),e})).apply(this,arguments)}function yk(n){return _k.apply(this,arguments)}function _k(){return(_k=g(function*(n){const e=kc(n),i=(yield mk()).transaction(Ea,"readwrite");yield i.objectStore(Ea).delete(e),yield i.done})).apply(this,arguments)}function Fd(n,e){return vk.apply(this,arguments)}function vk(){return(vk=g(function*(n,e){const t=kc(n),r=(yield mk()).transaction(Ea,"readwrite"),o=r.objectStore(Ea),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield r.done,a&&(!s||s.fid!==a.fid)&&G7(n,a.fid),a})).apply(this,arguments)}function kk(n){return bk.apply(this,arguments)}function bk(){return(bk=g(function*(n){let e;const t=yield Fd(n.appConfig,i=>{const r=jne(i),o=zne(n,r);return e=o.registrationPromise,o.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function jne(n){return Q7(n||{fid:One(),registrationStatus:0})}function zne(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(So.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function qne(n,e){return wk.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Une(n)}:{installationEntry:e}}function wk(){return(wk=g(function*(n,e){try{const t=yield Ane(n,e);return H1(n.appConfig,t)}catch(t){throw j7(t)&&409===t.customData.serverCode?yield yk(n.appConfig):yield H1(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function Une(n){return Mk.apply(this,arguments)}function Mk(){return(Mk=g(function*(n){let e=yield Y7(n.appConfig);for(;1===e.registrationStatus;)yield $7(100),e=yield Y7(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield kk(n);return i||t}return e})).apply(this,arguments)}function Y7(n){return Fd(n,e=>{if(!e)throw So.create("installation-not-found");return Q7(e)})}function Q7(n){return function $ne(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Gne(n,e){return Ck.apply(this,arguments)}function Ck(){return(Ck=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=Wne(n,t),r=U7(n,t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:B7,appId:n.appId}})},l=yield uk(()=>fetch(i,a));if(l.ok)return z7(yield l.json());throw yield lk("Generate Auth Token",l)})).apply(this,arguments)}function Wne(n,{fid:e}){return`${ak(n)}/${e}/authTokens:generate`}function xk(n){return Ek.apply(this,arguments)}function Ek(){return(Ek=g(function*(n,e=!1){let t;const i=yield Fd(n.appConfig,o=>{if(!J7(o))throw So.create("not-registered");const s=o.authToken;if(!e&&Yne(s))return o;if(1===s.requestStatus)return t=Kne(n,e),o;{if(!navigator.onLine)throw So.create("app-offline");const a=Xne(o);return t=Zne(n,a),a}});return t?yield t:i.authToken})).apply(this,arguments)}function Kne(n,e){return Sk.apply(this,arguments)}function Sk(){return(Sk=g(function*(n,e){let t=yield X7(n.appConfig);for(;1===t.authToken.requestStatus;)yield $7(100),t=yield X7(n.appConfig);const i=t.authToken;return 0===i.requestStatus?xk(n,e):i})).apply(this,arguments)}function X7(n){return Fd(n,e=>{if(!J7(e))throw So.create("not-registered");return function Jne(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Zne(n,e){return Tk.apply(this,arguments)}function Tk(){return(Tk=g(function*(n,e){try{const t=yield Gne(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield H1(n.appConfig,i),t}catch(t){if(!j7(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield H1(n.appConfig,i)}else yield yk(n.appConfig);throw t}})).apply(this,arguments)}function J7(n){return void 0!==n&&2===n.registrationStatus}function Yne(n){return 2===n.requestStatus&&!function Qne(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Xne(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Dk(){return(Dk=g(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield kk(e);return i?i.catch(console.error):xk(e).catch(console.error),t.fid})).apply(this,arguments)}function Ik(){return(Ik=g(function*(n,e=!1){const t=n;return yield nie(t),(yield xk(t,e)).token})).apply(this,arguments)}function nie(n){return Ak.apply(this,arguments)}function Ak(){return(Ak=g(function*(n){const{registrationPromise:e}=yield kk(n);e&&(yield e)})).apply(this,arguments)}function Ok(n){return So.create("missing-app-config-values",{valueName:n})}const eR="installations",aie=n=>{const e=n.getProvider("app").getImmediate(),t=function oie(n){if(!n||!n.options)throw Ok("App Configuration");if(!n.name)throw Ok("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Ok(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Ca(e,"heartbeat"),_delete:()=>Promise.resolve()}},lie=n=>{const t=Ca(n.getProvider("app").getImmediate(),eR).getImmediate();return{getId:()=>function eie(n){return Dk.apply(this,arguments)}(t),getToken:r=>function tie(n){return Ik.apply(this,arguments)}(t,r)}};(function cie(){qn(new Tn(eR,aie,"PUBLIC")),qn(new Tn("installations-internal",lie,"PRIVATE"))})(),mt(L7,"0.6.4"),mt(L7,"0.6.4","esm2017");const Nk="@firebase/remote-config",xi=new Wr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class kie{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return g(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function bie(n=navigator){return n.languages&&n.languages[0]||n.language}class wie{constructor(e,t,i,r,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=s}fetch(e){var t=this;return g(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:bie()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(s,c),d=new Promise((k,w)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",w(v)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(k){let w="fetch-client-network";throw"AbortError"===k?.name&&(w="fetch-timeout"),xi.create(w,{originalErrorMessage:k?.message})}let p=h.status;const f=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let k;try{k=yield h.json()}catch(w){throw xi.create("fetch-client-parse",{originalErrorMessage:w?.message})}m=k.entries,y=k.state}if("INSTANCE_STATE_UNSPECIFIED"===y?p=500:"NO_CHANGE"===y?p=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==p&&200!==p)throw xi.create("fetch-status",{httpStatus:p});return{status:p,eTag:f,config:m}})()}}class xie{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return g(function*(){yield function Mie(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(xi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),o}catch(o){if(!function Cie(n){if(!(n instanceof zi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+jv(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(s),r.attemptFetch(e,s)}})()}}class Tie{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function z1(n,e){const t=n.target.error||void 0;return xi.create(e,{originalErrorMessage:t&&t?.message})}const Sa="app_namespace_store";class Rie{constructor(e,t,i,r=function Aie(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(z1(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Sa,{keyPath:"compositeKey"})}}catch(t){e(xi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([Sa],"readonly").objectStore(Sa),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{o(z1(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;r(d?d.value:void 0)}}catch(c){o(xi.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var i=this;return g(function*(){const r=yield i.openDbPromise;return new Promise((o,s)=>{const l=r.transaction([Sa],"readwrite").objectStore(Sa),c=i.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{s(z1(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(xi.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return g(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([Sa],"readwrite").objectStore(Sa),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{o(z1(u,"storage-delete"))},c.onsuccess=()=>{r()}}catch(c){o(xi.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Pie{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield i;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Nie(){return Hk.apply(this,arguments)}function Hk(){return(Hk=g(function*(){if(!ka())return!1;try{return yield Rd()}catch{return!1}})).apply(this,arguments)}let rR,oR;!function Oie(){qn(new Tn("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xi.create("registration-window");if(!ka())throw xi.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=i.options;if(!o)throw xi.create("registration-project-id");if(!s)throw xi.create("registration-api-key");if(!a)throw xi.create("registration-app-id");const l=new Rie(a,i.name,t=t||"firebase"),c=new Pie(l),u=new vc(Nk);u.logLevel=Pe.ERROR;const d=new wie(r,fs,t,o,s,a),h=new xie(d,l),p=new kie(h,l,c,u),f=new Tie(i,p,c,l,u);return function yie(n){const e=ft(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(f),f},"PUBLIC").setMultipleInstances(!0)),mt(Nk,"0.4.4"),mt(Nk,"0.4.4","esm2017")}();const sR=new WeakMap,jk=new WeakMap,aR=new WeakMap,zk=new WeakMap,qk=new WeakMap;let Uk={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return jk.get(n);if("objectStoreNames"===e)return n.objectStoreNames||aR.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return To(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function qie(n){return"function"==typeof n?function zie(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Vie(){return oR||(oR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply($k(this),e),To(sR.get(this))}:function(...e){return To(n.apply($k(this),e))}:function(e,...t){const i=n.call($k(this),e,...t);return aR.set(i,e.sort?e.sort():[e]),To(i)}}(n):(n instanceof IDBTransaction&&function Hie(n){if(jk.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});jk.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Lie(){return rR||(rR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Uk):n)}function To(n){if(n instanceof IDBRequest)return function Bie(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(To(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&sR.set(t,n)}).catch(()=>{}),qk.set(e,n),e}(n);if(zk.has(n))return zk.get(n);const e=qie(n);return e!==n&&(zk.set(n,e),qk.set(e,n)),e}const $k=n=>qk.get(n);function lR(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=To(s);return i&&s.addEventListener("upgradeneeded",l=>{i(To(s.result),l.oldVersion,l.newVersion,To(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function Gk(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),To(t).then(()=>{})}const Uie=["get","getKey","getAll","getAllKeys","count"],$ie=["put","add","delete","clear"],Wk=new Map;function cR(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Wk.get(e))return Wk.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=$ie.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Uie.includes(t))return;const o=function(){var s=g(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return Wk.set(e,o),o}!function jie(n){Uk=n(Uk)}(n=>({...n,get:(e,t,i)=>cR(e,t)||n.get(e,t,i),has:(e,t)=>!!cR(e,t)||n.has(e,t)}));const Gie="/firebase-messaging-sw.js",Wie="/firebase-cloud-messaging-push-scope",uR="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",dR="google.c.a.c_id",Zie="google.c.a.c_l",Yie="google.c.a.ts",Qie="google.c.a.e";var wc=(()=>{return(n=wc||(wc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",wc;var n})();function Do(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xie(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const Kk="fcm_token_details_db",hR="fcm_token_object_Store";function ere(n){return Zk.apply(this,arguments)}function Zk(){return Zk=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(Kk))return null;let e=null;return(yield lR(Kk,5,{upgrade:(i=g(function*(r,o,s,a){var l;if(o<2||!r.objectStoreNames.contains(hR))return;const c=a.objectStore(hR),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Do(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Do(d.auth),p256dh:Do(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Do(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Do(d.auth),p256dh:Do(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Do(d.vapidKey)}}}}),function(o,s,a,l){return i.apply(this,arguments)})})).close(),yield Gk(Kk),yield Gk("fcm_vapid_details_db"),yield Gk("undefined"),tre(e)?e:null;var i}),Zk.apply(this,arguments)}function tre(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ta="firebase-messaging-store";let Yk=null;function Qk(){return Yk||(Yk=lR("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ta)}})),Yk}function pR(n){return Xk.apply(this,arguments)}function Xk(){return(Xk=g(function*(n){const e=nb(n),i=yield(yield Qk()).transaction(Ta).objectStore(Ta).get(e);if(i)return i;{const r=yield ere(n.appConfig.senderId);if(r)return yield Jk(n,r),r}})).apply(this,arguments)}function Jk(n,e){return eb.apply(this,arguments)}function eb(){return(eb=g(function*(n,e){const t=nb(n),r=(yield Qk()).transaction(Ta,"readwrite");return yield r.objectStore(Ta).put(e,t),yield r.done,e})).apply(this,arguments)}function rre(n){return tb.apply(this,arguments)}function tb(){return(tb=g(function*(n){const e=nb(n),i=(yield Qk()).transaction(Ta,"readwrite");yield i.objectStore(Ta).delete(e),yield i.done})).apply(this,arguments)}function nb({appConfig:n}){return n.appId}const Dn=new Wr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sre(n,e){return ib.apply(this,arguments)}function ib(){return(ib=g(function*(n,e){const t=yield ab(n),i=mR(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(sb(n.appConfig),r)).json()}catch(s){throw Dn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Dn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Dn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function are(n,e){return rb.apply(this,arguments)}function rb(){return(rb=g(function*(n,e){const t=yield ab(n),i=mR(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${sb(n.appConfig)}/${e.token}`,r)).json()}catch(s){throw Dn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Dn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Dn.create("token-update-no-token");return o.token})).apply(this,arguments)}function fR(n,e){return ob.apply(this,arguments)}function ob(){return(ob=g(function*(n,e){const i={method:"DELETE",headers:yield ab(n)};try{const o=yield(yield fetch(`${sb(n.appConfig)}/${e}`,i)).json();if(o.error)throw Dn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw Dn.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function sb({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function ab(n){return lb.apply(this,arguments)}function lb(){return(lb=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function mR({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==uR&&(r.web.applicationPubKey=i),r}function cre(n){return cb.apply(this,arguments)}function cb(){return(cb=g(function*(n){const e=yield dre(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Do(e.getKey("auth")),p256dh:Do(e.getKey("p256dh"))},i=yield pR(n.firebaseDependencies);if(i){if(hre(i.subscriptionOptions,t))return Date.now()>=i.createTime+6048e5?ure(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield fR(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return yR(n.firebaseDependencies,t)}return yR(n.firebaseDependencies,t)})).apply(this,arguments)}function gR(n){return ub.apply(this,arguments)}function ub(){return(ub=g(function*(n){const e=yield pR(n.firebaseDependencies);e&&(yield fR(n.firebaseDependencies,e.token),yield rre(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function ure(n,e){return db.apply(this,arguments)}function db(){return(db=g(function*(n,e){try{const t=yield are(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Jk(n.firebaseDependencies,i),t}catch(t){throw yield gR(n),t}})).apply(this,arguments)}function yR(n,e){return hb.apply(this,arguments)}function hb(){return(hb=g(function*(n,e){const i={token:yield sre(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Jk(n,i),i.token})).apply(this,arguments)}function dre(n,e){return pb.apply(this,arguments)}function pb(){return(pb=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xie(e)})})).apply(this,arguments)}function hre(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function _R(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function pre(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function fre(n,e){!e.data||(n.data=e.data)}(e,n),function mre(n,e){var t,i,r,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const l=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function gre(n){return"object"==typeof n&&!!n&&dR in n}function vR(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function fb(n){return Dn.create("missing-app-config-values",{valueName:n})}vR("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vR("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _re{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function yre(n){if(!n||!n.options)throw fb("App Configuration Object");if(!n.name)throw fb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw fb(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function kR(n){return mb.apply(this,arguments)}function mb(){return(mb=g(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Gie,{scope:Wie}),n.swRegistration.update().catch(()=>{})}catch(e){throw Dn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function vre(n,e){return gb.apply(this,arguments)}function gb(){return(gb=g(function*(n,e){if(!e&&!n.swRegistration&&(yield kR(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Dn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function kre(n,e){return yb.apply(this,arguments)}function yb(){return(yb=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=uR)})).apply(this,arguments)}function _b(){return(_b=g(function*(n,e){if(!navigator)throw Dn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dn.create("permission-blocked");return yield kre(n,e?.vapidKey),yield vre(n,e?.serviceWorkerRegistration),cre(n)})).apply(this,arguments)}function bre(n,e,t){return vb.apply(this,arguments)}function vb(){return(vb=g(function*(n,e,t){const i=wre(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[dR],message_name:t[Zie],message_time:t[Yie],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function wre(n){switch(n){case wc.NOTIFICATION_CLICKED:return"notification_open";case wc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function kb(){return(kb=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===wc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(_R(t)):n.onMessageHandler.next(_R(t)));const i=t.data;gre(i)&&"1"===i[Qie]&&(yield bre(n,t.messageType,i))})).apply(this,arguments)}const wR="@firebase/messaging",Cre=n=>{const e=new _re(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Mre(n,e){return kb.apply(this,arguments)}(e,t)),e},xre=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function bR(n,e){return _b.apply(this,arguments)}(e,i)}};function CR(){return bb.apply(this,arguments)}function bb(){return(bb=g(function*(){try{yield Rd()}catch{return!1}return typeof window<"u"&&ka()&&Vv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ere(){qn(new Tn("messaging",Cre,"PUBLIC")),qn(new Tn("messaging-internal",xre,"PRIVATE")),mt(wR,"0.12.4"),mt(wR,"0.12.4","esm2017")}();const q1="analytics",Dre="firebase_id",Rre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cb="https://www.googletagmanager.com/gtag/js",_n=new vc("@firebase/analytics"),ai=new Wr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ore(n){if(!n.startsWith(Cb)){const e=ai.create("invalid-gtag-resource",{gtagURL:n});return _n.warn(e.message),""}return n}function xR(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Fre(n,e){const t=function Nre(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Ore}),i=document.createElement("script"),r=`${Cb}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function Vre(n,e,t,i,r,o){return xb.apply(this,arguments)}function xb(){return(xb=g(function*(n,e,t,i,r,o){const s=i[r];try{if(s)yield e[s];else{const l=(yield xR(t)).find(c=>c.measurementId===r);l&&(yield e[l.appId])}}catch(a){_n.error(a)}n("config",r,o)})).apply(this,arguments)}function Bre(n,e,t,i,r){return Eb.apply(this,arguments)}function Eb(){return(Eb=g(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);const a=yield xR(t);for(const l of s){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){_n.error(o)}})).apply(this,arguments)}function zre(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Cb)&&t.src.includes(n))return t;return null}const ER=new class $re{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Gre(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Wre(n){return Sb.apply(this,arguments)}function Sb(){return(Sb=g(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:Gre(i)},o=Rre.replace("{app-id}",t),s=yield fetch(o,r);if(200!==s.status&&304!==s.status){let a="";try{const l=yield s.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw ai.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function Kre(n){return Tb.apply(this,arguments)}function Tb(){return(Tb=g(function*(n,e=ER,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw ai.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw ai.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Qre;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:6e4),SR({appId:i,apiKey:r,measurementId:o},s,a,e)})).apply(this,arguments)}function SR(n,e,t){return Db.apply(this,arguments)}function Db(){return(Db=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=ER){var o;const{appId:s,measurementId:a}=n;try{yield Zre(i,e)}catch(l){if(a)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw l}try{const l=yield Wre(n);return r.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!Yre(c)){if(r.deleteThrottleMetadata(s),a)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw l}const u=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?jv(t,r.intervalMillis,30):jv(t,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return r.setThrottleMetadata(s,d),_n.debug(`Calling attemptFetch again in ${u} millis`),SR(n,d,i,r)}})).apply(this,arguments)}function Zre(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(ai.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Yre(n){if(!(n instanceof zi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Qre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Ib,Lb;function Ab(){return(Ab=g(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function TR(n){Lb=n}function DR(n){Ib=n}function roe(){return Vb.apply(this,arguments)}function Vb(){return(Vb=g(function*(){if(!ka())return _n.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Rd()}catch(n){return _n.warn(ai.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function Bb(){return(Bb=g(function*(n,e,t,i,r,o,s){var a;const l=Kre(n);l.then(p=>{t[p.measurementId]=p.appId,n.options.measurementId&&p.measurementId!==n.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>_n.error(p)),e.push(l);const c=roe().then(p=>{if(p)return i.getId()}),[u,d]=yield Promise.all([l,c]);zre(o)||Fre(o,u.measurementId),Lb&&(r("consent","default",Lb),TR(void 0)),r("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Dre]=d),r("config",u.measurementId,h),Ib&&(r("set",Ib),DR(void 0)),u.measurementId})).apply(this,arguments)}class soe{constructor(e){this.app=e}_delete(){return delete Kr[this.app.options.appId],Promise.resolve()}}let Kr={},IR=[];const AR={};let PR,Zr,U1="dataLayer",Hb=!1;function loe(n,e,t){!function aoe(){const n=[];if(Lv()&&n.push("This is a browser extension environment."),Vv()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=ai.create("invalid-analytics-context",{errorInfo:e});_n.warn(t.message)}}();const i=n.options.appId;if(!i)throw ai.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw ai.create("no-api-key");_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Kr[i])throw ai.create("already-exists",{id:i});if(!Hb){!function Lre(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(U1);const{wrappedGtag:o,gtagCore:s}=function jre(n,e,t,i,r){let o=function(...s){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function Hre(n,e,t,i){function o(){return(o=g(function*(s,...a){try{if("event"===s){const[l,c]=a;yield Bre(n,e,t,l,c)}else if("config"===s){const[l,c]=a;yield Vre(n,e,t,i,l,c)}else if("consent"===s){const[l]=a;n("consent","update",l)}else if("get"===s){const[l,c,u]=a;n("get",l,c,u)}else if("set"===s){const[l]=a;n("set",l)}else n(s,...a)}catch(l){_n.error(l)}})).apply(this,arguments)}return function r(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(Kr,IR,AR,U1,"gtag");Zr=o,PR=s,Hb=!0}return Kr[i]=function ooe(n,e,t,i,r,o,s){return Bb.apply(this,arguments)}(n,IR,AR,e,PR,U1,t),new soe(n)}function uoe(){return jb.apply(this,arguments)}function jb(){return(jb=g(function*(){if(Lv()||!Vv()||!ka())return!1;try{return yield Rd()}catch{return!1}})).apply(this,arguments)}const OR="@firebase/analytics";!function hoe(){qn(new Tn(q1,(e,{options:t})=>loe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),qn(new Tn("analytics-internal",function n(e){try{const t=e.getProvider(q1).getImmediate();return{logEvent:(i,r,o)=>function doe(n,e,t,i){n=ft(n),function Xre(n,e,t,i,r){return Ab.apply(this,arguments)}(Zr,Kr[n.app.options.appId],e,t,i).catch(r=>_n.error(r))}(t,i,r,o)}}catch(t){throw ai.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),mt(OR,"0.10.0"),mt(OR,"0.10.0","esm2017")}();class poe extends pt{constructor(e,t){super()}schedule(e,t=0){return this}}const $1={setInterval(...n){const{delegate:e}=$1;return(e?.setInterval||setInterval)(...n)},clearInterval(n){const{delegate:e}=$1;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class G1 extends poe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return $1.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;$1.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,wl(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const FR={now:()=>(FR.delegate||Date).now(),delegate:void 0};class Ld{constructor(e,t=Ld.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Ld.now=FR.now;class W1 extends Ld{constructor(e,t=Ld.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const goe=new class moe extends W1{}(class foe extends G1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}}),K1=new W1(G1),LR=K1;function rt(n,e,t){const i=Ve(n)||e||t?{next:n,error:e,complete:t}:n;return i?Et((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(new at(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):es}const Vd=new as("7.6.1"),qb="__angularfire_symbol__analyticsIsSupportedValue",Ub="__angularfire_symbol__analyticsIsSupported",$b="__angularfire_symbol__remoteConfigIsSupportedValue",Gb="__angularfire_symbol__remoteConfigIsSupported",Wb="__angularfire_symbol__messagingIsSupportedValue",Kb="__angularfire_symbol__messagingIsSupported";function Z1(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[Ub]||(globalThis[Ub]=uoe().then(n=>globalThis[qb]=n).catch(()=>globalThis[qb]=!1)),globalThis[Kb]||(globalThis[Kb]=CR().then(n=>globalThis[Wb]=n).catch(()=>globalThis[Wb]=!1)),globalThis[Gb]||(globalThis[Gb]=Nie().then(n=>globalThis[$b]=n).catch(()=>globalThis[$b]=!1));const Y1=(n,e)=>{const t=e?[e]:E7(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};function Mc(){}class VR{constructor(e,t=goe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class yoe{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mc,{},Mc,Mc)),t.pipe(rt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Q1=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new VR(Zone.current)),this.insideAngular=t.run(()=>new VR(Zone.current,K1)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(C(ae))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Da(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function _oe(n){return Da().ngZone.runOutsideAngular(()=>n())}function Ia(n){return Da().ngZone.run(()=>n())}function voe(n){return Da(),function koe(n){return function(t){return(t=t.lift(new yoe(n.ngZone))).pipe(Jp(n.outsideAngular),Xp(n.insideAngular))}}(Da())(n)}const boe=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ia(()=>n.apply(void 0,i))},Gt=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=Ia(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mc,{},Mc,Mc)))),i[o]=boe(i[o],t));const r=_oe(()=>n.apply(this,i));if(!e){if(r instanceof Ue){const o=Da();return r.pipe(Jp(o.outsideAngular),Xp(o.insideAngular))}return Ia(()=>r)}return r instanceof Ue?r.pipe(voe):r instanceof Promise?Ia(()=>new Promise((o,s)=>r.then(a=>Ia(()=>o(a)),a=>Ia(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Ia(()=>r)};class Aa{constructor(e){return e}}class X1{constructor(){return E7()}}const Yb=new N("angularfire2._apps"),Moe={provide:Aa,useFactory:function woe(n){return n&&1===n.length?n[0]:new Aa(B1())},deps:[[new wt,Yb]]},Coe={provide:X1,deps:[[new wt,Yb]]};function xoe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Aa(i)}}let Eoe=(()=>{class n{constructor(t){mt("angularfire",Vd.full,"core"),mt("angularfire",Vd.full,"app"),mt("angular",iD.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(C(mc))},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({providers:[Moe,Coe]}),n})();function Soe(n,...e){return{ngModule:Eoe,providers:[{provide:Yb,useFactory:xoe(n),multi:!0,deps:[ae,Ft,Q1,...e]}]}}const Toe=Gt(x7,!0),Qb=new Map,BR={activated:!1,tokenObservers:[]},Doe={initialized:!1,enabled:!1};function Bt(n){return Qb.get(n)||Object.assign({},BR)}function J1(){return Doe}class Noe{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new P1,yield function Foe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new P1,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const In=new Wr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Jb(n){if(!Bt(n).activated)throw In.create("use-before-activation",{appName:n.name})}function nm(n,e){return tw.apply(this,arguments)}function tw(){return(tw=g(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const d=yield r.getHeartbeatsHeader();d&&(i["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:i};let s,a;try{s=yield fetch(n,o)}catch(d){throw In.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw In.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw In.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw In.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function jR(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Bd="firebase-app-check-store";let im=null;function qR(){return im||(im=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(In.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Bd,{keyPath:"compositeKey"})}}catch(t){e(In.create("storage-open",{originalErrorMessage:t?.message}))}}),im)}function nw(){return(nw=g(function*(n,e){const i=(yield qR()).transaction(Bd,"readwrite"),o=i.objectStore(Bd).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(In.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Hd=new vc("@firebase/app-check");function ow(n,e){return ka()?function qoe(n,e){return function UR(n,e){return nw.apply(this,arguments)}(function GR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Hd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function aw(){return J1().enabled}function lw(){return cw.apply(this,arguments)}function cw(){return(cw=g(function*(){const n=J1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Zoe={error:"UNKNOWN_ERROR"};function Yoe(n){return Fv.encodeString(JSON.stringify(n),!1)}function rm(n){return uw.apply(this,arguments)}function uw(){return(uw=g(function*(n,e=!1){const t=n.app;Jb(t);const i=Bt(t);let o,r=i.token;if(r&&!Cc(r)&&(i.token=void 0,r=void 0),!r){const l=yield i.cachedTokenPromise;l&&(Cc(l)?r=l:yield ow(t,void 0))}if(!e&&r&&Cc(r))return{token:r.token};let a,s=!1;if(aw()){i.exchangeTokenPromise||(i.exchangeTokenPromise=nm(jR(t,yield lw()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const l=yield i.exchangeTokenPromise;return yield ow(t,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Bt(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Hd.warn(l.message):Hd.error(l),o=l}return r?o?a=Cc(r)?{token:r.token,internalError:o}:YR(o):(a={token:r.token},i.token=r,yield ow(t,r)):a=YR(o),s&&ZR(t,a),a})).apply(this,arguments)}function dw(){return(dw=g(function*(n){const e=n.app;Jb(e);const{provider:t}=Bt(e);if(aw()){const i=yield lw(),{token:r}=yield nm(jR(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function pw(n,e){const t=Bt(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function KR(n){const{app:e}=n,t=Bt(e);let i=t.tokenRefresher;i||(i=function Qoe(n){const{app:e}=n;return new Noe(g(function*(){let i;if(i=Bt(e).token?yield rm(n,!0):yield rm(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Bt(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function ZR(n,e){const t=Bt(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Cc(n){return n.expireTimeMillis-Date.now()>0}function YR(n){return{token:Yoe(Zoe),error:n}}class Xoe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Bt(this.app);for(const t of e)pw(this.app,t.next);return Promise.resolve()}}const rP="app-check-internal";!function hse(){qn(new Tn("app-check",n=>function Joe(n,e){return new Xoe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(rP).initialize()})),qn(new Tn(rP,n=>function ese(n){return{getToken:e=>rm(n,e),getLimitedUseToken:()=>function WR(n){return dw.apply(this,arguments)}(n),addTokenListener:e=>function hw(n,e,t,i){const{app:r}=n,o=Bt(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&Cc(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),KR(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>KR(n))}(n,"INTERNAL",e),removeTokenListener:e=>pw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),mt("@firebase/app-check","0.8.0")}();class sm{constructor(){return Y1("app-check")}}function aP(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}typeof window<"u"&&window;const kse=function uP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dP=new Wr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lm=new vc("@firebase/auth");function cm(n,...e){lm.logLevel<=Pe.ERROR&&lm.error(`Auth (${fs}): ${n}`,...e)}function Ei(n,...e){throw vw(n,...e)}function Yr(n,...e){return vw(n,...e)}function hP(n,e,t){const i=Object.assign(Object.assign({},kse()),{[e]:t});return new Wr("auth","Firebase",i).create(e,{appName:n.name})}function vw(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return dP.create(n,...e)}function F(n,e,...t){if(!n)throw vw(e,...t)}function Qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cm(e),new Error(e)}function gs(n,e){n||Qr(e)}function jd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function pP(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class zd{constructor(e,t){this.shortDelay=e,this.longDelay=t,gs(t>e,"Short delay should be less than long delay!"),this.isMobile=function Gee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}()||function Wee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function wse(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function kw(){return"http:"===pP()||"https:"===pP()}()||Lv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bw(n,e){gs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class fP{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Cse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xse=new zd(3e4,6e4);function It(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ht(n,e,t,i){return ww.apply(this,arguments)}function ww(){return(ww=g(function*(n,e,t,i,r={}){return mP(n,r,g(function*(){let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=F1(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),fP.fetch()(gP(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function mP(n,e,t){return Mw.apply(this,arguments)}function Mw(){return(Mw=g(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Cse),e);try{const r=new Ese(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw qd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw qd(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw qd(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw qd(n,"user-disabled",s);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hP(n,u,c);Ei(n,u)}}catch(r){if(r instanceof zi)throw r;Ei(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function Io(n,e,t,i){return Cw.apply(this,arguments)}function Cw(){return(Cw=g(function*(n,e,t,i,r={}){const o=yield Ht(n,e,t,i,r);return"mfaPendingCredential"in o&&Ei(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function gP(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?bw(n.config,r):`${n.config.apiScheme}://${r}`}class Ese{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Yr(this.auth,"network-request-failed")),xse.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Yr(n,e,i);return r.customData._tokenResponse=t,r}function xw(){return(xw=g(function*(n,e){return Ht(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Dse(n,e){return Sw.apply(this,arguments)}function Sw(){return(Sw=g(function*(n,e){return Ht(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ud(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Tw(){return(Tw=g(function*(n,e=!1){const t=ft(n),i=yield t.getIdToken(e),r=um(i);F(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Ud(Dw(r.auth_time)),issuedAtTime:Ud(Dw(r.iat)),expirationTime:Ud(Dw(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function Dw(n){return 1e3*Number(n)}function um(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return cm("JWT malformed, contained fewer than 3 sections"),null;try{const r=A1(t);return r?JSON.parse(r):(cm("Failed to decode base64 JWT payload"),null)}catch(r){return cm("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Ao(n,e){return Iw.apply(this,arguments)}function Iw(){return(Iw=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof zi&&Rse(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}function Rse({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Pse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),i)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class yP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ud(this.lastLoginAt),this.creationTime=Ud(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $d(n){return Aw.apply(this,arguments)}function Aw(){return(Aw=g(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield Ao(n,Dse(t,{idToken:i}));F(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?Fse(o.providerUserInfo):[],a=Nse(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new yP(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function Rw(){return(Rw=g(function*(n){const e=ft(n);yield $d(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Nse(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Fse(n){return n.map(e=>{var{providerId:t}=e,i=aP(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Pw(){return(Pw=g(function*(n,e){const t=yield mP(n,{},g(function*(){const i=F1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=gP(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fP.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Gd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){F(e.idToken,"internal-error"),F(typeof e.idToken<"u","internal-error"),F(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Ase(n){const e=um(n);return F(e,"internal-error"),F(typeof e.exp<"u","internal-error"),F(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return g(function*(){return F(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return g(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function Lse(n,e){return Pw.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new Gd;return i&&(F("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),r&&(F("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),o&&(F("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gd,this.toJSON())}_performRefresh(){return Qr("not implemented")}}function ys(n,e){F("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ra{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=aP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yP(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const i=yield Ao(t,t.stsTokenManager.getToken(t.auth,e));return F(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function Ise(n){return Tw.apply(this,arguments)}(this,e)}reload(){return function Ose(n){return Rw.apply(this,arguments)}(this)}_assign(e){this!==e&&(F(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ra(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return g(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield $d(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield Ao(e,function Sse(n,e){return xw.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,l,c,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,k=null!==(c=t.createdAt)&&void 0!==c?c:void 0,w=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:E,isAnonymous:H,providerData:q,stsTokenManager:de}=t;F(v&&de,e,"internal-error");const tt=Gd.fromJSON(this.name,de);F("string"==typeof v,e,"internal-error"),ys(d,e.name),ys(h,e.name),F("boolean"==typeof E,e,"internal-error"),F("boolean"==typeof H,e,"internal-error"),ys(p,e.name),ys(f,e.name),ys(m,e.name),ys(y,e.name),ys(k,e.name),ys(w,e.name);const xt=new Ra({uid:v,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:H,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:tt,createdAt:k,lastLoginAt:w});return q&&Array.isArray(q)&&(xt.providerData=q.map(mi=>Object.assign({},mi))),y&&(xt._redirectEventId=y),xt}static _fromIdTokenResponse(e,t,i=!1){return g(function*(){const r=new Gd;r.updateFromServerResponse(t);const o=new Ra({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield $d(o),o})()}}const _P=new Map;function Ro(n){gs(n instanceof Function,"Expected a class definition");let e=_P.get(n);return e?(gs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_P.set(n,e),e)}const vP=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,i){var r=this;return g(function*(){r.storage[t]=i})()}_get(t){var i=this;return g(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return g(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function dm(n,e,t){return`firebase:${n}:${e}:${t}`}class Ec{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=dm(this.userKey,r.apiKey,o),this.fullPersistenceKey=dm("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ra._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return g(function*(){if(!t.length)return new Ec(Ro(vP),e,i);const r=(yield Promise.all(t.map(function(){var c=g(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let o=r[0]||Ro(vP);const s=dm(i,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(s);if(u){const d=Ra._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Ec(o,e,i)):new Ec(o,e,i)})()}}function kP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xP(e))return"Blackberry";if(EP(e))return"Webos";if(Ow(e))return"Safari";if((e.includes("chrome/")||wP(e))&&!e.includes("edge/"))return"Chrome";if(CP(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function bP(n=yn()){return/firefox\//i.test(n)}function Ow(n=yn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wP(n=yn()){return/crios\//i.test(n)}function MP(n=yn()){return/iemobile/i.test(n)}function CP(n=yn()){return/android/i.test(n)}function xP(n=yn()){return/blackberry/i.test(n)}function EP(n=yn()){return/webos/i.test(n)}function hm(n=yn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SP(n=yn()){return hm(n)||CP(n)||EP(n)||xP(n)||/windows phone/i.test(n)||MP(n)}function TP(n,e=[]){let t;switch(n){case"Browser":t=kP(yn());break;case"Worker":t=`${kP(yn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fs}/${i}`}function DP(n,e){return Fw.apply(this,arguments)}function Fw(){return(Fw=g(function*(n,e){return Ht(n,"GET","/v2/recaptchaConfig",It(n,e))})).apply(this,arguments)}function AP(n){return void 0!==n&&void 0!==n.enterprise}class RP{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function Lw(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=Yr("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",function zse(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function PP(n){return`__${n}${Math.floor(1e6*Math.random())}`}class OP{constructor(e){this.type="recaptcha-enterprise",this.auth=vn(e)}verify(e="verify",t=!1){var i=this;return g(function*(){function o(){return o=g(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=g(function*(c,u){DP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new RP(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,l,c){const u=window.grecaptcha;AP(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function r(a){return o.apply(this,arguments)})(i.auth).then(c=>{if(!t&&AP(window.grecaptcha))s(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));Lw("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function _s(n,e,t){return Vw.apply(this,arguments)}function Vw(){return(Vw=g(function*(n,e,t,i=!1){const r=new OP(n);let o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,i?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class Gse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class Wse{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NP(this),this.idTokenSubscription=new NP(this),this.beforeStateQueue=new Gse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Ro(t)),this._initializationPromise=this.queue(g(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield Ec.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,l=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return F(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield $d(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Mse(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const i=e?ft(e):null;return i&&F(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return g(function*(){if(!i._deleted)return e&&F(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(g(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(Ro(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const t=yield DP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new RP(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new OP(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wr("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return g(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const i=e&&Ro(e)||t._popupRedirectResolver;F(i,t,"argument-error"),t.redirectPersistenceManager=yield Ec.create(t,[Ro(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var i,r;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return F(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield e._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var e=this;return g(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function bse(n,...e){lm.logLevel<=Pe.WARN&&lm.warn(`Auth (${fs}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function vn(n){return ft(n)}class NP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Jee(n,e){const t=new ete(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function FP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LP(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class VP{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,t){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}function Hw(){return(Hw=g(function*(n,e){return Ht(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function zw(n,e){return qw.apply(this,arguments)}function qw(){return(qw=g(function*(n,e){return Io(n,"POST","/v1/accounts:signInWithPassword",It(n,e))})).apply(this,arguments)}function Qw(){return(Qw=g(function*(n,e){return Io(n,"POST","/v1/accounts:signInWithEmailLink",It(n,e))})).apply(this,arguments)}function Xw(){return(Xw=g(function*(n,e){return Io(n,"POST","/v1/accounts:signInWithEmailLink",It(n,e))})).apply(this,arguments)}class Wd extends VP{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Wd(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Wd(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return g(function*(){var i;switch(t.signInMethod){case"password":const r={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const o=yield _s(e,r,"signInWithPassword");return zw(e,o)}return zw(e,r).catch(function(){var o=g(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield _s(e,r,"signInWithPassword");return zw(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function nae(n,e){return Qw.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Ei(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return g(function*(){switch(i.signInMethod){case"password":return function HP(n,e){return Hw.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function iae(n,e){return Xw.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:Ei(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Po(n,e){return Jw.apply(this,arguments)}function Jw(){return(Jw=g(function*(n,e){return Io(n,"POST","/v1/accounts:signInWithIdp",It(n,e))})).apply(this,arguments)}class Yd{constructor(e){var t,i,r,o,s,a;const l=Pd(Od(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(i=l.oobCode)&&void 0!==i?i:null,d=function uae(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);F(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function dae(n){const e=Pd(Od(n)).link,t=e?Pd(Od(e)).deep_link_id:null,i=Pd(Od(n)).deep_link_id;return(i?Pd(Od(i)).link:null)||i||t||e||n}(e);try{return new Yd(t)}catch{return null}}}let jP=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Wd._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Yd.parseLink(i);return F(r,"argument-error"),Wd._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class vs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hae extends vs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function mm(n,e){return oM.apply(this,arguments)}function oM(){return(oM=g(function*(n,e){return Io(n,"POST","/v1/accounts:signUp",It(n,e))})).apply(this,arguments)}class ir{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return g(function*(){const o=yield Ra._fromIdTokenResponse(e,i,r),s=zP(i);return new ir({user:o,providerId:s,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return g(function*(){yield e._updateTokensIfNecessary(i,!0);const r=zP(i);return new ir({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function zP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class gm extends zi{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,gm.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new gm(e,t,i,r)}}function qP(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?gm._fromErrorAndOperation(n,o,e,i):o})}function lM(n,e){return cM.apply(this,arguments)}function cM(){return(cM=g(function*(n,e,t=!1){const i=yield Ao(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ir._forOperation(n,"link",i)})).apply(this,arguments)}function dM(){return(dM=g(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const o=yield Ao(n,qP(i,r,e,n),t);F(o.idToken,i,"internal-error");const s=um(o.idToken);F(s,i,"internal-error");const{sub:a}=s;return F(n.uid===a,i,"user-mismatch"),ir._forOperation(n,r,o)}catch(o){throw"auth/user-not-found"===o?.code&&Ei(i,"user-mismatch"),o}})).apply(this,arguments)}function GP(n,e){return hM.apply(this,arguments)}function hM(){return(hM=g(function*(n,e,t=!1){const i="signIn",r=yield qP(n,i,e),o=yield ir._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function fM(){return(fM=g(function*(n,e){return GP(vn(n),e)})).apply(this,arguments)}function vae(n,e,t){return SM.apply(this,arguments)}function SM(){return SM=g(function*(n,e,t){var i;const r=vn(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(i=r._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const c=yield _s(r,o,"signUpPassword");s=mm(r,c)}else s=mm(r,o).catch(function(){var c=g(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield _s(r,o,"signUpPassword");return mm(r,d)}return Promise.reject(u)});return function(u){return c.apply(this,arguments)}}());const a=yield s.catch(c=>Promise.reject(c)),l=yield ir._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(l.user),l}),SM.apply(this,arguments)}function kae(n,e,t){return function pM(n,e){return fM.apply(this,arguments)}(ft(n),jP.credential(e,t))}function wae(n,e){return OM.apply(this,arguments)}function OM(){return(OM=g(function*(n,e){return Ht(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Mae(n,e){return NM.apply(this,arguments)}function NM(){return(NM=g(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const i=ft(n),o={idToken:yield i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},s=yield Ao(i,wae(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find(({providerId:l})=>"password"===l);a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),yield i._updateTokensIfNecessary(s)})).apply(this,arguments)}const _m="__sak";class KP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_m,"1"),this.storage.removeItem(_m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bae=(()=>{class n extends KP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fae(){const n=yn();return Ow(n)||hm(n)}()&&function Hse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=SP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const o=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);!function Bse(){return function Kee(){const n=yn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,o=this;return g(function*(){yield r().call(o,t,i),o.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return g(function*(){const o=yield i().call(r,t);return r.localCache[t]=JSON.stringify(o),o})()}_remove(t){var i=()=>super._remove,r=this;return g(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),ZP=(()=>{class n extends KP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let jae=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return g(function*(){const r=t,{eventId:o,eventType:s,data:a}=r.data,l=i.handlersMap[s];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(l).map(function(){var d=g(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Hae(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(c);r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function zM(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class zae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return g(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=zM("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:o,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},r.handlers.add(a),o.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function en(){return window}function qM(){return typeof en().WorkerGlobalScope<"u"&&"function"==typeof en().importScripts}function UM(){return(UM=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const YP="firebaseLocalStorageDb",vm="firebaseLocalStorage",QP="fbase_key";class Xd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function km(n,e){return n.transaction([vm],e?"readwrite":"readonly").objectStore(vm)}function $M(){const n=indexedDB.open(YP,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(vm,{keyPath:QP})}catch(r){t(r)}}),n.addEventListener("success",g(function*(){const i=n.result;i.objectStoreNames.contains(vm)?e(i):(i.close(),yield function Kae(){const n=indexedDB.deleteDatabase(YP);return new Xd(n).toPromise()}(),e(yield $M()))}))})}function XP(n,e,t){return GM.apply(this,arguments)}function GM(){return(GM=g(function*(n,e,t){const i=km(n,!0).put({[QP]:e,value:t});return new Xd(i).toPromise()})).apply(this,arguments)}function WM(){return(WM=g(function*(n,e){const t=km(n,!1).get(e),i=yield new Xd(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function JP(n,e){const t=km(n,!0).delete(e);return new Xd(t).toPromise()}const Xae=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield $M()),t.db})()}_withRetries(t){var i=this;return g(function*(){let r=0;for(;;)try{const o=yield i._openDb();return yield t(o)}catch(o){if(r++>3)throw o;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return qM()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=jae._getInstance(function Gae(){return qM()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=g(function*(r,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(r,o){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=g(function*(r,o){return["keyChanged"]});return function(r,o){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var i,r;if(t.activeServiceWorker=yield function Uae(){return UM.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new zae(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);!o||(null===(i=o[0])||void 0===i?void 0:i.fulfilled)&&(null===(r=o[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return g(function*(){if(i.sender&&i.activeServiceWorker&&function $ae(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield $M();return yield XP(t,_m,"1"),yield JP(t,_m),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return g(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(o=>XP(o,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return g(function*(){const r=yield i._withRetries(o=>function Zae(n,e){return WM.apply(this,arguments)}(o,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(r=>JP(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const i=yield t._withRetries(s=>{const a=km(s,!1).getAll();return new Xd(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],o=new Set;for(const{fbase_key:s,value:a}of i)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),r.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),r.push(s));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Oa(n,e){return e?Ro(e):(F(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}PP("rcb"),new zd(3e4,6e4);class nC extends VP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fle(n){return GP(n.auth,new nC(n),n.bypassAuthState)}function mle(n){const{auth:e,user:t}=n;return F(t,e,"internal-error"),function $P(n,e){return dM.apply(this,arguments)}(t,new nC(n),n.bypassAuthState)}function gle(n){return iC.apply(this,arguments)}function iC(){return(iC=g(function*(n){const{auth:e,user:t}=n;return F(t,e,"internal-error"),lM(t,new nC(n),n.bypassAuthState)})).apply(this,arguments)}new zd(2e3,1e4);const Jd=new Map;class vle extends class yle{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:i,sessionId:r,postBody:o,tenantId:s,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:i,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fle;case"linkViaPopup":case"linkViaRedirect":return gle;case"reauthViaPopup":case"reauthViaRedirect":return mle;default:Ei(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let i=Jd.get(t.auth._key());if(!i){try{const o=(yield function kle(n,e){return lC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(o)}catch(r){i=()=>Promise.reject(r)}Jd.set(t.auth._key(),i)}return t.bypassAuthState||Jd.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function lC(){return(lC=g(function*(n,e){const t=n9(e),i=t9(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function ble(n,e){Jd.set(n._key(),e)}function t9(n){return Ro(n._redirectPersistence)}function n9(n){return dm("pendingRedirect",n.config.apiKey,n.name)}function i9(n,e){return mC.apply(this,arguments)}function mC(){return(mC=g(function*(n,e,t=!1){const i=vn(n),r=Oa(i,e),s=yield new vle(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})).apply(this,arguments)}class Ele{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Sle(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s9(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!s9(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(Yr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(o9(e))}saveEventToCache(e){this.cachedEventUids.add(o9(e)),this.lastProcessedEventTime=Date.now()}}function o9(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function s9({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Tle(n){return yC.apply(this,arguments)}function yC(){return(yC=g(function*(n,e={}){return Ht(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Dle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ile=/^https?/;function _C(){return(_C=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Tle(n);for(const t of e)try{if(Rle(t))return}catch{}Ei(n,"unauthorized-domain")})).apply(this,arguments)}function Rle(n){const e=jd(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===i}if(!Ile.test(t))return!1;if(Dle.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Ple=new zd(3e4,6e4);function a9(){const n=en().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let wm=null;function Nle(n){return wm=wm||function Ole(n){return new Promise((e,t)=>{var i,r,o;function s(){a9(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a9(),t(Yr(n,"network-request-failed"))},timeout:Ple.get()})}if(null!==(r=null===(i=en().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(o=en().gapi)||void 0===o||!o.load){const a=PP("iframefcb");return en()[a]=()=>{gapi.load?s():t(Yr(n,"network-request-failed"))},Lw(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}s()}}).catch(e=>{throw wm=null,e})}(n),wm}const Fle=new zd(5e3,15e3),Ble={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jle(n){const e=n.config;F(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?bw(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,i={apiKey:e.apiKey,appName:n.name,v:fs},r=Hle.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${F1(i).slice(1)}`}function vC(){return vC=g(function*(n){const e=yield Nle(n),t=en().gapi;return F(t,n,"internal-error"),e.open({where:document.body,url:jle(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ble,dontclear:!0},i=>new Promise(function(){var r=g(function*(o,s){yield i.restyle({setHideOnLeave:!1});const a=Yr(n,"network-request-failed"),l=en().setTimeout(()=>{s(a)},Fle.get());function c(){en().clearTimeout(l),o(i)}i.ping(c).then(c,()=>{s(a)})});return function(o,s){return r.apply(this,arguments)}}()))}),vC.apply(this,arguments)}const qle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class l9{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xle=encodeURIComponent("fac");function c9(n,e,t,i,r,o){return kC.apply(this,arguments)}function kC(){return(kC=g(function*(n,e,t,i,r,o){F(n.config.authDomain,n,"auth-domain-config-required"),F(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:fs,eventId:r};if(e instanceof vs){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",Xee(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof hae){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${Xle}=${encodeURIComponent(l)}`:"";return`${Jle(n)}?${F1(a).slice(1)}${c}`})).apply(this,arguments)}function Jle({config:n}){return n.emulator?bw(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const bC="webStorageSupport",tce=class ece{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZP,this._completeRedirectFn=i9,this._overrideRedirectResult=ble}_openPopup(e,t,i,r){var o=this;return g(function*(){var s;gs(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield c9(e,t,i,jd(),r);return function Kle(n,e,t,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},qle),{width:i.toString(),height:r.toString(),top:o,left:s}),c=yn().toLowerCase();t&&(a=wP(c)?"_blank":t),bP(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,f])=>`${h}${p}=${f},`,"");if(function Vse(n=yn()){var e;return hm(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Zle(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new l9(null);const d=window.open(e||"",a,u);F(d,n,"popup-blocked");try{d.focus()}catch{}return new l9(d)}(e,a,zM())})()}_openRedirect(e,t,i,r){var o=this;return g(function*(){return yield o._originValidation(e),function qae(n){en().location.href=n}(yield c9(e,t,i,jd(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(gs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return g(function*(){const i=yield function zle(n){return vC.apply(this,arguments)}(e),r=new Ele(e);return i.register("authEvent",o=>(F(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bC,{type:bC},r=>{var o;const s=null===(o=r?.[0])||void 0===o?void 0:o[bC];void 0!==s&&t(!!s),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Ale(n){return _C.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return SP()||Ow()||hm()}};var h9="@firebase/auth";class nce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const sce=p7("authIdTokenMaxAge")||300;let f9=null;const ace=n=>function(){var e=g(function*(t){const i=t&&(yield t.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>sce)return;const o=i?.token;f9!==o&&(f9=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function lce(n=B1()){const e=Ca(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Kse(n,e){const t=Ca(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(N1(t.getOptions(),e??{}))return r;Ei(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:tce,persistence:[Xae,Bae,ZP]}),i=p7("authTokenSyncURL");if(i){const o=ace(i);(function Iae(n,e,t){ft(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function Dae(n,e,t,i){ft(n).onIdTokenChanged(e,t,i)}(t,s=>o(s))}const r=u7("auth");return r&&function Yse(n,e,t){const i=vn(n);F(i._canInitEmulator,i,"emulator-config-failed"),F(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!t?.disableWarnings,o=FP(e),{host:s,port:a}=function Qse(n){const e=FP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:LP(i.substr(o.length+1))}}{const[o,s]=i.split(":");return{host:o,port:LP(s)}}}(e);i.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function Xse(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${r}`),t}function cce(n){return new Ue(function(e){var t=function Aae(n,e,t,i){return ft(n).onAuthStateChanged(e,t,i)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function rce(n){qn(new Tn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;F(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TP(n)},c=new Wse(i,r,o,l);return function Zse(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ro);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),qn(new Tn("auth-internal",e=>{const t=vn(e.getProvider("auth").getImmediate());return new nce(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mt(h9,"0.23.2",function ice(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),mt(h9,"0.23.2","esm2017")}("Browser");class Cm{constructor(e){return e}}class MC{constructor(){return Y1("auth")}}const CC=new N("angularfire2.auth-instances");function hce(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Cm(i)}}const pce={provide:MC,deps:[[new wt,CC]]},fce={provide:Cm,useFactory:function dce(n,e){const t=Z1("auth",n,e);return t&&new Cm(t)},deps:[[new wt,CC],Aa]};let mce=(()=>{class n{constructor(){mt("angularfire",Vd.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({providers:[fce,pce]}),n})();function gce(n,...e){return{ngModule:mce,providers:[{provide:CC,useFactory:hce(n),multi:!0,deps:[ae,Ft,Q1,X1,[new wt,sm],...e]}]}}const yce=Gt(cce,!0),_ce=Gt(vae,!0),vce=Gt(lce,!0),kce=Gt(kae,!0),bce=Gt(Mae,!0);function $(...n){return $e(n,Hu(n))}let xm=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=yce(this.auth)}addUser(t){throw new Error("Method not implemented.")}updateUser(t){throw new Error("Method not implemented.")}signUp(t,i){return $e(_ce(this.auth,t,i))}login(t,i){return $e(kce(this.auth,t,i))}updateProfileData(t){const i=this.auth.currentUser;return i?$e(bce(i,t)):$()}logout(){return $e(this.auth.signOut())}}return n.\u0275fac=function(t){return new(t||n)(C(Cm))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rr extends ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:wce}=Array,{getPrototypeOf:Mce,prototype:Cce,keys:xce}=Object;function g9(n){if(1===n.length){const e=n[0];if(wce(e))return{args:e,keys:null};if(function Ece(n){return n&&"object"==typeof n&&Mce(n)===Cce}(e)){const t=xce(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:Sce}=Array;function xC(n){return Z(e=>function Tce(n,e){return Sce(e)?n(...e):n(e)}(n,e))}function y9(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function or(...n){const e=Hu(n),t=TS(n),{args:i,keys:r}=g9(n);if(0===i.length)return $e([],e);const o=new Ue(function Dce(n,e,t=es){return i=>{_9(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)_9(e,()=>{const c=$e(n[l],e);let u=!1;c.subscribe(new at(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>y9(r,s):es));return t?o.pipe(xC(t)):o}function _9(n,e,t){n?ho(t,n,e):e()}function eh(...n){return function Ice(){return Cl(1)}()($e(n,Hu(n)))}function Em(n){return new Ue(e=>{Qn(n()).subscribe(e)})}function Tc(n,e){const t=Ve(n)?n:()=>n,i=r=>r.error(t());return new Ue(e?r=>e.schedule(i,0,r):i)}const Dc=Bu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function EC(){return Et((n,e)=>{let t=null;n._refCount++;const i=new at(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class v9 extends Ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,fS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new pt;const t=this.getSubject();e.add(this.source.subscribe(new at(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=pt.EMPTY)}return e}refCount(){return EC()(this)}}function ot(n,e){return Et((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(new at(i,l=>{r?.unsubscribe();let c=0;const u=o++;Qn(n(l,u)).subscribe(r=new at(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Si(...n){const e=Hu(n);return Et((t,i)=>{(e?eh(n,t,e):eh(n,t)).subscribe(i)})}function tn(n,e){return Et((t,i)=>{let r=0;t.subscribe(new at(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Sm(n){return Et((e,t)=>{let i=!1;e.subscribe(new at(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function k9(n=Ace){return Et((e,t)=>{let i=!1;e.subscribe(new at(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Ace(){return new Dc}function ks(n,e){const t=arguments.length>=2;return i=>i.pipe(n?tn((r,o)=>n(r,o,i)):es,Pt(1),t?Sm(e):k9(()=>new Dc))}function sr(n,e){return Ve(e)?Ut(n,e,1):Ut(n,1)}function Oo(n){return Et((e,t)=>{let o,i=null,r=!1;i=e.subscribe(new at(t,void 0,void 0,s=>{o=Qn(n(s,Oo(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Rce(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(new at(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function b9(n,e){return Et(Rce(n,e,arguments.length>=2,!0))}function SC(n){return n<=0?()=>hr:Et((e,t)=>{let i=[];e.subscribe(new at(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function w9(n,e){const t=arguments.length>=2;return i=>i.pipe(n?tn((r,o)=>n(r,o,i)):es,SC(1),t?Sm(e):k9(()=>new Dc))}function M9(n){return Z(()=>n)}function Tm(n){return Et((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ce="primary";class Oce{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ic(n){return new Oce(n)}function Nce(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Xr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!C9(n[r],e[r]))return!1;return!0}function C9(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function x9(n){return Array.prototype.concat.apply([],n)}function E9(n){return n.length>0?n[n.length-1]:null}function An(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function No(n){return I_(n)?n:gd(n)?$e(Promise.resolve(n)):$(n)}const Vce={exact:function D9(n,e,t){if(!Fa(n.segments,e.segments)||!Dm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!D9(n.children[i],e.children[i],t))return!1;return!0},subset:I9},S9={exact:function Bce(n,e){return Xr(n,e)},subset:function Hce(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>C9(n[t],e[t]))},ignored:()=>!0};function T9(n,e,t){return Vce[t.paths](n.root,e.root,t.matrixParams)&&S9[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function I9(n,e,t){return A9(n,e,e.segments,t)}function A9(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Fa(r,t)||e.hasChildren()||!Dm(r,t,i))}if(n.segments.length===t.length){if(!Fa(n.segments,t)||!Dm(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!I9(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Fa(n.segments,r)&&Dm(n.segments,r,i)&&n.children[Ce])&&A9(n.children[Ce],e,o,i)}}function Dm(n,e,t){return e.every((i,r)=>S9[t](n[r].parameters,i.parameters))}class Na{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ic(this.queryParams)),this._queryParamMap}toString(){return qce.serialize(this)}}class Ee{constructor(e,t){this.segments=e,this.children=t,this.parent=null,An(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Im(this)}}class th{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ic(this.parameters)),this._parameterMap}toString(){return F9(this)}}function Fa(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class R9{}class P9{parse(e){const t=new Xce(e);return new Na(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${nh(e.root,!0)}`,i=function Gce(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Am(t)}=${Am(r)}`).join("&"):`${Am(t)}=${Am(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Uce(n){return encodeURI(n)}(e.fragment)}`:""}`}}const qce=new P9;function Im(n){return n.segments.map(e=>F9(e)).join("/")}function nh(n,e){if(!n.hasChildren())return Im(n);if(e){const t=n.children[Ce]?nh(n.children[Ce],!1):"",i=[];return An(n.children,(r,o)=>{o!==Ce&&i.push(`${o}:${nh(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function zce(n,e){let t=[];return An(n.children,(i,r)=>{r===Ce&&(t=t.concat(e(i,r)))}),An(n.children,(i,r)=>{r!==Ce&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Ce?[nh(n.children[Ce],!1)]:[`${r}:${nh(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ce]?`${Im(n)}/${t[0]}`:`${Im(n)}/(${t.join("//")})`}}function O9(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Am(n){return O9(n).replace(/%3B/gi,";")}function DC(n){return O9(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rm(n){return decodeURIComponent(n)}function N9(n){return Rm(n.replace(/\+/g,"%20"))}function F9(n){return`${DC(n.path)}${function $ce(n){return Object.keys(n).map(e=>`;${DC(e)}=${DC(n[e])}`).join("")}(n.parameters)}`}const Wce=/^[^\/()?;=#]+/;function Pm(n){const e=n.match(Wce);return e?e[0]:""}const Kce=/^[^=?&#]+/,Yce=/^[^&#]+/;class Xce{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ce]=new Ee(e,t)),i}parseSegment(){const e=Pm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new th(Rm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Pm(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Pm(this.remaining);r&&(i=r,this.capture(i))}e[Rm(t)]=Rm(i)}parseQueryParam(e){const t=function Zce(n){const e=n.match(Kce);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function Qce(n){const e=n.match(Yce);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=N9(t),o=N9(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Pm(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new D(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ce);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Ce]:new Ee([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}}function IC(n){return n.segments.length>0?new Ee([],{[Ce]:n}):n}function Om(n){const e={};for(const i of Object.keys(n.children)){const o=Om(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Jce(n){if(1===n.numberOfChildren&&n.children[Ce]){const e=n.children[Ce];return new Ee(n.segments.concat(e.segments),e.children)}return n}(new Ee(n.segments,e))}function La(n){return n instanceof Na}function nue(n,e,t,i,r){if(0===t.length)return Ac(e.root,e.root,e.root,i,r);const o=function B9(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new V9(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return An(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new V9(t,e,i)}(t);return o.toRoot()?Ac(e.root,e.root,new Ee([],{}),i,r):function s(l){const c=function rue(n,e,t,i){if(n.isAbsolute)return new Rc(e.root,!0,0);if(-1===i)return new Rc(t,t===e.root,0);return function H9(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new D(4005,!1);r=i.segments.length}return new Rc(i,!1,r-o)}(t,i+(ih(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,l),u=c.processChildren?oh(c.segmentGroup,c.index,o.commands):RC(c.segmentGroup,c.index,o.commands);return Ac(e.root,c.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function ih(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rh(n){return"object"==typeof n&&null!=n&&n.outlets}function Ac(n,e,t,i,r){let s,o={};i&&An(i,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:L9(n,e,t);const a=IC(Om(s));return new Na(a,o,r)}function L9(n,e,t){const i={};return An(n.children,(r,o)=>{i[o]=r===e?t:L9(r,e,t)}),new Ee(n.segments,i)}class V9{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&ih(i[0]))throw new D(4003,!1);const r=i.find(rh);if(r&&r!==E9(i))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function RC(n,e,t){if(n||(n=new Ee([],{})),0===n.segments.length&&n.hasChildren())return oh(n,e,t);const i=function sue(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(rh(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!z9(l,c,s))return o;i+=2}else{if(!z9(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Ee(n.segments.slice(0,i.pathIndex),{});return o.children[Ce]=new Ee(n.segments.slice(i.pathIndex),n.children),oh(o,0,r)}return i.match&&0===r.length?new Ee(n.segments,{}):i.match&&!n.hasChildren()?PC(n,e,t):i.match?oh(n,0,r):PC(n,e,t)}function oh(n,e,t){if(0===t.length)return new Ee(n.segments,{});{const i=function oue(n){return rh(n[0])?n[0].outlets:{[Ce]:n}}(t),r={};return An(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=RC(n.children[s],e,o))}),An(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new Ee(n.segments,r)}}function PC(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(rh(o)){const l=aue(o.outlets);return new Ee(i,l)}if(0===r&&ih(t[0])){i.push(new th(n.segments[e].path,j9(t[0]))),r++;continue}const s=rh(o)?o.outlets[Ce]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&ih(a)?(i.push(new th(s,j9(a))),r+=2):(i.push(new th(s,{})),r++)}return new Ee(i,{})}function aue(n){const e={};return An(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=PC(new Ee([],{}),0,t))}),e}function j9(n){const e={};return An(n,(t,i)=>e[i]=`${t}`),e}function z9(n,e,t){return n==t.path&&Xr(e,t.parameters)}class Fo{constructor(e,t){this.id=e,this.url=t}}class OC extends Fo{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lo extends Fo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nm extends Fo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class q9 extends Fo{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lue extends Fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cue extends Fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uue extends Fo{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class due extends Fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hue extends Fo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pue{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fue{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mue{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gue{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yue{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _ue{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U9{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $9{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=NC(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=NC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=FC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return FC(e,this._root).map(t=>t.value)}}function NC(n,e){if(n===e.value)return e;for(const t of e.children){const i=NC(n,t);if(i)return i}return null}function FC(n,e){if(n===e.value)return[e];for(const t of e.children){const i=FC(n,t);if(i.length)return i.unshift(e),i}return[]}class Vo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Pc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class G9 extends $9{constructor(e,t){super(e),this.snapshot=t,LC(this,e)}toString(){return this.snapshot.toString()}}function W9(n,e){const t=function kue(n,e){const s=new Fm([],{},{},"",{},Ce,e,null,n.root,-1,{});return new Z9("",new Vo(s,[]))}(n,e),i=new rr([new th("",{})]),r=new rr({}),o=new rr({}),s=new rr({}),a=new rr(""),l=new Va(i,r,s,a,o,Ce,e,t.root);return l.snapshot=t.root,new G9(new Vo(l,[]),t)}class Va{constructor(e,t,i,r,o,s,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Z(e=>Ic(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Z(e=>Ic(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function K9(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function bue(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Fm{constructor(e,t,i,r,o,s,a,l,c,u,d,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ic(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ic(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Z9 extends $9{constructor(e,t){super(t),this.url=e,LC(this,t)}toString(){return Y9(this._root)}}function LC(n,e){e.value._routerState=n,e.children.forEach(t=>LC(n,t))}function Y9(n){const e=n.children.length>0?` { ${n.children.map(Y9).join(", ")} } `:"";return`${n.value}${e}`}function VC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Xr(e.params,t.params)||n.params.next(t.params),function Fce(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Xr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function BC(n,e){const t=Xr(n.params,e.params)&&function jce(n,e){return Fa(n,e)&&n.every((t,i)=>Xr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||BC(n.parent,e.parent))}function sh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Mue(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return sh(n,i,r);return sh(n,i)})}(n,e,t);return new Vo(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>sh(n,a)),s}}const i=function Cue(n){return new Va(new rr(n.url),new rr(n.params),new rr(n.queryParams),new rr(n.fragment),new rr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>sh(n,o));return new Vo(i,r)}}const HC="ngNavigationCancelingError";function Q9(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=La(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=X9(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function X9(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[HC]=!0,i.cancellationCode=e,t&&(i.url=t),i}function J9(n){return eO(n)&&La(n.url)}function eO(n){return n&&n[HC]}class xue{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ah,this.attachRef=null}}class ah{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new xue,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}const Lm=!1;let jC=(()=>{class n{constructor(t,i,r,o,s){this.parentContexts=t,this.location=i,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Me,this.deactivateEvents=new Me,this.attachEvents=new Me,this.detachEvents=new Me,this.name=r||Ce,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,Lm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,Lm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,Lm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new D(4013,Lm);this._activatedRoute=t;const r=this.location,s=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Eue(t,a,r.injector);if(i&&function Sue(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(s);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(_(ah),_(wi),os("name"),_(Sn),_(ss))},n.\u0275dir=G({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Eue{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Va?this.route:e===ah?this.childContexts:this.parent.get(e,t)}}let tO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ae({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&te(0,"router-outlet")},dependencies:[jC],encapsulation:2}),n})();function nO(n,e){return n.providers&&!n._injector&&(n._injector=t1(n.providers,e,`Route: ${n.path}`)),n._injector??e}function qC(n){const e=n.children&&n.children.map(qC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ce&&(t.component=tO),t}function ar(n){return n.outlet||Ce}function iO(n,e){const t=n.filter(i=>ar(i)===e);return t.push(...n.filter(i=>ar(i)!==e)),t}function rO(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Rue{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),VC(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Pc(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),An(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Pc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Pc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Pc(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new _ue(o.value.snapshot))}),e.children.length&&this.forwardEvent(new gue(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(VC(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),VC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=rO(r.snapshot),l=a?.get(la)??null;s.attachRef=null,s.route=r,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class oO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Vm{constructor(e,t){this.component=e,this.route=t}}function Pue(n,e,t){const i=n._root;return lh(i,e?e._root:null,t,[i.value])}function Bm(n,e,t){return(rO(e)??t).get(n)}function lh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Pc(e);return n.children.forEach(s=>{(function Nue(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Fue(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Fa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fa(n.url,e.url)||!Xr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!BC(n,e)||!Xr(n.queryParams,e.queryParams);default:return!BC(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new oO(i)):(o.data=s.data,o._resolvedData=s._resolvedData),lh(n,e,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Vm(a.outlet.component,s))}else s&&ch(e,a,r),r.canActivateChecks.push(new oO(i)),lh(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),An(o,(s,a)=>ch(s,t.getContext(a),r)),r}function ch(n,e,t){const i=Pc(n),r=n.value;An(i,(o,s)=>{ch(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Vm(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function uh(n){return"function"==typeof n}const Hm=Symbol("INITIAL_VALUE");function Oc(){return ot(n=>or(n.map(e=>e.pipe(Pt(1),Si(Hm)))).pipe(Z(e=>{for(const t of e)if(!0!==t){if(t===Hm)return Hm;if(!1===t||t instanceof Na)return t}return!0}),tn(e=>e!==Hm),Pt(1)))}function sO(n){return function Lq(...n){return dS(n)}(rt(e=>{if(La(e))throw Q9(0,e)}),Z(e=>!0===e))}const UC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aO(n,e,t,i,r){const o=$C(n,e,t);return o.matched?function Jue(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?$(r.map(s=>{const a=n.get(s),l=function zue(n){return n&&uh(n.canMatch)}(a)?a.canMatch(e,t):a(e,t);return No(l)})).pipe(Oc(),sO()):$(!0)}(i=nO(e,i),e,t).pipe(Z(s=>!0===s?o:{...UC})):$(o)}function $C(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...UC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Nce)(t,n,e);if(!r)return{...UC};const o={};An(r.posParams,(a,l)=>{o[l]=a.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function jm(n,e,t,i,r="corrected"){if(t.length>0&&function nde(n,e,t){return t.some(i=>zm(n,e,i)&&ar(i)!==Ce)}(n,t,i)){const s=new Ee(e,function tde(n,e,t,i){const r={};r[Ce]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&ar(o)!==Ce){const s=new Ee([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,r[ar(o)]=s}return r}(n,e,i,new Ee(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function ide(n,e,t){return t.some(i=>zm(n,e,i))}(n,t,i)){const s=new Ee(n.segments,function ede(n,e,t,i,r,o){const s={};for(const a of i)if(zm(n,t,a)&&!r[ar(a)]){const l=new Ee([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[ar(a)]=l}return{...r,...s}}(n,e,t,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new Ee(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function zm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function lO(n,e,t,i){return!!(ar(n)===i||i!==Ce&&zm(e,t,n))&&("**"===n.path||$C(e,n,t).matched)}function cO(n,e,t){return 0===e.length&&!n.children[t]}const qm=!1;class Um{constructor(e){this.segmentGroup=e||null}}class uO{constructor(e){this.urlTree=e}}function dh(n){return Tc(new Um(n))}function dO(n){return Tc(new uO(n))}class ade{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=jm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ee(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ce).pipe(Z(o=>this.createUrlTree(Om(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oo(o=>{if(o instanceof uO)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Um?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ce).pipe(Z(r=>this.createUrlTree(Om(r),e.queryParams,e.fragment))).pipe(Oo(r=>{throw r instanceof Um?this.noMatchError(r):r}))}noMatchError(e){return new D(4002,qm)}createUrlTree(e,t,i){const r=IC(e);return new Na(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(Z(o=>new Ee([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return $e(r).pipe(sr(o=>{const s=i.children[o],a=iO(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(Z(l=>({segment:l,outlet:o})))}),b9((o,s)=>(o[s.outlet]=s.segment,o),{}),w9())}expandSegment(e,t,i,r,o,s){return $e(i).pipe(sr(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,o,s).pipe(Oo(c=>{if(c instanceof Um)return $(null);throw c}))),ks(a=>!!a),Oo((a,l)=>{if(a instanceof Dc||"EmptyError"===a.name)return cO(t,r,o)?$(new Ee([],{})):dh(t);throw a}))}expandSegmentAgainstRoute(e,t,i,r,o,s,a){return lO(r,t,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s):dh(t):dh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?dO(o):this.lineralizeSegments(i,o).pipe(Ut(s=>{const a=new Ee(s,{});return this.expandSegment(e,a,t,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=$C(t,r,o);if(!a)return dh(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?dO(d):this.lineralizeSegments(r,d).pipe(Ut(h=>this.expandSegment(e,t,i,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=nO(i,e),i.loadChildren?(i._loadedRoutes?$({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(Z(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new Ee(r,{})))):$(new Ee(r,{}))):aO(t,i,r,e).pipe(ot(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(e=i._injector??e,i,r).pipe(Ut(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:p,slicedSegments:f}=jm(t,a,l,h),m=new Ee(p.segments,p.children);if(0===f.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(Z(v=>new Ee(a,v)));if(0===h.length&&0===f.length)return $(new Ee(a,{}));const y=ar(i)===o;return this.expandSegment(d,m,h,f,y?Ce:o,!0).pipe(Z(w=>new Ee(a.concat(w.segments),w.children)))})):dh(t)))}getChildConfig(e,t,i){return t.children?$({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?$({routes:t._loadedRoutes,injector:t._loadedInjector}):function Xue(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?$(!0):$(r.map(s=>{const a=n.get(s),l=function Vue(n){return n&&uh(n.canLoad)}(a)?a.canLoad(e,t):a(e,t);return No(l)})).pipe(Oc(),sO())}(e,t,i).pipe(Ut(r=>r?this.configLoader.loadChildren(e,t).pipe(rt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function ode(n){return Tc(X9(qm,3))}())):$({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return $(i);if(r.numberOfChildren>1||!r.children[Ce])return Tc(new D(4e3,qm));r=r.children[Ce]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Na(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return An(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=t[a]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return An(t.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,i,r)}),new Ee(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new D(4001,qm);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class cde{}class hde{constructor(e,t,i,r,o,s,a,l){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const e=jm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ce).pipe(Z(t=>{if(null===t)return null;const i=new Fm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ce,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vo(i,t),o=new Z9(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=K9(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return $e(Object.keys(i.children)).pipe(sr(r=>{const o=i.children[r],s=iO(t,r);return this.processSegmentGroup(e,s,o,r)}),b9((r,o)=>r&&o?(r.push(...o),r):null),function Pce(n,e=!1){return Et((t,i)=>{let r=0;t.subscribe(new at(i,o=>{const s=n(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}(r=>null!==r),Sm(null),w9(),Z(r=>{if(null===r)return null;const o=hO(r);return function pde(n){n.sort((e,t)=>e.value.outlet===Ce?-1:t.value.outlet===Ce?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return $e(t).pipe(sr(s=>this.processSegmentAgainstRoute(s._injector??e,s,i,r,o)),ks(s=>!!s),Oo(s=>{if(s instanceof Dc)return cO(i,r,o)?$([]):$(null);throw s}))}processSegmentAgainstRoute(e,t,i,r,o){if(t.redirectTo||!lO(t,i,r,o))return $(null);let s;if("**"===t.path){const a=r.length>0?E9(r).parameters:{},l=fO(i)+r.length;s=$({snapshot:new Fm(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gO(t),ar(t),t.component??t._loadedComponent??null,t,pO(i),l,yO(t),l),consumedSegments:[],remainingSegments:[]})}else s=aO(i,t,r,e).pipe(Z(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=fO(i)+l.length;return{snapshot:new Fm(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gO(t),ar(t),t.component??t._loadedComponent??null,t,pO(i),d,yO(t),d),consumedSegments:l,remainingSegments:c}}));return s.pipe(ot(a=>{if(null===a)return $(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function fde(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:p,slicedSegments:f}=jm(i,c,u,h.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);if(0===f.length&&p.hasChildren())return this.processChildren(d,h,p).pipe(Z(y=>null===y?null:[new Vo(l,y)]));if(0===h.length&&0===f.length)return $([new Vo(l,[])]);const m=ar(t)===o;return this.processSegment(d,h,p,f,m?Ce:o).pipe(Z(y=>null===y?null:[new Vo(l,y)]))}))}}function mde(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function hO(n){const e=[],t=new Set;for(const i of n){if(!mde(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=hO(i.children);e.push(new Vo(i.value,r))}return e.filter(i=>!t.has(i))}function pO(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fO(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function gO(n){return n.data||{}}function yO(n){return n.resolve||{}}const GC=Symbol("RouteTitle");function _O(n){return"string"==typeof n.title||null===n.title}function WC(n){return ot(e=>{const t=n(e);return t?$e(t).pipe(Z(()=>e)):$(e)})}let vO=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ce);return i}getResolvedTitleForRoute(t){return t.data[GC]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return ct(kO)},providedIn:"root"}),n})(),kO=(()=>{class n extends vO{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(C(n7))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Mde{}class xde extends class Cde{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const KC=new N("",{providedIn:"root",factory:()=>({})}),ZC=new N("ROUTES");let YC=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return $(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=No(t.loadComponent()).pipe(rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Tm(()=>{this.componentLoaders.delete(t)})),r=new v9(i,()=>new ge).pipe(EC());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Z(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=x9(l.get(ZC,[],ie.Self|ie.Optional)));return{routes:c.map(qC),injector:l}}),Tm(()=>{this.childrenLoaders.delete(i)})),s=new v9(o,()=>new ge).pipe(EC());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(t){return No(t()).pipe(Ut(i=>i instanceof r6||Array.isArray(i)?$(i):$e(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(C(Ft),C(J_))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class Sde{}class Tde{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Dde(n){throw n}function Ide(n,e,t){return e.parse("/")}const Ade={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rde={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function wO(){const n=ct(R9),e=ct(ah),t=ct(m1),i=ct(Ft),r=ct(J_),o=ct(ZC,{optional:!0})??[],s=ct(KC,{optional:!0})??{},a=ct(kO),l=ct(vO,{optional:!0}),c=ct(Sde,{optional:!0}),u=ct(Mde,{optional:!0}),d=new jt(null,n,e,t,i,r,x9(o));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function Pde(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d}let jt=(()=>{class n{constructor(t,i,r,o,s,a,l){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ge,this.errorHandler=Dde,this.malformedUriErrorHandler=Ide,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>$(void 0),this.urlHandlingStrategy=new Tde,this.routeReuseStrategy=new xde,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(YC),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new fue(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new pue(h)),this.ngModule=s.get(pa),this.console=s.get(WQ);const d=s.get(ae);this.isNgZoneEnabled=d instanceof ae&&ae.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function Lce(){return new Na(new Ee([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=W9(this.currentUrlTree,this.rootComponentType),this.transitions=new rr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(tn(r=>0!==r.id),Z(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ot(r=>{let o=!1,s=!1;return $(r).pipe(rt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ot(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return MO(a.source)&&(this.browserUrlTree=a.extractedUrl),$(a).pipe(ot(d=>{const h=this.transitions.getValue();return i.next(new OC(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?hr:Promise.resolve(d)}),function lde(n,e,t,i){return ot(r=>function sde(n,e,t,i,r){return new ade(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(Z(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),rt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function yde(n,e,t,i,r,o){return Ut(s=>function dde(n,e,t,i,r,o,s="emptyOnly",a="legacy"){return new hde(n,e,t,i,r,s,a,o).recognize().pipe(ot(l=>null===l?function ude(n){return new Ue(e=>e.error(n))}(new cde):$(l)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r,o).pipe(Z(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),rt(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const p=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(p,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new lue(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:p,source:f,restoredState:m,extras:y}=a,k=new OC(h,this.serializeUrl(p),f,m);i.next(k);const w=W9(p,this.rootComponentType).snapshot;return $(r={...a,targetSnapshot:w,urlAfterRedirects:p,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),hr}),rt(a=>{const l=new cue(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Z(a=>r={...a,guards:Pue(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function Uue(n,e){return Ut(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?$({...t,guardsResult:!0}):function $ue(n,e,t,i){return $e(n).pipe(Ut(r=>function Que(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?$(o.map(a=>{const l=Bm(a,e,r);return No(function jue(n){return n&&uh(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):l(n,e,t,i)).pipe(ks())})).pipe(Oc()):$(!0)}(r.component,r.route,t,e,i)),ks(r=>!0!==r,!0))}(s,i,r,n).pipe(Ut(a=>a&&function Lue(n){return"boolean"==typeof n}(a)?function Gue(n,e,t,i){return $e(e).pipe(sr(r=>eh(function Kue(n,e){return null!==n&&e&&e(new mue(n)),$(!0)}(r.route.parent,i),function Wue(n,e){return null!==n&&e&&e(new yue(n)),$(!0)}(r.route,i),function Yue(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Oue(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Em(()=>$(s.guards.map(l=>{const c=Bm(l,s.node,t);return No(function Hue(n){return n&&uh(n.canActivateChild)}(c)?c.canActivateChild(i,n):c(i,n)).pipe(ks())})).pipe(Oc())));return $(o).pipe(Oc())}(n,r.path,t),function Zue(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return $(!0);const r=i.map(o=>Em(()=>{const s=Bm(o,e,t);return No(function Bue(n){return n&&uh(n.canActivate)}(s)?s.canActivate(e,n):s(e,n)).pipe(ks())}));return $(r).pipe(Oc())}(n,r.route,t))),ks(r=>!0!==r,!0))}(i,o,n,e):$(a)),Z(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),rt(a=>{if(r.guardsResult=a.guardsResult,La(a.guardsResult))throw Q9(0,a.guardsResult);const l=new uue(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),tn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),WC(a=>{if(a.guards.canActivateChecks.length)return $(a).pipe(rt(l=>{const c=new due(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ot(l=>{let c=!1;return $(l).pipe(function _de(n,e){return Ut(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return $(t);let o=0;return $e(r).pipe(sr(s=>function vde(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!_O(r)&&(o[GC]=r.title),function kde(n,e,t,i){const r=function bde(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return $({});const o={};return $e(r).pipe(Ut(s=>function wde(n,e,t,i){const r=Bm(n,e,i);return No(r.resolve?r.resolve(e,t):r(e,t))}(n[s],e,t,i).pipe(ks(),rt(a=>{o[s]=a}))),SC(1),M9(o),Oo(s=>s instanceof Dc?hr:Tc(s)))}(o,n,e,i).pipe(Z(s=>(n._resolvedData=s,n.data=K9(n,t).resolve,r&&_O(r)&&(n.data[GC]=r.title),null)))}(s.route,i,n,e)),rt(()=>o++),SC(1),Ut(s=>o===r.length?$(t):hr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),rt({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),rt(l=>{const c=new hue(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),WC(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(rt(d=>{c.component=d}),Z(()=>{})));for(const d of c.children)u.push(...l(d));return u};return or(l(a.targetSnapshot.root)).pipe(Sm(),Pt(1))}),WC(()=>this.afterPreactivation()),Z(a=>{const l=function wue(n,e,t){const i=sh(n,e._root,t?t._root:void 0);return new G9(i,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:l}}),rt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Z(i=>(new Rue(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),rt({next(){o=!0},complete(){o=!0}}),Tm(()=>{o||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Oo(a=>{if(s=!0,eO(a)){J9(a)||(this.navigated=!0,this.restoreHistory(r,!0));const l=new Nm(r.id,this.serializeUrl(r.extractedUrl),a.message,a.cancellationCode);if(i.next(l),J9(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||MO(r.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new q9(r.id,this.serializeUrl(r.extractedUrl),a,r.targetSnapshot??void 0);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return hr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(r.state=a)}const s=this.parseUrl(t.url);this.scheduleNavigation(s,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(qC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),nue(c,this.currentUrlTree,t,d,u??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=La(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function Ode(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new D(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Ade}:!1===i?{...Rde}:i,La(t))return T9(this.currentUrlTree,t,r);const o=this.parseUrl(t);return T9(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Lo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,p)=>{a=h,l=p});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),d=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const o=new Nm(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){Lf()},n.\u0275prov=V({token:n,factory:function(){return wO()},providedIn:"root"}),n})();function MO(n){return"imperative"!==n}let Wm=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.commands=null,this.onChanges=new ge,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Mo(this.skipLocationChange),replaceUrl:Mo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mo(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(_(jt),_(Va),os("tabindex"),_(_r),_(Re))},n.\u0275dir=G({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&me("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[En]}),n})(),hh=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new ge,this.subscription=t.events.subscribe(o=>{o instanceof Lo&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,o,s){if(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Mo(this.skipLocationChange),replaceUrl:Mo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mo(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(_(jt),_(Va),_(_a))},n.\u0275dir=G({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&me("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Xe("target",i.target)("href",i.href,C0)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[En]}),n})();class CO{}let xO=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(tn(t=>t instanceof Lo),sr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=t1(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return $e(r).pipe(Cl())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):$(null);const o=r.pipe(Ut(s=>null===s?$(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?$e([o,this.loader.loadComponent(i)]).pipe(Cl()):o})}}return n.\u0275fac=function(t){return new(t||n)(C(jt),C(J_),C(ss),C(CO),C(YC))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const EO=new N("");let Lde=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof OC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Lo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof U9&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new U9(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Lf()},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const SO=new N("ROUTER_FORROOT_GUARD"),TO=new N(""),Vde=[m1,{provide:R9,useClass:P9},{provide:jt,useFactory:wO},ah,{provide:Va,useFactory:function Bde(n){return n.routerState.root},deps:[jt]},YC];function Hde(){return new X6("Router",jt)}let DO=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Vde,[],IO(t),{provide:SO,useFactory:Ude,deps:[[jt,new wt,new jl]]},{provide:KC,useValue:i||{}},i?.useHash?{provide:_a,useClass:FX}:{provide:_a,useClass:w8},{provide:EO,useFactory:()=>{const n=ct(jt),e=ct(JJ),t=ct(KC);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Lde(n,e,t)}},i?.preloadingStrategy?Qde(i.preloadingStrategy):[],{provide:X6,multi:!0,useFactory:Hde},i?.initialNavigation?Gde(i):[],[{provide:AO,useFactory:$de},{provide:$6,multi:!0,useExisting:AO}]]}}static forChild(t){return{ngModule:n,providers:[IO(t)]}}}return n.\u0275fac=function(t){return new(t||n)(C(SO,8))},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({}),n})();function Ude(n){return"guarded"}function IO(n){return[{provide:ZC,multi:!0,useValue:n}]}function $de(){const n=ct(Ft);return e=>{const t=n.get(ga);if(e!==t.components[0])return;const i=n.get(jt),r=n.get(RO);1===n.get(QC)&&i.initialNavigation(),n.get(TO,null,ie.Optional)?.setUpPreloading(),n.get(EO,null,ie.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const AO=new N("");function Gde(n){return["disabled"===n.initialNavigation?[{provide:a1,multi:!0,useFactory:()=>{const n=ct(jt);return()=>{n.setUpLocationChangeListener()}}},{provide:QC,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:QC,useValue:0},{provide:a1,multi:!0,deps:[Ft],useFactory:n=>{const e=n.get(OX,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(r=>{const o=n.get(jt),s=n.get(RO);(function i(r){n.get(jt).events.pipe(tn(s=>s instanceof Lo||s instanceof Nm||s instanceof q9),Z(s=>s instanceof Lo||s instanceof Nm&&(0===s.code||1===s.code)&&null),tn(s=>null!==s),Pt(1)).subscribe(()=>{r()})})(()=>{r(!0),t=!0}),o.afterPreactivation=()=>(r(!0),t||s.closed?$(void 0):s),o.initialNavigation()}))}}]:[]]}const RO=new N("",{factory:()=>new ge}),QC=new N("",{providedIn:"root",factory:()=>1});function Qde(n){return[xO,{provide:TO,useExisting:xO},{provide:CO,useExisting:n}]}var j,Xde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={},XC=XC||{},ue=Xde||self;function Km(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ph(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var JC="closure_uid_"+(1e9*Math.random()>>>0),ehe=0;function the(n,e,t){return n.call.apply(n.bind,arguments)}function nhe(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Un(n,e,t){return(Un=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?the:nhe).apply(null,arguments)}function Zm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function kn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function ws(){this.s=this.s,this.o=this.o}ws.prototype.s=!1,ws.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Jde(n){Object.prototype.hasOwnProperty.call(n,JC)&&n[JC]||(n[JC]=++ehe)}(this)},ws.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const PO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ex(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function OO(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Km(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function $n(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}$n.prototype.h=function(){this.defaultPrevented=!0};var rhe=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ue.addEventListener("test",()=>{},e),ue.removeEventListener("test",()=>{},e)}catch{}return n}();function fh(n){return/^[\s\xa0]*$/.test(n)}function Ym(){var n=ue.navigator;return n&&(n=n.userAgent)?n:""}function Jr(n){return-1!=Ym().indexOf(n)}function tx(n){return tx[" "](n),n}tx[" "]=function(){};var ix,n,she=Jr("Opera"),Nc=Jr("Trident")||Jr("MSIE"),NO=Jr("Edge"),nx=NO||Nc,FO=Jr("Gecko")&&!(-1!=Ym().toLowerCase().indexOf("webkit")&&!Jr("Edge"))&&!(Jr("Trident")||Jr("MSIE"))&&!Jr("Edge"),ahe=-1!=Ym().toLowerCase().indexOf("webkit")&&!Jr("Edge");function LO(){var n=ue.document;return n?n.documentMode:void 0}e:{var rx="",ox=(n=Ym(),FO?/rv:([^\);]+)(\)|;)/.exec(n):NO?/Edge\/([\d\.]+)/.exec(n):Nc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ahe?/WebKit\/(\S+)/.exec(n):she?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ox&&(rx=ox?ox[1]:""),Nc){var sx=LO();if(null!=sx&&sx>parseFloat(rx)){ix=String(sx);break e}}ix=rx}var lhe=ue.document&&Nc&&(LO()||parseInt(ix,10))||void 0;function mh(n,e){if($n.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(FO){e:{try{tx(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:che[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&mh.$.h.call(this)}}kn(mh,$n);var che={2:"touch",3:"pen",4:"mouse"};mh.prototype.h=function(){mh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var gh="closure_listenable_"+(1e6*Math.random()|0),uhe=0;function dhe(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++uhe,this.fa=this.ia=!1}function Qm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function lx(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function BO(n){const e={};for(const t in n)e[t]=n[t];return e}const HO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jO(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<HO.length;o++)t=HO[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Xm(n){this.src=n,this.g={},this.h=0}function cx(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=PO(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Qm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ux(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}Xm.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=ux(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new dhe(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var dx="closure_lm_"+(1e6*Math.random()|0),hx={};function zO(n,e,t,i,r){if(i&&i.once)return UO(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)zO(n,e[o],t,i,r);return null}return t=gx(t),n&&n[gh]?n.O(e,t,ph(i)?!!i.capture:!!i,r):qO(n,e,t,!1,i,r)}function qO(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=ph(r)?!!r.capture:!!r,a=fx(n);if(a||(n[dx]=a=new Xm(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function phe(){const e=fhe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)rhe||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(GO(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function UO(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)UO(n,e[o],t,i,r);return null}return t=gx(t),n&&n[gh]?n.P(e,t,ph(i)?!!i.capture:!!i,r):qO(n,e,t,!0,i,r)}function $O(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)$O(n,e[o],t,i,r);else i=ph(i)?!!i.capture:!!i,t=gx(t),n&&n[gh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ux(o=n.g[e],t,i,r))&&(Qm(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=fx(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ux(e,t,i,r)),(t=-1<n?e[n]:null)&&px(t))}function px(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[gh])cx(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(GO(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=fx(e))?(cx(t,n),0==t.h&&(t.src=null,e[dx]=null)):Qm(n)}}}function GO(n){return n in hx?hx[n]:hx[n]="on"+n}function fhe(n,e){if(n.fa)n=!0;else{e=new mh(e,this);var t=n.listener,i=n.la||n.src;n.ia&&px(n),n=t.call(i,e)}return n}function fx(n){return(n=n[dx])instanceof Xm?n:null}var mx="__closure_events_fn_"+(1e9*Math.random()>>>0);function gx(n){return"function"==typeof n?n:(n[mx]||(n[mx]=function(e){return n.handleEvent(e)}),n[mx])}function bn(){ws.call(this),this.i=new Xm(this),this.S=this,this.J=null}function Rn(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new $n(e,n);else if(e instanceof $n)e.target=e.target||n;else{var r=e;jO(e=new $n(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Jm(s,i,!0,e)&&r}if(r=Jm(s=e.g=n,i,!0,e)&&r,r=Jm(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Jm(s=e.g=t[o],i,!1,e)&&r}function Jm(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&cx(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}kn(bn,ws),bn.prototype[gh]=!0,bn.prototype.removeEventListener=function(n,e,t,i){$O(this,n,e,t,i)},bn.prototype.N=function(){if(bn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Qm(t[i]);delete n.g[e],n.h--}}this.J=null},bn.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},bn.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var yx=ue.JSON.stringify;function ghe(){var n=_x;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var WO=new class mhe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _he,n=>n.reset());class _he{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vhe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function khe(n){ue.setTimeout(()=>{throw n},0)}let yh,_h=!1,_x=new class yhe{constructor(){this.h=this.g=null}add(e,t){const i=WO.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},KO=()=>{const n=ue.Promise.resolve(void 0);yh=()=>{n.then(bhe)}};var bhe=()=>{for(var n;n=ghe();){try{n.h.call(n.g)}catch(t){khe(t)}var e=WO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}_h=!1};function eg(n,e){bn.call(this),this.h=n||1,this.g=e||ue,this.j=Un(this.qb,this),this.l=Date.now()}function vx(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function kx(n,e,t){if("function"==typeof n)t&&(n=Un(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Un(n.handleEvent,n)}return 2147483647<Number(e)?-1:ue.setTimeout(n,e||0)}function ZO(n){n.g=kx(()=>{n.g=null,n.i&&(n.i=!1,ZO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}kn(eg,bn),(j=eg.prototype).ga=!1,j.T=null,j.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rn(this,"tick"),this.ga&&(vx(this),this.start()))}},j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},j.N=function(){eg.$.N.call(this),vx(this),delete this.g};class whe extends ws{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ZO(this)}N(){super.N(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vh(n){ws.call(this),this.h=n,this.g={}}kn(vh,ws);var YO=[];function QO(n,e,t,i){Array.isArray(t)||(t&&(YO[0]=t.toString()),t=YO);for(var r=0;r<t.length;r++){var o=zO(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function XO(n){lx(n.g,function(e,t){this.g.hasOwnProperty(t)&&px(e)},n),n.g={}}function tg(){this.g=!0}function Fc(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ehe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return yx(t)}catch{return e}}(n,t)+(i?" "+i:"")})}vh.prototype.N=function(){vh.$.N.call(this),XO(this)},vh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tg.prototype.Ea=function(){this.g=!1},tg.prototype.info=function(){};var Ba={},JO=null;function ng(){return JO=JO||new bn}function eN(n){$n.call(this,Ba.Ta,n)}function kh(n){const e=ng();Rn(e,new eN(e))}function tN(n,e){$n.call(this,Ba.STAT_EVENT,n),this.stat=e}function li(n){const e=ng();Rn(e,new tN(e,n))}function nN(n,e){$n.call(this,Ba.Ua,n),this.size=e}function bh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){n()},e)}Ba.Ta="serverreachability",kn(eN,$n),Ba.STAT_EVENT="statevent",kn(tN,$n),Ba.Ua="timingevent",kn(nN,$n);var ig={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},iN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function bx(){}function oN(){}bx.prototype.h=null;var Cx,wh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wx(){$n.call(this,"d")}function Mx(){$n.call(this,"c")}function rg(){}function Mh(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new vh(this),this.P=She,this.V=new eg(n=nx?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sN}function sN(){this.i=null,this.g="",this.h=!1}kn(wx,$n),kn(Mx,$n),kn(rg,bx),rg.prototype.g=function(){return new XMLHttpRequest},rg.prototype.i=function(){return{}},Cx=new rg;var She=45e3,xx={},og={};function Ex(n,e,t){n.L=1,n.v=cg(Bo(e)),n.s=t,n.S=!0,aN(n,null)}function aN(n,e){n.G=Date.now(),Ch(n),n.A=Bo(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),yN(t.i,"t",i),n.C=0,t=n.l.J,n.h=new sN,n.g=jN(n.l,t?e:null,!n.s),0<n.O&&(n.M=new whe(Un(n.Pa,n,n.g),n.O)),QO(n.U,n.g,"readystatechange",n.nb),e=n.I?BO(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),kh(),function Mhe(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function lN(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function cN(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=The(n,t),r==og){4==e&&(n.o=4,li(14),i=!1),Fc(n.j,n.m,null,"[Incomplete Response]");break}if(r==xx){n.o=4,li(15),Fc(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Fc(n.j,n.m,r,null),Sx(n,r)}lN(n)&&r!=og&&r!=xx&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,li(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ox(e),e.M=!0,li(11))):(Fc(n.j,n.m,t,"[Invalid Chunked Response]"),Ha(n),xh(n))}function The(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?og:(t=Number(e.substring(t,i)),isNaN(t)?xx:(i+=1)+t>e.length?og:(e=e.slice(i,i+t),n.C=i+t,e))}function Ch(n){n.Y=Date.now()+n.P,uN(n,n.P)}function uN(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=bh(Un(n.lb,n),e)}function sg(n){n.B&&(ue.clearTimeout(n.B),n.B=null)}function xh(n){0==n.l.H||n.J||LN(n.l,n)}function Ha(n){sg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,vx(n.V),XO(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Sx(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Tx(t.i,n)))if(!n.K&&Tx(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;mg(t),pg(t)}Px(t),li(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=bh(Un(t.ib,t),6e3));if(1>=kN(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else za(t,11)}else if((n.K||t.g==n)&&mg(t),!fh(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=i=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const p=n.g;if(p){const f=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var o=i.i;o.g||-1==f.indexOf("spdy")&&-1==f.indexOf("quic")&&-1==f.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Dx(o,o.h),o.h=null))}if(i.F){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,gt(i.I,i.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=HN(i,i.J?i.pa:null,i.Y),s.K){bN(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.B&&(sg(a),Ch(a)),i.g=s}else NN(i);0<t.j.length&&fg(t)}else"stop"!=c[0]&&"close"!=c[0]||za(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?za(t,7):Rx(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}kh()}catch{}}function dN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Km(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Ihe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Km(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Dhe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Km(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(j=Mh.prototype).setTimeout=function(n){this.P=n},j.nb=function(n){n=n.target;const e=this.M;e&&3==eo(n)?e.l():this.Pa(n)},j.Pa=function(n){try{if(n==this.g)e:{const u=eo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||nx||this.g&&(this.h.h||this.g.ja()||DN(this.g)))){this.J||4!=u||7==e||kh(),sg(this);var t=this.g.da();this.ca=t;t:if(lN(this)){var i=DN(this.g);n="";var r=i.length,o=4==eo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ha(this),xh(this);var s="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function Che(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fh(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,li(12),Ha(this),xh(this);break e}Fc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sx(this,t)}this.S?(cN(this,u,s),nx&&this.i&&3==u&&(QO(this.U,this.V,"tick",this.mb),this.V.start())):(Fc(this.j,this.m,s,null),Sx(this,s)),4==u&&Ha(this),this.i&&!this.J&&(4==u?LN(this.l,this):(this.i=!1,Ch(this)))}else(function Khe(n){const e={};n=(n.g&&2<=eo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(fh(n[i]))continue;var t=vhe(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function hhe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,li(12)):(this.o=0,li(13)),Ha(this),xh(this)}}}catch{}},j.mb=function(){if(this.g){var n=eo(this.g),e=this.g.ja();this.C<e.length&&(sg(this),cN(this,n,e),this.i&&4!=n&&Ch(this))}},j.cancel=function(){this.J=!0,Ha(this)},j.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function xhe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(kh(),li(17)),Ha(this),this.o=2,xh(this)):uN(this,this.Y-n)};var hN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ja(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ja){this.h=n.h,ag(this,n.j),this.s=n.s,this.g=n.g,lg(this,n.m),this.l=n.l;var e=n.i,t=new Th;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),pN(this,t),this.o=n.o}else n&&(e=String(n).match(hN))?(this.h=!1,ag(this,e[1]||"",!0),this.s=Eh(e[2]||""),this.g=Eh(e[3]||"",!0),lg(this,e[4]),this.l=Eh(e[5]||"",!0),pN(this,e[6]||"",!0),this.o=Eh(e[7]||"")):(this.h=!1,this.i=new Th(null,this.h))}function Bo(n){return new ja(n)}function ag(n,e,t){n.j=t?Eh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function lg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function pN(n,e,t){e instanceof Th?(n.i=e,function Lhe(n,e){e&&!n.j&&(Ms(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(mN(this,i),yN(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Sh(e,Nhe)),n.i=new Th(e,n.h))}function gt(n,e,t){n.i.set(e,t)}function cg(n){return gt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Eh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Rhe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Rhe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ja.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Sh(e,fN,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Sh(e,fN,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Sh(t,"/"==t.charAt(0)?Ohe:Phe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Sh(t,Fhe)),n.join("")};var fN=/[#\/\?@]/g,Phe=/[#\?:]/g,Ohe=/[#\?]/g,Nhe=/[#\?@]/g,Fhe=/#/g;function Th(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ms(n){n.g||(n.g=new Map,n.h=0,n.i&&function Ahe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mN(n,e){Ms(n),e=Lc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function gN(n,e){return Ms(n),e=Lc(n,e),n.g.has(e)}function yN(n,e,t){mN(n,e),0<t.length&&(n.i=null,n.g.set(Lc(n,e),ex(t)),n.h+=t.length)}function Lc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function _N(n){this.l=n||Bhe,n=ue.PerformanceNavigationTiming?0<(n=ue.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ue.g&&ue.g.Ka&&ue.g.Ka()&&ue.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(j=Th.prototype).add=function(n,e){Ms(this),this.i=null,n=Lc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},j.forEach=function(n,e){Ms(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},j.ta=function(){Ms(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},j.Z=function(n){Ms(this);let e=[];if("string"==typeof n)gN(this,n)&&(e=e.concat(this.g.get(Lc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},j.set=function(n,e){return Ms(this),this.i=null,gN(this,n=Lc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},j.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var Bhe=10;function vN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function kN(n){return n.h?1:n.g?n.g.size:0}function Tx(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Dx(n,e){n.g?n.g.add(e):n.h=e}function bN(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function wN(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ex(n.i)}function jhe(){this.g=new class{stringify(n){return ue.JSON.stringify(n,void 0)}parse(n){return ue.JSON.parse(n,void 0)}}}function zhe(n,e,t){const i=t||"";try{dN(n,function(r,o){let s=r;ph(r)&&(s=yx(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function ug(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Dh(n){this.l=n.fc||null,this.j=n.ob||!1}function dg(n,e){bn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ix,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_N.prototype.cancel=function(){if(this.i=wN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},kn(Dh,bx),Dh.prototype.g=function(){return new dg(this.l,this.j)},Dh.prototype.i=function(n){return function(){return n}}({}),kn(dg,bn);var Ix=0;function MN(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ih(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ah(n)}function Ah(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(j=dg.prototype).open=function(n,e){if(this.readyState!=Ix)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ah(this)},j.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ih(this)),this.readyState=Ix},j.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ah(this)),this.g&&(this.readyState=3,Ah(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MN(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},j.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ih(this):Ah(this),3==this.readyState&&MN(this)}},j.Za=function(n){this.g&&(this.response=this.responseText=n,Ih(this))},j.Ya=function(n){this.g&&(this.response=n,Ih(this))},j.ka=function(){this.g&&Ih(this)},j.setRequestHeader=function(n,e){this.v.append(n,e)},j.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},j.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(dg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Uhe=ue.JSON.parse;function zt(n){bn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CN,this.L=this.M=!1}kn(zt,bn);var CN="",$he=/^https?$/i,Ghe=["POST","PUT"];function xN(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,EN(n),hg(n)}function EN(n){n.F||(n.F=!0,Rn(n,"complete"),Rn(n,"error"))}function SN(n){if(n.h&&typeof XC<"u"&&(!n.C[1]||4!=eo(n)||2!=n.da()))if(n.v&&4==eo(n))kx(n.La,0,n);else if(Rn(n,"readystatechange"),4==eo(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(hN)[1]||null;!r&&ue.self&&ue.self.location&&(r=ue.self.location.protocol.slice(0,-1)),i=!$he.test(r?r.toLowerCase():"")}t=i}if(t)Rn(n,"complete"),Rn(n,"success");else{n.m=6;try{var o=2<eo(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",EN(n)}}finally{hg(n)}}}function hg(n,e){if(n.g){TN(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Rn(n,"ready");try{t.onreadystatechange=i}catch{}}}function TN(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ue.clearTimeout(n.A),n.A=null)}function eo(n){return n.g?n.g.readyState:0}function DN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case CN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function IN(n){let e="";return lx(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Ax(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=IN(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):gt(n,e,t))}function Rh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function AN(n){this.Ga=0,this.j=[],this.l=new tg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Rh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Rh("baseRetryDelayMs",5e3,n),this.hb=Rh("retryDelaySeedMs",1e4,n),this.eb=Rh("forwardChannelMaxRetries",2,n),this.xa=Rh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new _N(n&&n.concurrentRequestLimit),this.Ja=new jhe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Rx(n){if(RN(n),3==n.H){var e=n.W++,t=Bo(n.I);if(gt(t,"SID",n.K),gt(t,"RID",e),gt(t,"TYPE","terminate"),Ph(n,t),(e=new Mh(n,n.l,e)).L=2,e.v=cg(Bo(t)),t=!1,ue.navigator&&ue.navigator.sendBeacon)try{t=ue.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ue.Image&&((new Image).src=e.v,t=!0),t||(e.g=jN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ch(e)}BN(n)}function pg(n){n.g&&(Ox(n),n.g.cancel(),n.g=null)}function RN(n){pg(n),n.u&&(ue.clearTimeout(n.u),n.u=null),mg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ue.clearTimeout(n.m),n.m=null)}function fg(n){if(!vN(n.i)&&!n.m){n.m=!0;var e=n.Na;yh||KO(),_h||(yh(),_h=!0),_x.add(e,n),n.C=0}}function PN(n,e){var t;t=e?e.m:n.W++;const i=Bo(n.I);gt(i,"SID",n.K),gt(i,"RID",t),gt(i,"AID",n.V),Ph(n,i),n.o&&n.s&&Ax(i,n.o,n.s),t=new Mh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ON(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Dx(n.i,t),Ex(t,i,e)}function Ph(n,e){n.na&&lx(n.na,function(t,i){gt(e,i,t)}),n.h&&dN({},function(t,i){gt(e,i,t)})}function ON(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Un(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let c=r[l].g;const u=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{zhe(u,s,"req"+c+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function NN(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;yh||KO(),_h||(yh(),_h=!0),_x.add(e,n),n.A=0}}function Px(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=bh(Un(n.Ma,n),VN(n,n.A)),n.A++,0))}function Ox(n){null!=n.B&&(ue.clearTimeout(n.B),n.B=null)}function FN(n){n.g=new Mh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Bo(n.wa);gt(e,"RID","rpc"),gt(e,"SID",n.K),gt(e,"AID",n.V),gt(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&gt(e,"TO",n.qa),gt(e,"TYPE","xmlhttp"),Ph(n,e),n.o&&n.s&&Ax(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=cg(Bo(e)),t.s=null,t.S=!0,aN(t,n)}function mg(n){null!=n.v&&(ue.clearTimeout(n.v),n.v=null)}function LN(n,e){var t=null;if(n.g==e){mg(n),Ox(n),n.g=null;var i=2}else{if(!Tx(n.i,e))return;t=e.F,bN(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Rn(i=ng(),new nN(i,t)),fg(n)}else NN(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function Zhe(n,e){return!(kN(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=bh(Un(n.Na,n,e),VN(n,n.C)),n.C++,0)))}(n,e)||2==i&&Px(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:za(n,5);break;case 4:za(n,10);break;case 3:za(n,6);break;default:za(n,2)}}function VN(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function za(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Un(n.pb,n);t||(t=new ja("//www.google.com/images/cleardot.gif"),ue.location&&"http"==ue.location.protocol||ag(t,"https"),cg(t)),function qhe(n,e){const t=new tg;if(ue.Image){const i=new Image;i.onload=Zm(ug,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Zm(ug,t,i,"TestLoadImage: error",!1,e),i.onabort=Zm(ug,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Zm(ug,t,i,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else li(2);n.H=0,n.h&&n.h.za(e),BN(n),RN(n)}function BN(n){if(n.H=0,n.ma=[],n.h){const e=wN(n.i);(0!=e.length||0!=n.j.length)&&(OO(n.ma,e),OO(n.ma,n.j),n.i.i.length=0,ex(n.j),n.j.length=0),n.h.ya()}}function HN(n,e,t){var i=t instanceof ja?Bo(t):new ja(t);if(""!=i.g)e&&(i.g=e+"."+i.g),lg(i,i.m);else{var r=ue.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new ja(null);i&&ag(o,i),e&&(o.g=e),r&&lg(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&gt(i,t,e),gt(i,"VER",n.ra),Ph(n,i),i}function jN(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zt(t&&n.Ha&&!n.va?new Dh({ob:!0}):n.va)).Oa(n.J),e}function zN(){}function gg(){if(Nc&&!(10<=Number(lhe)))throw Error("Environmental error: no available transport.")}function qi(n,e){bn.call(this),this.g=new AN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!fh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Vc(this)}function qN(n){wx.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function UN(){Mx.call(this),this.status=1}function Vc(n){this.g=n}function Ir(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Nx(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Je(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(j=zt.prototype).Oa=function(n){this.M=n},j.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Cx.g(),this.C=function rN(n){return n.h||(n.h=n.i())}(this.u?this.u:Cx),this.g.onreadystatechange=Un(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void xN(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=ue.FormData&&n instanceof ue.FormData,!(0<=PO(Ghe,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{TN(this),0<this.B&&((this.L=function Whe(n){return Nc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Un(this.ua,this)):this.A=kx(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){xN(this,o)}},j.ua=function(){typeof XC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rn(this,"timeout"),this.abort(8))},j.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Rn(this,"complete"),Rn(this,"abort"),hg(this))},j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hg(this,!0)),zt.$.N.call(this)},j.La=function(){this.s||(this.G||this.v||this.l?SN(this):this.kb())},j.kb=function(){SN(this)},j.isActive=function(){return!!this.g},j.da=function(){try{return 2<eo(this)?this.g.status:-1}catch{return-1}},j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},j.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Uhe(e)}},j.Ia=function(){return this.m},j.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(j=AN.prototype).ra=8,j.H=1,j.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Mh(this,this.l,n);let o=this.s;if(this.U&&(o?(o=BO(o),jO(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ON(this,r,e),gt(t=Bo(this.I),"RID",n),gt(t,"CVER",22),this.F&&gt(t,"X-HTTP-Session-Id",this.F),Ph(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(IN(o)))+"&"+e:this.o&&Ax(t,this.o,o)),Dx(this.i,r),this.bb&&gt(t,"TYPE","init"),this.P?(gt(t,"$req",e),gt(t,"SID","null"),r.aa=!0,Ex(r,t,null)):Ex(r,t,e),this.H=2}}else 3==this.H&&(n?PN(this,n):0==this.j.length||vN(this.i)||PN(this))},j.Ma=function(){if(this.u=null,FN(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=bh(Un(this.jb,this),n)}},j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,li(10),pg(this),FN(this))},j.ib=function(){null!=this.v&&(this.v=null,pg(this),Px(this),li(19))},j.pb=function(n){n?(this.l.info("Successfully pinged google.com"),li(2)):(this.l.info("Failed to ping google.com"),li(1))},j.isActive=function(){return!!this.h&&this.h.isActive(this)},(j=zN.prototype).Ba=function(){},j.Aa=function(){},j.za=function(){},j.ya=function(){},j.isActive=function(){return!0},j.Va=function(){},gg.prototype.g=function(n,e){return new qi(n,e)},kn(qi,bn),qi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;li(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=HN(n,null,n.Y),fg(n)},qi.prototype.close=function(){Rx(this.g)},qi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=yx(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&fg(e)},qi.prototype.N=function(){this.g.h=null,delete this.j,Rx(this.g),delete this.g,qi.$.N.call(this)},kn(qN,wx),kn(UN,Mx),kn(Vc,zN),Vc.prototype.Ba=function(){Rn(this.g,"a")},Vc.prototype.Aa=function(n){Rn(this.g,new qN(n))},Vc.prototype.za=function(n){Rn(this.g,new UN)},Vc.prototype.ya=function(){Rn(this.g,"b")},kn(Ir,function Yhe(){this.blockSize=-1}),Ir.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ir.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)Nx(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){Nx(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){Nx(this,i),r=0;break}}this.h=r,this.i+=e},Ir.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Qhe={};function Fx(n){return-128<=n&&128>n?function ohe(n,e){var t=Qhe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Je([0|e],0>e?-1:0)}):new Je([0|n],0>n?-1:0)}function to(n){if(isNaN(n)||!isFinite(n))return Bc;if(0>n)return Pn(to(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Lx;return new Je(e,0)}var Lx=4294967296,Bc=Fx(0),Vx=Fx(1),GN=Fx(16777216);function Ho(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function lr(n){return-1==n.h}function Pn(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Je(t,~n.h).add(Vx)}function yg(n,e){return n.add(Pn(e))}function _g(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Oh(n,e){this.g=n,this.h=e}function vg(n,e){if(Ho(e))throw Error("division by zero");if(Ho(n))return new Oh(Bc,Bc);if(lr(n))return e=vg(Pn(n),e),new Oh(Pn(e.g),Pn(e.h));if(lr(e))return e=vg(n,Pn(e)),new Oh(Pn(e.g),e.h);if(30<n.g.length){if(lr(n)||lr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Vx,i=e;0>=i.X(n);)t=WN(t),i=WN(i);var r=Hc(t,1),o=Hc(i,1);for(i=Hc(i,2),t=Hc(t,2);!Ho(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Hc(i,1),t=Hc(t,1)}return e=yg(n,r.R(e)),new Oh(r,e)}for(r=Bc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=to(t)).R(e);lr(s)||0<s.X(n);)s=(o=to(t-=i)).R(e);Ho(o)&&(o=Vx),r=r.add(o),n=yg(n,s)}return new Oh(r,n)}function WN(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Je(t,n.h)}function Hc(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Je(r,n.h)}(j=Je.prototype).ea=function(){if(lr(this))return-Pn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Lx+i)*e,e*=Lx}return n},j.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ho(this))return"0";if(lr(this))return"-"+Pn(this).toString(n);for(var e=to(Math.pow(n,6)),t=this,i="";;){var r=vg(t,e).g,o=((0<(t=yg(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ho(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},j.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},j.X=function(n){return lr(n=yg(this,n))?-1:Ho(n)?0:1},j.abs=function(){return lr(this)?Pn(this):this},j.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Je(t,-2147483648&t[t.length-1]?-1:0)},j.R=function(n){if(Ho(this)||Ho(n))return Bc;if(lr(this))return lr(n)?Pn(this).R(Pn(n)):Pn(Pn(this).R(n));if(lr(n))return Pn(this.R(Pn(n)));if(0>this.X(GN)&&0>n.X(GN))return to(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);t[2*i+2*r]+=s*l,_g(t,2*i+2*r),t[2*i+2*r+1]+=o*l,_g(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,_g(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,_g(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Je(t,0)},j.gb=function(n){return vg(this,n).h},j.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Je(t,this.h&n.h)},j.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Je(t,this.h|n.h)},j.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Je(t,this.h^n.h)},gg.prototype.createWebChannel=gg.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,ig.NO_ERROR=0,ig.TIMEOUT=8,ig.HTTP_ERROR=6,iN.COMPLETE="complete",oN.EventType=wh,wh.OPEN="a",wh.CLOSE="b",wh.ERROR="c",wh.MESSAGE="d",bn.prototype.listen=bn.prototype.O,zt.prototype.listenOnce=zt.prototype.P,zt.prototype.getLastError=zt.prototype.Sa,zt.prototype.getLastErrorCode=zt.prototype.Ia,zt.prototype.getStatus=zt.prototype.da,zt.prototype.getResponseJson=zt.prototype.Wa,zt.prototype.getResponseText=zt.prototype.ja,zt.prototype.send=zt.prototype.ha,zt.prototype.setWithCredentials=zt.prototype.Oa,Ir.prototype.digest=Ir.prototype.l,Ir.prototype.reset=Ir.prototype.reset,Ir.prototype.update=Ir.prototype.j,Je.prototype.add=Je.prototype.add,Je.prototype.multiply=Je.prototype.R,Je.prototype.modulo=Je.prototype.gb,Je.prototype.compare=Je.prototype.X,Je.prototype.toNumber=Je.prototype.ea,Je.prototype.toString=Je.prototype.toString,Je.prototype.getBits=Je.prototype.D,Je.fromNumber=to,Je.fromString=function $N(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Pn($N(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=to(Math.pow(e,8)),i=Bc,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=to(Math.pow(e,o)),i=i.R(o).add(to(s))):i=(i=i.R(t)).add(to(s))}return i};var Xhe=Dr.createWebChannelTransport=function(){return new gg},Jhe=Dr.getStatEventTarget=function(){return ng()},Bx=Dr.ErrorCode=ig,epe=Dr.EventType=iN,tpe=Dr.Event=Ba,KN=Dr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},npe=Dr.FetchXmlHttpFactory=Dh,kg=Dr.WebChannel=oN,ipe=Dr.XhrIo=zt,rpe=Dr.Md5=Ir,jc=Dr.Integer=Je;const ZN="@firebase/firestore";class wn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");let zc="9.23.0";const Cs=new vc("@firebase/firestore");function Hx(){return Cs.logLevel}function O(n,...e){if(Cs.logLevel<=Pe.DEBUG){const t=e.map(jx);Cs.debug(`Firestore (${zc}): ${n}`,...t)}}function Wt(n,...e){if(Cs.logLevel<=Pe.ERROR){const t=e.map(jx);Cs.error(`Firestore (${zc}): ${n}`,...t)}}function Ar(n,...e){if(Cs.logLevel<=Pe.WARN){const t=e.map(jx);Cs.warn(`Firestore (${zc}): ${n}`,...t)}}function jx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function W(n="Unexpected state"){const e=`FIRESTORE (${zc}) INTERNAL ASSERTION FAILED: `+n;throw Wt(e),new Error(e)}function Y(n,e){n||W()}function B(n,e){return n}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class P extends zi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class YN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ope{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wn.UNAUTHENTICATED))}shutdown(){}}class spe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ape{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(g(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Y("string"==typeof i.accessToken),new YN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(null===e||"string"==typeof e),new wn(e)}}class lpe{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cpe{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new lpe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class upe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Y("string"==typeof t.token),this.T=t.token,new QN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function dpe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class XN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=dpe(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function le(n,e){return n<e?-1:n>e?1:0}function qc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class Mt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new P(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new P(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new P(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new P(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Mt(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new Mt(0,0))}static max(){return new Q(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Nh{constructor(e,t,i){void 0===t?t=0:t>e.length&&W(),void 0===i?i=e.length-t:i>e.length-t&&W(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Nh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Fe extends Nh{construct(e,t,i){return new Fe(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new P(M.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Fe(t)}static emptyPath(){return new Fe([])}}const hpe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Nh{construct(e,t,i){return new Kt(e,t,i)}static isValidIdentifier(e){return hpe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new P(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new P(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new P(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new P(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}class L{constructor(e){this.path=e}static fromPath(e){return new L(Fe.fromString(e))}static fromName(e){return new L(Fe.fromString(e).popFirst(5))}static empty(){return new L(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Fe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new Fe(e.slice()))}}function tF(n){return new Ui(n.readTime,n.key,-1)}class Ui{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ui(Q.min(),L.empty(),-1)}static max(){return new Ui(Q.max(),L.empty(),-1)}}function qx(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=L.comparator(n.documentKey,e.documentKey),0!==t?t:le(n.largestBatchId,e.largestBatchId))}const nF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function xs(n){return Ux.apply(this,arguments)}function Ux(){return Ux=g(function*(n){if(n.code!==M.FAILED_PRECONDITION||n.message!==nF)throw n;O("LocalStore","Unexpectedly lost primary lease")}),Ux.apply(this,arguments)}class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new b((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof b?t:b.resolve(t)}catch(t){return b.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):b.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):b.reject(t)}static resolve(e){return new b((t,i)=>{t(e)})}static reject(e){return new b((t,i)=>{i(e)})}static waitFor(e){return new b((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=b.resolve(!1);for(const i of e)t=t.next(r=>r?b.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new b((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new b((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}function Es(n){return"IndexedDbTransactionError"===n.name}let $i=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Vh(n){return null==n}function Bh(n){return 0===n&&1/n==-1/0}function dF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ss(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dt{constructor(e,t){this.comparator=e,this.root=t||On.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,On.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,On.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xg(this.root,e,this.comparator,!1)}getReverseIterator(){return new xg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xg(this.root,e,this.comparator,!0)}}class xg{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class On{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??On.RED,this.left=r??On.EMPTY,this.right=o??On.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new On(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return On.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return On.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,On.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,On.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}}On.EMPTY=null,On.RED=!0,On.BLACK=!1,On.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(n,e,t,i,r){return this}insert(n,e,t){return new On(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pF(this.data.getIterator())}getIteratorFrom(e){return new pF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yt(this.comparator);return t.data=e,t}}class pF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ti{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Ti([])}unionWith(e){let t=new yt(Kt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ti(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class fF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new fF("Invalid base64 string: "+r):r}}(e);return new mn(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new mn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const Vpe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(n){if(Y(!!n),"string"==typeof n){let e=0;const t=Vpe.exec(n);if(Y(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qt(n.seconds),nanos:qt(n.nanos)}}function qt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function jo(n){return"string"==typeof n?mn.fromBase64String(n):mn.fromUint8Array(n)}function Eg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Sg(n){const e=n.mapValue.fields.__previous_value__;return Eg(e)?Sg(e):e}function Hh(n){const e=Ts(n.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}class Bpe{constructor(e,t,i,r,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class $a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}const Ds_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Eg(n)?4:_F(n)?9007199254740991:10:W()}function io(n,e){if(n===e)return!0;const t=Is(n);if(t!==Is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hh(n).isEqual(Hh(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Ts(i.timestampValue),s=Ts(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,jo(n.bytesValue).isEqual(jo(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return qt(i.geoPointValue.latitude)===qt(r.geoPointValue.latitude)&&qt(i.geoPointValue.longitude)===qt(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return qt(i.integerValue)===qt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=qt(i.doubleValue),s=qt(r.doubleValue);return o===s?Bh(o)===Bh(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return qc(n.arrayValue.values||[],e.arrayValue.values||[],io);case 10:return function(i,r){const o=i.mapValue.fields||{},s=r.mapValue.fields||{};if(dF(o)!==dF(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!io(o[a],s[a])))return!1;return!0}(n,e);default:return W()}var r}function jh(n,e){return void 0!==(n.values||[]).find(t=>io(t,e))}function As(n,e){if(n===e)return 0;const t=Is(n),i=Is(e);if(t!==i)return le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return le(n.booleanValue,e.booleanValue);case 2:return function(r,o){const s=qt(r.integerValue||r.doubleValue),a=qt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return mF(n.timestampValue,e.timestampValue);case 4:return mF(Hh(n),Hh(e));case 5:return le(n.stringValue,e.stringValue);case 6:return function(r,o){const s=jo(r),a=jo(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const s=r.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const c=le(s[l],a[l]);if(0!==c)return c}return le(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const s=le(qt(r.latitude),qt(o.latitude));return 0!==s?s:le(qt(r.longitude),qt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const s=r.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const c=As(s[l],a[l]);if(c)return c}return le(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Ds_mapValue&&o===Ds_mapValue)return 0;if(r===Ds_mapValue)return 1;if(o===Ds_mapValue)return-1;const s=r.fields||{},a=Object.keys(s),l=o.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=le(a[u],c[u]);if(0!==d)return d;const h=As(s[a[u]],l[c[u]]);if(0!==h)return h}return le(a.length,c.length)}(n.mapValue,e.mapValue);default:throw W()}}function mF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return le(n,e);const t=Ts(n),i=Ts(e),r=le(t.seconds,i.seconds);return 0!==r?r:le(t.nanos,i.nanos)}function $c(n){return Wx(n)}function Wx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ts(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?jo(n.bytesValue).toBase64():"referenceValue"in n?L.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const s of i.values||[])o?o=!1:r+=",",r+=Wx(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",s=!0;for(const a of r)s?s=!1:o+=",",o+=`${a}:${Wx(i.fields[a])}`;return o+"}"}(n.mapValue):W();var e}function Ga(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Kx(n){return!!n&&"integerValue"in n}function zh(n){return!!n&&"arrayValue"in n}function gF(n){return!!n&&"nullValue"in n}function yF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ig(n){return!!n&&"mapValue"in n}function qh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ss(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=qh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _F(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ig(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qh(t)}setAll(e){let t=Kt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=qh(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Ig(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return io(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Ig(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ss(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Nn(qh(this.value))}}function bF(n){const e=[];return Ss(n.fields,(t,i)=>{const r=new Kt([t]);if(Ig(i)){const o=bF(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new Ti(e)}class _t{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new _t(e,0,Q.min(),Q.min(),Q.min(),Nn.empty(),0)}static newFoundDocument(e,t,i,r){return new _t(e,1,t,Q.min(),i,r,0)}static newNoDocument(e,t){return new _t(e,2,t,Q.min(),Q.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new _t(e,3,t,Q.min(),Q.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rs{constructor(e,t){this.position=e,this.inclusive=t}}function wF(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?L.comparator(L.fromName(s.referenceValue),t.key):As(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function MF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!io(n.position[t],e.position[t]))return!1;return!0}class Gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function zpe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class CF{}class Ie extends CF{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new qpe(e,t,i):"array-contains"===t?new Gpe(e,i):"in"===t?new IF(e,i):"not-in"===t?new Wpe(e,i):"array-contains-any"===t?new Kpe(e,i):new Ie(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Upe(e,i):new $pe(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(As(t,this.value)):null!==t&&Is(this.value)===Is(t)&&this.matchesComparison(As(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class et extends CF{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new et(e,t)}matches(e){return Wc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Wc(n){return"and"===n.op}function Yx(n){return function xF(n){for(const e of n.filters)if(e instanceof et)return!1;return!0}(n)&&Wc(n)}function Qx(n){if(n instanceof Ie)return n.field.canonicalString()+n.op.toString()+$c(n.value);if(Yx(n))return n.filters.map(e=>Qx(e)).join(",");{const e=n.filters.map(t=>Qx(t)).join(",");return`${n.op}(${e})`}}function EF(n,e){return n instanceof Ie?(t=n,(i=e)instanceof Ie&&t.op===i.op&&t.field.isEqual(i.field)&&io(t.value,i.value)):n instanceof et?function(t,i){return i instanceof et&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,s)=>r&&EF(o,i.filters[s]),!0)}(n,e):void W();var t,i}function TF(n){return n instanceof Ie?`${(e=n).field.canonicalString()} ${e.op} ${$c(e.value)}`:n instanceof et?function(e){return e.op.toString()+" {"+e.getFilters().map(TF).join(" ,")+"}"}(n):"Filter";var e}class qpe extends Ie{constructor(e,t,i){super(e,t,i),this.key=L.fromName(i.referenceValue)}matches(e){const t=L.comparator(e.key,this.key);return this.matchesComparison(t)}}class Upe extends Ie{constructor(e,t){super(e,"in",t),this.keys=DF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $pe extends Ie{constructor(e,t){super(e,"not-in",t),this.keys=DF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>L.fromName(i.referenceValue))}class Gpe extends Ie{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zh(t)&&jh(t.arrayValue,this.value)}}class IF extends Ie{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jh(this.value.arrayValue,t)}}class Wpe extends Ie{constructor(e,t){super(e,"not-in",t)}matches(e){if(jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jh(this.value.arrayValue,t)}}class Kpe extends Ie{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>jh(this.value.arrayValue,i))}}class Zpe{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function Xx(n,e=null,t=[],i=[],r=null,o=null,s=null){return new Zpe(n,e,t,i,r,o,s)}function Wa(n){const e=B(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Qx(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>$c(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>$c(i)).join(",")),e.dt=t}return e.dt}function Uh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zpe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!EF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!MF(n.startAt,e.startAt)&&MF(n.endAt,e.endAt)}function Ag(n){return L.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class zo{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.wt=null,this._t=null}}function Kc(n){return new zo(n)}function OF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Jx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Pg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function e4(n){return null!==n.collectionGroup}function Ka(n){const e=B(n);if(null===e.wt){e.wt=[];const t=Pg(e),i=Jx(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Gc(t)),e.wt.push(new Gc(Kt.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Gc(Kt.keyField(),o))}}}return e.wt}function ci(n){const e=B(n);if(!e._t)if("F"===e.limitType)e._t=Xx(e.path,e.collectionGroup,Ka(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Ka(e))t.push(new Gc(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Rs(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Rs(e.startAt.position,e.startAt.inclusive):null;e._t=Xx(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function t4(n,e){e.getFirstInequalityField(),Pg(n);const t=n.filters.concat([e]);return new zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Og(n,e,t){return new zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $h(n,e){return Uh(ci(n),ci(e))&&n.limitType===e.limitType}function NF(n){return`${Wa(ci(n))}|lt:${n.limitType}`}function n4(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>TF(i)).join(", ")}]`),Vh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>$c(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>$c(i)).join(",")),`Target(${t})`}(ci(n))}; limitType=${n.limitType})`}function Gh(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):L.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Ka(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,s){const a=wF(r,o,s);return r.inclusive?a<=0:a<0}(t.startAt,Ka(t),i)||t.endAt&&!function(r,o,s){const a=wF(r,o,s);return r.inclusive?a>=0:a>0}(t.endAt,Ka(t),i)));var t,i}function LF(n){return(e,t)=>{let i=!1;for(const r of Ka(n)){const o=Ype(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Ype(n,e,t){const i=n.field.isKeyField()?L.comparator(e.key,t.key):function(r,o,s){const a=o.data.field(r),l=s.data.field(r);return null!==a&&null!==l?As(a,l):W()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return W()}}class qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return hF(this.inner)}size(){return this.innerSize}}const Qpe=new dt(L.comparator);function Di(){return Qpe}const VF=new dt(L.comparator);function Wh(...n){let e=VF;for(const t of n)e=e.insert(t.key,t);return e}function BF(n){let e=VF;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ro(){return Kh()}function HF(){return Kh()}function Kh(){return new qo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Xpe=new dt(L.comparator),Jpe=new yt(L.comparator);function ke(...n){let e=Jpe;for(const t of n)e=e.add(t);return e}const efe=new yt(le);function jF(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function zF(n){return{integerValue:""+n}}function qF(n,e){return function rF(n){return"number"==typeof n&&Number.isInteger(n)&&!Bh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?zF(e):jF(n,e)}class Ng{constructor(){this._=void 0}}function tfe(n,e,t){return n instanceof Zc?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Eg(r)&&(r=Sg(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Za?$F(n,e):n instanceof Ya?GF(n,e):function(i,r){const o=UF(i,r),s=WF(o)+WF(i.gt);return Kx(o)&&Kx(i.gt)?zF(s):jF(i.serializer,s)}(n,e)}function nfe(n,e,t){return n instanceof Za?$F(n,e):n instanceof Ya?GF(n,e):t}function UF(n,e){return n instanceof Yc?Kx(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Zc extends Ng{}class Za extends Ng{constructor(e){super(),this.elements=e}}function $F(n,e){const t=KF(e);for(const i of n.elements)t.some(r=>io(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ya extends Ng{constructor(e){super(),this.elements=e}}function GF(n,e){let t=KF(e);for(const i of n.elements)t=t.filter(r=>!io(r,i));return{arrayValue:{values:t}}}class Yc extends Ng{constructor(e,t){super(),this.serializer=e,this.gt=t}}function WF(n){return qt(n.integerValue||n.doubleValue)}function KF(n){return zh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rfe{constructor(e,t){this.version=e,this.transformResults=t}}class Ct{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ct}static exists(e){return new Ct(void 0,e)}static updateTime(e){return new Ct(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Lg{}function ZF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Xc(n.key,Ct.none()):new Qc(n.key,n.data,Ct.none());{const t=n.data,i=Nn.empty();let r=new yt(Kt.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Uo(n.key,i,new Ti(r.toArray()),Ct.none())}}function ofe(n,e,t){n instanceof Qc?function(i,r,o){const s=i.value.clone(),a=XF(i.fieldTransforms,r,o.transformResults);s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof Uo?function(i,r,o){if(!Fg(i.precondition,r))return void r.convertToUnknownDocument(o.version);const s=XF(i.fieldTransforms,r,o.transformResults),a=r.data;a.setAll(QF(i)),a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Yh(n,e,t,i){return n instanceof Qc?function(r,o,s,a){if(!Fg(r.precondition,o))return s;const l=r.value.clone(),c=JF(r.fieldTransforms,a,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,i):n instanceof Uo?function(r,o,s,a){if(!Fg(r.precondition,o))return s;const l=JF(r.fieldTransforms,a,o),c=o.data;return c.setAll(QF(r)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,e,t,i):(s=t,Fg(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function sfe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=UF(i.transform,r||null);null!=o&&(null===t&&(t=Nn.empty()),t.set(i.field,o))}return t||null}function YF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&qc(t,i,(r,o)=>function ife(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Za&&i instanceof Za||t instanceof Ya&&i instanceof Ya?qc(t.elements,i.elements,io):t instanceof Yc&&i instanceof Yc?io(t.gt,i.gt):t instanceof Zc&&i instanceof Zc);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Qc extends Lg{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Uo extends Lg{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function XF(n,e,t){const i=new Map;Y(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,nfe(s,a,t[r]))}return i}function JF(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,tfe(o,s,e))}return i}class Xc extends Lg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o4 extends Lg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class s4{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&ofe(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Yh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Yh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=HF();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const l=ZF(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(Q.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&qc(this.mutations,e.mutations,(t,i)=>YF(t,i))&&qc(this.baseMutations,e.baseMutations,(t,i)=>YF(t,i))}}class a4{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Y(e.mutations.length===i.length);let r=Xpe;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new a4(e,t,i,r)}}class l4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lfe{constructor(e,t){this.count=e,this.unchangedNames=t}}var nn,Le;function eL(n){switch(n){default:return W();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function tL(n){if(void 0===n)return Wt("GRPC error has no .code"),M.UNKNOWN;switch(n){case nn.OK:return M.OK;case nn.CANCELLED:return M.CANCELLED;case nn.UNKNOWN:return M.UNKNOWN;case nn.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case nn.INTERNAL:return M.INTERNAL;case nn.UNAVAILABLE:return M.UNAVAILABLE;case nn.UNAUTHENTICATED:return M.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case nn.NOT_FOUND:return M.NOT_FOUND;case nn.ALREADY_EXISTS:return M.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return M.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case nn.ABORTED:return M.ABORTED;case nn.OUT_OF_RANGE:return M.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return M.UNIMPLEMENTED;case nn.DATA_LOSS:return M.DATA_LOSS;default:return W()}}(Le=nn||(nn={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";class c4{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Vg}static getOrCreateInstance(){return null===Vg&&(Vg=new c4),Vg}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Vg=null;const cfe=new jc([4294967295,4294967295],0);function iL(n){const e=function nL(){return new TextEncoder}().encode(n),t=new rpe;return t.update(e),new Uint8Array(t.digest())}function rL(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new jc([t,i],0),new jc([r,o],0)]}class u4{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Qh(`Invalid padding: ${t}`);if(i<0)throw new Qh(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Qh(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Qh(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=jc.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(jc.fromNumber(i)));return 1===r.compare(cfe)&&(r=new jc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=iL(e),[i,r]=rL(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);if(!this.At(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new u4(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=iL(e),[i,r]=rL(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Qh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xh{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Jh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Xh(Q.min(),r,new dt(le),Di(),ke())}}class Jh{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Jh(i,t,ke(),ke(),ke())}}class Bg{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class oL{constructor(e,t){this.targetId=e,this.Vt=t}}class sL{constructor(e,t,i=mn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class aL{constructor(){this.St=0,this.Dt=cL(),this.Ct=mn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ke(),t=ke(),i=ke();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:W()}}),new Jh(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=cL()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ufe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Di(),this.zt=lL(),this.Wt=new dt(le)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:W()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const s=o.target;if(Ag(s))if(0===r){const a=new L(s.path);this.Yt(i,a,_t.newNoDocument(a,Q.min()))}else Y(1===r);else{const a=this.ie(i);if(a!==r){const l=this.re(e,a);0!==l&&(this.ee(i),this.Wt=this.Wt.insert(i,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=c4.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,u,d){var h,p,f,m,y,k;const w={localCacheCount:u,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(w.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(f=null===(p=v?.bits)||void 0===p?void 0:p.bitmap)||void 0===f?void 0:f.length)&&void 0!==m?m:0,padding:null!==(k=null===(y=v?.bits)||void 0===y?void 0:y.padding)&&void 0!==k?k:0}),w}(l,a,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=i;let l,c;try{l=jo(o).toUint8Array()}catch(u){if(u instanceof fF)return Ar("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new u4(l,s,a)}catch(u){return Ar(u instanceof Qh?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.It?1:r!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&Ag(a.target)){const l=new L(a.target.path);null!==this.jt.get(l)||this.ae(s,l)||this.Yt(s,l,_t.newNoDocument(l,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let i=ke();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.se(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const r=new Xh(e,t,this.Wt,this.jt,i);return this.jt=Di(),this.zt=lL(),this.Wt=new dt(le),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new aL,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new yt(le),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||O("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new aL),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function lL(){return new dt(L.comparator)}function cL(){return new dt(L.comparator)}const dfe={asc:"ASCENDING",desc:"DESCENDING"},hfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pfe={and:"AND",or:"OR"};class ffe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function d4(n,e){return n.useProto3Json||Vh(e)?e:{value:e}}function Jc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mfe(n,e){return Jc(n,e.toTimestamp())}function Zt(n){return Y(!!n),Q.fromTimestamp(function(e){const t=Ts(e);return new Mt(t.seconds,t.nanos)}(n))}function h4(n,e){return(t=n,new Fe(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function dL(n){const e=Fe.fromString(n);return Y(kL(e)),e}function ep(n,e){return h4(n.databaseId,e.path)}function oo(n,e){const t=dL(e);if(t.get(1)!==n.databaseId.projectId)throw new P(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new P(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new L(pL(t))}function p4(n,e){return h4(n.databaseId,e)}function tp(n){return new Fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pL(n){return Y(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fL(n,e,t){return{name:ep(n,e),fields:t.value.mapValue.fields}}function gL(n,e){return{documents:[p4(n,e.path)]}}function m4(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=p4(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=p4(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return vL(et.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:Ps((u=c).field),direction:kfe(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=d4(n,e.limit);var a,l;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function yL(n){let e=function hL(n){const e=dL(n);return 4===e.length?Fe.emptyPath():pL(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Y(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=_L(u);return d instanceof et&&Yx(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new Gc(eu((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Vh(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new Rs((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new Rs(u.values||[],!u.before)}(t.endAt)),function PF(n,e,t,i,r,o,s,a){return new zo(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",l,c)}function _L(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=eu(e.unaryFilter.field);return Ie.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=eu(e.unaryFilter.field);return Ie.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=eu(e.unaryFilter.field);return Ie.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=eu(e.unaryFilter.field);return Ie.create(o,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(n):void 0!==n.fieldFilter?Ie.create(eu((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return et.create(e.compositeFilter.filters.map(t=>_L(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return W()}}(e.compositeFilter.op))}(n):W();var e}function kfe(n){return dfe[n]}function bfe(n){return hfe[n]}function wfe(n){return pfe[n]}function Ps(n){return{fieldPath:n.canonicalString()}}function eu(n){return Kt.fromServerFormat(n.fieldPath)}function vL(n){return n instanceof Ie?function(e){if("=="===e.op){if(yF(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NAN"}};if(gF(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yF(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NOT_NAN"}};if(gF(e.value))return{unaryFilter:{field:Ps(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(e.field),op:bfe(e.op),value:e.value}}}(n):n instanceof et?function(e){const t=e.getFilters().map(i=>vL(i));return 1===t.length?t[0]:{compositeFilter:{op:wfe(e.op),filters:t}}}(n):W()}function Mfe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class $o{constructor(e,t,i,r,o=Q.min(),s=Q.min(),a=mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new $o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bL{constructor(e){this.fe=e}}function g4(n){const e=yL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Og(e,e.limit,"L"):e}class el{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(qt(e.integerValue));else if("doubleValue"in e){const i=qt(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Bh(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(jo(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?_F(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):W()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),L.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}el.Ve=new el;class Rfe{constructor(){this.rn=new w4}addToCollectionParentIndex(e,t){return this.rn.add(t),b.resolve()}getCollectionParents(e,t){return b.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return b.resolve()}deleteFieldIndex(e,t){return b.resolve()}getDocumentsMatchingTarget(e,t){return b.resolve(null)}getIndexType(e,t){return b.resolve(0)}getFieldIndexes(e,t){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,t){return b.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,t){return b.resolve(Ui.min())}updateCollectionGroup(e,t,i){return b.resolve()}updateIndexEntries(e,t){return b.resolve()}}class w4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new yt(Fe.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new yt(Fe.comparator)).toArray()}}new Uint8Array(0);class Wn{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(41943040,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);class nl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new nl(0)}static Mn(){return new nl(-1)}}class jfe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class WL{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Yh(i.mutation,r,Ti.empty(),Mt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ke()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ke()){const r=ro();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Wh();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=ro();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ke()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Di();const s=Kh(),a=Kh();return t.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Uo)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),Yh(u.mutation,c,u.mutation.getFieldMask(),Mt.now())):s.set(c.key,Ti.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new jfe(u,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Kh();let r=new dt((s,a)=>s-a),o=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=i.get(l)||Ti.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||ke()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=HF();u.forEach(h=>{if(!o.has(h)){const p=ZF(t.get(h),i.get(h));null!==p&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return b.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return L.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):e4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):b.resolve(ro());let a=-1,l=o;return s.next(c=>b.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ke())).next(u=>({batchId:a,changes:BF(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new L(t)).next(i=>{let r=Wh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=Wh();return this.indexManager.getCollectionParents(e,r).next(s=>b.forEach(s,a=>{const l=(c=t,u=a.child(r),new zo(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((a,l)=>{const c=l.getKey();null===o.get(c)&&(o=o.insert(c,_t.newInvalidDocument(c)))});let s=Wh();return o.forEach((a,l)=>{const c=r.get(a);void 0!==c&&Yh(c.mutation,l,Ti.empty(),Mt.now()),Gh(t,l)&&(s=s.insert(a,l))}),s})}}class zfe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return b.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Zt(i.createTime)}),b.resolve()}getNamedQuery(e,t){return b.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:g4(i.bundledQuery),readTime:Zt(i.readTime)}),b.resolve();var i}}class qfe{constructor(){this.overlays=new dt(L.comparator),this.ls=new Map}getOverlay(e,t){return b.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ro();return b.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),b.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),b.resolve()}getOverlaysForCollection(e,t,i){const r=ro(),o=t.length+1,s=new L(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return b.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new dt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=o.get(c.largestBatchId);null===u&&(u=ro(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ro(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return b.resolve(a)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new l4(t,i));let o=this.ls.get(t);void 0===o&&(o=ke(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class M4{constructor(){this.fs=new yt(Cn.ds),this.ws=new yt(Cn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Cn(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Cn(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new L(new Fe([])),i=new Cn(t,e),r=new Cn(t,e+1),o=[];return this.ws.forEachInRange([i,r],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new L(new Fe([])),i=new Cn(t,e),r=new Cn(t,e+1);let o=ke();return this.ws.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Cn(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Cn{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return L.comparator(e.key,t.key)||le(e.As,t.As)}static _s(e,t){return le(e.As,t.As)||L.comparator(e.key,t.key)}}class Ufe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new yt(Cn.ds)}checkEmpty(e){return b.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const s=new s4(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new Cn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(s)}lookupMutationBatch(e,t){return b.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return b.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Cn(t,0),r=new Cn(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],s=>{const a=this.Ps(s.As);o.push(a)}),b.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new yt(le);return t.forEach(r=>{const o=new Cn(r,0),s=new Cn(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{i=i.add(a.As)})}),b.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;L.isDocumentKey(o)||(o=o.child(""));const s=new Cn(new L(o),0);let a=new yt(le);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.As)),!0)},s),b.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Y(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return b.forEach(t.mutations,r=>{const o=new Cn(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Cn(t,0),r=this.Rs.firstAfterOrEqual(i);return b.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return b.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $fe{constructor(e){this.Ds=e,this.docs=new dt(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return b.resolve(i?i.document.mutableCopy():_t.newInvalidDocument(t))}getEntries(e,t){let i=Di();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():_t.newInvalidDocument(r))}),b.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Di();const s=t.path,a=new L(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||qx(tF(u),i)<=0||(r.has(u.key)||Gh(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return b.resolve(o)}getAllFromCollectionGroup(e,t,i,r){W()}Cs(e,t){return b.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Gfe(this)}getSize(e){return b.resolve(this.size)}}class Gfe extends class Vfe{constructor(){this.changes=new qo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?b.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),b.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Wfe{constructor(e){this.persistence=e,this.xs=new qo(t=>Wa(t),Uh),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Ns=0,this.ks=new M4,this.targetCount=0,this.Ms=nl.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),b.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new nl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,b.resolve()}updateTargetData(e,t){return this.Fn(t),b.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),b.waitFor(o).next(()=>r)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return b.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),b.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),b.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),b.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return b.resolve(i)}containsKey(e,t){return b.resolve(this.ks.containsKey(t))}}class C4{constructor(e,t){this.$s={},this.overlays={},this.Os=new $i(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wfe(this),this.indexManager=new Rfe,this.remoteDocumentCache=new $fe(i=>this.referenceDelegate.Ls(i)),this.serializer=new bL(t),this.qs=new zfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qfe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new Ufe(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){O("MemoryPersistence","Starting transaction:",e);const r=new Kfe(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return b.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class Kfe extends class mpe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Qs=new M4,this.js=null}static zs(e){return new Kg(e)}get Ws(){if(this.js)return this.js;throw W()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),b.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),b.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),b.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Ws,i=>{const r=L.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,Q.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return b.or([()=>b.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class T4{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=ke(),r=ke();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new T4(e,t.fromCache,i,r)}}class ZL{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(OF(t))return b.resolve(null);let i=ci(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Og(t,null,"F"),i=ci(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=ke(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.ji(t,a);return this.zi(t,c,s,l.readTime)?this.Ki(e,Og(t,null,"F")):this.Wi(e,c,t,l)}))})))}Gi(e,t,i,r){return OF(t)||r.isEqual(Q.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const s=this.ji(t,o);return this.zi(t,s,i,r)?this.Qi(e,t):(Hx()<=Pe.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),n4(t)),this.Wi(e,s,t,function eF(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Q.fromTimestamp(1e9===i?new Mt(t+1,0):new Mt(t,i));return new Ui(r,L.empty(),e)}(r,-1)))})}ji(e,t){let i=new yt(LF(e));return t.forEach((r,o)=>{Gh(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return Hx()<=Pe.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",n4(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ui.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Yfe{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new dt(le),this.Yi=new qo(o=>Wa(o),Uh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WL(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function QL(n,e){return D4.apply(this,arguments)}function D4(){return D4=g(function*(n,e){const t=B(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=ke();for(const c of r){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}),D4.apply(this,arguments)}function Qfe(n,e){const t=B(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,c){const u=l.batch,d=u.keys();let h=b.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(a,p)).next(f=>{const m=l.docVersions.get(p);Y(null!==m),f.version.compareTo(m)<0&&(u.applyToRemoteDocument(f,l),f.isValidDocument()&&(f.setReadTime(l.commitVersion),c.addEntry(f)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let a=ke();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function XL(n){const e=B(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Xfe(n,e){const t=B(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(o,u.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);var f,m,y;null!==e.targetMismatches.get(d)?p=p.withResumeToken(mn.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,i)),r=r.insert(d,p),m=p,y=u,(0===(f=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,p))});let l=Di(),c=ke();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function JL(n,e,t){let i=ke(),r=ke();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Di();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):O("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:s,sr:r}})}(o,s,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!i.isEqual(Q.min())){const u=t.Bs.getLastRemoteSnapshotVersion(o).next(d=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return b.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.Ji=r,o))}function Jfe(n,e){const t=B(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function iu(n,e){const t=B(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,b.resolve(r)):t.Bs.allocateTargetId(i).next(s=>(r=new $o(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function ru(n,e,t){return I4.apply(this,arguments)}function I4(){return I4=g(function*(n,e,t){const i=B(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Es(s))throw s;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),I4.apply(this,arguments)}function Qg(n,e,t){const i=B(n);let r=Q.min(),o=ke();return i.persistence.runTransaction("Execute query","readonly",s=>function(a,l,c){const u=B(a),d=u.Yi.get(c);return void 0!==d?b.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(i,s,ci(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(s,e,t?r:Q.min(),t?o:ke())).next(a=>(function nV(n,e,t){let i=n.Xi.get(e)||Q.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}(i,function FF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class N4{constructor(){this.activeTargetIds=function r4(){return efe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oV{constructor(){this.Hr=new N4,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new N4,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class n1e{Yr(e){}shutdown(){}}class sV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ey=null;function L4(){return null===ey?ey=268435456+Math.round(2147483648*Math.random()):ey++,"0x"+ey.toString(16)}const i1e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r1e{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Kn="WebChannelConnection";class o1e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const s=L4(),a=this.To(e,t);O("RestConnection",`Sending RPC '${e}' ${s}:`,a,i);const l={};return this.Eo(l,r,o),this.Ao(e,a,l,i).then(c=>(O("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw Ar("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",i),c})}vo(e,t,i,r,o,s){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+zc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${i1e[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=L4();return new Promise((s,a)=>{const l=new ipe;l.setWithCredentials(!0),l.listenOnce(epe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Bx.NO_ERROR:const u=l.getResponseJson();O(Kn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case Bx.TIMEOUT:O(Kn,`RPC '${e}' ${o} timed out`),a(new P(M.DEADLINE_EXCEEDED,"Request time out"));break;case Bx.HTTP_ERROR:const d=l.getStatus();if(O(Kn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h?.error;if(p&&p.status&&p.message){const f=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(y)>=0?y:M.UNKNOWN}(p.status);a(new P(f,p.message))}else a(new P(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new P(M.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{O(Kn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(r);O(Kn,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",c,i,15)})}Ro(e,t,i){const r=L4(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Xhe(),a=Jhe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new npe({})),this.Eo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const u=o.join("");O(Kn,`Creating RPC '${e}' stream ${r}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,p=!1;const f=new r1e({ro:y=>{p?O(Kn,`Not sending because RPC '${e}' stream ${r} is closed:`,y):(h||(O(Kn,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),O(Kn,`RPC '${e}' stream ${r} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,k,w)=>{y.listen(k,v=>{try{w(v)}catch(E){setTimeout(()=>{throw E},0)}})};return m(d,kg.EventType.OPEN,()=>{p||O(Kn,`RPC '${e}' stream ${r} transport opened.`)}),m(d,kg.EventType.CLOSE,()=>{p||(p=!0,O(Kn,`RPC '${e}' stream ${r} transport closed`),f.wo())}),m(d,kg.EventType.ERROR,y=>{p||(p=!0,Ar(Kn,`RPC '${e}' stream ${r} transport errored:`,y),f.wo(new P(M.UNAVAILABLE,"The operation could not be completed")))}),m(d,kg.EventType.MESSAGE,y=>{var k;if(!p){const w=y.data[0];Y(!!w);const v=w,E=v.error||(null===(k=v[0])||void 0===k?void 0:k.error);if(E){O(Kn,`RPC '${e}' stream ${r} received error:`,E);const H=E.status;let q=function(tt){const xt=nn[tt];if(void 0!==xt)return tL(xt)}(H),de=E.message;void 0===q&&(q=M.INTERNAL,de="Unknown error status: "+H+" with message "+E.message),p=!0,f.wo(new P(q,de)),d.close()}else O(Kn,`RPC '${e}' stream ${r} received:`,w),f._o(w)}}),m(a,tpe.STAT_EVENT,y=>{y.stat===KN.PROXY?O(Kn,`RPC '${e}' stream ${r} detected buffering proxy`):y.stat===KN.NOPROXY&&O(Kn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.fo()},0),f}}function ty(){return typeof document<"u"?document:null}function dp(n){return new ffe(n,!0)}class V4{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&O("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class lV{constructor(e,t,i,r,o,s,a,l){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new V4(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return g(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(Wt(t.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===M.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new P(M.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s1e extends lV{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function yfe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:W(),r=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(Y(void 0===c||"string"==typeof c),mn.fromBase64String(c||"")):(Y(void 0===c||c instanceof Uint8Array),mn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=void 0===l.code?M.UNKNOWN:tL(l.code);return new P(c,l.message||"")}(s);t=new sL(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=oo(n,i.document.name),o=Zt(i.document.updateTime),s=i.document.createTime?Zt(i.document.createTime):Q.min(),a=new Nn({mapValue:{fields:i.document.fields}}),l=_t.newFoundDocument(r,o,s,a);t=new Bg(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=oo(n,i.document),o=i.readTime?Zt(i.readTime):Q.min(),s=_t.newNoDocument(r,o);t=new Bg([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=oo(n,i.document);t=new Bg([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return W();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new lfe(r,o);t=new oL(i.targetId,s)}}var l;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Q.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?Zt(o.readTime):Q.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=tp(this.serializer),t.addTarget=function(r,o){let s;const a=o.target;if(s=Ag(a)?{documents:gL(r,a)}:{query:m4(r,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=uL(r,o.resumeToken);const l=d4(r,o.expectedCount);null!==l&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(Q.min())>0){s.readTime=Jc(r,o.snapshotVersion.toTimestamp());const l=d4(r,o.expectedCount);null!==l&&(s.expectedCount=l)}return s}(this.serializer,e);const i=function vfe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=tp(this.serializer),t.removeTarget=e,this.Wo(t)}}class a1e extends lV{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function _fe(n,e){return n&&n.length>0?(Y(void 0!==e),n.map(t=>function(i,r){let o=Zt(i.updateTime?i.updateTime:r);return o.isEqual(Q.min())&&(o=Zt(r)),new rfe(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Zt(e.commitTime);return this.listener.cu(i,t)}return Y(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=tp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function np(n,e){let t;if(e instanceof Qc)t={update:fL(n,e.key,e.value)};else if(e instanceof Xc)t={delete:ep(n,e.key)};else if(e instanceof Uo)t={update:fL(n,e.key,e.data),updateMask:Mfe(e.fieldMask)};else{if(!(e instanceof o4))return W();t={verify:ep(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const s=o.transform;if(s instanceof Zc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Za)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ya)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Yc)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw W()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:mfe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:W()),t;var r}(this.serializer,i))};this.Wo(t)}}class l1e extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new P(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new P(M.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new P(M.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class u1e{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Wt(t),this.mu=!1):O("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class d1e{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{i.enqueueAndForget(g(function*(){var l;Ls(s)&&(O("RemoteStore","Restarting streams for network reachability change."),yield(l=g(function*(c){const u=B(c);u.vu.add(4),yield ou(u),u.bu.set("Unknown"),u.vu.delete(4),yield hp(u)}),function(c){return l.apply(this,arguments)})(s))}))}),this.bu=new u1e(i,r)}}function hp(n){return H4.apply(this,arguments)}function H4(){return H4=g(function*(n){if(Ls(n))for(const e of n.Ru)yield e(!0)}),H4.apply(this,arguments)}function ou(n){return j4.apply(this,arguments)}function j4(){return j4=g(function*(n){for(const e of n.Ru)yield e(!1)}),j4.apply(this,arguments)}function ny(n,e){const t=B(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),U4(t)?q4(t):au(t).Ko()&&z4(t,e))}function pp(n,e){const t=B(n),i=au(t);t.Au.delete(e),i.Ko()&&cV(t,e),0===t.Au.size&&(i.Ko()?i.jo():Ls(t)&&t.bu.set("Unknown"))}function z4(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}au(n).su(e)}function cV(n,e){n.Vu.qt(e),au(n).iu(e)}function q4(n){n.Vu=new ufe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),au(n).start(),n.bu.gu()}function U4(n){return Ls(n)&&!au(n).Uo()&&n.Au.size>0}function Ls(n){return 0===B(n).vu.size}function uV(n){n.Vu=void 0}function h1e(n){return $4.apply(this,arguments)}function $4(){return $4=g(function*(n){n.Au.forEach((e,t)=>{z4(n,e)})}),$4.apply(this,arguments)}function p1e(n,e){return G4.apply(this,arguments)}function G4(){return G4=g(function*(n,e){uV(n),U4(n)?(n.bu.Iu(e),q4(n)):n.bu.set("Unknown")}),G4.apply(this,arguments)}function f1e(n,e,t){return W4.apply(this,arguments)}function W4(){return W4=g(function*(n,e,t){if(n.bu.set("Online"),e instanceof sL&&2===e.state&&e.cause)try{yield(i=g(function*(r,o){const s=o.cause;for(const a of o.targetIds)r.Au.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.Au.delete(a),r.Vu.removeTarget(a))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield iy(n,i)}else if(e instanceof Bg?n.Vu.Ht(e):e instanceof oL?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Q.min()))try{const i=yield XL(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const s=r.Vu.ce(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Au.get(l);c&&r.Au.set(l,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const c=r.Au.get(a);if(!c)return;r.Au.set(a,c.withResumeToken(mn.EMPTY_BYTE_STRING,c.snapshotVersion)),cV(r,a);const u=new $o(c.target,a,l,c.sequenceNumber);z4(r,u)}),r.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(i){O("RemoteStore","Failed to raise snapshot:",i),yield iy(n,i)}var i}),W4.apply(this,arguments)}function iy(n,e,t){return K4.apply(this,arguments)}function K4(){return K4=g(function*(n,e,t){if(!Es(e))throw e;n.vu.add(1),yield ou(n),n.bu.set("Offline"),t||(t=()=>XL(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){O("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield hp(n)}))}),K4.apply(this,arguments)}function dV(n,e){return e().catch(t=>iy(n,t,e))}function su(n){return Z4.apply(this,arguments)}function Z4(){return Z4=g(function*(n){const e=B(n),t=Vs(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;m1e(e);)try{const r=yield Jfe(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,g1e(e,r)}catch(r){yield iy(e,r)}hV(e)&&pV(e)}),Z4.apply(this,arguments)}function m1e(n){return Ls(n)&&n.Eu.length<10}function g1e(n,e){n.Eu.push(e);const t=Vs(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function hV(n){return Ls(n)&&!Vs(n).Uo()&&n.Eu.length>0}function pV(n){Vs(n).start()}function y1e(n){return Y4.apply(this,arguments)}function Y4(){return Y4=g(function*(n){Vs(n).hu()}),Y4.apply(this,arguments)}function _1e(n){return Q4.apply(this,arguments)}function Q4(){return Q4=g(function*(n){const e=Vs(n);for(const t of n.Eu)e.uu(t.mutations)}),Q4.apply(this,arguments)}function v1e(n,e,t){return X4.apply(this,arguments)}function X4(){return X4=g(function*(n,e,t){const i=n.Eu.shift(),r=a4.from(i,e,t);yield dV(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield su(n)}),X4.apply(this,arguments)}function k1e(n,e){return J4.apply(this,arguments)}function J4(){return J4=g(function*(n,e){var t;e&&Vs(n).ou&&(yield(t=g(function*(i,r){if(eL(o=r.code)&&o!==M.ABORTED){const s=i.Eu.shift();Vs(i).Qo(),yield dV(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield su(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),hV(n)&&pV(n)}),J4.apply(this,arguments)}function fV(n,e){return eE.apply(this,arguments)}function eE(){return eE=g(function*(n,e){const t=B(n);t.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const i=Ls(t);t.vu.add(3),yield ou(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield hp(t)}),eE.apply(this,arguments)}function nE(){return nE=g(function*(n,e){const t=B(n);e?(t.vu.delete(2),yield hp(t)):e||(t.vu.add(2),yield ou(t),t.bu.set("Unknown"))}),nE.apply(this,arguments)}function au(n){return n.Su||(n.Su=function(e,t,i){const r=B(e);return r.fu(),new s1e(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:h1e.bind(null,n),ao:p1e.bind(null,n),nu:f1e.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Su.Qo(),U4(n)?q4(n):n.bu.set("Unknown")):(yield n.Su.stop(),uV(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Vs(n){return n.Du||(n.Du=function(e,t,i){const r=B(e);return r.fu(),new a1e(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:y1e.bind(null,n),ao:k1e.bind(null,n),au:_1e.bind(null,n),cu:v1e.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Du.Qo(),yield su(n)):(yield n.Du.stop(),n.Eu.length>0&&(O("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class iE{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new iE(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new P(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lu(n,e){if(Wt("AsyncQueue",`${e}: ${n}`),Es(n))return new P(M.UNAVAILABLE,`${e}: ${n}`);throw n}class cu{constructor(e){this.comparator=e?(t,i)=>e(t,i)||L.comparator(t.key,i.key):(t,i)=>L.comparator(t.key,i.key),this.keyedMap=Wh(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new cu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new cu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class mV{constructor(){this.Cu=new dt(L.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):W():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class uu{constructor(e,t,i,r,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new uu(e,t,cu.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class b1e{constructor(){this.Nu=void 0,this.listeners=[]}}class w1e{constructor(){this.queries=new qo(e=>NF(e),$h),this.onlineState="Unknown",this.ku=new Set}}function oE(){return oE=g(function*(n,e){const t=B(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new b1e),r)try{o.Nu=yield t.onListen(i)}catch(s){const a=lu(s,`Initialization of query '${n4(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&lE(t)}),oE.apply(this,arguments)}function aE(){return aE=g(function*(n,e){const t=B(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),aE.apply(this,arguments)}function M1e(n,e){const t=B(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.$u(r)&&(i=!0);s.Nu=r}}i&&lE(t)}function C1e(n,e,t){const i=B(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function lE(n){n.ku.forEach(e=>{e.next()})}class cE{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new uu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class _V{constructor(e){this.key=e}}class vV{constructor(e){this.key=e}}class kV{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ke(),this.mutatedKeys=ke(),this.tc=LF(e),this.ec=new cu(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new mV,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),p=Gh(this.query,d)?d:null,f=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?f!==m&&(i.track({type:3,doc:p}),y=!0):this.rc(h,p)||(i.track({type:2,doc:p}),y=!0,(l&&this.tc(p,l)>0||c&&this.tc(p,c)<0)&&(a=!0)):!h&&p?(i.track({type:0,doc:p}),y=!0):h&&!p&&(i.track({type:1,doc:h}),y=!0,(l||c)&&(a=!0)),y&&(p?(s=s.add(p),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{ec:s,ic:i,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,u)=>function(d,h){const p=f=>{switch(f){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return p(d)-p(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(i);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,0!==o.length||l?{snapshot:new uu(this.query,e.ec,r,o,e.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new mV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ke(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new vV(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new _V(i))}),t}hc(e){this.Yu=e.ir,this.Zu=ke();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return uu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class S1e{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class T1e{constructor(e){this.key=e,this.fc=!1}}class D1e{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new qo(a=>NF(a),$h),this._c=new Map,this.mc=new Set,this.gc=new dt(L.comparator),this.yc=new Map,this.Ic=new M4,this.Tc={},this.Ec=new Map,this.Ac=nl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function I1e(n,e){return uE.apply(this,arguments)}function uE(){return uE=g(function*(n,e){const t=PE(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const s=yield iu(t.localStore,ci(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield dE(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&ny(t.remoteStore,s)}return r}),uE.apply(this,arguments)}function dE(n,e,t,i,r){return hE.apply(this,arguments)}function hE(){return hE=g(function*(n,e,t,i,r){n.Rc=(d,h,p)=>{return(f=g(function*(m,y,k,w){let v=y.view.sc(k);v.zi&&(v=yield Qg(m.localStore,y.query,!1).then(({documents:q})=>y.view.sc(q,v)));const E=w&&w.targetChanges.get(y.targetId),H=y.view.applyChanges(v,m.isPrimaryClient,E);return wE(m,y.targetId,H.cc),H.snapshot}),function(m,y,k,w){return f.apply(this,arguments)})(n,d,h,p);var f};const o=yield Qg(n.localStore,e,!0),s=new kV(e,o.ir),a=s.sc(o.documents),l=Jh.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);wE(n,t,c.cc);const u=new S1e(e,t,s);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),hE.apply(this,arguments)}function A1e(n,e){return pE.apply(this,arguments)}function pE(){return pE=g(function*(n,e){const t=B(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!$h(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ru(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),pp(t.remoteStore,i.targetId),du(t,i.targetId)}).catch(xs))):(du(t,i.targetId),yield ru(t.localStore,i.targetId,!0))}),pE.apply(this,arguments)}function fE(){return fE=g(function*(n,e,t){const i=OE(n);try{const r=yield function(o,s){const a=B(o),l=Mt.now(),c=s.reduce((h,p)=>h.add(p.key),ke());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Di(),f=ke();return a.Zi.getEntries(h,c).next(m=>{p=m,p.forEach((y,k)=>{k.isValidDocument()||(f=f.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(m=>{u=m;const y=[];for(const k of s){const w=sfe(k,u.get(k.key).overlayedDocument);null!=w&&y.push(new Uo(k.key,w,bF(w.value.mapValue),Ct.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,y,s)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(u,f);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:BF(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,s,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new dt(le)),l=l.insert(s,a),o.Tc[o.currentUser.toKey()]=l}(i,r.batchId,t),yield Go(i,r.changes),yield su(i.remoteStore)}catch(r){const o=lu(r,"Failed to persist write");t.reject(o)}}),fE.apply(this,arguments)}function bV(n,e){return mE.apply(this,arguments)}function mE(){return mE=g(function*(n,e){const t=B(n);try{const i=yield Xfe(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.yc.get(o);s&&(Y(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.fc=!0:r.modifiedDocuments.size>0?Y(s.fc):r.removedDocuments.size>0&&(Y(s.fc),s.fc=!1))}),yield Go(t,i,e)}catch(i){yield xs(i)}}),mE.apply(this,arguments)}function wV(n,e,t){const i=B(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(o,s){const a=B(o);a.onlineState=s;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(s)&&(l=!0)}),l&&lE(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function P1e(n,e,t){return gE.apply(this,arguments)}function gE(){return gE=g(function*(n,e,t){const i=B(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let s=new dt(L.comparator);s=s.insert(o,_t.newNoDocument(o,Q.min()));const a=ke().add(o),l=new Xh(Q.min(),new Map,new dt(le),s,a);yield bV(i,l),i.gc=i.gc.remove(o),i.yc.delete(e),ME(i)}else yield ru(i.localStore,e,!1).then(()=>du(i,e,t)).catch(xs)}),gE.apply(this,arguments)}function O1e(n,e){return yE.apply(this,arguments)}function yE(){return yE=g(function*(n,e){const t=B(n),i=e.batch.batchId;try{const r=yield Qfe(t.localStore,e);bE(t,i,null),kE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Go(t,r)}catch(r){yield xs(r)}}),yE.apply(this,arguments)}function N1e(n,e,t){return _E.apply(this,arguments)}function _E(){return _E=g(function*(n,e,t){const i=B(n);try{const r=yield function(o,s){const a=B(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,s).next(u=>(Y(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);bE(i,e,t),kE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Go(i,r)}catch(r){yield xs(r)}}),_E.apply(this,arguments)}function kE(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function bE(n,e,t){const i=B(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function du(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||MV(n,i)})}function MV(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(pp(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),ME(n))}function wE(n,e,t){for(const i of t)i instanceof _V?(n.Ic.addReference(i.key,e),L1e(n,i)):i instanceof vV?(O("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||MV(n,i.key)):W()}function L1e(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(O("SyncEngine","New document in limbo: "+t),n.mc.add(i),ME(n))}function ME(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new L(Fe.fromString(e)),i=n.Ac.next();n.yc.set(i,new T1e(t)),n.gc=n.gc.insert(t,i),ny(n.remoteStore,new $o(ci(Kc(t.path)),i,"TargetPurposeLimboResolution",$i.ct))}}function Go(n,e,t){return CE.apply(this,arguments)}function CE(){return CE=g(function*(n,e,t){const i=B(n),r=[],o=[],s=[];var a;i.wc.isEmpty()||(i.wc.forEach((a,l)=>{s.push(i.Rc(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=T4.Li(l.targetId,c);o.push(u)}}))}),yield Promise.all(s),i.dc.nu(r),yield(a=g(function*(l,c){const u=B(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(c,h=>b.forEach(h.Fi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>b.forEach(h.Bi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Es(d))throw d;O("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.Ji.get(h),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);u.Ji=u.Ji.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(i.localStore,o))}),CE.apply(this,arguments)}function V1e(n,e){return xE.apply(this,arguments)}function xE(){return xE=g(function*(n,e){const t=B(n);if(!t.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());const i=yield QL(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new P(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Go(t,i.er)}var r}),xE.apply(this,arguments)}function B1e(n,e){const t=B(n),i=t.yc.get(e);if(i&&i.fc)return ke().add(i.key);{let r=ke();const o=t._c.get(e);if(!o)return r;for(const s of o){const a=t.wc.get(s);r=r.unionWith(a.view.nc)}return r}}function PE(n){const e=B(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B1e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P1e.bind(null,e),e.dc.nu=M1e.bind(null,e.eventManager),e.dc.Pc=C1e.bind(null,e.eventManager),e}function OE(n){const e=B(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O1e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N1e.bind(null,e),e}class ry{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.serializer=dp(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function YL(n,e,t,i){return new Yfe(n,e,t,i)}(this.persistence,new ZL,e.initialUser,this.serializer)}createPersistence(e){return new C4(Kg.zs,this.serializer)}createSharedClientState(e){return new oV}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hu{initialize(e,t){var i=this;return g(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>wV(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=V1e.bind(null,i.syncEngine),yield function tE(n,e){return nE.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new w1e}createDatastore(e){const t=dp(e.databaseInfo.databaseId),i=new o1e(e.databaseInfo);return new l1e(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=a=>wV(this.syncEngine,a,0),s=sV.D()?new sV:new n1e,new d1e(t,i,r,o,s);var t,i,r,o,s}createSyncEngine(e,t){return function(i,r,o,s,a,l,c){const u=new D1e(i,r,o,s,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const i=B(t);O("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield ou(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class oy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class X1e{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=wn.UNAUTHENTICATED,this.clientId=XN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=g(function*(a){O("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(O("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new P(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=lu(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function sy(n,e){return NE.apply(this,arguments)}function NE(){return NE=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=g(function*(o){i.isEqual(o)||(yield QL(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),NE.apply(this,arguments)}function FE(n,e){return LE.apply(this,arguments)}function LE(){return LE=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield VE(n);O("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>fV(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>fV(e.remoteStore,o)),n._onlineComponents=e}),LE.apply(this,arguments)}function DV(n){return"FirebaseError"===n.name?n.code===M.FAILED_PRECONDITION||n.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function VE(n){return BE.apply(this,arguments)}function BE(){return BE=g(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sy(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!DV(t))throw t;Ar("Error using user provided cache. Falling back to memory cache: "+t),yield sy(n,new ry)}}else O("FirestoreClient","Using default OfflineComponentProvider"),yield sy(n,new ry);return n._offlineComponents}),BE.apply(this,arguments)}function ay(n){return HE.apply(this,arguments)}function HE(){return HE=g(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),yield FE(n,n._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),yield FE(n,new hu))),n._onlineComponents}),HE.apply(this,arguments)}function pu(n){return zE.apply(this,arguments)}function zE(){return zE=g(function*(n){const e=yield ay(n),t=e.eventManager;return t.onListen=I1e.bind(null,e.syncEngine),t.onUnlisten=A1e.bind(null,e.syncEngine),t}),zE.apply(this,arguments)}function NV(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const FV=new Map;function qE(n,e,t){if(!t)throw new P(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LV(n){if(!L.isDocumentKey(n))throw new P(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VV(n){if(L.isDocumentKey(n))throw new P(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":W()}function Oe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new P(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cy(n);throw new P(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class HV{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new P(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new P(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ame(n,e,t,i){if(!0===e&&!0===i)throw new P(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=NV(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new P(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new P(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new P(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fp{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new P(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new P(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ope;switch(t.type){case"firstParty":return new cpe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new P(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=FV.get(e);t&&(O("ComponentProvider","Removing Datastore"),FV.delete(e),t.terminate())}(this),Promise.resolve()}}class Yt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class Fn{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Fn(this.firestore,e,this._query)}}class so extends Fn{constructor(e,t,i){super(e,t,Kc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new L(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function cme(n,e,...t){if(n=ft(n),qE("collection","path",e),n instanceof fp){const i=Fe.fromString(e,...t);return VV(i),new so(n,null,i)}{if(!(n instanceof Yt||n instanceof so))throw new P(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fe.fromString(e,...t));return VV(i),new so(n.firestore,null,i)}}function jV(n,e,...t){if(n=ft(n),1===arguments.length&&(e=XN.A()),qE("doc","path",e),n instanceof fp){const i=Fe.fromString(e,...t);return LV(i),new Yt(n,null,new L(i))}{if(!(n instanceof Yt||n instanceof so))throw new P(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Fe.fromString(e,...t));return LV(i),new Yt(n.firestore,n instanceof so?n.converter:null,new L(i))}}class ume{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new V4(this,"async_queue_retry"),this.Xc=()=>{const t=ty();t&&O("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=ty();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ty();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new fn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Es(t))throw t;O("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Wt("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=iE.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&W()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function UE(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class vt extends fp{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new ume,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qV(this),this._firestoreClient.terminate()}}function hme(n,e){const i="string"==typeof n?n:e||"(default)",r=Ca("object"==typeof n?n:B1(),"firestore").getImmediate({identifier:i});if(!r._initialized){const o=d7("firestore");o&&function lme(n,e,t,i={}){var r;const o=(n=Oe(n,fp))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ar("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=wn.MOCK_USER;else{a=f7(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new P(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new wn(c)}n._authCredentials=new spe(new YN(a,l))}}(r,...o)}return r}function rn(n){return n._firestoreClient||qV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function qV(n){var e,t,i;const r=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Bpe(n._databaseId,a,n._persistenceKey,(c=r).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,NV(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new X1e(n._authCredentials,n._appCheckCredentials,n._queue,o),(null===(t=r.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(mn.fromBase64String(e))}catch(t){throw new P(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rl(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new P(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $E{constructor(e){this._methodName=e}}class GE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new P(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new P(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}const fme=/^__.*__$/;class mme{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Uo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qc(e,this.data,t,this.fieldTransforms)}}class GV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Uo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}class uy{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new uy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return hy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(WV(this.ca)&&fme.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class gme{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||dp(e)}ya(e,t,i,r=!1){return new uy({ca:e,methodName:t,ga:i,path:Kt.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mu(n){const e=n._freezeSettings(),t=dp(n._databaseId);return new gme(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WE(n,e,t,i,r,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,r);ZE("Data must be an object, but it was:",s,i);const a=XV(i,s);let l,c;if(o.merge)l=new Ti(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=yp(e,d,t);if(!s.contains(h))throw new P(M.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);eB(u,h)||u.push(h)}l=new Ti(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new mme(new Nn(a),l,c)}class gp extends $E{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gp}}function ol(n,e){if(JV(n=ft(n)))return ZE("Unsupported field value:",e,n),XV(n,e);if(n instanceof $E)return function(t,i){if(!WV(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const s of t){let a=ol(s,i.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=ft(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return qF(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Mt.fromDate(t);return{timestampValue:Jc(i.serializer,r)}}if(t instanceof Mt){const r=new Mt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jc(i.serializer,r)}}if(t instanceof GE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rl)return{bytesValue:uL(i.serializer,t._byteString)};if(t instanceof Yt){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:h4(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${cy(t)}`)}(n,e)}function XV(n,e){const t={};return hF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(n,(i,r)=>{const o=ol(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function JV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mt||n instanceof GE||n instanceof rl||n instanceof Yt||n instanceof $E)}function ZE(n,e,t){if(!JV(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=cy(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function yp(n,e,t){if((e=ft(e))instanceof fu)return e._internalPath;if("string"==typeof e)return dy(n,e);throw hy("Field path arguments must be of type string or ",n,!1,void 0,t)}const kme=new RegExp("[~\\*/\\[\\]]");function dy(n,e,t){if(e.search(kme)>=0)throw hy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fu(...e.split("."))._internalPath}catch{throw hy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hy(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new P(M.INVALID_ARGUMENT,a+n+l)}function eB(n,e){return n.some(t=>t.isEqual(e))}class YE{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(py("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bme extends YE{data(){return super.data()}}function py(n,e){return"string"==typeof e?dy(n,e):e instanceof fu?e._internalPath:e._delegate._internalPath}class QE{}class nB extends QE{}function wme(n,e,...t){let i=[];e instanceof QE&&i.push(e),i=i.concat(t),function(r){const o=r.filter(a=>a instanceof gu).length,s=r.filter(a=>a instanceof _p).length;if(o>1||o>0&&s>0)throw new P(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class _p extends nB{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new _p(e,t,i)}_apply(e){const t=this._parse(e);return sB(e._query,t),new Fn(e.firestore,e.converter,t4(e._query,t))}_parse(e){const t=mu(e.firestore);return function(r,o,s,a,l,c,u){let d;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new P(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){oB(u,c);const h=[];for(const p of u)h.push(rB(a,r,p));d={arrayValue:{values:h}}}else d=rB(a,r,u)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||oB(u,c),d=function QV(n,e,t,i=!1){return ol(t,n.ya(i?4:3,e))}(s,"where",u,"in"===c||"not-in"===c);return Ie.create(l,c,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Mme(n,e,t){const i=e,r=py("where",n);return _p._create(r,i,t)}class gu extends QE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gu(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:et.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const s=r.getFlattenedFilters();for(const a of s)sB(o,a),o=t4(o,a)}(e._query,t),new Fn(e.firestore,e.converter,t4(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class XE extends nB{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new XE(e,t)}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new P(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new P(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new Gc(r,o);return function(a,l){if(null===Jx(a)){const c=Pg(a);null!==c&&aB(0,c,l.field)}}(i,s),s}(e._query,this._field,this._direction);return new Fn(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new zo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Cme(n,e="asc"){const t=e,i=py("orderBy",n);return XE._create(i,t)}function rB(n,e,t){if("string"==typeof(t=ft(t))){if(""===t)throw new P(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e4(e)&&-1!==t.indexOf("/"))throw new P(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Fe.fromString(t));if(!L.isDocumentKey(i))throw new P(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ga(n,new L(i))}if(t instanceof Yt)return Ga(n,t._key);throw new P(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cy(t)}.`)}function oB(n,e){if(!Array.isArray(n)||0===n.length)throw new P(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sB(n,e){if(e.isInequality()){const i=Pg(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new P(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=Jx(n);null!==o&&aB(0,r,o)}const t=function(i,r){for(const o of i)for(const s of o.getFlattenedFilters())if(r.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new P(M.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function aB(n,e,t){if(!t.isEqual(e))throw new P(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}function JE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yu extends YE{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(py("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class yy extends yu{data(e={}){return super.data(e)}}class _u{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new sl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new yy(this._firestore,this._userDataWriter,i.key,i,new sl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new P(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>({type:"added",doc:new yy(i._firestore,i._userDataWriter,s.doc.key,s.doc,new sl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>r||3!==s.type).map(s=>{const a=new yy(i._firestore,i._userDataWriter,s.doc.key,s.doc,new sl(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return 0!==s.type&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:Sme(s.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Sme(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}class Bs extends class xme{convertValue(e,t="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw W()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ss(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new GE(qt(e.latitude),qt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Sg(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Hh(e));default:return null}}convertTimestamp(e){const t=Ts(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Fe.fromString(e);Y(kL(i));const r=new $a(i.get(1),i.get(3)),o=new L(i.popFirst(5));return r.isEqual(t)||Wt(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,t)}}function Tme(n,e,t){n=Oe(n,Yt);const i=Oe(n.firestore,vt),r=JE(n.converter,e,t);return vp(i,[WE(mu(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ct.none())])}function Dme(n,e,t,...i){n=Oe(n,Yt);const r=Oe(n.firestore,vt),o=mu(r);let s;return s="string"==typeof(e=ft(e))||e instanceof fu?function YV(n,e,t,i,r,o){const s=n.ya(1,e,t),a=[yp(e,i,t)],l=[r];if(o.length%2!=0)throw new P(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(yp(e,o[h])),l.push(o[h+1]);const c=[],u=Nn.empty();for(let h=a.length-1;h>=0;--h)if(!eB(c,a[h])){const p=a[h];let f=l[h];f=ft(f);const m=s.da(p);if(f instanceof gp)c.push(p);else{const y=ol(f,m);null!=y&&(c.push(p),u.set(p,y))}}const d=new Ti(c);return new GV(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,i):function ZV(n,e,t,i){const r=n.ya(1,e,t);ZE("Data must be an object, but it was:",r,i);const o=[],s=Nn.empty();Ss(i,(l,c)=>{const u=dy(e,l,t);c=ft(c);const d=r.da(u);if(c instanceof gp)o.push(u);else{const h=ol(c,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new Ti(o);return new GV(s,a,r.fieldTransforms)}(o,"updateDoc",n._key,e),vp(r,[s.toMutation(n._key,Ct.exists(!0))])}function Ime(n,e){const t=Oe(n.firestore,vt),i=jV(n),r=JE(n.converter,e);return vp(t,[WE(mu(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ct.exists(!1))]).then(()=>i)}function vp(n,e){return function(t,i){const r=new fn;return t.asyncQueue.enqueueAndForget(g(function*(){return function R1e(n,e,t){return fE.apply(this,arguments)}(yield function jE(n){return ay(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(rn(n),e)}!function(n,e=!0){zc="9.23.0",qn(new Tn("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),s=new vt(new ape(t.getProvider("auth-internal")),new upe(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new P(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(a.options.projectId,l)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),mt(ZN,"3.13.0",n),mt(ZN,"3.13.0","esm2017")}();var qme={includeMetadataChanges:!1};function t5(n,e){return void 0===e&&(e=qme),new Ue(function(t){var i=function Ame(n,...e){var t,i,r;n=ft(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||UE(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(UE(e[s])){const d=e[s];e[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[s+1]=null===(i=d.error)||void 0===i?void 0:i.bind(d),e[s+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}let l,c,u;if(n instanceof Yt)c=Oe(n.firestore,vt),u=Kc(n._key.path),l={next:d=>{e[s]&&e[s](function e5(n,e,t){const i=t.docs.get(e._key),r=new Bs(n);return new yu(n,r,e._key,i,new sl(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[s+1],complete:e[s+2]};else{const d=Oe(n,Fn);c=Oe(d.firestore,vt),u=d._query;const h=new Bs(c);l={next:p=>{e[s]&&e[s](new _u(c,h,d,p))},error:e[s+1],complete:e[s+2]},function tB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new P(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,p,f){const m=new oy(f),y=new cE(h,m,p);return d.asyncQueue.enqueueAndForget(g(function*(){return function rE(n,e){return oE.apply(this,arguments)}(yield pu(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return function sE(n,e){return aE.apply(this,arguments)}(yield pu(d),y)}))}}(rn(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function $me(n,e){return void 0===e&&(e={}),function Ume(n){return t5(n,{includeMetadataChanges:!0})}(n).pipe(Z(function(t){return uB(t,e)}))}function uB(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}function Qme(n,e){return void 0===e&&(e={}),function Yme(n){return t5(n,{includeMetadataChanges:!0}).pipe(Z(function(e){return e.docs}))}(n).pipe(Z(function(t){return t.map(function(i){return uB(i,e)})}))}class kp{constructor(e){return e}}const fB="firestore",o5=new N("angularfire2.firestore-instances");function ege(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new kp(i)}}const tge={provide:class Xme{constructor(){return Y1(fB)}},deps:[[new wt,o5]]},nge={provide:kp,useFactory:function Jme(n,e){const t=Z1(fB,n,e);return t&&new kp(t)},deps:[[new wt,o5],Aa]};let ige=(()=>{class n{constructor(){mt("angularfire",Vd.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({providers:[nge,tge]}),n})();function rge(n,...e){return{ngModule:ige,providers:[{provide:o5,useFactory:ege(n),multi:!0,deps:[ae,Ft,Q1,X1,[new wt,MC],[new wt,sm],...e]}]}}const s5=Gt(Qme,!0),oge=Gt($me,!0),a5=Gt(Ime,!0),vu=Gt(cme,!0),vy=Gt(jV,!0),sge=Gt(hme,!0),age=Gt(Cme,!0),l5=Gt(wme,!0),lge=Gt(Tme,!0),mB=Gt(Dme,!0),cge=Gt(Mme,!0);let c5,Hs=(()=>{class n{constructor(t,i){this.firestore=t,this.authService=i}get currentUserProfile$(){return this.authService.currentUser$.pipe(ot(t=>{if(!t?.uid)return $(null);const i=vy(this.firestore,"users",t?.uid);return oge(i)}))}get allUsers$(){const t=vu(this.firestore,"users"),i=l5(t);return s5(i)}addUser(t){const i=vy(this.firestore,"users",t.uid);return $e(lge(i,t))}updateUser(t){const i=vy(this.firestore,"users",t.uid);return $e(mB(i,{...t}))}}return n.\u0275fac=function(t){return new(t||n)(C(kp),C(xm))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{c5=typeof Intl<"u"&&Intl.v8BreakIterator}catch{c5=!1}let ku,ui=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function QJ(n){return n===V8}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!c5)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(C(mc))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function yB(){if(ku)return ku;if("object"!=typeof document||!document)return ku=new Set(gB),ku;let n=document.createElement("input");return ku=new Set(gB.filter(e=>(n.setAttribute("type",e),n.type===e))),ku}let bp,al,u5;function bu(n){return function uge(){if(null==bp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bp=!0}))}finally{bp=bp||!1}return bp}()?n:!!n.capture}function dge(){if(null==al){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return al=!1,al;if("scrollBehavior"in document.documentElement.style)al=!0;else{const n=Element.prototype.scrollTo;al=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return al}function js(n){return n.composedPath?n.composedPath()[0]:n.target}function d5(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function zs(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function g5(n,e=K1){return Et((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(new at(i,c=>{o=c,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function kB(n){return tn((e,t)=>n<=t)}function xge(n,e){return n===e}function on(n){return Et((e,t)=>{Qn(n).subscribe(new at(t,()=>t.complete(),Ml)),!t.closed&&e.subscribe(t)})}function kt(n){return null!=n&&"false"!=`${n}`}function My(n){return Array.isArray(n)?n:[n]}function sn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Wo(n){return n instanceof Re?n.nativeElement:n}let bB=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dge=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Wo(t);return new Ue(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new ge,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(C(bB))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ige=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new Me,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=kt(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function Ege(n,e=0){return function Sge(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(g5(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(_(Dge),_(Re),_(ae))},n.\u0275dir=G({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),wB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({providers:[bB]}),n})();const MB=new Set;let wu,Age=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Pge}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Rge(n){if(!MB.has(n))try{wu||(wu=document.createElement("style"),wu.setAttribute("type","text/css"),document.head.appendChild(wu)),wu.sheet&&(wu.sheet.insertRule(`@media ${n} {body{ }}`,0),MB.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(C(ui))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pge(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let y5=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new ge}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return CB(My(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=or(CB(My(t)).map(s=>this._registerQuery(s).observable));return o=eh(o.pipe(Pt(1)),o.pipe(kB(1),g5(0))),o.pipe(Z(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Ue(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Si(i),Z(({matches:s})=>({query:t,matches:s})),on(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(C(Age),C(ae))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CB(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class SB{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ge,this._typeaheadSubscription=pt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new ge,this.change=new ge,e instanceof uc&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(rt(t=>this._pressedLetters.push(t)),g5(e),tn(()=>this._pressedLetters.length>0),Z(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||zs(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof uc?this._items.toArray():this._items}}class Lge extends SB{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class TB extends SB{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function _5(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function v5(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const qge=new N("cdk-input-modality-detector-options"),Uge={ignoreKeys:[18,17,224,91,16]},Mu=bu({passive:!0,capture:!0});let $ge=(()=>{class n{constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new rr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=js(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(_5(s)?"keyboard":"mouse"),this._mostRecentTarget=js(s))},this._onTouchstart=s=>{v5(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=js(s))},this._options={...Uge,...o},this.modalityDetected=this._modality.pipe(kB(1)),this.modalityChanged=this.modalityDetected.pipe(function Cge(n,e=es){return n=n??xge,Et((t,i)=>{let r,o=!0;t.subscribe(new at(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Mu),r.addEventListener("mousedown",this._onMousedown,Mu),r.addEventListener("touchstart",this._onTouchstart,Mu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Mu),document.removeEventListener("mousedown",this._onMousedown,Mu),document.removeEventListener("touchstart",this._onTouchstart,Mu))}}return n.\u0275fac=function(t){return new(t||n)(C(ui),C(ae),C(xe),C(qge,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wge=new N("cdk-focus-monitor-default-options"),Cy=bu({passive:!0,capture:!0});let Mp=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ge,this._rootNodeFocusAndBlurListener=a=>{for(let c=js(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=Wo(t);if(!this._platform.isBrowser||1!==r.nodeType)return $(null);const o=function pge(n){if(function hge(){if(null==u5){const n=typeof document<"u"?document.head:null;u5=!(!n||!n.createShadowRoot&&!n.attachShadow)}return u5}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new ge,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Wo(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Wo(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=js(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Cy),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Cy)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(on(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Cy),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Cy),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(C(ae),C(ui),C($ge),C(xe,8),C(Wge,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AB="cdk-high-contrast-black-on-white",RB="cdk-high-contrast-white-on-black",k5="cdk-high-contrast-active";let PB=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=ct(y5).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(k5,AB,RB),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(k5,AB):2===i&&t.add(k5,RB)}}}return n.\u0275fac=function(t){return new(t||n)(C(ui),C(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kge=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(C(PB))},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[wB]}),n})();const Zge=new N("cdk-dir-doc",{providedIn:"root",factory:function Yge(){return ct(xe)}}),Qge=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let xy=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Me,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function Xge(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Qge.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(C(Zge,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({}),n})();function Jge(n,e){if(1&n&&te(0,"mat-pseudo-checkbox",4),2&n){const t=J();R("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function eye(n,e){if(1&n&&(x(0,"span",5),T(1),S()),2&n){const t=J();I(1),xr("(",t.group.label,")")}}const tye=["*"],iye=new N("mat-sanity-checks",{providedIn:"root",factory:function nye(){return!0}});let st=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!d5()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(C(PB),C(iye,8),C(xe))},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[Cp,Cp]}),n})();function FB(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=kt(e)}}}function Ey(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Cu(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=kt(e)}}}function rye(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}let LB=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),b5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function xp(n,e,t){n.nativeElement.classList.toggle(e,t)}let VB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[st,st]}),n})();class aye{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const BB={enterDuration:225,exitDuration:150},w5=bu({passive:!0}),HB=["mousedown","touchstart"],jB=["mouseup","mouseleave","touchend","touchcancel"];class cye{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Wo(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...BB,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function uye(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),p=d.transitionDuration,f="none"===d.transitionProperty||"0s"===p||"0s, 0s"===p,m=new aye(this,u,i,f);u.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);let y=null;return!f&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(m),w=()=>this._destroyRipple(m);u.addEventListener("transitionend",k),u.addEventListener("transitioncancel",w),y={onTransitionEnd:k,onTransitionCancel:w}}),this._activeRipples.set(m,y),(f||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...BB,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Wo(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(HB))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(jB),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=_5(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!v5(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,w5)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(HB.forEach(e=>{this._triggerElement.removeEventListener(e,this,w5)}),this._pointerUpEventsRegistered&&jB.forEach(e=>{this._triggerElement.removeEventListener(e,this,w5)}))}}const dye=new N("mat-ripple-global-options");let xu=(()=>{class n{constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new cye(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(ae),_(ui),_(dye,8),_(ma,8))},n.\u0275dir=G({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&Lt("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Ep=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[st,st]}),n})(),zB=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(_(ma,8))},n.\u0275cmp=Ae({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&Lt("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),M5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[st]}),n})();const qB=new N("MAT_OPTION_PARENT_COMPONENT"),UB=new N("MatOptgroup");let hye=0;class $B{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let pye=(()=>{class n{constructor(t,i,r,o){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+hye++,this.onSelectionChange=new Me,this._stateChanges=new ge}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=kt(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!zs(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new $B(this,t))}}return n.\u0275fac=function(t){Lf()},n.\u0275dir=G({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),C5=(()=>{class n extends pye{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(Sn),_(qB,8),_(UB,8))},n.\u0275cmp=Ae({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&me("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&t&&(Yf("id",i.id),Xe("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),Lt("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[fe],ngContentSelectors:tye,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(ki(),X(0,Jge,1,2,"mat-pseudo-checkbox",0),x(1,"span",1),St(2),S(),X(3,eye,2,1,"span",2),te(4,"div",3)),2&t&&(R("ngIf",i.multiple),I(3),R("ngIf",i.group&&i.group._inert),I(1),R("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[xu,Ci,zB],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})(),GB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[Ep,ds,st,M5]}),n})();const gye=["*",[["mat-toolbar-row"]]],yye=["*","mat-toolbar-row"],_ye=Ey(class{constructor(n){this._elementRef=n}});let vye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),kye=(()=>{class n extends _ye{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(ui),_(xe))},n.\u0275cmp=Ae({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&Tt(r,vye,5),2&t){let o;Se(o=Te())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&Lt("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[fe],ngContentSelectors:yye,decls:2,vars:0,template:function(t,i){1&t&&(ki(gye),St(0),St(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),bye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[st,st]}),n})();function WB(...n){const e=TS(n),{args:t,keys:i}=g9(n),r=new Ue(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;Qn(t[u]).subscribe(new at(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?y9(i,a):a),o.complete())}))}});return e?r.pipe(xC(e)):r}class wye{}class qs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof qs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new qs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof qs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Mye{encodeKey(e){return KB(e)}encodeValue(e){return KB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const xye=/%(\d[a-f0-9])/gi,Eye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function KB(n){return encodeURIComponent(n).replace(xye,(e,t)=>Eye[t]??e)}function Sy(n){return`${n}`}class Us{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Mye,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Cye(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Sy):[Sy(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Us({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Sy(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Sy(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Sye{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function ZB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function YB(n){return typeof Blob<"u"&&n instanceof Blob}function QB(n){return typeof FormData<"u"&&n instanceof FormData}class Sp{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Tye(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new qs),this.context||(this.context=new Sye),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Us,this.urlWithParams=t}serializeBody(){return null===this.body?null:ZB(this.body)||YB(this.body)||QB(this.body)||function Dye(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Us?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||QB(this.body)?null:YB(this.body)?this.body.type||null:ZB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Us?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Sp(t,i,o,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var Ln=(()=>((Ln=Ln||{})[Ln.Sent=0]="Sent",Ln[Ln.UploadProgress=1]="UploadProgress",Ln[Ln.ResponseHeader=2]="ResponseHeader",Ln[Ln.DownloadProgress=3]="DownloadProgress",Ln[Ln.Response=4]="Response",Ln[Ln.User=5]="User",Ln))();class x5 extends class Iye{constructor(e,t=200,i="OK"){this.headers=e.headers||new qs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Ln.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new x5({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function E5(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let JB=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Sp)o=t;else{let l,c;l=r.headers instanceof qs?r.headers:new qs(r.headers),r.params&&(c=r.params instanceof Us?r.params:new Us({fromObject:r.params})),o=new Sp(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=$(o).pipe(sr(l=>this.handler.handle(l)));if(t instanceof Sp||"events"===r.observe)return s;const a=s.pipe(tn(l=>l instanceof x5));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Z(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Z(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Z(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Z(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Us).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,E5(r,i))}post(t,i,r={}){return this.request("POST",t,E5(r,i))}put(t,i,r={}){return this.request("PUT",t,E5(r,i))}}return n.\u0275fac=function(t){return new(t||n)(C(wye))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const Rye=["*"];let Ty;function Tp(n){return function Pye(){if(void 0===Ty&&(Ty=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Ty=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Ty}()?.createHTML(n)||n}function eH(n){return Error(`Unable to find icon with the name "${n}"`)}function tH(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function nH(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ll{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Dy=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new ll(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const s=this._sanitizer.sanitize(qe.HTML,r);if(!s)throw nH(r);const a=Tp(s);return this._addSvgIconConfig(t,i,new ll("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new ll(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(qe.HTML,i);if(!o)throw nH(i);const s=Tp(o);return this._addSvgIconSetConfig(t,new ll("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(qe.RESOURCE_URL,t);if(!i)throw tH(t);const r=this._cachedIconsByUrl.get(i);return r?$(Iy(r)):this._loadSvgIconFromConfig(new ll(t,null)).pipe(rt(o=>this._cachedIconsByUrl.set(i,o)),Z(o=>Iy(o)))}getNamedSvgIcon(t,i=""){const r=iH(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):Tc(eH(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?$(Iy(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Z(i=>Iy(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?$(r):WB(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Oo(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(qe.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),$(null)})))).pipe(Z(()=>{const s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw eH(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(rt(i=>t.svgText=i),Z(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?$(null):this._fetchIcon(t).pipe(rt(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(Tp("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Tp("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function Oye(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(qe.RESOURCE_URL,i);if(!s)throw tH(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Z(c=>Tp(c)),Tm(()=>this._inProgressUrlFetches.delete(s)),IS());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(iH(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return Fye(o)?new ll(o.url,null,o.options):new ll(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(C(JB,8),C(Ov),C(xe,8),C(_o))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Iy(n){return n.cloneNode(!0)}function iH(n,e){return n+":"+e}function Fye(n){return!(!n.url||!n.options)}const Lye=Ey(class{constructor(n){this._elementRef=n}}),Vye=new N("MAT_ICON_DEFAULT_OPTIONS"),Bye=new N("mat-icon-location",{providedIn:"root",factory:function Hye(){const n=ct(xe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),rH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],jye=rH.map(n=>`[${n}]`).join(", "),zye=/^url\(['"]?#(.*?)['"]?\)$/;let Ay=(()=>{class n extends Lye{constructor(t,i,r,o,s,a){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=pt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=kt(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(jye),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)rH.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(zye):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Pt(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(Dy),os("aria-hidden"),_(Bye),_(_o),_(Vye,8))},n.\u0275cmp=Ae({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(Xe("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),Lt("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[fe],ngContentSelectors:Rye,decls:1,vars:0,template:function(t,i){1&t&&(ki(),St(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),qye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[st,st]}),n})();const Uye=["mat-button",""],$ye=["*"],Wye=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Kye=Ey(FB(Cu(class{constructor(n){this._elementRef=n}})));let S5,Eu=(()=>{class n extends Kye{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of Wye)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(Mp),_(ma,8))},n.\u0275cmp=Ae({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&oi(xu,5),2&t){let r;Se(r=Te())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(Xe("disabled",i.disabled||null),Lt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[fe],attrs:Uye,ngContentSelectors:$ye,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(ki(),x(0,"span",0),St(1),S(),te(2,"span",1)(3,"span",2)),2&t&&(I(2),Lt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),R("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[xu],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Zye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[Ep,st,st]}),n})(),Yye=1;const Ry={};function oH(n){return n in Ry&&(delete Ry[n],!0)}const Qye={setImmediate(n){const e=Yye++;return Ry[e]=!0,S5||(S5=Promise.resolve()),S5.then(()=>oH(e)&&n()),e},clearImmediate(n){oH(n)}},{setImmediate:Xye,clearImmediate:Jye}=Qye,Py={setImmediate(...n){const{delegate:e}=Py;return(e?.setImmediate||Xye)(...n)},clearImmediate(n){const{delegate:e}=Py;return(e?.clearImmediate||Jye)(n)},delegate:void 0},T5=new class t2e extends W1{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;e=e||t.shift();const o=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++r<o&&(e=t.shift()));if(this._active=!1,i){for(;++r<o&&(e=t.shift());)e.unsubscribe();throw i}}}(class e2e extends G1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Py.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(Py.clearImmediate(t),e._scheduled=void 0)}});function sH(n,e){return e?t=>eh(e.pipe(Pt(1),function n2e(){return Et((n,e)=>{n.subscribe(new at(e,Ml))})}()),t.pipe(sH(n))):Ut((t,i)=>n(t,i).pipe(Pt(1),M9(t)))}function aH(n=0,e,t=LR){let i=-1;return null!=e&&(SS(e)?t=e:i=e),new Ue(r=>{let o=function i2e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function D5(n,e=K1){const t=aH(n,e);return sH(()=>t)}class lH{}const Ko="*";function Oy(n,e){return{type:7,name:n,definitions:e,options:{}}}function Su(n,e=null){return{type:4,styles:e,timings:n}}function cH(n,e=null){return{type:2,steps:n,options:e}}function di(n){return{type:6,styles:n,offset:null}}function Dp(n,e,t){return{type:0,name:n,styles:e,options:t}}function Tu(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function uH(n){Promise.resolve(null).then(n)}class Ip{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){uH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class dH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?uH(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class A5{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class s2e extends A5{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class R5 extends A5{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class a2e extends A5{constructor(e){super(),this.element=e instanceof Re?e.nativeElement:e}}class c2e extends class l2e{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof s2e?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof R5?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof a2e?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Ft.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let u2e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({}),n})();const d2e=["addListener","removeListener"],h2e=["addEventListener","removeEventListener"],p2e=["on","off"];function cl(n,e,t,i){if(Ve(t)&&(i=t,t=void 0),i)return cl(n,e,t).pipe(xC(i));const[r,o]=function g2e(n){return Ve(n.addEventListener)&&Ve(n.removeEventListener)}(n)?h2e.map(s=>a=>n[s](e,a,t)):function f2e(n){return Ve(n.addListener)&&Ve(n.removeListener)}(n)?d2e.map(hH(n,e)):function m2e(n){return Ve(n.on)&&Ve(n.off)}(n)?p2e.map(hH(n,e)):[];if(!r&&D2(n))return Ut(s=>cl(s,e,t))(Qn(n));if(!r)throw new TypeError("Invalid event target");return new Ue(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function hH(n,e){return t=>i=>n[t](e,i)}const Ap={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Ap;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new pt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Ap;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Ap;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class _2e extends W1{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;e=e||t.shift();const o=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++r<o&&(e=t.shift()));if(this._active=!1,i){for(;++r<o&&(e=t.shift());)e.unsubscribe();throw i}}}(class y2e extends G1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Ap.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(Ap.cancelAnimationFrame(t),e._scheduled=void 0)}});function pH(n,e=LR){return function k2e(n){return Et((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(new at(t,c=>{i=!0,r=c,o||Qn(n(c)).subscribe(o=new at(t,a,l))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>aH(n,e))}let w2e=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new ge,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ue(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(pH(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):$()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(tn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Wo(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>cl(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(C(ae),C(ui),C(xe,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P5=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new ge,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(pH(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(C(ui),C(ae),C(xe,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({}),n})(),fH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[Cp,Rp,Cp,Rp]}),n})();const mH=dge();class C2e{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=sn(-this._previousScrollPosition.left),e.style.top=sn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),mH&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mH&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class x2e{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gH{enable(){}disable(){}attach(){}}function O5(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function yH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class E2e{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();O5(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let S2e=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new gH,this.close=s=>new x2e(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new C2e(this._viewportRuler,this._document),this.reposition=s=>new E2e(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(C(w2e),C(P5),C(ae),C(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class N5{constructor(e){if(this.scrollStrategy=new gH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class T2e{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let _H=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(C(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D2e=(()=>{class n extends _H{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(C(xe),C(ae,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I2e=(()=>{class n extends _H{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=js(o)},this._clickListener=o=>{const s=js(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(C(xe),C(ui),C(ae,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vH=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||d5()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),d5()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(C(xe),C(ui))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class A2e{constructor(e,t,i,r,o,s,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new ge,this._attachments=new ge,this._detachments=new ge,this._locationChanges=pt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new ge,this._outsidePointerEvents=new ge,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Pt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=sn(this._config.width),e.height=sn(this._config.height),e.minWidth=sn(this._config.minWidth),e.minHeight=sn(this._config.minHeight),e.maxWidth=sn(this._config.maxWidth),e.maxHeight=sn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=My(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(on(Fr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const kH="cdk-overlay-connected-position-bounding-box",R2e=/([A-Za-z%]+)$/;class P2e{constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ge,this._resizeSubscription=pt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(kH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ul(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(kH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=wH(t);let{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let h=0-a,p=a+o.height-i.height,f=this._subtractOverflows(o.width,0-s,s+o.width-i.width),m=this._subtractOverflows(o.height,h,p),y=f*m;return{visibleArea:y,isCompletelyWithinViewport:o.width*o.height===y,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:f==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=bH(this._overlayRef.getConfig().minHeight),a=bH(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=o;return(e.fitsInViewportVertically||null!=s&&s<=r)&&c}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=wH(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,d=r.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new T2e(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const p=Math.min(i.bottom-e.y+i.top,e.y),f=this._lastBoundingBoxSize.height;o=2*p,s=e.y-p,o>f&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-f/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const p=Math.min(i.right-e.x+i.left,e.x),f=this._lastBoundingBoxSize.width;u=2*p,d=e.x-p,u>f&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-f/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=sn(i.height),r.top=sn(i.top),r.bottom=sn(i.bottom),r.width=sn(i.width),r.left=sn(i.left),r.right=sn(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=sn(o)),s&&(r.maxWidth=sn(s))}this._lastBoundingBoxSize=i,ul(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ul(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ul(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();ul(i,this._getExactOverlayY(t,e,u)),ul(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=sn(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=sn(s.maxWidth):o&&(i.maxWidth="")),ul(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=sn(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=sn(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:yH(e,i),isOriginOutsideView:O5(e,i),isOverlayClipped:yH(t,i),isOverlayOutsideView:O5(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&My(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Re)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function ul(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function bH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(R2e);return t&&"px"!==t?null:parseFloat(e)}return n||null}function wH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const MH="cdk-global-overlay-wrapper";class O2e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(MH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let p="",f="",m="";l?m="flex-start":"center"===u?(m="center",h?f=d:p=d):h?"left"===u||"end"===u?(m="flex-end",p=d):("right"===u||"start"===u)&&(m="flex-start",f=d):"left"===u||"start"===u?(m="flex-start",p=d):("right"===u||"end"===u)&&(m="flex-end",f=d),e.position=this._cssPosition,e.marginLeft=l?"0":p,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":f,t.justifyContent=m,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(MH),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let N2e=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new O2e}flexibleConnectedTo(t){return new P2e(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(C(P5),C(xe),C(ui),C(vH))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F2e=0,dl=(()=>{class n{constructor(t,i,r,o,s,a,l,c,u,d,h,p){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=p}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new N5(t);return s.direction=s.direction||this._directionality.value,new A2e(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+F2e++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ga)),new c2e(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(C(S2e),C(vH),C(la),C(N2e),C(D2e),C(Ft),C(ae),C(xe),C(xy),C(m1),C(I2e),C(ma,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const B2e={provide:new N("cdk-connected-overlay-scroll-strategy"),deps:[dl],useFactory:function V2e(n){return()=>n.scrollStrategies.reposition()}};let F5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({providers:[dl,B2e],imports:[Cp,u2e,fH,fH]}),n})();const H2e=["mat-menu-item",""];function j2e(n,e){1&n&&(n0(),x(0,"svg",2),te(1,"polygon",3),S())}const CH=["*"];function z2e(n,e){if(1&n){const t=wr();x(0,"div",0),me("keydown",function(r){return an(t),ln(J()._handleKeydown(r))})("click",function(){return an(t),ln(J().closed.emit("click"))})("@transformMenu.start",function(r){return an(t),ln(J()._onAnimationStart(r))})("@transformMenu.done",function(r){return an(t),ln(J()._onAnimationDone(r))}),x(1,"div",1),St(2),S()()}if(2&n){const t=J();R("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Xe("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const Ny={transformMenu:Oy("transformMenu",[Dp("void",di({opacity:0,transform:"scale(0.8)"})),Tu("void => enter",Su("120ms cubic-bezier(0, 0, 0.2, 1)",di({opacity:1,transform:"scale(1)"}))),Tu("* => void",Su("100ms 25ms linear",di({opacity:0})))]),fadeInItems:Oy("fadeInItems",[Dp("showing",di({opacity:1})),Tu("void => *",[di({opacity:0}),Su("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},q2e=new N("MatMenuContent"),L5=new N("MAT_MENU_PANEL"),U2e=Cu(FB(class{}));let Pp=(()=>{class n extends U2e{constructor(t,i,r,o,s){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new ge,this._focused=new ge,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(xe),_(Mp),_(L5,8),_(Sn))},n.\u0275cmp=Ae({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&me("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(Xe("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),Lt("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[fe],attrs:H2e,ngContentSelectors:CH,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(ki(),St(0),te(1,"div",0),X(2,j2e,2,0,"svg",1)),2&t&&(I(1),R("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),I(1),R("ngIf",i._triggersSubmenu))},dependencies:[Ci,xu],encapsulation:2,changeDetection:0}),n})();const xH=new N("mat-menu-default-options",{providedIn:"root",factory:function $2e(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let G2e=0,Op=(()=>{class n{constructor(t,i,r,o){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new uc,this._tabSubscription=pt.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ge,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Me,this.close=this.closed,this.panelId="mat-menu-panel-"+G2e++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=kt(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=kt(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new TB(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Si(this._directDescendantItems),ot(t=>Fr(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Si(this._directDescendantItems),ot(i=>Fr(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:zs(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(Pt(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Si(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(ae),_(xH),_(Sn))},n.\u0275dir=G({type:n,contentQueries:function(t,i,r){if(1&t&&(Tt(r,q2e,5),Tt(r,Pp,5),Tt(r,Pp,4)),2&t){let o;Se(o=Te())&&(i.lazyContent=o.first),Se(o=Te())&&(i._allItems=o),Se(o=Te())&&(i.items=o)}},viewQuery:function(t,i){if(1&t&&oi(ji,5),2&t){let r;Se(r=Te())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),EH=(()=>{class n extends Op{constructor(t,i,r,o){super(t,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(ae),_(xH),_(Sn))},n.\u0275cmp=Ae({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&Xe("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Be([{provide:L5,useExisting:n}]),fe],ngContentSelectors:CH,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(ki(),X(0,z2e,3,6,"ng-template"))},dependencies:[gc],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Ny.transformMenu,Ny.fadeInItems]},changeDetection:0}),n})();const SH=new N("mat-menu-scroll-strategy"),K2e={provide:SH,deps:[dl],useFactory:function W2e(n){return()=>n.scrollStrategies.reposition()}},TH=bu({passive:!0});let Z2e=(()=>{class n{constructor(t,i,r,o,s,a,l,c,u){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._ngZone=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=pt.EMPTY,this._hoverSubscription=pt.EMPTY,this._menuCloseSubscription=pt.EMPTY,this._handleTouchStart=d=>{v5(d)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Me,this.onMenuOpen=this.menuOpened,this.menuClosed=new Me,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof Op?s:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,TH),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,TH),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),o=r.positionStrategy;this._setPosition(t,o),r.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Op&&(t._startAnimation(),t._directDescendantItems.changes.pipe(on(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Op?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(tn(r=>"void"===r.toState),Pt(1),on(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new N5({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",s="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,s)):t.setPositionClasses(o,s)})}_setPosition(t,i){let[r,o]="before"===t.xPosition?["end","start"]:["start","end"],[s,a]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[u,d]=[r,o],h=0;if(this.triggersSubmenu()){if(d=r="before"===t.xPosition?"start":"end",o=u="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const p=this._parentMaterialMenu.items.first;this._parentInnerPadding=p?p._getHostElement().offsetTop:0}h="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(l="top"===s?"bottom":"top",c="top"===a?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:u,overlayY:s,offsetY:h},{originX:o,originY:l,overlayX:d,overlayY:s,offsetY:h},{originX:r,originY:c,overlayX:u,overlayY:a,offsetY:-h},{originX:o,originY:c,overlayX:d,overlayY:a,offsetY:-h}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return Fr(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:$(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(tn(s=>s!==this._menuItemInstance),tn(()=>this._menuOpen)):$(),i)}_handleMousedown(t){_5(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(tn(t=>t===this._menuItemInstance&&!t.disabled),D5(0,T5)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Op&&this.menu._isAnimating?this.menu._animationDone.pipe(Pt(1),D5(0,T5),on(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new R5(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(_(dl),_(Re),_(wi),_(SH),_(L5,8),_(Pp,10),_(xy,8),_(Mp),_(ae))},n.\u0275dir=G({type:n,hostVars:3,hostBindings:function(t,i){1&t&&me("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&t&&Xe("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),DH=(()=>{class n extends Z2e{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=un(n)))(i||n)}}(),n.\u0275dir=G({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[fe]}),n})(),Y2e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({providers:[K2e],imports:[ds,st,Ep,F5,Rp,st]}),n})();const Q2e=["*"],IH=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]];var Np={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const V5=new N("LucideIcons",{factory:()=>new B5({})});class B5{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return"object"==typeof this.icons&&e in this.icons}}let Z5e=(()=>{class n{constructor(){this.color=Np.stroke,this.size=Np.width,this.strokeWidth=Np["stroke-width"],this.absoluteStrokeWidth=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Y5e(n,e=3){return parseFloat(n.toFixed(e)).toString(10)}let H5=(()=>{class n{constructor(t,i,r,o,s){this.elem=t,this.renderer=i,this.changeDetector=r,this.iconProviders=o,this.iconConfig=s,this.absoluteStrokeWidth=!1,this.defaultSize=Np.height}set img(t){this.name=t}get size(){return this._size??this.iconConfig.size}set size(t){t?this._size=this.parseNumber(t):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(t){t?this._strokeWidth=this.parseNumber(t):delete this._strokeWidth}ngOnChanges(t){if(this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth,t.name||t.img){const i=t.img?.currentValue??t.name?.currentValue;if("string"==typeof i){const r=this.getIcon(this.toPascalCase(i));if(!r)throw new Error(`The "${i}" icon has not been provided by any available icon providers.`);this.replaceElement(r)}else{if(!Array.isArray(i))throw new Error("No icon name or image has been provided.");this.replaceElement(i)}}this.changeDetector.markForCheck()}replaceElement(t){const i={...Np,width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?Y5e(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)},r=this.createElement(["svg",i,t]);r.classList.add("lucide"),"string"==typeof this.name&&r.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&r.classList.add(...this.class.split(/ /).map(s=>s.trim()).filter(s=>s.length>0));const o=this.elem.nativeElement.childNodes;for(const s of o)this.renderer.removeChild(this.elem.nativeElement,s);this.renderer.appendChild(this.elem.nativeElement,r)}toPascalCase(t){return t.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(i,r,o)=>r.toUpperCase()+o.toLowerCase())}parseNumber(t){if("string"==typeof t){const i=parseInt(t,10);if(isNaN(i))throw new Error(`${t} is not numeric.`);return i}return t}getIcon(t){for(const i of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(i.hasIcon(t))return i.getIcon(t);return null}createElement([t,i,r=[]]){const o=this.renderer.createElement(t,"http://www.w3.org/2000/svg");return Object.keys(i).forEach(s=>{const a="string"==typeof i[s]?i[s]:i[s].toString(10);this.renderer.setAttribute(o,s,a)}),r.length&&r.forEach(s=>{const a=this.createElement(s);this.renderer.appendChild(o,a)}),o}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(_r),_(Sn),_(V5),_(Z5e))},n.\u0275cmp=Ae({type:n,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",img:"img",size:"size",strokeWidth:"strokeWidth"},features:[En],ngContentSelectors:Q2e,decls:1,vars:0,template:function(t,i){1&t&&(ki(),St(0))},encapsulation:2}),n})();class Q5e{constructor(e){this.icons=e}}const X5e=n=>new B5(n??{});let J5e=(()=>{class n{static pick(t){return{ngModule:n,providers:[{provide:V5,multi:!0,useValue:new B5(t)},{provide:V5,multi:!0,useFactory:X5e,deps:[[new wt,Q5e]]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[[]]}),n})();function e3e(n,e){if(1&n&&(_i(0),x(1,"button",8)(2,"mat-icon"),T(3,"face"),S(),T(4),x(5,"mat-icon"),T(6,"expand_more"),S()(),vi()),2&n){const t=e.ngIf;J();const i=br(13);I(1),R("matMenuTriggerFor",i),I(3),xr(" ",t.firstName?t.firstName:t.displayName," ")}}function t3e(n,e){1&n&&(x(0,"button",9)(1,"mat-icon"),T(2,"login"),S(),T(3," Login "),S())}let n3e=(()=>{class n{constructor(t,i,r,o){this.authService=t,this.router=i,this.usersService=r,this.ngZone=o,this.user$=this.usersService.currentUserProfile$}logout(){this.authService.logout().subscribe(()=>{this.ngZone.run(()=>(this.router.navigate([""]),!0))})}navigateToHome(){const i=window.innerWidth<=700?"/chats":"/home";this.router.navigate([i])}}return n.\u0275fac=function(t){return new(t||n)(_(xm),_(jt),_(Hs),_(ae))},n.\u0275cmp=Ae({type:n,selectors:[["app-root"]],decls:26,vars:10,consts:[[1,"toolbar-content"],["name","ghost"],[4,"ngIf","ngIfElse"],["loginButton",""],[1,"content"],["userMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","/profile"],["mat-button","",3,"matMenuTriggerFor"],["mat-button","","routerLink","login"]],template:function(t,i){if(1&t&&(x(0,"mat-toolbar"),Ke(1,"async"),x(2,"span",0)(3,"h1"),T(4,"Chatsper"),S(),te(5,"lucide-icon",1),S(),X(6,e3e,7,2,"ng-container",2),Ke(7,"async"),X(8,t3e,4,0,"ng-template",null,3,dc),S(),x(10,"div",4),te(11,"router-outlet"),S(),x(12,"mat-menu",null,5)(14,"button",6),me("click",function(){return i.navigateToHome()}),x(15,"mat-icon"),T(16,"home"),S(),T(17," Home "),S(),x(18,"button",7)(19,"mat-icon"),T(20,"account_circle"),S(),T(21," Profile "),S(),x(22,"button",6),me("click",function(){return i.logout()}),x(23,"mat-icon"),T(24,"logout"),S(),T(25," Logout "),S()()),2&t){const r=br(9);let o;bi("background",(null==(o=Ze(1,6,i.user$))?null:o.color)||"rgb(128, 128, 128)")("color","white"),I(6),R("ngIf",Ze(7,8,i.user$))("ngIfElse",r)}},dependencies:[Ci,jC,Wm,kye,Ay,Eu,EH,Pp,DH,H5,va],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between}.content[_ngcontent-%COMP%]{padding:32px}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px}.toolbar-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.toolbar-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-right:2px}.toolbar-content[_ngcontent-%COMP%]   lucide-icon[_ngcontent-%COMP%]{margin-top:5px}"]}),n})();function AH(n){return new D(3e3,!1)}function L3e(){return typeof window<"u"&&typeof window.document<"u"}function j5(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function $s(n){switch(n.length){case 0:return new Ip;case 1:return n[0];default:return new dH(n)}}function RH(n,e,t,i,r=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),h=d==l,p=h&&c||new Map;u.forEach((f,m)=>{let y=m,k=f;if("offset"!==m)switch(y=e.normalizePropertyName(y,s),k){case"!":k=r.get(m);break;case Ko:k=o.get(m);break;default:k=e.normalizeStyleValue(m,y,k,s)}p.set(y,k)}),h||a.push(p),c=p,l=d}),s.length)throw function x3e(n){return new D(3502,!1)}();return a}function z5(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&q5(t,"start",n)));break;case"done":n.onDone(()=>i(t&&q5(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&q5(t,"destroy",n)))}}function q5(n,e,t){const o=U5(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function U5(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Gi(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function PH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let $5=(n,e)=>!1,OH=(n,e,t)=>[],NH=null;function G5(n){const e=n.parentNode||n.host;return e===NH?null:e}(j5()||typeof Element<"u")&&(L3e()?(NH=(()=>document.documentElement)(),$5=(n,e)=>{for(;e;){if(e===n)return!0;e=G5(e)}return!1}):$5=(n,e)=>n.contains(e),OH=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let hl=null,FH=!1;const LH=$5,VH=OH;let BH=(()=>{class n{validateStyleProperty(t){return function B3e(n){hl||(hl=function H3e(){return typeof document<"u"?document.body:null}()||{},FH=!!hl.style&&"WebkitAppearance"in hl.style);let e=!0;return hl.style&&!function V3e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in hl.style,!e&&FH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in hl.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return LH(t,i)}getParentElement(t){return G5(t)}query(t,i,r){return VH(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new Ip(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),W5=(()=>{class n{}return n.NOOP=new BH,n})();const K5="ng-enter",Fy="ng-leave",Ly="ng-trigger",Vy=".ng-trigger",jH="ng-animating",Z5=".ng-animating";function Gs(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Y5(parseFloat(e[1]),e[2])}function Y5(n,e){return"s"===e?1e3*n:n}function By(n,e,t){return n.hasOwnProperty("duration")?n:function q3e(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(AH()),{duration:0,delay:0,easing:""};r=Y5(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=Y5(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function i3e(){return new D(3100,!1)}()),a=!0),o<0&&(e.push(function r3e(){return new D(3101,!1)}()),a=!0),a&&e.splice(l,0,AH())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Fp(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function zH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ws(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function UH(n,e,t){return t?e+":"+t+";":""}function $H(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=UH(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=UH(0,W3e(t),n.style[t]));n.setAttribute("style",e)}function ao(n,e,t){n.style&&(e.forEach((i,r)=>{const o=X5(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),j5()&&$H(n))}function pl(n,e){n.style&&(e.forEach((t,i)=>{const r=X5(i);n.style[r]=""}),j5()&&$H(n))}function Lp(n){return Array.isArray(n)?1==n.length?n[0]:cH(n):n}const Q5=new RegExp("{{\\s*(.+?)\\s*}}","g");function GH(n){let e=[];if("string"==typeof n){let t;for(;t=Q5.exec(n);)e.push(t[1]);Q5.lastIndex=0}return e}function Hy(n,e,t){const i=n.toString(),r=i.replace(Q5,(o,s)=>{let a=e[s];return null==a&&(t.push(function s3e(n){return new D(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function jy(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const G3e=/-+([a-z0-9])/g;function X5(n){return n.replace(G3e,(...e)=>e[1].toUpperCase())}function W3e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function a3e(n){return new D(3004,!1)}()}}function WH(n,e){return window.getComputedStyle(n)[e]}function J3e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function eSe(n,e,t){if(":"==n[0]){const l=function tSe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function b3e(n){return new D(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function k3e(n){return new D(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(KH(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&e.push(KH(s,r))}(i,t,e)):t.push(n),t}const $y=new Set(["true","1"]),Gy=new Set(["false","0"]);function KH(n,e){const t=$y.has(n)||Gy.has(n),i=$y.has(e)||Gy.has(e);return(r,o)=>{let s="*"==n||n==r,a="*"==e||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?$y.has(n):Gy.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?$y.has(e):Gy.has(e)),s&&a}}const nSe=new RegExp("s*:selfs*,?","g");function J5(n,e,t,i){return new iSe(n).build(e,t,i)}class iSe{constructor(e){this._driver=e}build(e,t,i){const r=new sSe(t);return this._resetContextStyleTimingState(r),Wi(this,Lp(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function c3e(){return new D(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function u3e(){return new D(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{GH(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(jy(o.values()),t.errors.push(function d3e(n,e){return new D(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Wi(this,Lp(e.animation),t);return{type:1,matchers:J3e(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:fl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Wi(this,i,t)),options:fl(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Wi(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:fl(e.options)}}visitAnimate(e,t){const i=function lSe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return e3(By(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=e3(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=By(t,e);return e3(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:di({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=di(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Ko?i.push(a):t.errors.push(new D(3002,!1)):i.push(zH(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(function p3e(n,e,t,i,r){return new D(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),t.options&&function $3e(n,e,t){const i=e.params||{},r=GH(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function o3e(n){return new D(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function f3e(){return new D(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=e.steps.map(k=>{const w=this._makeStyleAst(k,t);let v=null!=w.offset?w.offset:function aSe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(w.styles),E=0;return null!=v&&(o++,E=w.offset=v),l=l||E<0||E>1,a=a||E<c,c=E,s.push(E),w});l&&t.errors.push(function m3e(){return new D(3012,!1)}()),a&&t.errors.push(function g3e(){return new D(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function y3e(){return new D(3202,!1)}()):0==o&&(h=1/(d-1));const p=d-1,f=t.currentTime,m=t.currentAnimateTimings,y=m.duration;return u.forEach((k,w)=>{const v=h>0?w==p?1:h*w:s[w],E=v*y;t.currentTime=f+m.delay+E,m.duration=E,this._validateStyleAst(k,t),k.offset=v,i.styles.push(k)}),i}visitReference(e,t){return{type:8,animation:Wi(this,Lp(e.animation),t),options:fl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:fl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:fl(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function rSe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(nSe,"")),n=n.replace(/@\*/g,Vy).replace(/@\w+/g,t=>Vy+"-"+t.slice(1)).replace(/:animating/g,Z5),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Gi(t.collectedStyles,t.currentQuerySelector,new Map);const a=Wi(this,Lp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:fl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function _3e(){return new D(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:By(e.timings,t.errors,!0);return{type:12,animation:Wi(this,Lp(e.animation),t),timings:i,options:null}}}class sSe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function fl(n){return n?(n=Fp(n)).params&&(n.params=function oSe(n){return n?Fp(n):null}(n.params)):n={},n}function e3(n,e,t){return{duration:n,delay:e,easing:t}}function t3(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Wy{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const dSe=new RegExp(":enter","g"),pSe=new RegExp(":leave","g");function n3(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return(new fSe).buildKeyframes(n,e,t,i,r,o,s,a,l,c)}class fSe{buildKeyframes(e,t,i,r,o,s,a,l,c,u=[]){c=c||new Wy;const d=new r3(e,t,c,r,o,u,[]);d.options=l;const h=l.delay?Gs(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),Wi(this,i,d);const p=d.timelines.filter(f=>f.containsAnimation());if(p.length&&a.size){let f;for(let m=p.length-1;m>=0;m--){const y=p[m];if(y.element===t){f=y;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,l)}return p.length?p.map(f=>f.buildKeyframes()):[t3(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Gs(i.duration):null,a=null!=i.delay?Gs(i.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Wi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ky);const s=Gs(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Wi(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Gs(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Wi(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return By(t.params?Hy(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Gs(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ky);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),Wi(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Wi(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Ky={};class r3{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ky,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Zy(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Gs(i.duration)),null!=i.delay&&(r.delay=Gs(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Hy(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new r3(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Ky,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new mSe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(dSe,"."+this._enterClassName)).replace(pSe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function v3e(n){return new D(3014,!1)}()),a}}class Zy{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Zy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ko),this._currentKeyframe.set(t,Ko);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function gSe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Ko)}else Ws(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=Hy(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ko),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Ws(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===Ko&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const o=e.size?jy(e.values()):[],s=t.size?jy(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return t3(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class mSe extends Zy{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=Ws(e[0]);l.set("offset",0),o.push(l);const c=Ws(e[0]);c.set("offset",QH(a)),o.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Ws(e[d]);const p=h.get("offset");h.set("offset",QH((t+p*i)/s)),o.push(h)}i=s,t=0,r="",e=o}return t3(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function QH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class o3{}const ySe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _Se extends o3{normalizePropertyName(e,t){return X5(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(ySe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function l3e(n,e){return new D(3005,!1)}())}return s+o}}function XH(n,e,t,i,r,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const s3={};class JH{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function vSe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||s3,f=this.buildStyles(i,a&&a.params||s3,d),m=l&&l.params||s3,y=this.buildStyles(r,m,d),k=new Set,w=new Map,v=new Map,E="void"===r,H={params:kSe(m,h),delay:this.ast.options?.delay},q=u?[]:n3(e,t,this.ast.animation,o,s,f,y,H,c,d);let de=0;if(q.forEach(xt=>{de=Math.max(xt.duration+xt.delay,de)}),d.length)return XH(t,this._triggerName,i,r,E,f,y,[],[],w,v,de,d);q.forEach(xt=>{const mi=xt.element,Fu=Gi(w,mi,new Set);xt.preStyleProps.forEach(Nr=>Fu.add(Nr));const Jo=Gi(v,mi,new Set);xt.postStyleProps.forEach(Nr=>Jo.add(Nr)),mi!==t&&k.add(mi)});const tt=jy(k.values());return XH(t,this._triggerName,i,r,E,f,y,q,tt,w,v,de)}}function kSe(n,e){const t=Fp(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class bSe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Fp(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Hy(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(l,s)})}),i}}class MSe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new bSe(r.style,r.options&&r.options.params||{},i))}),ej(this.states,"true","1"),ej(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new JH(e,r,this.states))}),this.fallbackTransition=function CSe(n,e,t){return new JH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function ej(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const xSe=new Wy;class ESe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=J5(this._driver,t,i,[]);if(i.length)throw function E3e(n){return new D(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=RH(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=n3(this._driver,t,o,K5,Fy,new Map,new Map,i,xSe,r),s.forEach(u=>{const d=Gi(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function S3e(){return new D(3300,!1)}()),s=[]),r.length)throw function T3e(n){return new D(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,p)=>{u.set(p,this._driver.computeStyle(d,p,Ko))})});const c=$s(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function D3e(n){return new D(3301,!1)}();return t}listen(e,t,i,r){const o=U5(t,"","","");return z5(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const tj="ng-animate-queued",a3="ng-animate-disabled",ASe=[],nj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},RSe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cr="__ng_removed";class l3{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function FSe(n){return n??null}(i?e.value:e),i){const o=Fp(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Vp="void",c3=new l3(Vp);class PSe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ur(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function I3e(n,e){return new D(3302,!1)}();if(null==i||0==i.length)throw function A3e(n){return new D(3303,!1)}();if(!function LSe(n){return"start"==n||"done"==n}(i))throw function R3e(n,e){return new D(3400,!1)}();const o=Gi(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Gi(this._engine.statesByElement,e,new Map);return a.has(t)||(ur(e,Ly),ur(e,Ly+"-"+t),a.set(t,c3)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function P3e(n){return new D(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new u3(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(ur(e,Ly),ur(e,Ly+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new l3(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=c3),c.value!==Vp&&l.value===c.value){if(!function HSe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const m=[],y=o.matchStyles(l.value,l.params,m),k=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{pl(e,y),ao(e,k)})}return}const h=Gi(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let p=o.matchTransition(l.value,c.value,e,c.params),f=!1;if(!p){if(!r)return;p=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:c,player:s,isFallbackTransition:f}),f||(ur(e,tj),s.onStart(()=>{Du(e,tj)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const y=this._engine.playersByElement.get(e);if(y){let k=y.indexOf(s);k>=0&&y.splice(k,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Vy,!0);i.forEach(r=>{if(r[cr])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Vp,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&$s(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||c3,u=new l3(Vp),d=new u3(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[cr];(!o||o===nj)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ur(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=U5(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,z5(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class OSe{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new PSe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(Yy(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Yy(t))return;const o=t[cr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ur(e,a3)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Du(e,a3))}removeNode(e,t,i,r){if(Yy(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[cr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Yy(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Vy,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Z5,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $s(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[cr];if(t&&t.setForRemoval){if(e[cr]=nj,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(a3)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ur(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?$s(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function O3e(n){return new D(3402,!1)}()}_flushAnimations(e,t){const i=new Wy,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(K=>{u.add(K);const ee=this.driver.query(K,".ng-animate-queued",!0);for(let oe=0;oe<ee.length;oe++)u.add(ee[oe])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=oj(h,this.collectedEnterElements),f=new Map;let m=0;p.forEach((K,ee)=>{const oe=K5+m++;f.set(ee,oe),K.forEach(He=>ur(He,oe))});const y=[],k=new Set,w=new Set;for(let K=0;K<this.collectedLeaveElements.length;K++){const ee=this.collectedLeaveElements[K],oe=ee[cr];oe&&oe.setForRemoval&&(y.push(ee),k.add(ee),oe.hasAnimation?this.driver.query(ee,".ng-star-inserted",!0).forEach(He=>k.add(He)):w.add(ee))}const v=new Map,E=oj(h,Array.from(k));E.forEach((K,ee)=>{const oe=Fy+m++;v.set(ee,oe),K.forEach(He=>ur(He,oe))}),e.push(()=>{p.forEach((K,ee)=>{const oe=f.get(ee);K.forEach(He=>Du(He,oe))}),E.forEach((K,ee)=>{const oe=v.get(ee);K.forEach(He=>Du(He,oe))}),y.forEach(K=>{this.processLeaveNode(K)})});const H=[],q=[];for(let K=this._namespaceList.length-1;K>=0;K--)this._namespaceList[K].drainQueuedTransitions(t).forEach(oe=>{const He=oe.player,xn=oe.element;if(H.push(He),this.collectedEnterElements.length){const Yn=xn[cr];if(Yn&&Yn.setForMove){if(Yn.previousTriggersValues&&Yn.previousTriggersValues.has(oe.triggerName)){const bl=Yn.previousTriggersValues.get(oe.triggerName),dr=this.statesByElement.get(oe.element);if(dr&&dr.has(oe.triggerName)){const b2=dr.get(oe.triggerName);b2.value=bl,dr.set(oe.triggerName,b2)}}return void He.destroy()}}const uo=!d||!this.driver.containsElement(d,xn),Zi=v.get(xn),Qs=f.get(xn),Rt=this._buildInstruction(oe,i,Qs,Zi,uo);if(Rt.errors&&Rt.errors.length)return void q.push(Rt);if(uo)return He.onStart(()=>pl(xn,Rt.fromStyles)),He.onDestroy(()=>ao(xn,Rt.toStyles)),void r.push(He);if(oe.isFallbackTransition)return He.onStart(()=>pl(xn,Rt.fromStyles)),He.onDestroy(()=>ao(xn,Rt.toStyles)),void r.push(He);const Aq=[];Rt.timelines.forEach(Yn=>{Yn.stretchStartingKeyframe=!0,this.disabledNodes.has(Yn.element)||Aq.push(Yn)}),Rt.timelines=Aq,i.append(xn,Rt.timelines),s.push({instruction:Rt,player:He,element:xn}),Rt.queriedElements.forEach(Yn=>Gi(a,Yn,[]).push(He)),Rt.preStyleProps.forEach((Yn,bl)=>{if(Yn.size){let dr=l.get(bl);dr||l.set(bl,dr=new Set),Yn.forEach((b2,oS)=>dr.add(oS))}}),Rt.postStyleProps.forEach((Yn,bl)=>{let dr=c.get(bl);dr||c.set(bl,dr=new Set),Yn.forEach((b2,oS)=>dr.add(oS))})});if(q.length){const K=[];q.forEach(ee=>{K.push(function N3e(n,e){return new D(3505,!1)}())}),H.forEach(ee=>ee.destroy()),this.reportError(K)}const de=new Map,tt=new Map;s.forEach(K=>{const ee=K.element;i.has(ee)&&(tt.set(ee,ee),this._beforeAnimationBuild(K.player.namespaceId,K.instruction,de))}),r.forEach(K=>{const ee=K.element;this._getPreviousPlayers(ee,!1,K.namespaceId,K.triggerName,null).forEach(He=>{Gi(de,ee,[]).push(He),He.destroy()})});const xt=y.filter(K=>aj(K,l,c)),mi=new Map;rj(mi,this.driver,w,c,Ko).forEach(K=>{aj(K,l,c)&&xt.push(K)});const Jo=new Map;p.forEach((K,ee)=>{rj(Jo,this.driver,new Set(K),l,"!")}),xt.forEach(K=>{const ee=mi.get(K),oe=Jo.get(K);mi.set(K,new Map([...Array.from(ee?.entries()??[]),...Array.from(oe?.entries()??[])]))});const Nr=[],Lu=[],Vu={};s.forEach(K=>{const{element:ee,player:oe,instruction:He}=K;if(i.has(ee)){if(u.has(ee))return oe.onDestroy(()=>ao(ee,He.toStyles)),oe.disabled=!0,oe.overrideTotalTime(He.totalTime),void r.push(oe);let xn=Vu;if(tt.size>1){let Zi=ee;const Qs=[];for(;Zi=Zi.parentNode;){const Rt=tt.get(Zi);if(Rt){xn=Rt;break}Qs.push(Zi)}Qs.forEach(Rt=>tt.set(Rt,xn))}const uo=this._buildAnimation(oe.namespaceId,He,de,o,Jo,mi);if(oe.setRealPlayer(uo),xn===Vu)Nr.push(oe);else{const Zi=this.playersByElement.get(xn);Zi&&Zi.length&&(oe.parentPlayer=$s(Zi)),r.push(oe)}}else pl(ee,He.fromStyles),oe.onDestroy(()=>ao(ee,He.toStyles)),Lu.push(oe),u.has(ee)&&r.push(oe)}),Lu.forEach(K=>{const ee=o.get(K.element);if(ee&&ee.length){const oe=$s(ee);K.setRealPlayer(oe)}}),r.forEach(K=>{K.parentPlayer?K.syncPlayerEvents(K.parentPlayer):K.destroy()});for(let K=0;K<y.length;K++){const ee=y[K],oe=ee[cr];if(Du(ee,Fy),oe&&oe.hasAnimation)continue;let He=[];if(a.size){let uo=a.get(ee);uo&&uo.length&&He.push(...uo);let Zi=this.driver.query(ee,Z5,!0);for(let Qs=0;Qs<Zi.length;Qs++){let Rt=a.get(Zi[Qs]);Rt&&Rt.length&&He.push(...Rt)}}const xn=He.filter(uo=>!uo.destroyed);xn.length?VSe(this,ee,xn):this.processLeaveNode(ee)}return y.length=0,Nr.forEach(K=>{this.players.push(K),K.onDone(()=>{K.destroy();const ee=this.players.indexOf(K);this.players.splice(ee,1)}),K.play()}),Nr}elementContainsData(e,t){let i=!1;const r=t[cr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Vp;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,d=Gi(i,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(p=>{const f=p.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),p.destroy(),d.push(p)})}pl(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(f=>{const m=f.element;u.add(m);const y=m[cr];if(y&&y.removedBeforeQueried)return new Ip(f.duration,f.delay);const k=m!==l,w=function BSe(n){const e=[];return sj(n,e),e}((i.get(m)||ASe).map(de=>de.getRealPlayer())).filter(de=>!!de.element&&de.element===m),v=o.get(m),E=s.get(m),H=RH(0,this._normalizer,0,f.keyframes,v,E),q=this._buildPlayer(f,H,w);if(f.subTimeline&&r&&d.add(m),k){const de=new u3(e,a,m);de.setRealPlayer(q),c.push(de)}return q});c.forEach(f=>{Gi(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>function NSe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,f.element,f))}),u.forEach(f=>ur(f,jH));const p=$s(h);return p.onDestroy(()=>{u.forEach(f=>Du(f,jH)),ao(l,t.toStyles)}),d.forEach(f=>{Gi(r,f,[]).push(p)}),p}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Ip(e.duration,e.delay)}}class u3{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Ip,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>z5(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Gi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Yy(n){return n&&1===n.nodeType}function ij(n,e){const t=n.style.display;return n.style.display=e??"none",t}function rj(n,e,t,i,r){const o=[];t.forEach(l=>o.push(ij(l)));const s=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[cr]=RSe,s.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>ij(l,o[a++])),s}function oj(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function ur(n,e){n.classList?.add(e)}function Du(n,e){n.classList?.remove(e)}function VSe(n,e,t){$s(t).onDone(()=>n.processLeaveNode(e))}function sj(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof dH?sj(i.players,e):e.push(i)}}function aj(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class Qy{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new OSe(e,t,i),this._timelineEngine=new ESe(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=J5(this._driver,o,l,[]);if(l.length)throw function C3e(n,e){return new D(3404,!1)}();a=function wSe(n,e,t){return new MSe(n,e,t)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=PH(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=PH(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let zSe=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ao(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ao(this._element,this._initialStyles),this._endStyles&&(ao(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(pl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pl(this._element,this._endStyles),this._endStyles=null),ao(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function d3(n){let e=null;return n.forEach((t,i)=>{(function qSe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class lj{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:WH(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class USe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return LH(e,t)}getParentElement(e){return G5(e)}query(e,t,i){return VH(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(p=>p instanceof lj);(function K3e(n,e){return 0===n||0===e})(i,r)&&u.forEach(p=>{p.currentSnapshot.forEach((f,m)=>c.set(m,f))});let d=function U3e(n){return n.length?n[0]instanceof Map?n:n.map(e=>zH(e)):[]}(t).map(p=>Ws(p));d=function Z3e(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,WH(n,a)))}}return e}(e,d,c);const h=function jSe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=d3(e[0]),e.length>1&&(i=d3(e[e.length-1]))):e instanceof Map&&(t=d3(e)),t||i?new zSe(n,t,i):null}(e,d);return new lj(e,d,l,h)}}let $Se=(()=>{class n extends lH{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:fr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?cH(t):t;return cj(this._renderer,null,i,"register",[r]),new GSe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(C(ad),C(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class GSe extends class r2e{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new WSe(this._id,e,t||{},this._renderer)}}class WSe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return cj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function cj(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const uj="@.disabled";let KSe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new dj("",o,this.engine),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,t,u.name,u)};return i.data.animation.forEach(l),new ZSe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(C(ad),C(Qy),C(ae))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class dj{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==uj?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class ZSe extends dj{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==uj?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function YSe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function QSe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let XSe=(()=>{class n extends Qy{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(C(xe),C(W5),C(o3),C(ga))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const hj=[{provide:lH,useClass:$Se},{provide:o3,useFactory:function JSe(){return new _Se}},{provide:Qy,useClass:XSe},{provide:ad,useFactory:function eTe(n,e,t){return new KSe(n,e,t)},deps:[D1,Qy,ae]}],h3=[{provide:W5,useFactory:()=>new USe},{provide:ma,useValue:"BrowserAnimations"},...hj],pj=[{provide:W5,useClass:BH},{provide:ma,useValue:"NoopAnimations"},...hj];let tTe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?pj:h3}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({providers:h3,imports:[t7]}),n})(),fj=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(_(_r),_(Re))},n.\u0275dir=G({type:n}),n})(),ml=(()=>{class n extends fj{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=un(n)))(i||n)}}(),n.\u0275dir=G({type:n,features:[fe]}),n})();const Ki=new N("NgValueAccessor"),iTe={provide:Ki,useExisting:Ge(()=>Zo),multi:!0},oTe=new N("CompositionEventMode");let Zo=(()=>{class n extends fj{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rTe(){const n=Gr()?Gr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(_(_r),_(Re),_(oTe,8))},n.\u0275dir=G({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&me("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Be([iTe]),fe]}),n})();function Ks(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function gj(n){return null!=n&&"number"==typeof n.length}const Zn=new N("NgValidators"),Zs=new N("NgAsyncValidators"),aTe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Iu{static min(e){return function yj(n){return e=>{if(Ks(e.value)||Ks(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function _j(n){return e=>{if(Ks(e.value)||Ks(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function vj(n){return Ks(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function kj(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function bj(n){return Ks(n.value)||aTe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function wj(n){return e=>Ks(e.value)||!gj(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Mj(n){return e=>gj(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Cj(n){if(!n)return Jy;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ks(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Ij(e)}static composeAsync(e){return Aj(e)}}function Jy(n){return null}function xj(n){return null!=n}function Ej(n){return gd(n)?$e(n):n}function Sj(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Tj(n,e){return e.map(t=>t(n))}function Dj(n){return n.map(e=>function lTe(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ij(n){if(!n)return null;const e=n.filter(xj);return 0==e.length?null:function(t){return Sj(Tj(t,e))}}function p3(n){return null!=n?Ij(Dj(n)):null}function Aj(n){if(!n)return null;const e=n.filter(xj);return 0==e.length?null:function(t){return WB(Tj(t,e).map(Ej)).pipe(Z(Sj))}}function f3(n){return null!=n?Aj(Dj(n)):null}function Rj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Pj(n){return n._rawValidators}function Oj(n){return n._rawAsyncValidators}function m3(n){return n?Array.isArray(n)?n:[n]:[]}function e2(n,e){return Array.isArray(n)?n.includes(e):n===e}function Nj(n,e){const t=m3(e);return m3(n).forEach(r=>{e2(t,r)||t.push(r)}),t}function Fj(n,e){return m3(e).filter(t=>!e2(n,t))}class Lj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=p3(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=f3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class hi extends Lj{get formDirective(){return null}get path(){return null}}class Yo extends Lj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Vj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gl=(()=>{class n extends Vj{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(_(Yo,2))},n.\u0275dir=G({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Lt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[fe]}),n})(),t2=(()=>{class n extends Vj{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(_(hi,10))},n.\u0275dir=G({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&Lt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[fe]}),n})();const Bp="VALID",r2="INVALID",Au="PENDING",Hp="DISABLED";function v3(n){return(o2(n)?n.validators:n)||null}function Hj(n){return Array.isArray(n)?p3(n):n||null}function k3(n,e){return(o2(e)?e.asyncValidators:n)||null}function jj(n){return Array.isArray(n)?f3(n):n||null}function o2(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function zj(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new D(1e3,"");if(!i[t])throw new D(1001,"")}function qj(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new D(1002,"")})}class s2{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Hj(this._rawValidators),this._composedAsyncValidatorFn=jj(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Bp}get invalid(){return this.status===r2}get pending(){return this.status==Au}get disabled(){return this.status===Hp}get enabled(){return this.status!==Hp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Hj(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=jj(e)}addValidators(e){this.setValidators(Nj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Nj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Fj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Fj(e,this._rawAsyncValidators))}hasValidator(e){return e2(this._rawValidators,e)}hasAsyncValidator(e){return e2(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Au,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hp,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bp,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bp||this.status===Au)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hp:Bp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Au,this._hasOwnPendingAsyncValidator=!0;const t=Ej(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?Hp:this.errors?r2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Au)?Au:this._anyControlsHaveStatus(r2)?r2:Bp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){o2(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class a2 extends s2{constructor(e,t,i){super(v3(t),k3(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){qj(this,0,e),Object.keys(e).forEach(i=>{zj(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function jp(n,e){b3(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function yTe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Uj(n,e)})}(n,e),function vTe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function _Te(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Uj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function gTe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function c2(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),d2(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function u2(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function b3(n,e){const t=Pj(n);null!==e.validator?n.setValidators(Rj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Oj(n);null!==e.asyncValidator?n.setAsyncValidators(Rj(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();u2(e._rawValidators,r),u2(e._rawAsyncValidators,r)}function d2(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Pj(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=Oj(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return u2(e._rawValidators,i),u2(e._rawAsyncValidators,i),t}function Uj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $j(n,e){b3(n,e)}function w3(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Wj(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function M3(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Zo?t=o:function wTe(n){return Object.getPrototypeOf(n.constructor)===ml}(o)?i=o:r=o}),r||i||t||null}const CTe={provide:hi,useExisting:Ge(()=>h2)},zp=(()=>Promise.resolve(null))();let h2=(()=>{class n extends hi{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Me,this.form=new a2({},p3(t),f3(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){zp.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),jp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){zp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){zp.then(()=>{const i=this._findContainer(t.path),r=new a2({});$j(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){zp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){zp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Wj(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(_(Zn,10),_(Zs,10))},n.\u0275dir=G({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&me("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Be([CTe]),fe]}),n})();function Kj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Zj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ii=class extends s2{constructor(e=null,t,i){super(v3(t),k3(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),o2(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Zj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Kj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Kj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Zj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let p2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),tz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({}),n})();const C3=new N("NgModelWithFormControlWarning"),RTe={provide:Yo,useExisting:Ge(()=>qp)};let qp=(()=>{class n extends Yo{constructor(t,i,r,o){super(),this._ngModelWarningConfig=o,this.update=new Me,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=M3(0,r)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&c2(i,this,!1),jp(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}w3(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&c2(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(_(Zn,10),_(Zs,10),_(Ki,10),_(C3,8))},n.\u0275dir=G({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Be([RTe]),fe,En]}),n})();const PTe={provide:hi,useExisting:Ge(()=>yl)};let yl=(()=>{class n extends hi{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Me,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(d2(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return jp(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){c2(t.control||null,t,!1),function MTe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Wj(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(c2(i||null,t),(n=>n instanceof Ii)(r)&&(jp(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);$j(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function kTe(n,e){return d2(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){b3(this.form,this),this._oldForm&&d2(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(_(Zn,10),_(Zs,10))},n.\u0275dir=G({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&me("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Be([PTe]),fe,En]}),n})();const FTe={provide:Yo,useExisting:Ge(()=>Up)};let Up=(()=>{class n extends Yo{constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Me,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=M3(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),w3(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function l2(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(_(hi,13),_(Zn,10),_(Zs,10),_(Ki,10),_(C3,8))},n.\u0275dir=G({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Be([FTe]),fe,En]}),n})(),QTe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[tz]}),n})(),I3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:C3,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[QTe]}),n})();class gz extends s2{constructor(e,t,i){super(v3(t),k3(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){qj(this,0,e),e.forEach((i,r)=>{zj(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function yz(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let XTe=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let o={};return yz(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new a2(r,o)}control(t,i,r){let o={};return this.useNonNullable?(yz(i)?o=i:(o.validators=i,o.asyncValidators=r),new Ii(t,{...o,nonNullable:!0})):new Ii(t,i,r)}array(t,i,r){const o=t.map(s=>this._createControl(s));return new gz(o,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Ii||t instanceof s2?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:I3}),n})(),A3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return ct(XTe).nonNullable},providedIn:I3}),n})(),R3=(()=>{class n{constructor(t,i){this.firestore=t,this.usersService=i}get myChats$(){const t=vu(this.firestore,"chats");return this.usersService.currentUserProfile$.pipe(sr(i=>{const r=l5(t,cge("userIds","array-contains",i?.uid));return s5(r,{idField:"id"}).pipe(Z(o=>this.addChatNameAndPic(i?.uid,o)))}))}createChat(t){const i=vu(this.firestore,"chats");return this.usersService.currentUserProfile$.pipe(Pt(1),ot(r=>"string"==typeof t?$(t):$e(a5(i,{userIds:[r?.uid,t?.uid],users:[{displayName:r?.displayName??""},{displayName:t.displayName??""}]})).pipe(Z(o=>o.id))))}createChatWithId(t){const i=vu(this.firestore,"chats");return this.usersService.currentUserProfile$.pipe(Pt(1),sr(r=>a5(i,{userIds:[r?.uid,t],users:[{displayName:r?.displayName??""}]})),Z(r=>r.id))}isExistingChat(t){return this.myChats$.pipe(Pt(1),Z(i=>{for(let r=0;r<i.length;r++)if(i[r].userIds.includes(t))return i[r].id;return null}))}addChatMessage(t,i){const r=vu(this.firestore,"chats",t,"messages"),o=vy(this.firestore,"chats",t),s=Mt.fromDate(new Date);return this.usersService.currentUserProfile$.pipe(Pt(1),sr(a=>a5(r,{text:i,senderId:a?.uid,sentDate:s})),sr(()=>mB(o,{lastMessage:i,lastMessageDate:s})))}getChatMessages$(t){const i=vu(this.firestore,"chats",t,"messages"),r=l5(i,age("sentDate","asc"));return s5(r)}addChatNameAndPic(t,i){return i.forEach(r=>{const o=0===r.userIds.indexOf(t??"")?1:0,{displayName:s}=r.users[o];r.chatName=s}),i}}return n.\u0275fac=function(t){return new(t||n)(C(kp),C(Hs))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JTe=["connectionContainer"],eDe=["inputContainer"],tDe=["label"];function nDe(n,e){1&n&&(_i(0),x(1,"div",14),te(2,"div",15)(3,"div",16)(4,"div",17),S(),x(5,"div",18),te(6,"div",15)(7,"div",16)(8,"div",17),S(),vi())}function iDe(n,e){if(1&n){const t=wr();x(0,"div",19),me("cdkObserveContent",function(){return an(t),ln(J().updateOutlineGap())}),St(1,1),S()}2&n&&R("cdkObserveContentDisabled","outline"!=J().appearance)}function rDe(n,e){if(1&n&&(_i(0),St(1,2),x(2,"span"),T(3),S(),vi()),2&n){const t=J(2);I(3),ii(t._control.placeholder)}}function oDe(n,e){1&n&&St(0,3,["*ngSwitchCase","true"])}function sDe(n,e){1&n&&(x(0,"span",23),T(1," *"),S())}function aDe(n,e){if(1&n){const t=wr();x(0,"label",20,21),me("cdkObserveContent",function(){return an(t),ln(J().updateOutlineGap())}),X(2,rDe,4,1,"ng-container",12),X(3,oDe,1,0,"ng-content",12),X(4,sDe,2,0,"span",22),S()}if(2&n){const t=J();Lt("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),R("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Xe("for",t._control.id)("aria-owns",t._control.id),I(2),R("ngSwitchCase",!1),I(1),R("ngSwitchCase",!0),I(1),R("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function lDe(n,e){1&n&&(x(0,"div",24),St(1,4),S())}function cDe(n,e){if(1&n&&(x(0,"div",25),te(1,"span",26),S()),2&n){const t=J();I(1),Lt("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function uDe(n,e){1&n&&(x(0,"div"),St(1,5),S()),2&n&&R("@transitionMessages",J()._subscriptAnimationState)}function dDe(n,e){if(1&n&&(x(0,"div",30),T(1),S()),2&n){const t=J(2);R("id",t._hintLabelId),I(1),ii(t.hintLabel)}}function hDe(n,e){if(1&n&&(x(0,"div",27),X(1,dDe,2,2,"div",28),St(2,6),te(3,"div",29),St(4,7),S()),2&n){const t=J();R("@transitionMessages",t._subscriptAnimationState),I(1),R("ngIf",t.hintLabel)}}const pDe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],fDe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let mDe=0;const _z=new N("MatError");let vz=(()=>{class n{constructor(t,i){this.id="mat-error-"+mDe++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(os("aria-live"),_(Re))},n.\u0275dir=G({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&Xe("id",i.id)},inputs:{id:"id"},features:[Be([{provide:_z,useExisting:n}])]}),n})();const gDe={transitionMessages:Oy("transitionMessages",[Dp("enter",di({opacity:1,transform:"translateY(0%)"})),Tu("void => enter",[di({opacity:0,transform:"translateY(-5px)"}),Su("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let P3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n}),n})();const yDe=new N("MatHint");let kz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["mat-label"]]}),n})(),_De=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["mat-placeholder"]]}),n})();const vDe=new N("MatPrefix"),bz=new N("MatSuffix");let wz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["","matSuffix",""]],features:[Be([{provide:bz,useExisting:n}])]}),n})(),Mz=0;const bDe=Ey(class{constructor(n){this._elementRef=n}},"primary"),wDe=new N("MAT_FORM_FIELD_DEFAULT_OPTIONS"),O3=new N("MatFormField");let Ru=(()=>{class n extends bDe{constructor(t,i,r,o,s,a,l){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=s,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ge,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Mz++,this._labelId="mat-form-field-label-"+Mz++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=kt(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Si(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(on(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(on(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Fr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Si(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Si(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(on(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,cl(this._label.nativeElement,"transitionend").pipe(Pt(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const u=i.querySelectorAll(`${r}, ${o}`);for(let d=0;d<u.length;d++)u[d].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,a=0;const l=i.querySelectorAll(r),c=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const u=i.getBoundingClientRect();if(0===u.width&&0===u.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const d=this._getStartEnd(u),h=t.children,p=this._getStartEnd(h[0].getBoundingClientRect());let f=0;for(let m=0;m<h.length;m++)f+=h[m].offsetWidth;s=Math.abs(p-d)-5,a=f>0?.75*f+10:0}for(let u=0;u<l.length;u++)l[u].style.width=`${s}px`;for(let u=0;u<c.length;u++)c[u].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(Sn),_(xy,8),_(wDe,8),_(ui),_(ae),_(ma,8))},n.\u0275cmp=Ae({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(Tt(r,P3,5),Tt(r,P3,7),Tt(r,kz,5),Tt(r,kz,7),Tt(r,_De,5),Tt(r,_z,5),Tt(r,yDe,5),Tt(r,vDe,5),Tt(r,bz,5)),2&t){let o;Se(o=Te())&&(i._controlNonStatic=o.first),Se(o=Te())&&(i._controlStatic=o.first),Se(o=Te())&&(i._labelChildNonStatic=o.first),Se(o=Te())&&(i._labelChildStatic=o.first),Se(o=Te())&&(i._placeholderChild=o.first),Se(o=Te())&&(i._errorChildren=o),Se(o=Te())&&(i._hintChildren=o),Se(o=Te())&&(i._prefixChildren=o),Se(o=Te())&&(i._suffixChildren=o)}},viewQuery:function(t,i){if(1&t&&(oi(JTe,7),oi(eDe,5),oi(tDe,5)),2&t){let r;Se(r=Te())&&(i._connectionContainerRef=r.first),Se(r=Te())&&(i._inputContainerRef=r.first),Se(r=Te())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&Lt("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Be([{provide:O3,useExisting:n}]),fe],ngContentSelectors:fDe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(ki(pDe),x(0,"div",0)(1,"div",1,2),me("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),X(3,nDe,9,0,"ng-container",3),X(4,iDe,2,1,"div",4),x(5,"div",5,6),St(7),x(8,"span",7),X(9,aDe,5,16,"label",8),S()(),X(10,lDe,2,0,"div",9),S(),X(11,cDe,2,4,"div",10),x(12,"div",11),X(13,uDe,2,1,"div",12),X(14,hDe,5,2,"div",13),S()()),2&t&&(I(3),R("ngIf","outline"==i.appearance),I(1),R("ngIf",i._prefixChildren.length),I(5),R("ngIf",i._hasFloatingLabel()),I(1),R("ngIf",i._suffixChildren.length),I(1),R("ngIf","outline"!=i.appearance),I(1),R("ngSwitch",i._getDisplayedMessages()),I(1),R("ngSwitchCase","error"),I(1),R("ngSwitchCase","hint"))},dependencies:[Ci,Dd,Cv,Ige],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[gDe.transitionMessages]},changeDetection:0}),n})(),N3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[ds,st,wB,st]}),n})();const xz=bu({passive:!0});let MDe=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return hr;const i=Wo(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new ge,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,xz),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,xz)}}),o}stopMonitoring(t){const i=Wo(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(C(ui),C(ae))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ez=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({}),n})();const CDe=new N("MAT_INPUT_VALUE_ACCESSOR"),xDe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let EDe=0;const SDe=rye(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new ge}});let Pu=(()=>{class n extends SDe{constructor(t,i,r,o,s,a,l,c,u,d){super(a,o,s,r),this._elementRef=t,this._platform=i,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+EDe++,this.focused=!1,this.stateChanges=new ge,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(f=>yB().has(f)),this._iOSKeyupListener=f=>{const m=f.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,p=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===p,this._isTextarea="textarea"===p,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=kt(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Iu.required)??!1}set required(t){this._required=kt(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&yB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=kt(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){xDe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(ui),_(Yo,10),_(h2,8),_(yl,8),_(LB),_(CDe,10),_(MDe),_(ae),_(O3,8))},n.\u0275dir=G({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&me("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(Yf("disabled",i.disabled)("required",i.required),Xe("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),Lt("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Be([{provide:P3,useExisting:n}]),fe,En]}),n})(),TDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({providers:[LB],imports:[Ez,N3,st,Ez,N3]}),n})();const DDe=["panel"];function IDe(n,e){if(1&n&&(x(0,"div",0,1),St(2),S()),2&n){const t=e.id,i=J();R("id",i.id)("ngClass",i._classList),Xe("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(t))}}const ADe=["*"];let RDe=0;class PDe{constructor(e,t){this.source=e,this.option=t}}const ODe=Cu(class{}),Sz=new N("mat-autocomplete-default-options",{providedIn:"root",factory:function NDe(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1}}});let FDe=(()=>{class n extends ODe{constructor(t,i,r,o){super(),this._changeDetectorRef=t,this._elementRef=i,this._activeOptionChanges=pt.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Me,this.opened=new Me,this.closed=new Me,this.optionActivated=new Me,this._classList={},this.id="mat-autocomplete-"+RDe++,this.inertGroups=o?.SAFARI||!1,this._autoActiveFirstOption=!!r.autoActiveFirstOption,this._autoSelectActiveOption=!!r.autoSelectActiveOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=kt(t)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(t){this._autoSelectActiveOption=kt(t)}set classList(t){this._classList=t&&t.length?function Tge(n,e=/\s+/){const t=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(e);for(const r of i){const o=`${r}`.trim();o&&t.push(o)}}return t}(t).reduce((i,r)=>(i[r]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new Lge(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const i=new PDe(this,t);this.optionSelected.emit(i)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}}return n.\u0275fac=function(t){return new(t||n)(_(Sn),_(Re),_(Sz),_(ui))},n.\u0275dir=G({type:n,viewQuery:function(t,i){if(1&t&&(oi(ji,7),oi(DDe,5)),2&t){let r;Se(r=Te())&&(i.template=r.first),Se(r=Te())&&(i.panel=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[fe]}),n})(),Tz=(()=>{class n extends FDe{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=un(n)))(i||n)}}(),n.\u0275cmp=Ae({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(t,i,r){if(1&t&&(Tt(r,UB,5),Tt(r,C5,5)),2&t){let o;Se(o=Te())&&(i.optionGroups=o),Se(o=Te())&&(i.options=o)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[Be([{provide:qB,useExisting:n}]),fe],ngContentSelectors:ADe,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,i){1&t&&(ki(),X(0,IDe,3,4,"ng-template"))},dependencies:[gc],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}"],encapsulation:2,changeDetection:0}),n})();const Dz=new N("mat-autocomplete-scroll-strategy"),VDe={provide:Dz,deps:[dl],useFactory:function LDe(n){return()=>n.scrollStrategies.reposition()}},BDe={provide:Ki,useExisting:Ge(()=>F3),multi:!0};let HDe=(()=>{class n{constructor(t,i,r,o,s,a,l,c,u,d,h){this._element=t,this._overlay=i,this._viewContainerRef=r,this._zone=o,this._changeDetectorRef=s,this._dir=l,this._formField=c,this._document=u,this._viewportRuler=d,this._defaults=h,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=pt.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new ge,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Em(()=>{const p=this.autocomplete?this.autocomplete.options:null;return p?p.changes.pipe(Si(p),ot(()=>Fr(...p.map(f=>f.onSelectionChange)))):this._zone.onStable.pipe(Pt(1),ot(()=>this.optionSelections))}),this._scrollStrategy=a}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=kt(t)}ngAfterViewInit(){const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Fr(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(tn(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(tn(()=>this._overlayAttached)):$()).pipe(Z(t=>t instanceof $B?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Fr(cl(this._document,"click"),cl(this._document,"auxclick"),cl(this._document,"touchend")).pipe(tn(t=>{const i=js(t),r=this._formField?this._formField._elementRef.nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(i))&&(!o||!o.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const i=t.keyCode,r=zs(t);if(27===i&&!r&&t.preventDefault(),this.activeOption&&13===i&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,s=38===i||40===i;9===i||s&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):s&&this._canOpen()&&this.openPanel(),(s||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let i=t.target,r=i.value;"number"===i.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r&&(this._previousValue=r,this._pendingAutoselectedOption=null,this._onChange(r),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return Fr(this._zone.onStable.pipe(Pt(1)),this.autocomplete.options.changes.pipe(rt(()=>this._positionStrategy.reapplyLastPosition()),D5(0))).pipe(ot(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),Pt(1)).subscribe(r=>this._setValueAndClose(r))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(t){const i=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t;this._updateNativeInputValue(i??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const i=t?t.source:this._pendingAutoselectedOption;i&&(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),this.autocomplete._emitSelectEvent(i),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(i=>{i!==t&&i.selected&&i.deselect()})}_attachOverlay(){let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new R5(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._handleOverlayEvents(t),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})})),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const i=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&i!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new N5({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let s;s="above"===this.position?o:"below"===this.position?i:[...i,...o],t.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;t.autoActiveFirstOption?t._keyManager.setFirstItemActive():t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const i=this.autocomplete,r=function fye(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}(t,i.options,i.optionGroups);if(0===t&&1===r)i._setScrollTop(0);else if(i.panel){const o=i.options.toArray()[t];if(o){const s=o._getHostElement(),a=function mye(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(s.offsetTop,s.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(a)}}}_handleOverlayEvents(t){t.keydownEvents().subscribe(i=>{(27===i.keyCode&&!zs(i)||38===i.keyCode&&zs(i,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),i.stopPropagation(),i.preventDefault())}),t.outsidePointerEvents().subscribe()}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(dl),_(wi),_(ae),_(Sn),_(Dz),_(xy,8),_(O3,9),_(xe,8),_(P5),_(Sz,8))},n.\u0275dir=G({type:n,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[En]}),n})(),F3=(()=>{class n extends HDe{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=un(n)))(i||n)}}(),n.\u0275dir=G({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,i){1&t&&me("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(o){return i._handleInput(o)})("keydown",function(o){return i._handleKeydown(o)})("click",function(){return i._handleClick()}),2&t&&Xe("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-owns",i.autocompleteDisabled||!i.panelOpen||null==i.autocomplete?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[Be([BDe]),fe]}),n})(),jDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({providers:[VDe],imports:[F5,GB,st,ds,Rp,GB,st]}),n})();class L3{constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ge,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let V3=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=kt(t)}get inset(){return this._inset}set inset(t){this._inset=kt(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ae({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(Xe("aria-orientation",i.vertical?"vertical":"horizontal"),Lt("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),Iz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[st,st]}),n})();const zDe=["*"],UDe=["text"];function $De(n,e){if(1&n&&te(0,"mat-pseudo-checkbox",5),2&n){const t=J();R("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const GDe=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],WDe=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let KDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),ZDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=G({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})();const YDe=Cu(class{}),QDe=Cu(class{}),XDe={provide:Ki,useExisting:Ge(()=>f2),multi:!0};class JDe{constructor(e,t){this.source=e,this.options=t}}let B3=(()=>{class n extends QDe{constructor(t,i,r){super(),this._element=t,this._changeDetector=i,this.selectionList=r,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new Me,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const i=kt(t);i!==this._disabled&&(this._disabled=i,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const i=kt(t);i!==this._selected&&(this._setSelected(i),(i||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(r=>t.compareWith(this._value,r))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function sye(n,e,t="mat"){n.changes.pipe(Si(n)).subscribe(({length:i})=>{xp(e,`${t}-2-line`,!1),xp(e,`${t}-3-line`,!1),xp(e,`${t}-multi-line`,!1),2===i||3===i?xp(e,`${t}-${i}-line`,!0):i>3&&xp(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,i=this.selectionList._removeOptionFromList(this);t&&i&&i.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(Sn),_(Ge(()=>f2)))},n.\u0275cmp=Ae({type:n,selectors:[["mat-list-option"]],contentQueries:function(t,i,r){if(1&t&&(Tt(r,KDe,5),Tt(r,ZDe,5),Tt(r,b5,5)),2&t){let o;Se(o=Te())&&(i._avatar=o.first),Se(o=Te())&&(i._icon=o.first),Se(o=Te())&&(i._lines=o)}},viewQuery:function(t,i){if(1&t&&oi(UDe,5),2&t){let r;Se(r=Te())&&(i._text=r.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&me("focus",function(){return i._handleFocus()})("blur",function(){return i._handleBlur()})("click",function(){return i._handleClick()}),2&t&&(Xe("aria-selected",i.selected)("aria-disabled",i.disabled)("tabindex",-1),Lt("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)("mat-primary","primary"===i.color)("mat-accent","primary"!==i.color&&"warn"!==i.color)("mat-warn","warn"===i.color)("mat-list-single-selected-option",i.selected&&!i.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[fe],ngContentSelectors:WDe,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,i){1&t&&(ki(GDe),x(0,"div",0),te(1,"div",1),X(2,$De,1,2,"mat-pseudo-checkbox",2),x(3,"div",3,4),St(5),S(),St(6,1),S()),2&t&&(Lt("mat-list-item-content-reverse","after"==i.checkboxPosition),I(1),R("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()),I(1),R("ngIf",i.selectionList.multiple))},dependencies:[xu,zB,Ci],encapsulation:2,changeDetection:0}),n})(),f2=(()=>{class n extends YDe{constructor(t,i,r){super(),this._element=t,this._changeDetector=i,this._focusMonitor=r,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new Me,this.color="accent",this.compareWith=(o,s)=>o===s,this._disabled=!1,this.selectedOptions=new L3(this._multiple),this._tabIndex=-1,this._onChange=o=>{},this._destroyed=new ge,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=kt(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const i=kt(t);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new L3(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new TB(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(on(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(Si(null),on(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(on(this._destroyed)).subscribe(t=>{if(t.added)for(let i of t.added)i.selected=!0;if(t.removed)for(let i of t.removed)i.selected=!1}),this._focusMonitor.monitor(this._element).pipe(on(this._destroyed)).subscribe(t=>{if("keyboard"===t||"program"===t){let i=0;for(let r=0;r<this.options.length;r++)if(this.options.get(r)?.selected){i=r;break}this._keyManager.setActiveItem(i)}})}ngOnChanges(t){const i=t.disableRipple,r=t.color;(i&&!i.firstChange||r&&!r.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const i=this._getOptionIndex(t);return i>-1&&this._keyManager.activeItemIndex===i&&(i>0?this._keyManager.updateActiveItem(i-1):0===i&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(i+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const i=t.keyCode,r=this._keyManager,o=r.activeItemIndex,s=zs(t);switch(i){case 32:case 13:!s&&!r.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===i&&this.multiple&&zs(t,"ctrlKey")&&!r.isTyping()){const a=this.options.some(l=>!l.disabled&&!l.selected);this._setAllOptionsSelected(a,!0,!0),t.preventDefault()}else r.onKeydown(t)}this.multiple&&(38===i||40===i)&&t.shiftKey&&r.activeItemIndex!==o&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new JDe(this,t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(i=>i._setSelected(!1)),t.forEach(i=>{const r=this.options.find(o=>!o.selected&&this.compareWith(o.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let i=this.options.toArray()[t];i&&!i.disabled&&(this._multiple||!i.selected)&&(i.toggle(),this._emitChangeEvent([i]))}}_setAllOptionsSelected(t,i,r){const o=[];return this.options.forEach(s=>{(!i||!s.disabled)&&s._setSelected(t)&&o.push(s)}),o.length&&(this._reportValueChange(),r&&this._emitChangeEvent(o)),o}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return n.\u0275fac=function(t){return new(t||n)(_(Re),_(Sn),_(Mp))},n.\u0275cmp=Ae({type:n,selectors:[["mat-selection-list"]],contentQueries:function(t,i,r){if(1&t&&Tt(r,B3,5),2&t){let o;Se(o=Te())&&(i.options=o)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,i){1&t&&me("keydown",function(o){return i._keydown(o)}),2&t&&Xe("aria-multiselectable",i.multiple)("aria-disabled",i.disabled.toString())("tabindex",i._tabIndex)},inputs:{disableRipple:"disableRipple",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Be([XDe]),fe,En],ngContentSelectors:zDe,decls:1,vars:0,template:function(t,i){1&t&&(ki(),St(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),eIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[VB,Ep,st,M5,ds,VB,st,M5,Iz]}),n})(),H3=(()=>{class n{constructor(t){this.datePipe=t}transform(t){return this.datePipe.transform(t?.toMillis(),"short")??""}}return n.\u0275fac=function(t){return new(t||n)(_(xv,16))},n.\u0275pipe=Xn({name:"dateDisplay",type:n,pure:!0}),n})();const tIe=["endOfChat"];function nIe(n,e){if(1&n){const t=wr();x(0,"mat-option",18),me("click",function(){const o=an(t).$implicit;return ln(J().createChat(o))}),T(1),S()}if(2&n){const t=e.$implicit;R("value",""),I(1),xr(" ",t.displayName," ")}}function iIe(n,e){if(1&n&&(x(0,"mat-list-option",19)(1,"div",20),te(2,"lucide-icon",21),x(3,"span",22),T(4),S(),x(5,"span",23),T(6),Ke(7,"dateDisplay"),S()(),x(8,"p",24),T(9),S(),te(10,"mat-divider"),S()),2&n){const t=e.$implicit;R("value",t.id),I(4),ii(t.chatName),I(2),ii(Ze(7,4,t.lastMessageDate)),I(3),ii(t.lastMessage)}}function rIe(n,e){if(1&n&&(x(0,"div",25)(1,"mat-icon",26),T(2,"face"),S(),x(3,"h2"),T(4),S()()),2&n){const t=e.ngIf;I(4),ii(t.chatName)}}function oIe(n,e){1&n&&(x(0,"h2"),T(1,"Chats"),S())}const sIe=function(n){return{sender:n}},aIe=function(n,e){return{"background-color":n,color:e}},lIe=function(n){return{color:n}};function cIe(n,e){if(1&n&&(x(0,"div",28)(1,"div",29),Ke(2,"async"),Ke(3,"async"),Ke(4,"async"),T(5),x(6,"span",30),Ke(7,"async"),T(8),Ke(9,"dateDisplay"),S()()()),2&n){const t=e.$implicit,i=J(2).ngIf,r=J();let o,s;R("ngClass",fa(15,sIe,t.senderId===i.uid)),I(1),R("ngStyle",n1(17,aIe,t.senderId===(null==(o=Ze(2,5,r.currentUser$))?null:o.uid)?null==(o=Ze(3,7,r.currentUser$))?null:o.color:"white",t.senderId===(null==(o=Ze(4,9,r.currentUser$))?null:o.uid)?"white":"black")),I(4),xr(" ",t.text," "),I(1),R("ngStyle",fa(20,lIe,t.senderId===(null==(s=Ze(7,11,r.currentUser$))?null:s.uid)?"white":"black")),I(2),xr(" ",Ze(9,13,t.sentDate)," ")}}function uIe(n,e){if(1&n&&(_i(0),X(1,cIe,10,22,"div",27),vi()),2&n){const t=e.ngIf;I(1),R("ngForOf",t)}}function dIe(n,e){if(1&n&&(_i(0),X(1,uIe,2,1,"ng-container",12),Ke(2,"async"),vi()),2&n){const t=J();I(1),R("ngIf",Ze(2,1,t.messages$))}}const hIe=function(n){return{"background-color":n}};let pIe=(()=>{class n{constructor(t,i,r,o){this.usersService=t,this.chatsService=i,this.router=r,this.breakpointObserver=o,this.user$=this.usersService.currentUserProfile$,this.currentUser$=this.user$,this.myChats$=this.chatsService.myChats$,this.searchControl=new Ii(""),this.messageControl=new Ii(""),this.chatListControl=new Ii([""]),this.otherUsers$=or([this.usersService.allUsers$,this.user$]).pipe(Z(([s,a])=>s.filter(l=>l.uid!==a?.uid))),this.users$=or([this.otherUsers$,this.searchControl.valueChanges.pipe(Si(""))]).pipe(Z(([s,a])=>s.filter(l=>l.displayName?.toLowerCase().includes(a?.toLowerCase()??"")||l.email?.toLowerCase().includes(a?.toLowerCase()??"")))),this.selectedChat$=or([this.chatListControl.valueChanges,this.myChats$]).pipe(Z(([s,a])=>a.find(l=>l.id===s?.[0]))),this.destroy$=new ge,this.allowRedirect=!0,this.initialScreenWidth=window.innerWidth,this.currentRoute="",this.showMessages=!1}ngOnInit(){this.initialScreenWidth=window.innerWidth,this.messages$=this.chatListControl.valueChanges.pipe(Z(t=>t?.[0]),ot(t=>t?this.chatsService.getChatMessages$(t):$([])),rt(()=>{this.scrollToBottom()})),this.breakpointObserver.observe(["(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"]).pipe(on(this.destroy$)).subscribe(t=>{t.matches?this.handleMobileScreen():this.allowRedirect=!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}handleMobileScreen(){const t=this.router.url;"/home"!==t||this.allowRedirect?"/chats"===t&&!this.allowRedirect&&(this.allowRedirect=!0,this.router.navigate(["/home"])):(this.allowRedirect=!0,this.router.navigate(["/chats"]))}createChat(t){this.chatsService.isExistingChat(t.uid).pipe(ot(i=>i?$(i):this.chatsService.createChat(t))).subscribe(i=>{if(console.log("ChatId being passed:",i),"/"===this.router.url){const r=this.isMobileScreen()?`/messages/${i[0]}`:"/chats";this.router.navigate([r])}})}toggleMessages(){this.showMessages=!this.showMessages}sendMessage(){const t=this.messageControl.value,i=this.chatListControl.value?.[0];t&&i&&(this.chatsService.addChatMessage(i,t).subscribe(()=>{this.scrollToBottom()}),this.messageControl.setValue(""))}scrollToBottom(){setTimeout(()=>{this.endOfChat&&this.endOfChat.nativeElement.scrollIntoView({behavior:"smooth"})},100)}isMobileScreen(){return this.initialScreenWidth<=700}}return n.\u0275fac=function(t){return new(t||n)(_(Hs),_(R3),_(jt),_(y5))},n.\u0275cmp=Ae({type:n,selectors:[["app-home"]],viewQuery:function(t,i){if(1&t&&oi(tIe,5),2&t){let r;Se(r=Te())&&(i.endOfChat=r.first)}},decls:31,vars:25,consts:[[1,"container"],[1,"chat-list","mat-elevation-z5",3,"ngStyle"],[1,"search-input"],["matInput","","placeholder","Search for users...",2,"color","white",3,"matAutocomplete","formControl"],["users","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"multiple","formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"messages","mat-elevation-z5"],["class","messages-header",4,"ngIf","ngIfElse"],["noChatSelected",""],[1,"chat-area"],[4,"ngIf"],["endOfChat",""],[1,"input-area"],["appearance","outline"],["matInput","","placeholder","Enter your message...",3,"formControl","keydown.enter"],["mat-icon-button","","matSuffix","",3,"click"],[3,"value","click"],[3,"value"],[1,"chat-title"],["name","ghost","size","17",2,"padding-top","1px","margin-right","px"],[1,"chat-name"],[1,"chat-date",2,"font-size","0.5rem"],["mat-line","",2,"font-size","0.7rem"],[1,"messages-header"],[2,"padding-right","3px","padding-top","2px"],["class","chat-bubble-container",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-bubble-container",3,"ngClass"],[1,"chat-bubble",3,"ngStyle"],[1,"chat-time",3,"ngStyle"]],template:function(t,i){if(1&t&&(x(0,"div",0)(1,"div",1),Ke(2,"async"),x(3,"div",2)(4,"mat-form-field"),te(5,"input",3),S(),x(6,"mat-autocomplete",null,4),X(8,nIe,2,2,"mat-option",5),Ke(9,"async"),S()(),x(10,"mat-selection-list",6),te(11,"mat-divider"),X(12,iIe,11,6,"mat-list-option",7),Ke(13,"async"),S()(),x(14,"div",8),X(15,rIe,5,1,"div",9),Ke(16,"async"),X(17,oIe,2,0,"ng-template",null,10,dc),te(19,"mat-divider"),x(20,"div",11),X(21,dIe,3,3,"ng-container",12),Ke(22,"async"),te(23,"div",null,13),S(),x(25,"div",14)(26,"mat-form-field",15)(27,"input",16),me("keydown.enter",function(){return i.sendMessage()}),S(),x(28,"button",17),me("click",function(){return i.sendMessage()}),x(29,"mat-icon"),T(30,"send"),S()()()()()()),2&t){const r=br(7),o=br(18);let s;Lt("show-messages",i.showMessages),I(1),R("ngStyle",fa(23,hIe,null==(s=Ze(2,13,i.currentUser$))?null:s.color)),I(4),R("matAutocomplete",r)("formControl",i.searchControl),I(3),R("ngForOf",Ze(9,15,i.users$)),I(2),R("multiple",!1)("formControl",i.chatListControl),I(2),R("ngForOf",Ze(13,17,i.myChats$)),I(3),R("ngIf",Ze(16,19,i.selectedChat$))("ngIfElse",o),I(6),R("ngIf",Ze(22,21,i.user$)),I(6),R("formControl",i.messageControl)}},dependencies:[gc,yc,Ci,_c,Ay,Eu,Ru,wz,Pu,Zo,gl,qp,H5,Tz,F3,C5,b5,f2,B3,V3,va,H3],styles:[".container[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 120px);overflow:hidden;> .chat-list {width: 40%; margin: 16px; border-radius: 16px; .search-input {margin: 24px;}} > .messages {width: 60%; padding: 24px; margin: 16px; margin-left: 8px; border-radius: 16px; background: rgba(0,0,0,.05); .messages-header {display: flex; margin-bottom: 8px; > h2 {margin: 0;}} .chat-area {height: calc(100vh - 340px); display: flex; flex-direction: column; align-items: flex-start; overflow: auto; > :first-child {margin-top: auto;} .chat-bubble-container {display: flex; width: 100%; justify-content: flex-start; > .chat-bubble {background: white; padding-top: 8px; padding-bottom: 18px; padding-left: 8px; padding-right: 100px; margin-bottom: 16px; border-radius: 8px; width: -moz-fit-content; width: fit-content; position: relative; > .chat-time {position: absolute; bottom: 2px; right: 8px; font-size: .7rem; color: rgba(0,0,0,.6);}}} .chat-bubble-container.sender {justify-content: flex-end;}} .input-area {padding-top: 16px; padding-bottom: 8px;}}}"]}),n})();function fIe(n,e){if(1&n&&(x(0,"h1")(1,"span"),T(2),S()()),2&n){const t=e.ngIf;I(1),bi("color",t.color||"black"),I(1),ii(t.displayName)}}let mIe=(()=>{class n{constructor(t){this.usersService=t,this.user$=this.usersService.currentUserProfile$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(_(Hs))},n.\u0275cmp=Ae({type:n,selectors:[["app-landing"]],decls:17,vars:3,consts:[[1,"page-container"],[4,"ngIf"],["routerLink","/login",1,"icon-link"],[1,"huge-icon"],["xmlns","http://www.w3.org/2000/svg","width","200","height","200","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-ghost"],["d","M9 10h.01"],["d","M15 10h.01"],["d","M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"],["routerLink","/sign-up",1,"sign-up-link"]],template:function(t,i){1&t&&(x(0,"div",0)(1,"h1"),T(2,"Welcome!"),S(),X(3,fIe,3,3,"h1",1),Ke(4,"async"),x(5,"a",2)(6,"div",3),n0(),x(7,"svg",4),te(8,"path",5)(9,"path",6)(10,"path",7),S()()(),function iT(){!function QU(){ce.lFrame.currentNamespace=null}()}(),x(11,"h2"),T(12,"About"),S(),x(13,"p"),T(14," Chatsper redefines messaging apps by prioritizing security and reliability. Developed to counter the prevailing surveillance practices of major corporations, Chatsper stands out as a secure and trustworthy applet. Focused on safeguarding user data and ensuring privacy, it offers an alternative to conventional messaging platforms, emphasizing confidentiality in communication. With a commitment to user empowerment, Chatsper provides a concise and secure messaging experience, challenging the norms of data-centric practices prevalent in the industry. "),S(),x(15,"a",8),T(16,"Sign up Today!"),S()()),2&t&&(I(3),R("ngIf",Ze(4,1,i.user$)))},dependencies:[Ci,hh,va],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;display:flex;align-items:center;justify-content:center}.larger-icon[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(.8)}.larger-icon[_ngcontent-%COMP%]{font-size:200px;width:100%;height:100%;text-align:center;line-height:normal}.huge-icon[_ngcontent-%COMP%]{font-size:200px;width:100%;height:100%;color:#000;text-align:center;transition:filter .3s ease}.huge-icon[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(1.8)}.sign-up-link[_ngcontent-%COMP%]{margin-top:20px}"]}),n})();function j3(n){return n instanceof ji}function z3(n){return"function"==typeof n}function Az(n){return"string"==typeof n}let gIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ae({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,i){1&t&&te(0,"div",0),2&t&&R("innerHTML",i.content,UT)},encapsulation:2}),n})();class yIe{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class _Ie{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class vIe{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let Rz=(()=>{class n{constructor(t,i,r){this.resolver=t,this.injector=i,this.appRef=r}createComponent(t,i={}){return new vIe({component:t,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,i={}){return new yIe({vcr:i.vcr,appRef:this.appRef,tpl:t,context:i.context})}createView(t,i={}){if(j3(t))return this.createTemplate(t,i);if(z3(t))return this.createComponent(t,i);if(Az(t))return new _Ie(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(C(la),C(Ft),C(ga))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kIe=(()=>{class n{constructor(t,i,r){this.defaultTpl=t,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),Az(this.view)?(this.viewRef=this.viewService.createComponent(gIe,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(_(ji),_(wi),_(Rz))},n.\u0275dir=G({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[En]}),n})(),bIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({}),n})();const{isArray:wIe}=Array;const EIe=["*"],SIe=function(n,e){return{"border-color":n,"border-right-color":e}};function TIe(n,e){if(1&n&&(x(0,"div"),T(1,"\n        "),te(2,"hot-toast-error",2),T(3,"\n      "),S()),2&n){const t=J(3);I(2),R("theme",t.theme)}}function DIe(n,e){if(1&n&&(x(0,"div"),T(1,"\n        "),te(2,"hot-toast-checkmark",2),T(3,"\n      "),S()),2&n){const t=J(3);I(2),R("theme",t.theme)}}function IIe(n,e){if(1&n&&(x(0,"div"),T(1,"\n        "),te(2,"hot-toast-warning",2),T(3,"\n      "),S()),2&n){const t=J(3);I(2),R("theme",t.theme)}}function AIe(n,e){if(1&n&&(x(0,"div"),T(1,"\n        "),te(2,"hot-toast-info",2),T(3,"\n      "),S()),2&n){const t=J(3);I(2),R("theme",t.theme)}}function RIe(n,e){if(1&n&&(x(0,"div",4),T(1,"\n    "),x(2,"div",5),T(3,"\n      "),X(4,TIe,4,1,"div",6),T(5,"\n      "),X(6,DIe,4,1,"div",6),T(7,"\n      "),X(8,IIe,4,1,"div",6),T(9,"\n      "),X(10,AIe,4,1,"div",6),T(11,"\n    "),S(),T(12,"\n  "),S()),2&n){const t=J(2);I(2),R("ngSwitch",t.type),I(2),R("ngSwitchCase","error"),I(2),R("ngSwitchCase","success"),I(2),R("ngSwitchCase","warning"),I(2),R("ngSwitchCase","info")}}function PIe(n,e){if(1&n&&(x(0,"div",1),T(1,"\n  "),te(2,"hot-toast-loader",2),T(3,"\n  "),X(4,RIe,13,5,"div",3),T(5,"\n"),S()),2&n){const t=J();I(2),R("theme",t.theme),I(2),R("ngIf","loading"!==t.type)}}const OIe=["hotToastBarBase"];function NIe(n,e){if(1&n&&(_i(0),T(1,"\n          "),x(2,"hot-toast-animated-icon",10),T(3),S(),T(4,"\n        "),vi()),2&n){const t=J(2);I(2),R("iconTheme",t.toast.iconTheme),I(1),ii(t.toast.icon)}}function FIe(n,e){if(1&n&&(T(0,"\n          "),x(1,"div"),T(2,"\n            "),Kf(3,11),T(4,"\n          "),S(),T(5,"\n        ")),2&n){const t=J(2);I(3),R("dynamicView",t.toast.icon)}}function LIe(n,e){if(1&n&&(_i(0),T(1,"\n        "),X(2,NIe,5,2,"ng-container",4),T(3,"\n        "),X(4,FIe,6,1,"ng-template",null,9,dc),T(6,"\n      "),vi()),2&n){const t=br(5),i=J();I(2),R("ngIf",i.isIconString)("ngIfElse",t)}}function VIe(n,e){if(1&n&&(T(0,"\n        "),te(1,"hot-toast-indicator",12),T(2,"\n      ")),2&n){const t=J();I(1),R("theme",t.toast.iconTheme)("type",t.toast.type)}}function BIe(n,e){1&n&&Kf(0)}function HIe(n,e){if(1&n){const t=wr();x(0,"button",13),me("click",function(){return an(t),ln(J().close())}),S()}2&n&&R("ngStyle",J().toast.closeStyle)}function jIe(n,e){if(1&n){const t=wr();x(0,"hot-toast",3),me("height",function(r){const s=an(t).$implicit;return ln(J().updateHeight(r,s))})("beforeClosed",function(){const o=an(t).$implicit;return ln(J().beforeClosed(o))})("afterClosed",function(r){return an(t),ln(J().afterClosed(r))}),S()}if(2&n){const t=e.$implicit,i=e.index,r=J();R("toast",t)("offset",r.calculateOffset(t.id,t.position))("toastRef",r.toastRefs[i])}}const Pz={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class Nz{constructor(e){this.toast=e,this._onClosed=new ge}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:i,updateToast:r,afterClosed:o}=e.addToast(this);return this.dispose=t,this.updateMessage=i,this.updateToast=r,this.afterClosed=function CIe(...n){return 1===(n=function MIe(n){return 1===n.length&&wIe(n[0])?n[0]:n}(n)).length?Qn(n[0]):new Ue(function xIe(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(Qn(n[i]).subscribe(new at(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(r)})))}}(n))}(this._onClosed.asObservable(),o),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let $Ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ae({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:EIe,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,i){1&t&&(ki(),x(0,"div",0),T(1,"\n  "),St(2),T(3,"\n"),S(),T(4,"\n")),2&t&&bi("color",null==i.iconTheme?null:i.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),GIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ae({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,i){1&t&&(te(0,"div",0),T(1,"\n")),2&t&&R("ngStyle",n1(1,SIe,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},dependencies:[_c],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),WIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ae({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,i){1&t&&(te(0,"div",0),T(1,"\n")),2&t&&bi("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),KIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ae({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,i){1&t&&(te(0,"div",0),T(1,"\n")),2&t&&bi("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),ZIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ae({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,i){1&t&&(te(0,"div",0),T(1,"\n")),2&t&&bi("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),YIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ae({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,i){1&t&&(te(0,"div",0),T(1,"\n")),2&t&&bi("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),QIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ae({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,i){1&t&&(X(0,PIe,6,2,"div",0),T(1,"\n")),2&t&&R("ngIf","blank"!==i.type)},dependencies:[GIe,WIe,KIe,ZIe,YIe,Ci,Dd,Cv],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),Fz=(()=>{class n{constructor(t,i,r){this.injector=t,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new Me,this.beforeClosed=new Me,this.afterClosed=new Me,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){j3(this.toast.message)&&(this.context={$implicit:this.toastRef}),z3(this.toast.message)&&(this.toastComponentInjector=Ft.create({providers:[{provide:Nz,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),i=t?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...i,...r}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),i=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${i}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i}}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[i,r]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(t){return new(t||n)(_(Ft),_(_r),_(ae))},n.\u0275cmp=Ae({type:n,selectors:[["hot-toast"]],viewQuery:function(t,i){if(1&t&&oi(OIe,5),2&t){let r;Se(r=Te())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,i){if(1&t&&(x(0,"div",0),T(1,"\n  "),x(2,"div",1,2),T(4,"\n    "),x(5,"div",3),T(6,"\n      "),X(7,LIe,7,2,"ng-container",4),T(8,"\n\n      "),X(9,VIe,3,2,"ng-template",null,5,dc),T(11,"\n    "),S(),T(12,"\n\n    "),x(13,"div",6),T(14,"\n      "),x(15,"div"),T(16,"\n        "),X(17,BIe,1,0,"ng-container",7),T(18,"\n      "),S(),T(19,"\n    "),S(),T(20,"\n\n    "),X(21,HIe,1,1,"button",8),T(22,"\n  "),S(),T(23,"\n"),S(),T(24,"\n")),2&t){const r=br(10);R("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),I(2),bi("--hot-toast-animation-state",i.isManualClose?"running":"paused"),R("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),Xe("aria-live",i.toast.ariaLive)("role",i.toast.role),I(5),R("ngIf",void 0!==i.toast.icon)("ngIfElse",r),I(10),R("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),I(4),R("ngIf",i.toast.dismissible)}},dependencies:[$Ie,QIe,_c,gc,Ci,kIe],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),XIe=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new ge,this.onClosed$=this._onClosed.asObservable()}trackById(t,i){return i.id}calculateOffset(t,i){const r=this.toasts.filter(a=>a.visible&&a.position===i),o=r.findIndex(a=>a.id===t);return-1!==o?r.slice(...this.defaultConfig.reverseOrder?[o+1]:[0,o]).reduce((a,l)=>a+(l.height||0)+8,0):0}updateHeight(t,i){i.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const i=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(t){if(t){const i=this.hotToastComponentList.find(r=>r.toast.id===t);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(r=>r.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(r=>r.id!==t.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(i=>i.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(tn(i=>i.id===t.id))}updateToasts(t,i){this.toasts=this.toasts.map(r=>({...r,...r.id===t.id&&{...t,...i}}))}}return n.\u0275fac=function(t){return new(t||n)(_(Sn))},n.\u0275cmp=Ae({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,i){if(1&t&&oi(Fz,5),2&t){let r;Se(r=Te())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,i){1&t&&(x(0,"div",0),T(1,"\n  "),x(2,"div",1),T(3,"\n    "),X(4,jIe,1,3,"hot-toast",2),T(5,"\n  "),S(),T(6,"\n"),S(),T(7,"\n")),2&t&&(I(4),R("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},dependencies:[Fz,yc],encapsulation:2,changeDetection:0}),n})();class q3{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class tAe{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let U3=(()=>{class n{constructor(t,i,r){this._viewService=t,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new q3,this._defaultPersistConfig=new tAe,r&&(this._defaultConfig={...this._defaultConfig,...r})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,i){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...i})}error(t,i){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...i})}success(t,i){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...i})}loading(t,i){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...i})}warning(t,i){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}info(t,i){return this.createToast(t||this._defaultConfig.warning.content,"info",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}observe(t){return i=>{let r,o=0;const s=t.loading||this._defaultConfig.loading?.content,a=t.error||this._defaultConfig.error?.content;return Em(()=>(s&&(r=this.createLoadingToast(s),o=Date.now()),i.pipe(rt({next:l=>{r=this.createOrUpdateToast(t,l,r,"success",0===o?o:Date.now()-o)},...a&&{error:l=>{r=this.createOrUpdateToast(t,l,r,"error",0===o?o:Date.now()-o)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){(function XJ(n){return"server"===n})(this.platformId)||(this._componentRef=this._viewService.createComponent(XIe).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,i,r,o,s){let a=null,l={};if(({content:a,options:l}=this.getContentAndOptions(o,t[o]||(this._defaultConfig[o]?this._defaultConfig[o].content:""))),a=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(a,i),r){r.updateMessage(a);const c={type:o,duration:s+Pz[o],...l,...l.duration&&{duration:s+l.duration}};r.updateToast(c)}else this.createToast(a,o,l);return r}createToast(t,i,r,o){this._isInitialized||(this._isInitialized=!0,this.init());const s=Date.now(),a=r?.id??s.toString();if(!this.isDuplicate(a)&&(!r.persist?.enabled||r.persist?.enabled&&this.handleStorageValue(a,r))){const l={ariaLive:r?.ariaLive??"polite",createdAt:s,duration:r?.duration??Pz[i],id:a,message:t,role:r?.role??"status",type:i,visible:!0,observableMessages:o??void 0,...r};return new Nz(l).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,i){let r=1;const o={...this._defaultPersistConfig,...i.persist},s="local"===o.storage?localStorage:sessionStorage,a=o.key.replace(/\${id}/g,t);let l=s.getItem(a);return l?(l=parseInt(l,10),r=l>0?l-1:l):r=o.count,s.setItem(a,r.toString()),r}getContentAndOptions(t,i){let r,o={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof i||j3(i)||z3(i))r=i;else{let s;({content:r,...s}=i),o={...o,...s}}return{content:r,options:o}}createLoadingToast(t){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",t)),this.loading(i,r)}}return n.\u0275fac=function(t){return new(t||n)(C(Rz),C(mc),C(q3,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nAe=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:q3,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[[ds,bIe]]}),n})();function iAe(n,e){1&n&&(x(0,"mat-error"),T(1," Password is required "),S())}let rAe=(()=>{class n{constructor(t,i,r,o){this.authService=t,this.toast=i,this.router=r,this.fb=o,this.loginForm=this.fb.group({displayName:["",Iu.required],password:["",Iu.required]})}ngOnInit(){}get password(){return this.loginForm.get("password")}get displayName(){return this.loginForm.get("displayName")}submit(){const{displayName:t,password:i}=this.loginForm.value;this.loginForm.valid&&t&&i&&this.authService.login(`${t}@example.com`,i).pipe(this.toast.observe({success:"Logged in successfully",loading:"Logging in...",error:({message:o})=>`There was an error: ${o} `})).subscribe(()=>{this.navigateToHome()})}navigateToHome(){const i=window.innerWidth<=700?"/chats":"/home";this.router.navigate([i])}}return n.\u0275fac=function(t){return new(t||n)(_(xm),_(U3),_(jt),_(A3))},n.\u0275cmp=Ae({type:n,selectors:[["app-login"]],decls:16,vars:2,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Username","formControlName","displayName"],["matInput","","type","password","placeholder","Password","formControlName","password"],[4,"ngIf"],[1,"center","margin-top"],["type","submit","mat-raised-button","","color","primary"],["routerLink","/sign-up",1,"sign-up-link"]],template:function(t,i){1&t&&(x(0,"div",0)(1,"h1"),T(2,"Login"),S(),x(3,"form",1),me("ngSubmit",function(){return i.submit()}),x(4,"mat-form-field"),te(5,"input",2),S(),x(6,"mat-form-field"),te(7,"input",3),X(8,iAe,2,0,"mat-error",4),S(),x(9,"div",5)(10,"button",6),T(11,"Login"),S()(),x(12,"span",5),T(13,"New? "),x(14,"a",7),T(15,"Sign up!"),S()()()()),2&t&&(I(3),R("formGroup",i.loginForm),I(5),R("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required))},dependencies:[Ci,hh,Eu,vz,Ru,Pu,p2,Zo,gl,t2,yl,Up],styles:[".sign-up-link[_ngcontent-%COMP%]{margin-left:8px}"]}),n})();function oAe(n,e){1&n&&(x(0,"mat-error"),T(1," Username is required "),S())}function sAe(n,e){1&n&&(x(0,"mat-error"),T(1," Password is required "),S())}function aAe(n,e){1&n&&(x(0,"mat-error"),T(1," Confirm Password is required "),S())}function lAe(n,e){1&n&&(x(0,"mat-error"),T(1," Passwords should match "),S())}let uAe=(()=>{class n{constructor(t,i,r,o,s){this.authService=t,this.router=i,this.toast=r,this.usersService=o,this.fb=s,this.signUpForm=this.fb.group({name:["",Iu.required],password:["",Iu.required],confirmPassword:["",Iu.required]},{validators:n=>{const e=n.get("password")?.value,t=n.get("confirmPassword")?.value;return e&&t&&e!==t?{passwordsDontMatch:!0}:null}})}ngOnInit(){}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}get name(){return this.signUpForm.get("name")}submit(){const{name:t,password:i}=this.signUpForm.value;if(!this.signUpForm.valid||!t||!i)return;const r=`${t}@example.com`;this.authService.signUp(r,i).pipe(ot(({user:{uid:s}})=>this.usersService.addUser({uid:s,email:r,displayName:t,color:"rgb(128, 128, 128)"})),this.toast.observe({success:"Congrats! You are all signed up",loading:"Signing up...",error:({message:s})=>`${s}`})).subscribe(()=>{this.navigateToHome()})}navigateToHome(){const i=window.innerWidth<=700?"/chats":"/home";this.router.navigate([i])}}return n.\u0275fac=function(t){return new(t||n)(_(xm),_(jt),_(U3),_(Hs),_(A3))},n.\u0275cmp=Ae({type:n,selectors:[["app-sign-up"]],decls:17,vars:5,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Username","formControlName","name"],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password"],["matInput","","type","password","placeholder","Confirm Password","formControlName","confirmPassword"],[1,"center","margin-top"],["type","submit","mat-raised-button","","color","primary"]],template:function(t,i){1&t&&(x(0,"div",0)(1,"h1"),T(2,"Sign Up Today!"),S(),x(3,"form",1),me("ngSubmit",function(){return i.submit()}),x(4,"mat-form-field"),te(5,"input",2),X(6,oAe,2,0,"mat-error",3),S(),x(7,"mat-form-field"),te(8,"input",4),X(9,sAe,2,0,"mat-error",3),S(),x(10,"mat-form-field"),te(11,"input",5),X(12,aAe,2,0,"mat-error",3),S(),X(13,lAe,2,0,"mat-error",3),x(14,"div",6)(15,"button",7),T(16,"Sign Up!"),S()()()()),2&t&&(I(3),R("formGroup",i.signUpForm),I(3),R("ngIf",null==i.name||null==i.name.errors?null:i.name.errors.required),I(3),R("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required),I(3),R("ngIf",null==i.confirmPassword||null==i.confirmPassword.errors?null:i.confirmPassword.errors.required),I(1),R("ngIf",null==i.signUpForm.errors?null:i.signUpForm.errors.passwordsDontMatch))},dependencies:[Ci,Eu,vz,Ru,Pu,p2,Zo,gl,t2,yl,Up]}),n})();const dAe=sf,pAe=Symbol("__destroy"),Lz=Symbol("__decoratorApplied");function Vz(n){return"string"==typeof n?Symbol(`__destroy__${n}`):pAe}function Bz(n,e){n[e]||(n[e]=new ge)}function Hz(n,e){n[e]&&(n[e].next(),n[e].complete(),n[e]=null)}function jz(n){n instanceof pt&&n.unsubscribe()}function zz(n,e){return function(){if(n&&n.call(this),Hz(this,Vz()),e.arrayName&&function mAe(n){Array.isArray(n)&&n.forEach(jz)}(this[e.arrayName]),e.checkProperties)for(const t in this)e.blackList?.includes(t)||jz(this[t])}}function Gz(n,e){return t=>{const i=Vz(e);"string"==typeof e?function wAe(n,e,t){const i=n[e];Bz(n,t),n[e]=function(){i.apply(this,arguments),Hz(this,t),n[e]=i}}(n,e,i):Bz(n,i);return t.pipe(on(n[i]))}}Symbol("CheckerHasBeenSet");const Wz="firebasestorage.googleapis.com",Kz="storageBucket";class At extends zi{constructor(e,t,i=0){super(G3(e),`Firebase Storage: ${t} (${G3(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,At.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return G3(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ht=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(ht||(ht={})),ht))();function G3(n){return"storage/"+n}function W3(){return new At(ht.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function K3(n){return new At(ht.INVALID_ARGUMENT,n)}function Xz(){return new At(ht.APP_DELETED,"The Firebase app was deleted.")}function $p(n,e){return new At(ht.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Gp(n){throw new At(ht.INTERNAL_ERROR,"Internal error: "+n)}class pi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=pi.makeFromUrl(e,t)}catch{return new pi(e,"")}if(""===i.path)return i;throw function PAe(n){return new At(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function c(E){E.path_=decodeURIComponent(E.path)}const d=t.replace(/[.]/g,"\\."),v=[{regex:a,indices:{bucket:1,path:3},postModify:function o(E){"/"===E.path.charAt(E.path.length-1)&&(E.path_=E.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===Wz?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<v.length;E++){const H=v[E],q=H.regex.exec(e);if(q){let tt=q[H.indices.path];tt||(tt=""),i=new pi(q[H.indices.bucket],tt),H.postModify(i);break}}if(null==i)throw function RAe(n){return new At(ht.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class BAe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function m2(n){return"string"==typeof n||n instanceof String}function Jz(n){return Z3()&&n instanceof Blob}function Z3(){return typeof Blob<"u"&&!function m7(){var n;const e=null===(n=R1())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function Y3(n,e,t,i){if(i<e)throw K3(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw K3(`Invalid value for '${n}'. Expected ${t} or less.`)}function Qo(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function eq(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Ys=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Ys||(Ys={})),Ys))();class $Ae{constructor(e,t,i,r,o,s,a,l,c,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,f)=>{this.resolve_=p,this.reject_=f,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function zAe(n){return void 0!==n}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=W3();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(r.canceled?this.appDelete_?Xz():function Yz(){return new At(ht.CANCELED,"User canceled the upload/download.")}():function Zz(){return new At(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new g2(!1,null,!0)):this.backoffId_=function HAe(n,e,t){let i=1,r=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function d(y){r=setTimeout(()=>{r=null,n(p,l())},y)}function h(){o&&clearTimeout(o)}function p(y,...k){if(c)return void h();if(y)return h(),void u.call(null,y,...k);if(l()||s)return h(),void u.call(null,y,...k);let v;i<64&&(i*=2),1===a?(a=2,v=0):v=1e3*(i+Math.random()),d(v)}let f=!1;function m(y){f||(f=!0,h(),!c&&(null!==r?(y||(a=2),clearTimeout(r),d(0)):y||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},t),m}((i,r)=>{if(r)return void i(!1,new g2(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Ys.NO_ERROR,l=o.getStatus();if(!a||function tq(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||r||o}(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===Ys.ABORT;return void i(!1,new g2(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);i(!0,new g2(c,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function jAe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class g2{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function XAe(...n){const e=function QAe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(Z3())return new Blob(n);throw new At(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}class Q3{constructor(e,t){this.data=e,this.contentType=t||null}}function iq(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function rq(n,e){switch(n){case"base64":{const r=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(r||o)throw $p(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw $p(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function e6e(n){if(typeof atob>"u")throw function LAe(n){return new At(ht.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:$p(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class oq{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw $p("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function r6e(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Xo{constructor(e,t){let i=0,r="";Jz(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Jz(this.data_)){const r=function JAe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Xo(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Xo(i,!0)}}static getBlob(...e){if(Z3()){const t=e.map(i=>i instanceof Xo?i.data_:i);return new Xo(XAe.apply(null,t))}{const t=e.map(s=>m2(s)?function nq(n,e){switch(n){case"raw":return new Q3(iq(e));case"base64":case"base64url":return new Q3(rq(n,e));case"data_url":return new Q3(function n6e(n){const e=new oq(n);return e.base64?rq("base64",e.rest):function t6e(n){let e;try{e=decodeURIComponent(n)}catch{throw $p("data_url","Malformed data URL.")}return iq(e)}(e.rest)}(e),function i6e(n){return new oq(n).contentType}(e))}throw W3()}("raw",s).data:s.data_);let i=0;t.forEach(s=>{i+=s.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new Xo(r,!0)}}uploadData(){return this.data_}}function X3(n){let e;try{e=JSON.parse(n)}catch{return null}return function UAe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function sq(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function a6e(n,e){return e}class fi{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||a6e}}let y2=null;function Wp(){if(y2)return y2;const n=[];n.push(new fi("bucket")),n.push(new fi("generation")),n.push(new fi("metageneration")),n.push(new fi("name","fullPath",!0));const t=new fi("name");t.xform=function e(o,s){return function l6e(n){return!m2(n)||n.length<2?n:sq(n)}(s)},n.push(t);const r=new fi("size");return r.xform=function i(o,s){return void 0!==s?Number(s):s},n.push(r),n.push(new fi("timeCreated")),n.push(new fi("updated")),n.push(new fi("md5Hash",null,!0)),n.push(new fi("cacheControl",null,!0)),n.push(new fi("contentDisposition",null,!0)),n.push(new fi("contentEncoding",null,!0)),n.push(new fi("contentLanguage",null,!0)),n.push(new fi("contentType",null,!0)),n.push(new fi("metadata","customMetadata",!0)),y2=n,y2}function aq(n,e,t){const i=X3(e);return null===i?null:function u6e(n,e,t){const i={type:"file"},r=t.length;for(let o=0;o<r;o++){const s=t[o];i[s.local]=s.xform(i,e[s.server])}return function c6e(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new pi(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(i,n),i}(n,i,t)}class lo{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function co(n){if(!n)throw W3()}function Ou(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function IAe(){return new At(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function DAe(){return new At(ht.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function TAe(n){return new At(ht.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function AAe(n){return new At(ht.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function pq(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let v="";for(let E=0;E<2;E++)v+=Math.random().toString().slice(2);return v}();s["Content-Type"]="multipart/related; boundary="+l;const c=function hq(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function k6e(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),u=function J3(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(c,t),p=Xo.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+l+"--");if(null===p)throw function Qz(){return new At(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const f={name:c.fullPath},m=Qo(o,n.host,n._protocol),k=n.maxUploadRetryTime,w=new lo(m,"POST",function _2(n,e){return function t(i,r){const o=aq(n,r,e);return co(null!==o),o}}(n,t),k);return w.urlParams=f,w.headers=s,w.body=p.uploadData(),w.errorHandler=Ou(e),w}class E6e extends class x6e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ys.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ys.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ys.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Gp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Or(){return new E6e}class vl{constructor(e,t){this._service=e,this._location=t instanceof pi?t:pi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new vl(e,t)}get root(){const e=new pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sq(this._location.path)}get storage(){return this._service}get parent(){const e=function o6e(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new pi(this._location.bucket,e);return new vl(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function VAe(n){return new At(ht.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function B6e(n){n._throwIfRoot("getDownloadURL");const e=function y6e(n,e,t){const r=Qo(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new lo(r,"GET",function m6e(n,e){return function t(i,r){const o=aq(n,r,e);return co(null!==o),function d6e(n,e,t,i){const r=X3(e);if(null===r||!m2(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const d=n.fullPath;return Qo("/b/"+s(n.bucket)+"/o/"+s(d),t,i)+eq({alt:"media",token:c})})[0]}(o,r,n.host,n._protocol)}}(n,t),s);return a.errorHandler=function Kp(n){const e=Ou(n);return function t(i,r){let o=e(i,r);return 404===i.getStatus()&&(o=function SAe(n){return new At(ht.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}(e),a}(n.storage,n._location,Wp());return n.storage.makeRequestWithTokens(e,Or).then(t=>{if(null===t)throw function FAe(){return new At(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function kq(n,e){if(n instanceof iS){const t=n;if(null==t._bucket)throw function OAe(){return new At(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Kz+"' property when initializing the app?")}();const i=new vl(t,t._bucket);return null!=e?kq(i,e):i}return void 0!==e?function vq(n,e){const t=function s6e(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new pi(n._location.bucket,t);return new vl(n.storage,i)}(n,e):n}function bq(n,e){const t=e?.[Kz];return null==t?null:pi.makeFromBucketSpec(t,n)}class iS{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Wz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?pi.makeFromBucketSpec(r,this._host):bq(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?pi.makeFromBucketSpec(this._url,e):bq(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Y3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Y3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vl(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new BAe(Xz());{const s=function YAe(n,e,t,i,r,o,s=!0){const a=eq(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function KAe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function GAe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function WAe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,o),function ZAe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,i),new $Ae(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return g(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const wq="@firebase/storage",Cq="storage";function $6e(n,e,t){return function gq(n,e,t){n._throwIfRoot("uploadBytes");const i=pq(n.storage,n._location,Wp(),new Xo(e,!0),t);return n.storage.makeRequestWithTokens(i,Or).then(r=>({metadata:r,ref:n}))}(n=ft(n),e,t)}function G6e(n){return B6e(n=ft(n))}function W6e(n,e){return function q6e(n,e){if(e&&function j6e(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof iS)return function z6e(n,e){return new vl(n,e)}(n,e);throw K3("To use ref(service, url), the first argument must be a Storage instance.")}return kq(n,e)}(n=ft(n),e)}function K6e(n=B1(),e){const i=Ca(n=ft(n),Cq).getImmediate({identifier:e}),r=d7("storage");return r&&function Z6e(n,e,t,i={}){!function U6e(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:f7(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function Y6e(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new iS(t,i,r,e,fs)}!function Q6e(){qn(new Tn(Cq,Y6e,"PUBLIC").setMultipleInstances(!0)),mt(wq,"0.11.2",""),mt(wq,"0.11.2","esm2017")}();class k2{constructor(e){return e}}const xq="storage",rS=new N("angularfire2.storage-instances");function e8e(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new k2(i)}}const t8e={provide:class X6e{constructor(){return Y1(xq)}},deps:[[new wt,rS]]},n8e={provide:k2,useFactory:function J6e(n,e){const t=Z1(xq,n,e);return t&&new k2(t)},deps:[[new wt,rS],Aa]};let i8e=(()=>{class n{constructor(){mt("angularfire",Vd.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({providers:[n8e,t8e]}),n})();function r8e(n,...e){return{ngModule:i8e,providers:[{provide:rS,useFactory:e8e(n),multi:!0,deps:[ae,Ft,Q1,X1,[new wt,MC],[new wt,sm],...e]}]}}const o8e=Gt(G6e,!0),s8e=Gt(K6e,!0),a8e=Gt(W6e,!0),l8e=Gt($6e,!0);let c8e=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,i){const r=a8e(this.storage,i);return $e(l8e(r,t)).pipe(ot(s=>o8e(s.ref)))}}return n.\u0275fac=function(t){return new(t||n)(C(k2))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function u8e(n,e){if(1&n&&(x(0,"h1"),T(1," Update Profile: "),x(2,"span"),T(3),S()()),2&n){const t=e.ngIf;I(2),bi("color",t.color||"black"),I(1),ii(t.displayName)}}function d8e(n,e){if(1&n){const t=wr();_i(0),x(1,"button",13),me("click",function(){const o=an(t).$implicit;return ln(J(2).setColor(o))}),te(2,"div",14),S(),vi()}if(2&n){const t=e.$implicit;I(2),bi("background",t)}}function h8e(n,e){if(1&n){const t=wr();x(0,"div",1),X(1,u8e,4,3,"h1",2),Ke(2,"async"),x(3,"div",3)(4,"mat-icon",4),me("mouseenter",function(){return an(t),ln(J().onMouseEnter())})("mouseleave",function(){return an(t),ln(J().onMouseLeave())}),T(5," face "),S()(),x(6,"mat-menu",5,6),X(8,d8e,3,2,"ng-container",7),S(),x(9,"form",8),me("ngSubmit",function(){return an(t),ln(J().saveProfile())}),x(10,"mat-form-field"),te(11,"input",9),S(),x(12,"mat-form-field"),te(13,"input",10),S(),x(14,"mat-form-field"),te(15,"textarea",11),S(),x(16,"button",12),T(17," Save Changes "),S()()()}if(2&n){const t=e.ngIf,i=br(7),r=J();I(1),R("ngIf",Ze(2,12,r.user$)),I(2),R("matMenuTriggerFor",i),I(1),bi("color",t.color),I(2),R("hasBackdrop",!0)("overlapTrigger",!1),I(2),R("ngForOf",r.colorOptions),I(1),R("formGroup",r.profileForm),I(7),bi("background",t.color||"rgb(128, 128, 128)")("color","white")}}let kl=class{constructor(e,t,i,r,o){this.imageUploadService=e,this.toast=t,this.usersService=i,this.fb=r,this.router=o,this.user$=this.usersService.currentUserProfile$,this.profileForm=this.fb.group({uid:[""],displayName:[""],firstName:[""],lastName:[""],bio:[""],color:[""]}),this.colorOptions=["rgb(255, 154, 159)","rgb(255, 192, 203)","rgb(236, 157, 126)","rgb(233, 215, 135)","rgb(186, 232, 172)","rgb(82, 129, 206)","rgb(153, 140, 235)","rgb(128, 128, 128)","rgb(216, 171, 158)"]}ngOnInit(){this.usersService.currentUserProfile$.pipe(Gz(this),rt(console.log)).subscribe(e=>{this.profileForm.patchValue({...e})}),this.router.events.pipe(Gz(this)).subscribe(e=>{e instanceof Lo&&(e.url.includes("/profile")?window.addEventListener("resize",this.handleWindowResize.bind(this)):window.removeEventListener("resize",this.handleWindowResize))})}uploadFile(e,{uid:t}){this.imageUploadService.uploadImage(e.target.files[0],`images/profile/${t}`).pipe(this.toast.observe({loading:"Uploading profile image...",success:"Image uploaded successfully",error:"There was an error in uploading the image"}),ot(i=>this.usersService.updateUser({uid:t}))).subscribe()}setColor(e){this.profileForm.patchValue({color:e}),this.saveProfile()}saveProfile(){const{uid:e,...t}=this.profileForm.value;!e||this.usersService.updateUser({uid:e,...t}).pipe(this.toast.observe({loading:"Saving profile data...",success:"Profile updated successfully",error:"There was an error in updating the profile"})).subscribe()}onMouseEnter(){const e=document.querySelector(".larger-icon");e&&e.classList.add("hovered")}onMouseLeave(){const e=document.querySelector(".larger-icon");e&&e.classList.remove("hovered")}handleWindowResize(){this.isMobileScreen()&&this.router.url.includes("/profile")&&console.log("Handling window resize for profile route")}isMobileScreen(){return window.innerWidth<=700}};kl.\u0275fac=function(e){return new(e||kl)(_(c8e),_(U3),_(Hs),_(A3),_(jt))},kl.\u0275cmp=Ae({type:kl,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","form-container mat-elevation-z5 text-center",4,"ngIf"],[1,"form-container","mat-elevation-z5","text-center"],[4,"ngIf"],[1,"icon-container",3,"matMenuTriggerFor"],[1,"larger-icon",3,"mouseenter","mouseleave"],[1,"profile-menu",3,"hasBackdrop","overlapTrigger"],["colorMenu","matMenu"],[4,"ngFor","ngForOf"],[1,"margin-top",3,"formGroup","ngSubmit"],["type","text","matInput","","formControlName","firstName","placeholder","First Name"],["type","text","matInput","","formControlName","lastName","placeholder","Last Name"],["type","text","matInput","","formControlName","bio","placeholder","Bio/Mood","rows","1"],["type","submit","mat-raised-button","",1,"margin-top"],["mat-menu-item","",3,"click"],[1,"color-circle"]],template:function(e,t){1&e&&(X(0,h8e,18,14,"div",0),Ke(1,"async")),2&e&&R("ngIf",Ze(1,1,t.user$))},dependencies:[yc,Ci,Ay,Eu,Ru,Pu,p2,Zo,gl,t2,yl,Up,EH,Pp,DH,va],styles:[".profile-image[_ngcontent-%COMP%]{position:relative;width:120px;margin:auto}.profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center}.form-container[_ngcontent-%COMP%]{max-width:400px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}.icon-container[_ngcontent-%COMP%]{width:165px;height:165px;display:flex;justify-content:center;align-items:center;margin:auto;position:relative}.larger-icon[_ngcontent-%COMP%]{font-size:165px;width:100%;height:100%;transition:filter .3s}.larger-icon[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(1.2)}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{align-self:flex-end;margin-bottom:10px;z-index:1}.color-circle[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;margin:4px}mat-button-toggle-group[_ngcontent-%COMP%]{display:flex}  .profile-menu{position:fixed;transform:translate(23.5%,-15%)!important}  .mat-menu-content{flex-wrap:wrap;justify-content:flex-start}  .mat-menu-content .color-circle{margin:4px auto}  .mat-menu-content .mat-button-wrapper{text-align:center}"]}),kl=function yse(n,e,t,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}([function _Ae(n={}){return e=>{!function hAe(n){return!!n[dAe]}(e)?function gAe(n,e){n.prototype.ngOnDestroy=zz(n.prototype.ngOnDestroy,e)}(e,n):function yAe(n,e){const t=n.\u0275pipe;t.onDestroy=zz(t.onDestroy,e)}(e,n),function fAe(n){n.prototype[Lz]=!0}(e)}}()],kl);const p8e=["endOfChat"];function f8e(n,e){if(1&n){const t=wr();x(0,"mat-option",7),me("click",function(){const o=an(t).$implicit;return ln(J().createChat(o))}),T(1),S()}if(2&n){const t=e.$implicit;R("value",""),I(1),xr(" ",t.displayName," ")}}function m8e(n,e){if(1&n){const t=wr();x(0,"mat-list-option",7),me("click",function(){const o=an(t).$implicit;return ln(J().navigateToMessages(o.id))}),x(1,"div",8),me("click",function(){const o=an(t).$implicit;return ln(J().navigateToMessages(o.id))}),te(2,"lucide-icon",9),x(3,"span",10),T(4),S(),x(5,"span",11),T(6),Ke(7,"dateDisplay"),S()(),x(8,"p",12),T(9),S(),te(10,"mat-divider"),S()}if(2&n){const t=e.$implicit;R("value",t.id),I(4),ii(t.chatName),I(2),ii(Ze(7,4,t.lastMessageDate)),I(3),ii(t.lastMessage)}}const g8e=function(n){return{"background-color":n}};let y8e=(()=>{class n{constructor(t,i,r,o){this.usersService=t,this.chatsService=i,this.router=r,this.breakpointObserver=o,this.user$=this.usersService.currentUserProfile$,this.currentUser$=this.user$,this.myChats$=this.chatsService.myChats$,this.searchControl=new Ii(""),this.messageControl=new Ii(""),this.chatListControl=new Ii([""]),this.otherUsers$=or([this.usersService.allUsers$,this.user$]).pipe(Z(([s,a])=>s.filter(l=>l.uid!==a?.uid))),this.users$=or([this.otherUsers$,this.searchControl.valueChanges.pipe(Si(""))]).pipe(Z(([s,a])=>s.filter(l=>l.displayName?.toLowerCase().includes(a?.toLowerCase()??"")||l.email?.toLowerCase().includes(a?.toLowerCase()??"")))),this.selectedChat$=or([this.chatListControl.valueChanges,this.myChats$]).pipe(Z(([s,a])=>a.find(l=>l.id===s?.[0]))),this.unsubscribe$=new ge}ngOnInit(){this.router.events.pipe(on(this.unsubscribe$)).subscribe(t=>{if(t instanceof Lo){const i=t.url.split("/").pop();i&&this.chatsService.isExistingChat(i).pipe(ot(r=>r?$(r):this.chatsService.createChat(i)),on(this.unsubscribe$)).subscribe(r=>{this.chatListControl.setValue([r])})}}),this.messages$=this.chatListControl.valueChanges.pipe(Z(t=>t?.[0]),ot(t=>t?this.chatsService.getChatMessages$(t):$([])),rt(()=>{this.scrollToBottom()}),on(this.unsubscribe$)),window.addEventListener("resize",this.handleWindowResize.bind(this))}ngOnDestroy(){window.removeEventListener("resize",this.handleWindowResize),this.unsubscribe$.next(),this.unsubscribe$.complete()}createChat(t){console.log("Creating chat for user:",t),this.chatsService.isExistingChat(t.uid).pipe(ot(i=>i?$(i):this.chatsService.createChat(t)),on(this.unsubscribe$)).subscribe(i=>{const r="/messages/"+i;console.log("Navigating to route:",r),this.router.navigate([r])})}toggleMessages(){}sendMessage(){const t=this.messageControl.value,i=this.chatListControl.value?.[0];t&&i&&(this.chatsService.addChatMessage(i,t).subscribe(()=>{this.scrollToBottom()}),this.messageControl.setValue(""))}scrollToBottom(){setTimeout(()=>{this.endOfChat&&this.endOfChat.nativeElement.scrollIntoView({behavior:"smooth"})},100)}isMobileScreen(){return window.innerWidth<=700}handleWindowResize(){const t=this.router.url;!this.isMobileScreen()&&t.includes("/chats")&&this.router.navigate(["/home"])}navigateToMessages(t){this.router.navigate([`/messages/${t}`])}}return n.\u0275fac=function(t){return new(t||n)(_(Hs),_(R3),_(jt),_(y5))},n.\u0275cmp=Ae({type:n,selectors:[["app-chat-list"]],viewQuery:function(t,i){if(1&t&&oi(p8e,5),2&t){let r;Se(r=Te())&&(i.endOfChat=r.first)}},decls:14,vars:15,consts:[[1,"container"],[1,"chat-list","mat-elevation-z5",3,"ngStyle"],[1,"search-input"],["matInput","","placeholder","Search for users...",2,"color","white",3,"matAutocomplete","formControl"],["users","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"multiple","formControl"],[3,"value","click"],[1,"chat-title",3,"click"],["name","ghost","size","17",2,"padding-top","1px","margin-right","px"],[1,"chat-name"],[1,"chat-date",2,"font-size","0.5rem"],["mat-line","",2,"font-size","0.7rem"]],template:function(t,i){if(1&t&&(x(0,"div",0)(1,"div",1),Ke(2,"async"),x(3,"div",2)(4,"mat-form-field"),te(5,"input",3),S(),x(6,"mat-autocomplete",null,4),X(8,f8e,2,2,"mat-option",5),Ke(9,"async"),S()(),x(10,"mat-selection-list",6),te(11,"mat-divider"),X(12,m8e,11,6,"mat-list-option",5),Ke(13,"async"),S()()()),2&t){const r=br(7);let o;I(1),R("ngStyle",fa(13,g8e,null==(o=Ze(2,7,i.currentUser$))?null:o.color)),I(4),R("matAutocomplete",r)("formControl",i.searchControl),I(3),R("ngForOf",Ze(9,9,i.users$)),I(2),R("multiple",!1)("formControl",i.chatListControl),I(2),R("ngForOf",Ze(13,11,i.myChats$))}},dependencies:[yc,_c,Ru,Pu,Zo,gl,qp,H5,Tz,F3,C5,b5,f2,B3,V3,va,H3],styles:[".container[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 120px);overflow:hidden;> .chat-list {width: 100%; margin: 16px; border-radius: 16px; .search-input {margin: 24px;}} > .messages {width: 100%; padding: 24px; margin: 16px; margin-left: 8px; border-radius: 16px; background: rgba(0,0,0,.05); .messages-header {display: flex; margin-bottom: 8px; > h2 {margin: 0;}} .chat-area {height: calc(100vh - 340px); display: flex; flex-direction: column; align-items: flex-start; overflow: auto; > :first-child {margin-top: auto;} .chat-bubble-container {display: flex; width: 100%; justify-content: flex-start; > .chat-bubble {background: white; padding-top: 8px; padding-bottom: 18px; padding-left: 8px; padding-right: 100px; margin-bottom: 16px; border-radius: 8px; width: -moz-fit-content; width: fit-content; position: relative; > .chat-time {position: absolute; bottom: 2px; right: 8px; font-size: .7rem; color: rgba(0,0,0,.6);}}} .chat-bubble-container.sender {justify-content: flex-end;}} .input-area {padding-top: 16px; padding-bottom: 8px;}}}"]}),n})();const _8e=["endOfChat"];function v8e(n,e){if(1&n&&(x(0,"div",1)(1,"mat-icon",12),T(2,"face"),S(),x(3,"h2"),T(4),S()()),2&n){const t=J().ngIf;I(4),ii(t.chatName)}}const k8e=function(n){return{sender:n}},b8e=function(n,e){return{"background-color":n,color:e}},w8e=function(n){return{color:n}};function M8e(n,e){if(1&n&&(x(0,"div",14)(1,"div",15),Ke(2,"async"),Ke(3,"async"),Ke(4,"async"),T(5),x(6,"span",16),Ke(7,"async"),T(8),Ke(9,"dateDisplay"),S()()()),2&n){const t=e.$implicit,i=J(2).ngIf,r=J(2);let o,s;R("ngClass",fa(15,k8e,t.senderId===i.uid)),I(1),R("ngStyle",n1(17,b8e,t.senderId===(null==(o=Ze(2,5,r.currentUser$))?null:o.uid)?null==(o=Ze(3,7,r.currentUser$))?null:o.color:"white",t.senderId===(null==(o=Ze(4,9,r.currentUser$))?null:o.uid)?"white":"black")),I(4),xr(" ",t.text," "),I(1),R("ngStyle",fa(20,w8e,t.senderId===(null==(s=Ze(7,11,r.currentUser$))?null:s.uid)?"white":"black")),I(2),xr(" ",Ze(9,13,t.sentDate)," ")}}function C8e(n,e){if(1&n&&(_i(0),X(1,M8e,10,22,"div",13),vi()),2&n){const t=e.ngIf;I(1),R("ngForOf",t)}}function x8e(n,e){if(1&n&&(_i(0),X(1,C8e,2,1,"ng-container",10),Ke(2,"async"),vi()),2&n){const t=J(2);I(1),R("ngIf",Ze(2,1,t.messages$))}}function E8e(n,e){if(1&n&&(_i(0),X(1,v8e,5,1,"div",8),te(2,"mat-divider"),x(3,"div",9),X(4,x8e,3,3,"ng-container",10),Ke(5,"async"),te(6,"div",null,11),S(),vi()),2&n){const t=J();I(1),R("ngIf",t.showMessages),I(3),R("ngIf",Ze(5,2,t.user$))}}function S8e(n,e){1&n&&(x(0,"h2"),T(1,"Chats"),S())}let T8e=(()=>{class n{constructor(t,i,r,o){this.usersService=t,this.chatsService=i,this.router=r,this.route=o,this.user$=this.usersService.currentUserProfile$,this.currentUser$=this.user$,this.myChats$=this.chatsService.myChats$,this.searchControl=new Ii(""),this.messageControl=new Ii(""),this.chatListControl=new Ii([""]),this.otherUsers$=or([this.usersService.allUsers$,this.user$]).pipe(Z(([s,a])=>s.filter(l=>l.uid!==a?.uid))),this.users$=or([this.otherUsers$,this.searchControl.valueChanges.pipe(Si(""))]).pipe(Z(([s,a])=>s.filter(l=>l.displayName?.toLowerCase().includes(a?.toLowerCase()??"")||l.email?.toLowerCase().includes(a?.toLowerCase()??"")))),this.selectedChat$=or([this.chatListControl.valueChanges,this.myChats$]).pipe(Z(([s,a])=>a.find(l=>l.id===s?.[0]))),this.unsubscribe$=new ge}ngOnInit(){this.route.params.subscribe(t=>{console.log("Received chatId:",t.chatId)}),this.messages$=this.chatListControl.valueChanges.pipe(Z(t=>t?.[0]),ot(t=>t?this.chatsService.getChatMessages$(t):$([])),rt(()=>{this.scrollToBottom()}),on(this.unsubscribe$)),this.handleWindowResize()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}createChat(t){this.chatsService.isExistingChat(t.uid).pipe(ot(i=>i?$(i):this.chatsService.createChat(t))).subscribe(i=>{if(console.log("ChatId being passed:",i),"/"===this.router.url){const r=this.router.url.includes("/chats/")?this.router.url.split("/chats/")[1]:null,o=r?`/messages/${r}`:this.isMobileScreen()?`/messages/${i[0]}`:"/chats";this.router.navigate([o])}})}toggleMessages(){this.showMessages=!this.showMessages}sendMessage(){const t=this.messageControl.value,i=this.chatListControl.value?.[0];t&&i&&(this.chatsService.addChatMessage(i,t).subscribe(()=>{this.scrollToBottom()}),this.messageControl.setValue(""))}scrollToBottom(){setTimeout(()=>{this.endOfChat&&this.endOfChat.nativeElement.scrollIntoView({behavior:"smooth"})},100)}isMobileScreen(){return window.innerWidth<=700}handleWindowResize(t){this.isMobileScreen()||this.router.navigate(["/home"])}}return n.\u0275fac=function(t){return new(t||n)(_(Hs),_(R3),_(jt),_(Va))},n.\u0275cmp=Ae({type:n,selectors:[["app-messages"]],viewQuery:function(t,i){if(1&t&&oi(_8e,5),2&t){let r;Se(r=Te())&&(i.endOfChat=r.first)}},hostBindings:function(t,i){1&t&&me("resize",function(o){return i.handleWindowResize(o)},0,fD)},decls:12,vars:5,consts:[[1,"container"],[1,"messages","mat-elevation-z5"],[4,"ngIf","ngIfElse"],["noChatSelected",""],[1,"input-area"],["appearance","outline"],["matInput","","placeholder","Enter your message...",3,"formControl","keydown.enter"],["mat-icon-button","","matSuffix","",3,"click"],["class","messages mat-elevation-z5",4,"ngIf"],[1,"chat-area"],[4,"ngIf"],["endOfChat",""],[2,"padding-right","3px","padding-top","2px"],["class","chat-bubble-container",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-bubble-container",3,"ngClass"],[1,"chat-bubble",3,"ngStyle"],[1,"chat-time",3,"ngStyle"]],template:function(t,i){if(1&t&&(x(0,"div",0)(1,"div",1),X(2,E8e,8,4,"ng-container",2),Ke(3,"async"),X(4,S8e,2,0,"ng-template",null,3,dc),x(6,"div",4)(7,"mat-form-field",5)(8,"input",6),me("keydown.enter",function(){return i.sendMessage()}),S(),x(9,"button",7),me("click",function(){return i.sendMessage()}),x(10,"mat-icon"),T(11,"send"),S()()()()()()),2&t){const r=br(5);I(2),R("ngIf",Ze(3,3,i.selectedChat$))("ngIfElse",r),I(6),R("formControl",i.messageControl)}},dependencies:[gc,yc,Ci,_c,Ay,Eu,Ru,wz,Pu,Zo,gl,qp,V3,va,H3],styles:[".container[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 120px);overflow:hidden;> .chat-list {width: 100%; margin: 16px; border-radius: 16px; .search-input {margin: 24px;}} > .messages {width: 100%; padding: 24px; margin: 16px; margin-left: 8px; border-radius: 16px; background: rgba(0,0,0,.05); .messages-header {display: flex; margin-bottom: 8px; > h2 {margin: 0;}} .chat-area {height: calc(100vh - 340px); display: flex; flex-direction: column; align-items: flex-start; overflow: auto; > :first-child {margin-top: auto;} .chat-bubble-container {display: flex; width: 100%; justify-content: flex-start; > .chat-bubble {background: white; padding-top: 8px; padding-bottom: 18px; padding-left: 8px; padding-right: 100px; margin-bottom: 16px; border-radius: 8px; width: -moz-fit-content; width: fit-content; position: relative; > .chat-time {position: absolute; bottom: 2px; right: 8px; font-size: .7rem; color: rgba(0,0,0,.6);}}} .chat-bubble-container.sender {justify-content: flex-end;}} .input-area {padding-top: 16px; padding-bottom: 8px; width: 100%;}}}"]}),n})();const D8e=[{path:"",pathMatch:"full",component:mIe},{path:"login",component:rAe},{path:"sign-up",component:uAe},{path:"home",component:pIe},{path:"profile",component:kl},{path:"chats",component:y8e},{path:"messages/:chatId",component:T8e}];let I8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[DO.forRoot(D8e),DO]}),n})();const Eq_firebase={projectId:"chat-app-132a2",appId:"1:784045443083:web:d64407a29e978df5975f0e",storageBucket:"chat-app-132a2.appspot.com",apiKey:"AIzaSyBkBN7gCsLABcwNdHqhSiQoQnjIcoWrkPQ",authDomain:"chat-app-132a2.firebaseapp.com",messagingSenderId:"784045443083"};let L8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({imports:[st,Ep,st]}),n})();const j8e={provide:new N("mat-tooltip-scroll-strategy"),deps:[dl],useFactory:function H8e(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let q8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n}),n.\u0275inj=ye({providers:[j8e],imports:[Kge,ds,F5,st,st,Rp]}),n})(),U8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_e({type:n,bootstrap:[n3e]}),n.\u0275inj=ye({providers:[xv],imports:[t7,tTe,I8e,bye,qye,Zye,N3,TDe,I3,Soe(()=>Toe(Eq_firebase)),gce(()=>vce()),rge(()=>sge()),r8e(()=>s8e()),nAe.forRoot(),Y2e,L8e,q8e,J5e.pick({Ghost:IH}),jDe,eIe,Iz]}),n})();(function pX(){a8=!1})(),Eee().bootstrapModule(U8e).catch(n=>console.error(n))}},Ve=>{Ve(Ve.s=804)}]);