"use strict";(self.webpackChunkangular_sign_up=self.webpackChunkangular_sign_up||[]).push([[179],{56:()=>{function Le(n){return"function"==typeof n}function Su(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const qp=Su(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function gl(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ct{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Le(i))try{i()}catch(o){e=o instanceof qp?o.errors:[o]}const{_teardowns:r}=this;if(r){this._teardowns=null;for(const o of r)try{X3(o)}catch(s){e=e??[],s instanceof qp?e=[...e,...s.errors]:e.push(s)}}if(e)throw new qp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)X3(e);else{if(e instanceof ct){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&gl(t,e)}remove(e){const{_teardowns:t}=this;t&&gl(t,e),e instanceof ct&&e._removeParent(this)}}ct.EMPTY=(()=>{const n=new ct;return n.closed=!0,n})();const Y3=ct.EMPTY;function Q3(n){return n instanceof ct||n&&"closed"in n&&Le(n.remove)&&Le(n.add)&&Le(n.unsubscribe)}function X3(n){Le(n)?n():n.unsubscribe()}const Ks={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Up={setTimeout(...n){const{delegate:e}=Up;return(e?.setTimeout||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=Up;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function J3(n){Up.setTimeout(()=>{const{onUnhandledError:e}=Ks;if(!e)throw n;e(n)})}function yl(){}const xq=_2("C",void 0,void 0);function _2(n,e,t){return{kind:n,value:e,error:t}}let Zs=null;function $p(n){if(Ks.useDeprecatedSynchronousErrorHandling){const e=!Zs;if(e&&(Zs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Zs;if(Zs=null,t)throw i}}else n()}class v2 extends ct{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Q3(e)&&e.add(this)):this.destination=Sq}static create(e,t,i){return new k2(e,t,i)}next(e){this.isStopped?w2(function Eq(n){return _2("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?w2(function Cq(n){return _2("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?w2(xq,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class k2 extends v2{constructor(e,t,i){let r;if(super(),Le(e))r=e;else if(e){let o;({next:r,error:t,complete:i}=e),this&&Ks.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe()):o=e,r=r?.bind(o),t=t?.bind(o),i=i?.bind(o)}this.destination={next:r?b2(r):yl,error:b2(t??eT),complete:i?b2(i):yl}}}function b2(n,e){return(...t)=>{try{n(...t)}catch(i){Ks.useDeprecatedSynchronousErrorHandling?function Tq(n){Ks.useDeprecatedSynchronousErrorHandling&&Zs&&(Zs.errorThrown=!0,Zs.error=n)}(i):J3(i)}}}function eT(n){throw n}function w2(n,e){const{onStoppedNotification:t}=Ks;t&&Up.setTimeout(()=>t(n,e))}const Sq={closed:!0,next:yl,error:eT,complete:yl},M2="function"==typeof Symbol&&Symbol.observable||"@@observable";function Zo(n){return n}function tT(n){return 0===n.length?Zo:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function Aq(n){return n&&n instanceof v2||function Iq(n){return n&&Le(n.next)&&Le(n.error)&&Le(n.complete)}(n)&&Q3(n)}(t)?t:new k2(t,i,r);return $p(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=nT(i))((r,o)=>{let s;s=this.subscribe(a=>{try{t(a)}catch(l){o(l),s?.unsubscribe()}},o,r)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[M2](){return this}pipe(...t){return tT(t)(this)}toPromise(t){return new(t=nT(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function nT(n){var e;return null!==(e=n??Ks.Promise)&&void 0!==e?e:Promise}const Rq=Su(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ke=(()=>{class n extends Ue{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new iT(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Rq}next(t){$p(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const r of i)r.next(t)}})}error(t){$p(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){$p(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Y3:(o.push(t),new ct(()=>gl(o,t)))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Ue;return t.source=this,t}}return n.create=(e,t)=>new iT(e,t),n})();class iT extends ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Y3}}function rT(n){return Le(n?.lift)}function Mt(n){return e=>{if(rT(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class it extends v2{constructor(e,t,i,r,o){super(e),this.onFinalize=o,this._next=t?function(s){try{t(s)}catch(a){e.error(a)}}:super._next,this._error=r?function(s){try{r(s)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Q(n,e){return Mt((t,i)=>{let r=0;t.subscribe(new it(i,o=>{i.next(n.call(e,o,r++))}))})}function Ys(n){return this instanceof Ys?(this.v=n,this):new Ys(n)}function Nq(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(p){return new Promise(function(f,m){o.push([h,p,f,m])>1||a(h,p)})})}function a(h,p){try{!function l(h){h.value instanceof Ys?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(i[h](p))}catch(f){d(o[0][3],f)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Fq(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function aT(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const C2=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function lT(n){return Le(n?.then)}function cT(n){return Le(n[M2])}function uT(n){return Symbol.asyncIterator&&Le(n?.[Symbol.asyncIterator])}function dT(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hT=function Vq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pT(n){return Le(n?.[hT])}function fT(n){return Nq(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Ys(t.read());if(r)return yield Ys(void 0);yield yield Ys(i)}}finally{t.releaseLock()}})}function mT(n){return Le(n?.getReader)}function Yn(n){if(n instanceof Ue)return n;if(null!=n){if(cT(n))return function Bq(n){return new Ue(e=>{const t=n[M2]();if(Le(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(C2(n))return function Hq(n){return new Ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(lT(n))return function jq(n){return new Ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,J3)})}(n);if(uT(n))return gT(n);if(pT(n))return function zq(n){return new Ue(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(mT(n))return function qq(n){return gT(fT(n))}(n)}throw dT(n)}function gT(n){return new Ue(e=>{(function Uq(n,e){var t,i,r,o;return function Pq(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Fq(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function so(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Vt(n,e,t=1/0){return Le(e)?Vt((i,r)=>Q((o,s)=>e(i,o,r,s))(Yn(n(i,r))),t):("number"==typeof e&&(t=e),Mt((i,r)=>function $q(n,e,t,i,r,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},p=m=>c<i?f(m):l.push(m),f=m=>{o&&e.next(m),c++;let y=!1;Yn(t(m,u++)).subscribe(new it(e,k=>{r?.(k),o?p(k):e.next(k)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<i;){const k=l.shift();s?so(e,s,()=>f(k)):f(k)}h()}catch(k){e.error(k)}}))};return n.subscribe(new it(e,p,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function _l(n=1/0){return Vt(Zo,n)}const ar=new Ue(n=>n.complete());function yT(n){return n&&Le(n.schedule)}function E2(n){return n[n.length-1]}function _T(n){return Le(E2(n))?n.pop():void 0}function Du(n){return yT(E2(n))?n.pop():void 0}function Gp(n,e=0){return Mt((t,i)=>{t.subscribe(new it(i,r=>so(i,n,()=>i.next(r),e),()=>so(i,n,()=>i.complete(),e),r=>so(i,n,()=>i.error(r),e)))})}function Wp(n,e=0){return Mt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function vT(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ue(t=>{so(t,e,()=>{const i=n[Symbol.asyncIterator]();so(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function We(n,e){return e?function Jq(n,e){if(null!=n){if(cT(n))return function Kq(n,e){return Yn(n).pipe(Wp(e),Gp(e))}(n,e);if(C2(n))return function Yq(n,e){return new Ue(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(lT(n))return function Zq(n,e){return Yn(n).pipe(Wp(e),Gp(e))}(n,e);if(uT(n))return vT(n,e);if(pT(n))return function Qq(n,e){return new Ue(t=>{let i;return so(t,e,()=>{i=n[hT](),so(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Le(i?.return)&&i.return()})}(n,e);if(mT(n))return function Xq(n,e){return vT(fT(n),e)}(n,e)}throw dT(n)}(n,e):Yn(n)}function Ar(...n){const e=Du(n),t=function Wq(n,e){return"number"==typeof E2(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Yn(i[0]):_l(t)(We(i,e)):ar}function Bt(n){return n<=0?()=>ar:Mt((e,t)=>{let i=0;e.subscribe(new it(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function kT(n={}){const{connector:e=(()=>new ke),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s=null,a=null,l=null,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=null},p=()=>{h(),s=l=null,u=d=!1},f=()=>{const m=s;p(),m?.unsubscribe()};return Mt((m,y)=>{c++,!d&&!u&&h();const k=l=l??e();y.add(()=>{c--,0===c&&!d&&!u&&(a=T2(f,r))}),k.subscribe(y),s||(s=new k2({next:w=>k.next(w),error:w=>{d=!0,h(),a=T2(p,t,w),k.error(w)},complete:()=>{u=!0,h(),a=T2(p,i),k.complete()}}),We(m).subscribe(s))})(o)}}function T2(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Bt(1)).subscribe(()=>n())}function et(n){for(let e in n)if(n[e]===et)return e;throw Error("Could not find renamed property on target object.")}function S2(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function tt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(tt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function D2(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const eU=et({__forward_ref__:et});function $e(n){return n.__forward_ref__=$e,n.toString=function(){return tt(this())},n}function re(n){return I2(n)?n():n}function I2(n){return"function"==typeof n&&n.hasOwnProperty(eU)&&n.__forward_ref__===$e}class T extends Error{constructor(e,t){super(function Kp(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function he(n){return"string"==typeof n?n:null==n?"":String(n)}function Zp(n,e){throw new T(-201,!1)}function Ei(n,e){null==n&&function Ge(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function me(n){return{providers:n.providers||[],imports:n.imports||[]}}function A2(n){return bT(n,Yp)||bT(n,MT)}function bT(n,e){return n.hasOwnProperty(e)?n[e]:null}function wT(n){return n&&(n.hasOwnProperty(R2)||n.hasOwnProperty(lU))?n[R2]:null}const Yp=et({\u0275prov:et}),R2=et({\u0275inj:et}),MT=et({ngInjectableDef:et}),lU=et({ngInjectorDef:et});var ee=(()=>((ee=ee||{})[ee.Default=0]="Default",ee[ee.Host=1]="Host",ee[ee.Self=2]="Self",ee[ee.SkipSelf=4]="SkipSelf",ee[ee.Optional=8]="Optional",ee))();let P2;function $i(n){const e=P2;return P2=n,e}function xT(n,e,t){const i=A2(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&ee.Optional?null:void 0!==e?e:void Zp(tt(n))}function Yo(n){return{toString:n}.toString()}var lr=(()=>((lr=lr||{})[lr.OnPush=0]="OnPush",lr[lr.Default=1]="Default",lr))(),cr=(()=>{return(n=cr||(cr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",cr;var n})();const Ke=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),vl={},ze=[],Qp=et({\u0275cmp:et}),O2=et({\u0275dir:et}),Xp=et({\u0275pipe:et}),CT=et({\u0275mod:et}),lo=et({\u0275fac:et}),Iu=et({__NG_ELEMENT_ID__:et});let uU=0;function Ve(n){return Yo(()=>{const t=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===lr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ze,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||cr.Emulated,id:"c"+uU++,styles:n.styles||ze,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return r.inputs=ST(n.inputs,i),r.outputs=ST(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=o?()=>("function"==typeof o?o():o).map(ET).filter(TT):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Jn).filter(TT):null,r})}function ET(n){return Ze(n)||Xn(n)}function TT(n){return null!==n}const hU={};function ge(n){return Yo(()=>{const e={type:n.type,bootstrap:n.bootstrap||ze,declarations:n.declarations||ze,imports:n.imports||ze,exports:n.exports||ze,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(hU[n.id]=n.type),e})}function ST(n,e){if(null==n)return vl;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}const $=Ve;function Qn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ze(n){return n[Qp]||null}function Xn(n){return n[O2]||null}function Jn(n){return n[Xp]||null}function Ti(n,e){const t=n[CT]||null;if(!t&&!0===e)throw new Error(`Type ${tt(n)} does not have '\u0275mod' property.`);return t}function pi(n){return Array.isArray(n)&&"object"==typeof n[1]}function dr(n){return Array.isArray(n)&&!0===n[1]}function L2(n){return 0!=(8&n.flags)}function nf(n){return 2==(2&n.flags)}function rf(n){return 1==(1&n.flags)}function hr(n){return null!==n.template}function yU(n){return 0!=(256&n[2])}function ta(n,e){return n.hasOwnProperty(lo)?n[lo]:null}class kU{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Mn(){return AT}function AT(n){return n.type.prototype.ngOnChanges&&(n.setInput=wU),bU}function bU(){const n=PT(this),e=n?.current;if(e){const t=n.previous;if(t===vl)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function wU(n,e,t,i){const r=PT(n)||function MU(n,e){return n[RT]=e}(n,{previous:vl,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[t],l=s[a];o[a]=new kU(l&&l.currentValue,e,s===vl),n[i]=e}Mn.ngInherit=!0;const RT="__ngSimpleChanges__";function PT(n){return n[RT]||null}function Kt(n){for(;Array.isArray(n);)n=n[0];return n}function sf(n,e){return Kt(e[n])}function Ki(n,e){return Kt(e[n.index])}function z2(n,e){return n.data[e]}function xl(n,e){return n[e]}function Di(n,e){const t=e[n];return pi(t)?t:t[0]}function OT(n){return 4==(4&n[2])}function q2(n){return 64==(64&n[2])}function Qo(n,e){return null==e?null:n[e]}function NT(n){n[18]=0}function U2(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const ae={lFrame:UT(null),bindingsEnabled:!0};function LT(){return ae.bindingsEnabled}function S(){return ae.lFrame.lView}function Oe(){return ae.lFrame.tView}function Ln(n){return ae.lFrame.contextLView=n,n[8]}function Vn(n){return ae.lFrame.contextLView=null,n}function nn(){let n=VT();for(;null!==n&&64===n.type;)n=n.parent;return n}function VT(){return ae.lFrame.currentTNode}function Rr(n,e){const t=ae.lFrame;t.currentTNode=n,t.isParent=e}function $2(){return ae.lFrame.isParent}function G2(){ae.lFrame.isParent=!1}function ei(){const n=ae.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Cl(){return ae.lFrame.bindingIndex++}function LU(n,e){const t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,W2(e)}function W2(n){ae.lFrame.currentDirectiveIndex=n}function jT(){return ae.lFrame.currentQueryIndex}function Z2(n){ae.lFrame.currentQueryIndex=n}function BU(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function zT(n,e,t){if(t&ee.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&ee.Host||(r=BU(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;e=r,n=o}const i=ae.lFrame=qT();return i.currentTNode=e,i.lView=n,!0}function Y2(n){const e=qT(),t=n[1];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function qT(){const n=ae.lFrame,e=null===n?null:n.child;return null===e?UT(n):e}function UT(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function $T(){const n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const GT=$T;function Q2(){const n=$T();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ti(){return ae.lFrame.selectedIndex}function Xo(n){ae.lFrame.selectedIndex=n}function At(){const n=ae.lFrame;return z2(n.tView,n.selectedIndex)}function X2(){ae.lFrame.currentNamespace="svg"}function lf(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function cf(n,e,t){KT(n,e,3,t)}function uf(n,e,t,i){(3&n[2])===t&&KT(n,e,t,i)}function J2(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function KT(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(GU(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function GU(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Nu{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function df(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];YT(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function ZT(n){return 3===n||4===n||6===n}function YT(n){return 64===n.charCodeAt(0)}function hf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||QT(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function QT(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function XT(n){return-1!==n}function El(n){return 32767&n}function Tl(n,e){let t=function QU(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let t0=!0;function pf(n){const e=t0;return t0=n,e}let XU=0;const Pr={};function Lu(n,e){const t=r0(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,n0(i.data,n),n0(e,null),n0(i.blueprint,null));const r=ff(n,e),o=n.injectorIndex;if(XT(r)){const s=El(r),a=Tl(r,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function n0(n,e){n.push(0,0,0,0,0,0,0,0,e)}function r0(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ff(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=aS(r),null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function mf(n,e,t){!function JU(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Iu)&&(i=t[Iu]),null==i&&(i=t[Iu]=XU++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function tS(n,e,t){if(t&ee.Optional)return n;Zp()}function nS(n,e,t,i){if(t&ee.Optional&&void 0===i&&(i=null),0==(t&(ee.Self|ee.Host))){const r=n[9],o=$i(void 0);try{return r?r.get(e,i,t&ee.Optional):xT(e,i,t&ee.Optional)}finally{$i(o)}}return tS(i,0,t)}function iS(n,e,t,i=ee.Default,r){if(null!==n){if(1024&e[2]){const s=function r$(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=rS(o,s,t,i|ee.Self,Pr);if(a!==Pr)return a;let l=o.parent;if(!l){const c=s[21];if(c){const u=c.get(t,Pr,i);if(u!==Pr)return u}l=aS(s),s=s[15]}o=l}return r}(n,e,t,i,Pr);if(s!==Pr)return s}const o=rS(n,e,t,i,Pr);if(o!==Pr)return o}return nS(e,t,i,r)}function rS(n,e,t,i,r){const o=function n$(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Iu)?n[Iu]:void 0;return"number"==typeof e?e>=0?255&e:i$:e}(t);if("function"==typeof o){if(!zT(e,n,i))return i&ee.Host?tS(r,0,i):nS(e,t,i,r);try{const s=o(i);if(null!=s||i&ee.Optional)return s;Zp()}finally{GT()}}else if("number"==typeof o){let s=null,a=r0(n,e),l=-1,c=i&ee.Host?e[16][6]:null;for((-1===a||i&ee.SkipSelf)&&(l=-1===a?ff(n,e):e[a+8],-1!==l&&sS(i,!1)?(s=e[1],a=El(l),e=Tl(l,e)):a=-1);-1!==a;){const u=e[1];if(oS(o,a,u.data)){const d=t$(a,e,t,s,i,c);if(d!==Pr)return d}l=e[a+8],-1!==l&&sS(i,e[1].data[a+8]===c)&&oS(o,a,e)?(s=u,a=El(l),e=Tl(l,e)):a=-1}}return r}function t$(n,e,t,i,r,o){const s=e[1],a=s.data[n+8],u=gf(a,s,t,null==i?nf(a)&&t0:i!=s&&0!=(3&a.type),r&ee.Host&&o===a);return null!==u?Vu(e,s,u,a):Pr}function gf(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let p=i?a:a+u;p<h;p++){const f=s[p];if(p<l&&t===f||p>=l&&f.type===t)return p}if(r){const p=s[l];if(p&&hr(p)&&p.type===t)return l}return null}function Vu(n,e,t,i){let r=n[t];const o=e.data;if(function WU(n){return n instanceof Nu}(r)){const s=r;s.resolving&&function tU(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new T(-200,`Circular dependency in DI detected for ${n}${t}`)}(function je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():he(n)}(o[t]));const a=pf(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?$i(s.injectImpl):null;zT(n,i,ee.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function $U(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=AT(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&$i(l),pf(a),s.resolving=!1,GT()}}return r}function oS(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function sS(n,e){return!(n&ee.Self||n&ee.Host&&e)}class Sl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return iS(this._tNode,this._lView,e,i,t)}}function i$(){return new Sl(nn(),S())}function rn(n){return Yo(()=>{const e=n.prototype.constructor,t=e[lo]||o0(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[lo]||o0(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function o0(n){return I2(n)?()=>{const e=o0(re(n));return e&&e()}:ta(n)}function aS(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function es(n){return function e$(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(ZT(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(nn(),n)}const Il="__parameters__";function Rl(n,e,t){return Yo(()=>{const i=function s0(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Il)?l[Il]:Object.defineProperty(l,Il,{value:[]})[Il];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class P{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ii(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),Ii(i,e)):e!==n&&e.push(i)}return e}function ho(n,e){n.forEach(t=>Array.isArray(t)?ho(t,e):e(t))}function cS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function yf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ju(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Ai(n,e,t){let i=Pl(n,e);return i>=0?n[1|i]=t:(i=~i,function l$(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function l0(n,e){const t=Pl(n,e);if(t>=0)return n[1|t]}function Pl(n,e){return function hS(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const zu={},u0="__NG_DI_FLAG__",vf="ngTempTokenPath",g$=/\n/gm,pS="__source";let qu;function Ol(n){const e=qu;return qu=n,e}function _$(n,e=ee.Default){if(void 0===qu)throw new T(-203,!1);return null===qu?xT(n,void 0,e):qu.get(n,e&ee.Optional?null:void 0,e)}function x(n,e=ee.Default){return(function cU(){return P2}()||_$)(re(n),e)}function ot(n,e=ee.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),x(n,e)}function d0(n){const e=[];for(let t=0;t<n.length;t++){const i=re(n[t]);if(Array.isArray(i)){if(0===i.length)throw new T(900,!1);let r,o=ee.Default;for(let s=0;s<i.length;s++){const a=i[s],l=v$(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(x(r,o))}else e.push(x(i))}return e}function Uu(n,e){return n[u0]=e,n.prototype[u0]=e,n}function v$(n){return n[u0]}const vt=Uu(Rl("Optional"),8),Nl=Uu(Rl("SkipSelf"),4);let p0,wf,Mf;function Ll(n){return function f0(){if(void 0===wf&&(wf=null,Ke.trustedTypes))try{wf=Ke.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wf}()?.createHTML(n)||n}function MS(n){return function m0(){if(void 0===Mf&&(Mf=null,Ke.trustedTypes))try{Mf=Ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Mf}()?.createHTML(n)||n}class na{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class O$ extends na{getTypeName(){return"HTML"}}class N$ extends na{getTypeName(){return"Style"}}class F$ extends na{getTypeName(){return"Script"}}class L$ extends na{getTypeName(){return"URL"}}class V$ extends na{getTypeName(){return"ResourceURL"}}function Ri(n){return n instanceof na?n.changingThisBreaksApplicationSecurity:n}function Or(n,e){const t=function B$(n){return n instanceof na&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class $${constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ll(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class G${constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ll(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=Ll(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const s=t.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const K$=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Z$=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wu(n){return(n=String(n)).match(K$)||n.match(Z$)?n:"unsafe:"+n}function TS(n){return(n=String(n)).split(",").map(e=>Wu(e.trim())).join(", ")}function Nr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Ku(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const SS=Nr("area,br,col,hr,img,wbr"),DS=Nr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),IS=Nr("rp,rt"),g0=Ku(SS,Ku(DS,Nr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ku(IS,Nr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ku(IS,DS)),y0=Nr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_0=Nr("srcset"),AS=Ku(y0,_0,Nr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Y$=Nr("script,style,template");class Q${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!g0.hasOwnProperty(t))return this.sanitizedSomething=!0,!Y$.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!AS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;y0[a]&&(l=Wu(l)),_0[a]&&(l=TS(l)),this.buf.push(" ",s,'="',RS(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();g0.hasOwnProperty(t)&&!SS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(RS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const X$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,J$=/([^\#-~ |!])/g;function RS(n){return n.replace(/&/g,"&amp;").replace(X$,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(J$,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xf;function PS(n,e){let t=null;try{xf=xf||function ES(n){const e=new G$(n);return function W$(){try{return!!(new window.DOMParser).parseFromString(Ll(""),"text/html")}catch{return!1}}()?new $$(e):e}(n);let i=e?String(e):"";t=xf.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=xf.getInertBodyElement(i)}while(i!==o);return Ll((new Q$).sanitizeChildren(v0(t)||t))}finally{if(t){const i=v0(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function v0(n){return"content"in n&&function eG(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var qe=(()=>((qe=qe||{})[qe.NONE=0]="NONE",qe[qe.HTML=1]="HTML",qe[qe.STYLE=2]="STYLE",qe[qe.SCRIPT=3]="SCRIPT",qe[qe.URL=4]="URL",qe[qe.RESOURCE_URL=5]="RESOURCE_URL",qe))();function OS(n){const e=Zu();return e?MS(e.sanitize(qe.HTML,n)||""):Or(n,"HTML")?MS(Ri(n)):PS(function wS(){return void 0!==p0?p0:typeof document<"u"?document:void 0}(),he(n))}function k0(n){const e=Zu();return e?e.sanitize(qe.URL,n)||"":Or(n,"URL")?Ri(n):Wu(he(n))}function Zu(){const n=S();return n&&n[12]}const b0=new P("ENVIRONMENT_INITIALIZER"),FS=new P("INJECTOR",-1),LS=new P("INJECTOR_DEF_TYPES");class VS{get(e,t=zu){if(t===zu){const i=new Error(`NullInjectorError: No provider for ${tt(e)}!`);throw i.name="NullInjectorError",i}return t}}function aG(...n){return{\u0275providers:BS(0,n)}}function BS(n,...e){const t=[],i=new Set;let r;return ho(e,o=>{const s=o;w0(s,t,[],i)&&(r||(r=[]),r.push(s))}),void 0!==r&&HS(r,t),t}function HS(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];ho(r,o=>{e.push(o)})}}function w0(n,e,t,i){if(!(n=re(n)))return!1;let r=null,o=wT(n);const s=!o&&Ze(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=wT(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)w0(c,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{ho(o.imports,u=>{w0(u,e,t,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&HS(c,e)}if(!a){const c=ta(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:ze},{provide:LS,useValue:r,multi:!0},{provide:b0,useValue:()=>x(r),multi:!0})}const l=o.providers;null==l||a||ho(l,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}const lG=et({provide:String,useValue:et});function M0(n){return null!==n&&"object"==typeof n&&lG in n}function ia(n){return"function"==typeof n}const x0=new P("Set Injector scope."),Cf={},uG={};let C0;function Ef(){return void 0===C0&&(C0=new VS),C0}class ts{}class qS extends ts{constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,T0(e,s=>this.processProvider(s)),this.records.set(FS,Vl(void 0,this)),r.has("environment")&&this.records.set(ts,Vl(void 0,this));const o=this.records.get(x0);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(LS.multi,ze,ee.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Ol(this),i=$i(void 0);try{return e()}finally{Ol(t),$i(i)}}get(e,t=zu,i=ee.Default){this.assertNotDestroyed();const r=Ol(this),o=$i(void 0);try{if(!(i&ee.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function mG(n){return"function"==typeof n||"object"==typeof n&&n instanceof P}(e)&&A2(e);a=l&&this.injectableDefInScope(l)?Vl(E0(e),Cf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&ee.Self?Ef():this.parent).get(e,t=i&ee.Optional&&t===zu?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[vf]=s[vf]||[]).unshift(tt(e)),r)throw s;return function k$(n,e,t,i){const r=n[vf];throw e[pS]&&r.unshift(e[pS]),n.message=function b$(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=tt(e);if(Array.isArray(e))r=e.map(tt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):tt(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(g$,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[vf]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{$i(o),Ol(r)}}resolveInjectorInitializers(){const e=Ol(this),t=$i(void 0);try{const i=this.get(b0.multi,ze,ee.Self);for(const r of i)r()}finally{Ol(e),$i(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(tt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let t=ia(e=re(e))?e:re(e&&e.provide);const i=function hG(n){return M0(n)?Vl(void 0,n.useValue):Vl(US(n),Cf)}(e);if(ia(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Vl(void 0,Cf,!0),r.factory=()=>d0(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Cf&&(t.value=uG,t.value=t.factory()),"object"==typeof t.value&&t.value&&function fG(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=re(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function E0(n){const e=A2(n),t=null!==e?e.factory:ta(n);if(null!==t)return t;if(n instanceof P)throw new T(204,!1);if(n instanceof Function)return function dG(n){const e=n.length;if(e>0)throw ju(e,"?"),new T(204,!1);const t=function sU(n){const e=n&&(n[Yp]||n[MT]);if(e){const t=function aU(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new T(204,!1)}function US(n,e,t){let i;if(ia(n)){const r=re(n);return ta(r)||E0(r)}if(M0(n))i=()=>re(n.useValue);else if(function zS(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...d0(n.deps||[]));else if(function jS(n){return!(!n||!n.useExisting)}(n))i=()=>x(re(n.useExisting));else{const r=re(n&&(n.useClass||n.provide));if(!function pG(n){return!!n.deps}(n))return ta(r)||E0(r);i=()=>new r(...d0(n.deps))}return i}function Vl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function gG(n){return!!n.\u0275providers}function T0(n,e){for(const t of n)Array.isArray(t)?T0(t,e):gG(t)?T0(t.\u0275providers,e):e(t)}class $S{}class vG{resolveComponentFactory(e){throw function _G(n){const e=Error(`No component factory found for ${tt(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ra=(()=>{class n{}return n.NULL=new vG,n})();function kG(){return Bl(nn(),S())}function Bl(n,e){return new De(Ki(n,e))}let De=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=kG,n})();function bG(n){return n instanceof De?n.nativeElement:n}class Yu{}let pr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function wG(){const n=S(),t=Di(nn().index,n);return(pi(t)?t:n)[11]}(),n})(),MG=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>null}),n})();class ns{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const WS=new ns("14.1.1"),S0={};function P0(n){return n.ngOriginalError}class po{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&P0(e);for(;t&&P0(t);)t=P0(t);return t||null}}const O0=new Map;let NG=0;const F0="__ngContext__";function Hn(n,e){pi(e)?(n[F0]=e[20],function LG(n){O0.set(n[20],n)}(e)):n[F0]=e}function Qu(n){const e=n[F0];return"number"==typeof e?function JS(n){return O0.get(n)||null}(e):e||null}function L0(n){const e=Qu(n);return e?pi(e)?e:e.lView:null}const GG=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ke))();function fo(n){return n instanceof Function?n():n}var fi=(()=>((fi=fi||{})[fi.Important=1]="Important",fi[fi.DashCase=2]="DashCase",fi))();function B0(n,e){return undefined(n,e)}function Xu(n){const e=n[3];return dr(e)?e[3]:e}function H0(n){return aD(n[13])}function j0(n){return aD(n[4])}function aD(n){for(;null!==n&&!dr(n);)n=n[4];return n}function jl(n,e,t,i,r){if(null!=i){let o,s=!1;dr(i)?o=i:pi(i)&&(s=!0,i=i[0]);const a=Kt(i);0===n&&null!==t?null==r?pD(e,t,a):oa(e,t,a,r||null,!0):1===n&&null!==t?oa(e,t,a,r||null,!0):2===n?function kD(n,e,t){const i=Tf(n,e);i&&function uW(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function pW(n,e,t,i,r){const o=t[7];o!==Kt(t)&&jl(e,n,i,o,r);for(let a=10;a<t.length;a++){const l=t[a];Ju(l[1],l,n,e,i,o)}}(e,n,o,t,r)}}function q0(n,e,t){return n.createElement(e,t)}function cD(n,e){const t=n[9],i=t.indexOf(e),r=e[3];512&e[2]&&(e[2]&=-513,U2(r,-1)),t.splice(i,1)}function U0(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&cD(r,i),e>0&&(n[t-1][4]=i[4]);const o=yf(n,10+e);!function nW(n,e){Ju(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function uD(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Ju(n,e,t,3,null,null),function oW(n){let e=n[13];if(!e)return $0(n[1],n);for(;e;){let t=null;if(pi(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)pi(e)&&$0(e[1],e),e=e[3];null===e&&(e=n),pi(e)&&$0(e[1],e),t=e&&e[4]}e=t}}(e)}}function $0(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function cW(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Nu)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,e),function lW(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):Kt(e[s]),l=i[r=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=t[o+1]];t[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)(0,i[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&dr(e[3])){t!==e[3]&&cD(t,e);const i=e[19];null!==i&&i.detachView(n)}!function VG(n){O0.delete(n[20])}(e)}}function dD(n,e,t){return function hD(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===cr.None||r===cr.Emulated)return null}return Ki(i,t)}(n,e.parent,t)}function oa(n,e,t,i,r){n.insertBefore(e,t,i,r)}function pD(n,e,t){n.appendChild(e,t)}function fD(n,e,t,i,r){null!==i?oa(n,e,t,i,r):pD(n,e,t)}function Tf(n,e){return n.parentNode(e)}function mD(n,e,t){return yD(n,e,t)}let yD=function gD(n,e,t){return 40&n.type?Ki(n,t):null};function Sf(n,e,t,i){const r=dD(n,i,e),o=e[11],a=mD(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)fD(o,r,t[l],a,!1);else fD(o,r,t,a,!1)}function Df(n,e){if(null!==e){const t=e.type;if(3&t)return Ki(e,n);if(4&t)return W0(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Df(n,i);{const r=n[e.index];return dr(r)?W0(-1,r):Kt(r)}}if(32&t)return B0(e,n)()||Kt(n[e.index]);{const i=vD(n,e);return null!==i?Array.isArray(i)?i[0]:Df(Xu(n[16]),i):Df(n,e.next)}}return null}function vD(n,e){return null!==e?n[16][6].projection[e.projection]:null}function W0(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return Df(i,r)}return e[7]}function K0(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&Hn(Kt(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)K0(n,e,t.child,i,r,o,!1),jl(e,n,r,a,o);else if(32&l){const c=B0(t,i);let u;for(;u=c();)jl(e,n,r,u,o);jl(e,n,r,a,o)}else 16&l?bD(n,e,i,t,r,o):jl(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Ju(n,e,t,i,r,o){K0(t,i,n.firstChild,e,r,o,!1)}function bD(n,e,t,i,r,o){const s=t[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)jl(e,n,r,l[c],o);else K0(n,e,l,s[3],r,o,!0)}function wD(n,e,t){n.setAttribute(e,"style",t)}function Z0(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function MD(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}const xD="ng-template";function mW(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==MD(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function CD(n){return 4===n.type&&n.value!==xD}function gW(n,e,t){return e===(4!==n.type||t?n.value:xD)}function yW(n,e,t){let i=4;const r=n.attrs||[],o=function kW(n){for(let e=0;e<n.length;e++)if(ZT(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!gW(n,l,t)||""===l&&1===e.length){if(fr(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!mW(n.attrs,c,t)){if(fr(i))return!1;s=!0}continue}const d=_W(8&i?"class":l,r,CD(n),t);if(-1===d){if(fr(i))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":r[d+1].toLowerCase();const p=8&i?h:null;if(p&&-1!==MD(p,c,0)||2&i&&c!==h){if(fr(i))return!1;s=!0}}}}else{if(!s&&!fr(i)&&!fr(l))return!1;if(s&&fr(l))continue;s=!1,i=l|1&i}}return fr(i)||s}function fr(n){return 0==(1&n)}function _W(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function bW(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function ED(n,e,t=!1){for(let i=0;i<e.length;i++)if(yW(n,e[i],t))return!0;return!1}function wW(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function TD(n,e){return n?":not("+e.trim()+")":e}function MW(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!fr(s)&&(e+=TD(o,r),r=""),i=s,o=o||!fr(i);t++}return""!==r&&(e+=TD(o,r)),e}const pe={};function N(n){SD(Oe(),S(),ti()+n,!1)}function SD(n,e,t,i){if(!i)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&cf(e,o,t)}else{const o=n.preOrderHooks;null!==o&&uf(e,o,0,t)}Xo(t)}function RD(n,e=null,t=null,i){const r=PD(n,e,t,i);return r.resolveInjectorInitializers(),r}function PD(n,e=null,t=null,i,r=new Set){const o=[t||ze,aG(n)];return i=i||("object"==typeof n?void 0:tt(n)),new qS(o,e||Ef(),i||null,r)}let Rt=(()=>{class n{static create(t,i){if(Array.isArray(t))return RD({name:""},i,t,"");{const r=t.name??"";return RD({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=zu,n.NULL=new VS,n.\u0275prov=V({token:n,providedIn:"any",factory:()=>x(FS)}),n.__NG_ELEMENT_ID__=-1,n})();function _(n,e=ee.Default){const t=S();return null===t?x(n,e):iS(nn(),t,re(n),e)}function Af(){throw new Error("invalid")}function Rf(n,e){return n<<17|e<<2}function mr(n){return n>>17&32767}function e_(n){return 2|n}function mo(n){return(131068&n)>>2}function t_(n,e){return-131069&n|e<<2}function n_(n){return 1|n}function YD(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],o=t[i+1];if(-1!==o){const s=n.data[o];Z2(r),s.contentQueries(2,e[o],o)}}}function Nf(n,e,t,i,r,o,s,a,l,c,u){const d=e.blueprint.slice();return d[0]=r,d[2]=76|i,(null!==u||n&&1024&n[2])&&(d[2]|=1024),NT(d),d[3]=d[15]=n,d[8]=t,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=o,d[20]=function FG(){return NG++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function ql(n,e,t,i,r){let o=n.data[e];if(null===o)o=function d_(n,e,t,i,r){const o=VT(),s=$2(),l=n.data[e]=function sK(n,e,t,i,r,o){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,i,r),function FU(){return ae.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Ou(){const n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Rr(o,!0),o}function Ul(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Ff(n,e,t){Y2(e);try{const i=n.viewQuery;null!==i&&k_(1,i,t);const r=n.template;null!==r&&QD(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&YD(n,e),n.staticViewQueries&&k_(2,n.viewQuery,t);const o=n.components;null!==o&&function nK(n,e){for(let t=0;t<e.length;t++)wK(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,Q2()}}function ed(n,e,t,i){const r=e[2];if(128!=(128&r)){Y2(e);try{NT(e),function BT(n){return ae.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&QD(n,e,t,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&cf(e,c,null)}else{const c=n.preOrderHooks;null!==c&&uf(e,c,0,null),J2(e,0)}if(function kK(n){for(let e=H0(n);null!==e;e=j0(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],o=r[3];0==(512&r[2])&&U2(o,1),r[2]|=512}}}(e),function vK(n){for(let e=H0(n);null!==e;e=j0(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];q2(i)&&ed(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&YD(n,e),s){const c=n.contentCheckHooks;null!==c&&cf(e,c)}else{const c=n.contentHooks;null!==c&&uf(e,c,1),J2(e,1)}!function eK(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Xo(~r);else{const o=r,s=t[++i],a=t[++i];LU(s,o),a(2,e[o])}}}finally{Xo(-1)}}(n,e);const a=n.components;null!==a&&function tK(n,e){for(let t=0;t<e.length;t++)bK(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&k_(2,l,i),s){const c=n.viewCheckHooks;null!==c&&cf(e,c)}else{const c=n.viewHooks;null!==c&&uf(e,c,2),J2(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,U2(e[3],-1))}finally{Q2()}}}function iK(n,e,t,i){const r=e[10],s=OT(e);try{!s&&r.begin&&r.begin(),s&&Ff(n,e,i),ed(n,e,t,i)}finally{!s&&r.end&&r.end()}}function QD(n,e,t,i,r){const o=ti(),s=2&i;try{Xo(-1),s&&e.length>22&&SD(n,e,22,!1),t(i,r)}finally{Xo(o)}}function XD(n,e,t){if(L2(e)){const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function h_(n,e,t){!LT()||(function dK(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||Lu(t,e),Hn(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=hr(l);c&&gK(e,t,l);const u=Vu(e,n,a,t);Hn(u,e),null!==s&&yK(0,a-r,u,l,0,s),c&&(Di(t.index,e)[8]=u)}}(n,e,t,Ki(t,e)),128==(128&t.flags)&&function hK(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function VU(){return ae.lFrame.currentDirectiveIndex}();try{Xo(o);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];W2(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&oI(l,c)}}finally{Xo(-1),W2(s)}}(n,e,t))}function p_(n,e,t=Ki){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function JD(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=f_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function f_(n,e,t,i,r,o,s,a,l,c){const u=22+i,d=u+r,h=function rK(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:pe);return t}(u,d),p="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function eI(n,e,t,i){const r=hI(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&pI(n).push(i,r.length-1))}function tI(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function nI(n,e){const i=e.directiveEnd,r=n.data,o=e.attrs,s=[];let a=null,l=null;for(let c=e.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===o||CD(e)?null:_K(d,o);s.push(h),a=tI(d,c,a),l=tI(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}function Pi(n,e,t,i,r,o,s,a){const l=Ki(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(b_(n,t,u,i,r),nf(e)&&iI(t,e.index)):3&e.type&&(i=function aK(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(l,i,r))}function iI(n,e){const t=Di(e,n);16&t[2]||(t[2]|=32)}function m_(n,e,t,i){let r=!1;if(LT()){const o=function pK(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];ED(t,s.selectors,!1)&&(r||(r=[]),mf(Lu(t,e),n,s.type),hr(s)?(sI(n,t),r.unshift(s)):r.push(s))}return r}(n,e,t),s=null===i?null:{"":-1};if(null!==o){r=!0,aI(t,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Ul(n,e,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];t.mergedAttrs=hf(t.mergedAttrs,d.hostAttrs),lI(n,t,e,c,d),mK(c,d,s),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}nI(n,t)}s&&function fK(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new T(-301,!1);i.push(e[r],o)}}}(t,i,s)}return t.mergedAttrs=hf(t.mergedAttrs,t.attrs),r}function rI(n,e,t,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function uK(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function oI(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function sI(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function mK(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;hr(e)&&(t[""]=n)}}function aI(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function lI(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=ta(r.type)),s=new Nu(o,hr(r),_);n.blueprint[i]=s,t[i]=s,rI(n,e,0,i,Ul(n,t,r.hostVars,pe),r)}function gK(n,e,t){const i=Ki(e,n),r=JD(t),o=n[10],s=Lf(n,Nf(n,r,null,t.onPush?32:16,i,e,o,o.createRenderer(i,t),null,null,null));n[e.index]=s}function Fr(n,e,t,i,r,o){const s=Ki(n,e);!function g_(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?he(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[11],s,o,n.value,t,i,r)}function yK(n,e,t,i,r,o){const s=o[e];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function _K(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function cI(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function bK(n,e){const t=Di(e,n);if(q2(t)){const i=t[1];48&t[2]?ed(i,t,i.template,t[8]):t[5]>0&&y_(t)}}function y_(n){for(let i=H0(n);null!==i;i=j0(i))for(let r=10;r<i.length;r++){const o=i[r];if(512&o[2]){const s=o[1];ed(s,o,s.template,o[8])}else o[5]>0&&y_(o)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Di(t[i],n);q2(r)&&r[5]>0&&y_(r)}}function wK(n,e){const t=Di(e,n),i=t[1];(function MK(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Ff(i,t,t[8])}function Lf(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function __(n){for(;n;){n[2]|=32;const e=Xu(n);if(yU(n)&&!e)return n;n=e}return null}function dI(n){!function uI(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=L0(t);if(null!==i){const r=i[1];iK(r,i,r.template,t)}}}(n[8])}function k_(n,e,t){Z2(0),e(n,t)}const CK=(()=>Promise.resolve(null))();function hI(n){return n[7]||(n[7]=[])}function pI(n){return n.cleanup||(n.cleanup=[])}function mI(n,e){const t=n[9],i=t?t.get(po,null):null;i&&i.handleError(e)}function b_(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Vf(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=D2(r,a):2==o&&(i=D2(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Bf(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&i.push(Kt(o)),dr(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Bf(l[1],l,c,i)}const s=t.type;if(8&s)Bf(n,e,t.child,i);else if(32&s){const a=B0(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=vD(e,t);if(Array.isArray(a))i.push(...a);else{const l=Xu(e[16]);Bf(l[1],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class td{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Bf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(dr(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(U0(e,i),yf(t,i))}this._attachedToViewContainer=!1}uD(this._lView[1],this._lView)}onDestroy(e){eI(this._lView[1],this._lView,null,e)}markForCheck(){__(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function v_(n,e,t){const i=e[10];i.begin&&i.begin();try{ed(n,e,n.template,t)}catch(r){throw mI(e,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rW(n,e){Ju(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class EK extends td{constructor(e){super(e),this._view=e}detectChanges(){dI(this._view)}checkNoChanges(){}get context(){return null}}class w_ extends ra{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ze(e);return new nd(t,this.ngModule)}}function gI(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class SK{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){const r=this.injector.get(e,S0,i);return r!==S0||t===S0?r:this.parentInjector.get(e,t,i)}}class nd extends $S{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function xW(n){return n.map(MW).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return gI(this.componentDef.inputs)}get outputs(){return gI(this.componentDef.outputs)}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof ts?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new SK(e,o):e,a=s.get(Yu,null);if(null===a)throw new T(407,!1);const l=s.get(MG,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function oK(n,e,t){return n.selectRootElement(e,t===cr.ShadowDom)}(c,i,this.componentDef.encapsulation):q0(a.createRenderer(null,this.componentDef),u,function TK(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,p=function PK(n,e){return{components:[],scheduler:n||GG,clean:CK,playerHandler:e||null,flags:0}}(),f=f_(0,null,null,1,0,null,null,null,null,null),m=Nf(null,f,p,h,null,null,a,c,l,s,null);let y,k;Y2(m);try{const w=function AK(n,e,t,i,r,o){const s=t[1];t[22]=n;const l=ql(s,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Vf(l,c,!0),null!==n&&(df(r,n,c),null!==l.classes&&Z0(r,n,l.classes),null!==l.styles&&wD(r,n,l.styles)));const u=i.createRenderer(n,e),d=Nf(t,JD(e),null,e.onPush?32:16,t[22],l,i,u,o||null,null,null);return s.firstCreatePass&&(mf(Lu(l,t),s,e.type),sI(s,l),aI(l,t.length,1)),Lf(t,d),t[22]=d}(d,this.componentDef,m,a,c);if(d)if(i)df(c,d,["ng-version",WS.full]);else{const{attrs:v,classes:C}=function CW(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!fr(r))break;r=o}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);v&&df(c,d,v),C&&C.length>0&&Z0(c,d,C.join(" "))}if(k=z2(f,22),void 0!==t){const v=k.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const H=t[C];v.push(null!=H?Array.from(H):null)}}y=function RK(n,e,t,i,r){const o=t[1],s=function cK(n,e,t){const i=nn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),lI(n,i,e,Ul(n,e,1,null),t),nI(n,i));const r=Vu(e,n,i.directiveStart,i);Hn(r,e);const o=Ki(i,e);return o&&Hn(o,e),r}(o,t,e);if(i.components.push(s),n[8]=s,null!==r)for(const l of r)l(s,e);if(e.contentQueries){const l=nn();e.contentQueries(1,s,l.directiveStart)}const a=nn();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Xo(a.index),rI(t[1],a,0,a.directiveStart,a.directiveEnd,e),oI(e,s)),s}(w,this.componentDef,m,p,[OK]),Ff(f,m,null)}finally{Q2()}return new IK(this.componentType,y,Bl(k,m),m,k)}}class IK extends class yG{}{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new EK(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const o=this._rootLView;b_(o[1],o,r,e,t),iI(o,this._tNode.index)}}get injector(){return new Sl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function OK(){const n=nn();lf(S()[1],n)}function fe(n){let e=function yI(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(hr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=M_(n.inputs),s.declaredInputs=M_(n.declaredInputs),s.outputs=M_(n.outputs);const a=r.hostBindings;a&&VK(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&FK(n,l),c&&LK(n,c),S2(n.inputs,r.inputs),S2(n.declaredInputs,r.declaredInputs),S2(n.outputs,r.outputs),hr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===fe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function NK(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=hf(r.hostAttrs,t=hf(t,r.hostAttrs))}}(i)}function M_(n){return n===vl?{}:n===ze?[]:n}function FK(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function LK(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function VK(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let Hf=null;function sa(){if(!Hf){const n=Ke.Symbol;if(n&&n.iterator)Hf=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Hf=i)}}}return Hf}function id(n){return!!x_(n)&&(Array.isArray(n)||!(n instanceof Map)&&sa()in n)}function x_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Lr(n,e,t){return n[e]=t}function jn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ye(n,e,t,i){const r=S();return jn(r,Cl(),e)&&(Oe(),Fr(At(),r,n,e,t,i)),Ye}function te(n,e,t,i,r,o,s,a){const l=S(),c=Oe(),u=n+22,d=c.firstCreatePass?function WK(n,e,t,i,r,o,s,a,l){const c=e.consts,u=ql(e,n,4,s||null,Qo(c,a));m_(e,t,u,Qo(c,l)),lf(e,u);const d=u.tViews=f_(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,o,s):c.data[u];Rr(d,!1);const h=l[11].createComment("");Sf(c,l,h,d),Hn(h,l),Lf(l,l[u]=cI(h,l,h,d)),rf(d)&&h_(c,l,d),null!=s&&p_(l,d,a)}function yo(n){return xl(function NU(){return ae.lFrame.contextLView}(),22+n)}function O(n,e,t){const i=S();return jn(i,Cl(),e)&&Pi(Oe(),At(),i,n,e,i[11],t,!1),O}function C_(n,e,t,i,r){const s=r?"class":"style";b_(n,t,e.inputs[s],s,i)}function E(n,e,t,i){const r=S(),o=Oe(),s=22+n,a=r[11],l=r[s]=q0(a,e,function UU(){return ae.lFrame.currentNamespace}()),c=o.firstCreatePass?function ZK(n,e,t,i,r,o,s){const a=e.consts,c=ql(e,n,2,r,Qo(a,o));return m_(e,t,c,Qo(a,s)),null!==c.attrs&&Vf(c,c.attrs,!1),null!==c.mergedAttrs&&Vf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,0,e,t,i):o.data[s];Rr(c,!0);const u=c.mergedAttrs;null!==u&&df(a,l,u);const d=c.classes;null!==d&&Z0(a,l,d);const h=c.styles;return null!==h&&wD(a,l,h),64!=(64&c.flags)&&Sf(o,r,l,c),0===function IU(){return ae.lFrame.elementDepthCount}()&&Hn(l,r),function AU(){ae.lFrame.elementDepthCount++}(),rf(c)&&(h_(o,r,c),XD(o,c,r)),null!==i&&p_(r,c),E}function A(){let n=nn();$2()?G2():(n=n.parent,Rr(n,!1));const e=n;!function RU(){ae.lFrame.elementDepthCount--}();const t=Oe();return t.firstCreatePass&&(lf(t,n),L2(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function ZU(n){return 0!=(16&n.flags)}(e)&&C_(t,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function YU(n){return 0!=(32&n.flags)}(e)&&C_(t,e,S(),e.stylesWithoutHost,!1),A}function le(n,e,t,i){return E(n,e,t,i),A(),le}function gr(n,e,t){const i=S(),r=Oe(),o=n+22,s=r.firstCreatePass?function YK(n,e,t,i,r){const o=e.consts,s=Qo(o,i),a=ql(e,n,8,"ng-container",s);return null!==s&&Vf(a,s,!0),m_(e,t,a,Qo(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];Rr(s,!0);const a=i[o]=i[11].createComment("");return Sf(r,i,a,s),Hn(a,i),rf(s)&&(h_(r,i,s),XD(r,s,i)),null!=t&&p_(i,s),gr}function yr(){let n=nn();const e=Oe();return $2()?G2():(n=n.parent,Rr(n,!1)),e.firstCreatePass&&(lf(e,n),L2(n)&&e.queries.elementEnd(n)),yr}function zf(n,e,t){return gr(n,e,t),yr(),zf}function _o(){return S()}function od(n){return!!n&&"function"==typeof n.then}function TI(n){return!!n&&"function"==typeof n.subscribe}const E_=TI;function Ee(n,e,t,i){const r=S(),o=Oe(),s=nn();return function DI(n,e,t,i,r,o,s,a){const l=rf(i),u=n.firstCreatePass&&pI(n),d=e[8],h=hI(e);let p=!0;if(3&i.type||a){const y=Ki(i,e),k=a?a(y):y,w=h.length,v=a?H=>a(Kt(H[i.index])):i.index;let C=null;if(!a&&l&&(C=function QK(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,p=!1;else{o=AI(i,e,d,o,!1);const H=t.listen(k,r,o);h.push(o,H),u&&u.push(r,v,w,w+1)}}else o=AI(i,e,d,o,!1);const f=i.outputs;let m;if(p&&null!==f&&(m=f[r])){const y=m.length;if(y)for(let k=0;k<y;k+=2){const q=e[m[k]][m[k+1]].subscribe(o),de=h.length;h.push(o,q),u&&u.push(r,i.index,de,-(de+1))}}}(o,r,r[11],s,n,e,0,i),Ee}function II(n,e,t,i){try{return!1!==t(i)}catch(r){return mI(n,r),!1}}function AI(n,e,t,i,r){return function o(s){if(s===Function)return i;__(2&n.flags?Di(n.index,e):e);let l=II(e,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=II(e,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function ce(n=1){return function HU(n){return(ae.lFrame.contextLView=function jU(n,e){for(;n>0;)e=e[15],n--;return e}(n,ae.lFrame.contextLView))[8]}(n)}function XK(n,e){let t=null;const i=function vW(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?ED(n,o,!0):wW(i,o))return r}else t=r}return t}function mi(n){const e=S()[16][6];if(!e.projection){const i=e.projection=ju(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?XK(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function xt(n,e=0,t){const i=S(),r=Oe(),o=ql(r,22+n,16,null,t||null);null===o.projection&&(o.projection=e),G2(),64!=(64&o.flags)&&function hW(n,e,t){bD(e[11],0,e,t,dD(n,t,e),mD(t.parent||e[6],t,e))}(r,i,o)}function jI(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?mr(o):mo(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];tZ(n[a],e)&&(l=!0,n[a+1]=i?n_(u):e_(u)),a=i?mr(u):mo(u)}l&&(n[t+1]=i?e_(o):n_(o))}function tZ(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Pl(n,e)>=0}function gi(n,e,t){return _r(n,e,t,!1),gi}function Ht(n,e){return _r(n,e,null,!0),Ht}function _r(n,e,t,i){const r=S(),o=Oe(),s=function uo(n){const e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function ZI(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[ti()],s=function KI(n,e){return e>=n.expandoStartIndex}(n,t);(function JI(n,e){return 0!=(n.flags&(e?16:32))})(o,i)&&null===e&&!s&&(e=!1),e=function uZ(n,e,t,i){const r=function K2(n){const e=ae.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=sd(t=S_(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=S_(r,n,e,t,i),null===o){let l=function dZ(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==mo(i))return n[mr(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=S_(null,n,e,l[1],i),l=sd(l,e.attrs,i),function hZ(n,e,t,i){n[mr(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function pZ(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=sd(i,n[o].hostAttrs,t);return sd(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function JK(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=mr(s),l=mo(s);n[i]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Pl(d,u)>0)&&(c=!0)}else u=t;if(r)if(0!==l){const h=mr(n[a+1]);n[i+1]=Rf(h,a),0!==h&&(n[h+1]=t_(n[h+1],i)),n[a+1]=function UW(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Rf(a,0),0!==a&&(n[a+1]=t_(n[a+1],i)),a=i;else n[i+1]=Rf(l,0),0===a?a=i:n[l+1]=t_(n[l+1],i),l=i;c&&(n[i+1]=e_(n[i+1])),jI(n,u,i,!0),jI(n,u,i,!1),function eZ(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Pl(o,e)>=0&&(t[i+1]=n_(t[i+1]))}(e,u,n,i,o),s=Rf(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==pe&&jn(r,s,e)&&function QI(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];qf(function zD(n){return 1==(1&n)}(c)?XI(l,e,t,r,mo(c),s):void 0)||(qf(o)||function jD(n){return 2==(2&n)}(c)&&(o=XI(l,null,t,r,a,s)),function fW(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:fi.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=fi.Important),n.setStyle(t,i,r,o))}}(i,s,sf(ti(),t),r,o))}(o,o.data[ti()],r,r[11],n,r[s+1]=function gZ(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=tt(Ri(n)))),n}(e,t),i,s)}function S_(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=sd(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function sd(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ai(n,s,!!t||e[++o]))}return void 0===n?null:n}function XI(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===pe&&(h=d?ze:void 0);let p=d?l0(h,i):u===i?h:void 0;if(c&&!qf(p)&&(p=l0(l,i)),qf(p)&&(a=p,s))return a;const f=n[r+1];r=s?mr(f):mo(f)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=l0(l,i))}return a}function qf(n){return void 0!==n}function I(n,e=""){const t=S(),i=Oe(),r=n+22,o=i.firstCreatePass?ql(i,r,1,e,null):i.data[r],s=t[r]=function z0(n,e){return n.createText(e)}(t[11],e);Sf(i,t,s,o),Rr(o,!1)}function kr(n){return os("",n,""),kr}function os(n,e,t){const i=S(),r=function Gl(n,e,t,i){return jn(n,Cl(),t)?e+he(t)+i:pe}(i,n,e,t);return r!==pe&&function go(n,e,t){const i=sf(e,n);!function lD(n,e,t){n.setValue(e,t)}(n[11],i,t)}(i,ti(),r),os}function Uf(n,e,t){const i=S();return jn(i,Cl(),e)&&Pi(Oe(),At(),i,n,e,i[11],t,!0),Uf}const la=void 0;var FZ=["en",[["a","p"],["AM","PM"],la],[["AM","PM"],la,la],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],la,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],la,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",la,"{1} 'at' {0}",la],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function NZ(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let tc={};function ni(n){const e=function LZ(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=vA(e);if(t)return t;const i=e.split("-")[0];if(t=vA(i),t)return t;if("en"===i)return FZ;throw new T(701,!1)}function vA(n){return n in tc||(tc[n]=Ke.ng&&Ke.ng.common&&Ke.ng.common.locales&&Ke.ng.common.locales[n]),tc[n]}var U=(()=>((U=U||{})[U.LocaleId=0]="LocaleId",U[U.DayPeriodsFormat=1]="DayPeriodsFormat",U[U.DayPeriodsStandalone=2]="DayPeriodsStandalone",U[U.DaysFormat=3]="DaysFormat",U[U.DaysStandalone=4]="DaysStandalone",U[U.MonthsFormat=5]="MonthsFormat",U[U.MonthsStandalone=6]="MonthsStandalone",U[U.Eras=7]="Eras",U[U.FirstDayOfWeek=8]="FirstDayOfWeek",U[U.WeekendRange=9]="WeekendRange",U[U.DateFormat=10]="DateFormat",U[U.TimeFormat=11]="TimeFormat",U[U.DateTimeFormat=12]="DateTimeFormat",U[U.NumberSymbols=13]="NumberSymbols",U[U.NumberFormats=14]="NumberFormats",U[U.CurrencyCode=15]="CurrencyCode",U[U.CurrencySymbol=16]="CurrencySymbol",U[U.CurrencyName=17]="CurrencyName",U[U.Currencies=18]="Currencies",U[U.Directionality=19]="Directionality",U[U.PluralCase=20]="PluralCase",U[U.ExtraData=21]="ExtraData",U))();const nc="en-US";let kA=nc;function A_(n,e,t,i,r){if(n=re(n),Array.isArray(n))for(let o=0;o<n.length;o++)A_(n[o],e,t,i,r);else{const o=Oe(),s=S();let a=ia(n)?n:re(n.provide),l=US(n);const c=nn(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(ia(n)||!n.multi){const p=new Nu(l,r,_),f=P_(a,e,r?u:u+h,d);-1===f?(mf(Lu(c,s),o,a),R_(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(p),s.push(p)):(t[f]=p,s[f]=p)}else{const p=P_(a,e,u+h,d),f=P_(a,e,u,u+h),m=p>=0&&t[p],y=f>=0&&t[f];if(r&&!y||!r&&!m){mf(Lu(c,s),o,a);const k=function OY(n,e,t,i,r){const o=new Nu(n,t,_);return o.multi=[],o.index=e,o.componentProviders=0,$A(o,r,i&&!t),o}(r?PY:RY,t.length,r,i,l);!r&&y&&(t[f].providerFactory=k),R_(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(k),s.push(k)}else R_(o,n,p>-1?p:f,$A(t[r?f:p],l,!r&&i));!r&&i&&y&&t[f].componentProviders++}}}function R_(n,e,t,i){const r=ia(e),o=function cG(n){return!!n.useClass}(e);if(r||o){const l=(o?re(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function $A(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function P_(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function RY(n,e,t,i){return O_(this.multi,[])}function PY(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Vu(t,t[1],this.providerFactory.index,i);o=a.slice(0,s),O_(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],O_(r,o);return o}function O_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Be(n,e=[]){return t=>{t.providersResolver=(i,r)=>function AY(n,e,t){const i=Oe();if(i.firstCreatePass){const r=hr(n);A_(t,i.data,i.blueprint,r,!0),A_(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class ca{}class GA{}class WA extends ca{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new w_(this);const i=Ti(e);this._bootstrapComponents=fo(i.bootstrap),this._r3Injector=PD(e,t,[{provide:ca,useValue:this},{provide:ra,useValue:this.componentFactoryResolver}],tt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class N_ extends GA{constructor(e){super(),this.moduleType=e}create(e){return new WA(this.moduleType,e)}}class FY extends ca{constructor(e,t,i){super(),this.componentFactoryResolver=new w_(this),this.instance=null;const r=new qS([...e,{provide:ca,useValue:this},{provide:ra,useValue:this.componentFactoryResolver}],t||Ef(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Zf(n,e,t=null){return new FY(n,e,t).injector}function Yf(n,e,t,i){return e6(S(),ei(),n,e,t,i)}function L_(n,e,t,i,r){return function t6(n,e,t,i,r,o,s){const a=e+t;return function aa(n,e,t,i){const r=jn(n,e,t);return jn(n,e+1,i)||r}(n,a,r,o)?Lr(n,a+2,s?i.call(s,r,o):i(r,o)):dd(n,a+2)}(S(),ei(),n,e,t,i,r)}function dd(n,e){const t=n[e];return t===pe?void 0:t}function e6(n,e,t,i,r,o){const s=e+t;return jn(n,s,r)?Lr(n,s+1,o?i.call(o,r):i(r)):dd(n,s+1)}function dn(n,e){const t=Oe();let i;const r=n+22;t.firstCreatePass?(i=function tQ(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=ta(i.type)),s=$i(_);try{const a=pf(!1),l=o();return pf(a),function KK(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,S(),r,l),l}finally{$i(s)}}function hn(n,e,t){const i=n+22,r=S(),o=xl(r,i);return function hd(n,e){return n[1].data[e].pure}(r,i)?e6(r,ei(),e,o.transform,t,o):o.transform(t)}function V_(n){return e=>{setTimeout(n,void 0,e)}}const we=class sQ extends ke{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=V_(o),r&&(r=V_(r)),s&&(s=V_(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof ct&&e.add(a),a}};function aQ(){return this._results[sa()]()}class rc{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=sa(),i=rc.prototype;i[t]||(i[t]=aQ)}get changes(){return this._changes||(this._changes=new we)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=Ii(e);(this._changesDetected=!function s$(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Oi=(()=>{class n{}return n.__NG_ELEMENT_ID__=uQ,n})();const lQ=Oi,cQ=class extends lQ{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tViews,r=Nf(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(i)),Ff(i,r,e),new td(r)}};function uQ(){return Qf(nn(),S())}function Qf(n,e){return 4&n.type?new cQ(e,n,Bl(n,e)):null}let yi=(()=>{class n{}return n.__NG_ELEMENT_ID__=dQ,n})();function dQ(){return l6(nn(),S())}const hQ=yi,s6=class extends hQ{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Bl(this._hostTNode,this._hostLView)}get injector(){return new Sl(this._hostTNode,this._hostLView)}get parentInjector(){const e=ff(this._hostTNode,this._hostLView);if(XT(e)){const t=Tl(e,this._hostLView),i=El(e);return new Sl(t[1].data[i+8],t)}return new Sl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=a6(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,r),s}createComponent(e,t,i,r,o){const s=e&&!function Hu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,i=d.injector,r=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?e:new nd(Ze(e)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get(ts,null);h&&(o=h)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,r=i[1];if(function DU(n){return dr(n[3])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[3],h=new s6(d,d[6],d[3]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function sW(n,e,t,i){const r=10+i,o=t.length;i>0&&(t[r-1][4]=e),i<o-10?(e[4]=t[r],cS(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function aW(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(r,i,s,o);const a=W0(o,s),l=i[11],c=Tf(l,s[7]);return null!==c&&function iW(n,e,t,i,r,o){i[0]=r,i[6]=e,Ju(n,i,t,1,r,o)}(r,s[6],l,i,c,a),e.attachToViewContainerRef(),cS(B_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=a6(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=U0(this._lContainer,t);i&&(yf(B_(this._lContainer),t),uD(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=U0(this._lContainer,t);return i&&null!=yf(B_(this._lContainer),t)?new td(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function a6(n){return n[8]}function B_(n){return n[8]||(n[8]=[])}function l6(n,e){let t;const i=e[n.index];if(dr(i))t=i;else{let r;if(8&n.type)r=Kt(i);else{const o=e[11];r=o.createComment("");const s=Ki(n,e);oa(o,Tf(o,s),r,function dW(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=cI(i,e,r,n),Lf(e,t)}return new s6(t,n,e)}class H_{constructor(e){this.queryList=e,this.matches=null}clone(){return new H_(this.queryList)}setDirty(){this.queryList.setDirty()}}class j_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new j_(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==p6(e,t).matches&&this.queries[t].setDirty()}}class c6{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class z_{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new z_(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class q_{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new q_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,mQ(t,o)),this.matchTNodeWithReadOption(e,t,gf(t,e,o,!1,!1))}else i===Oi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,gf(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===De||r===yi||r===Oi&&4&t.type)this.addMatch(t.index,-2);else{const o=gf(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function mQ(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function yQ(n,e,t,i){return-1===t?function gQ(n,e){return 11&n.type?Bl(n,e):4&n.type?Qf(n,e):null}(e,n):-2===t?function _Q(n,e,t){return t===De?Bl(e,n):t===Oi?Qf(e,n):t===yi?l6(e,n):void 0}(n,e,i):Vu(n,n[1],t,e)}function u6(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:yQ(e,o[c],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function U_(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=u6(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&U_(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const p=d[h];U_(p[1],p,c,i)}}}}}return i}function Ie(n){const e=S(),t=Oe(),i=jT();Z2(i+1);const r=p6(t,i);if(n.dirty&&OT(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?U_(t,e,i,[]):u6(t,e,r,i);n.reset(o,bG),n.notifyOnChanges()}return!0}return!1}function Ni(n,e,t){const i=Oe();i.firstCreatePass&&(h6(i,new c6(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),d6(i,S(),e)}function Ct(n,e,t,i){const r=Oe();if(r.firstCreatePass){const o=nn();h6(r,new c6(e,t,i),o.index),function kQ(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}d6(r,S(),t)}function Ae(){return function vQ(n,e){return n[19].queries[e].queryList}(S(),jT())}function d6(n,e,t){const i=new rc(4==(4&t));eI(n,e,i,i.destroy),null===e[19]&&(e[19]=new j_),e[19].queries.push(new H_(i))}function h6(n,e,t){null===n.queries&&(n.queries=new z_),n.queries.track(new q_(e,t))}function p6(n,e){return n.queries.getByIndex(e)}function pd(n,e){return Qf(n,e)}function Jf(...n){}const e1=new P("Application Initializer");let t1=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Jf,this.reject=Jf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(od(o))t.push(o);else if(E_(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(x(e1,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const md=new P("AppId",{providedIn:"root",factory:function R6(){return`${Z_()}${Z_()}${Z_()}`}});function Z_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const P6=new P("Platform Initializer"),lc=new P("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),O6=new P("appBootstrapListener"),ua=new P("AnimationModuleType");let HQ=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Hr=new P("LocaleId",{providedIn:"root",factory:()=>ot(Hr,ee.Optional|ee.SkipSelf)||function jQ(){return typeof $localize<"u"&&$localize.locale||nc}()});class qQ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Y_=(()=>{class n{compileModuleSync(t){return new N_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=fo(Ti(t).declarations).reduce((s,a)=>{const l=Ze(a);return l&&s.push(new nd(l)),s},[]);return new qQ(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GQ=(()=>Promise.resolve(0))();function Q_(n){typeof Zone>"u"?GQ.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class oe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new we(!1),this.onMicrotaskEmpty=new we(!1),this.onStable=new we(!1),this.onError=new we(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function WQ(){let n=Ke.requestAnimationFrame,e=Ke.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function YQ(n){const e=()=>{!function ZQ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ke,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,J_(n),n.isCheckStableRunning=!0,X_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),J_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{try{return L6(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),V6(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return L6(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),V6(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,J_(n),X_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!oe.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(oe.isInAngularZone())throw new T(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,KQ,Jf,Jf);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const KQ={};function X_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function J_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function L6(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function V6(n){n._nesting--,X_(n)}class QQ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new we,this.onMicrotaskEmpty=new we,this.onStable=new we,this.onError=new we}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const B6=new P(""),n1=new P("");let nv,ev=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nv||(function XQ(n){nv=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oe.assertNotInAngularZone(),Q_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Q_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(x(oe),x(tv),x(n1))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),tv=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return nv?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ss=null;const H6=new P("AllowMultipleToken"),iv=new P("PlatformDestroyListeners");class j6{constructor(e,t){this.name=e,this.token=t}}function q6(n,e,t=[]){const i=`Platform: ${e}`,r=new P(i);return(o=[])=>{let s=rv();if(!s||s.injector.get(H6,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function tX(n){if(ss&&!ss.get(H6,!1))throw new T(400,!1);ss=n;const e=n.get($6);(function z6(n){const e=n.get(P6,null);e&&e.forEach(t=>t())})(n)}(function U6(n=[],e){return Rt.create({name:e,providers:[{provide:x0,useValue:"platform"},{provide:iv,useValue:new Set([()=>ss=null])},...n]})}(a,i))}return function iX(n){const e=rv();if(!e)throw new T(401,!1);return e}()}}function rv(){return ss?.get($6)??null}let $6=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function rX(n,e){let t;return t="noop"===n?new QQ:("zone.js"===n?void 0:n)||new oe(e),t}(i?.ngZone,function G6(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),o=[{provide:oe,useValue:r}];return r.run(()=>{const s=Rt.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),l=a.injector.get(po,null);if(!l)throw new T(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{r1(this._modules,a),c.unsubscribe()})}),function W6(n,e,t){try{const i=t();return od(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(t1);return c.runInitializers(),c.donePromise.then(()=>(function bA(n){Ei(n,"Expected localeId to be defined"),"string"==typeof n&&(kA=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Hr,nc)||nc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,i=[]){const r=K6({},i);return function JQ(n,e,t){const i=new N_(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(da);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new T(403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(iv,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(x(Rt))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function K6(n,e){return Array.isArray(e)?e.reduce(K6,n):{...n,...e}}let da=(()=>{class n{constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ue(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Ue(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),Q_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Ar(o,s.pipe(kT()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof $S;if(!this._injector.get(t1).done)throw!r&&function sc(n){const e=Ze(n)||Xn(n)||Jn(n);return null!==e&&e.standalone}(t),new T(405,false);let s;s=r?t:this._injector.get(ra).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function eX(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ca),c=s.create(Rt.NULL,[],i||s.selector,a),u=c.location.nativeElement,d=c.injector.get(B6,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),r1(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;r1(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(O6,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>r1(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new T(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(x(oe),x(ts),x(po))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function r1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Y6=!0,xn=(()=>{class n{}return n.__NG_ELEMENT_ID__=aX,n})();function aX(n){return function lX(n,e,t){if(nf(n)&&!t){const i=Di(n.index,e);return new td(i,i)}return 47&n.type?new td(e[16],e):null}(nn(),S(),16==(16&n))}class t8{constructor(){}supports(e){return id(e)}create(e){return new fX(e)}}const pX=(n,e)=>e;class fX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||pX}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<i8(i,r,o)?t:i,a=i8(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const p=h<o.length?o[h]:o[h]=0,f=p+h;u<=f&&f<c&&(o[h]=p+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!id(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function qK(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[sa()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new mX(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new n8),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new n8),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class mX{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class n8{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new gX,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function i8(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class r8{constructor(){}supports(e){return e instanceof Map||x_(e)}create(){return new yX}}class yX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||x_(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new _X(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class _X{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function o8(){return new a1([new t8])}let a1=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||o8()),deps:[[n,new Nl,new vt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new T(901,!1)}}return n.\u0275prov=V({token:n,providedIn:"root",factory:o8}),n})();function s8(){return new gd([new r8])}let gd=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||s8()),deps:[[n,new Nl,new vt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new T(901,!1)}}return n.\u0275prov=V({token:n,providedIn:"root",factory:s8}),n})();const bX=q6(null,"core",[]);let wX=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(x(da))},n.\u0275mod=ge({type:n}),n.\u0275inj=me({}),n})();function ko(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let l1=null;function jr(){return l1}const xe=new P("DocumentToken");let cv=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return function EX(){return x(a8)}()},providedIn:"platform"}),n})();const TX=new P("Location Initialized");let a8=(()=>{class n extends cv{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jr().getBaseHref(this._doc)}onPopState(t){const i=jr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=jr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){l8()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){l8()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(x(xe))},n.\u0275prov=V({token:n,factory:function(){return function SX(){return new a8(x(xe))}()},providedIn:"platform"}),n})();function l8(){return!!window.history.pushState}function uv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function c8(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function bo(n){return n&&"?"!==n[0]?"?"+n:n}let pa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return ot(d8)},providedIn:"root"}),n})();const u8=new P("appBaseHref");let d8=(()=>{class n extends pa{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ot(xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return uv(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+bo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+bo(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+bo(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(x(cv),x(u8,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DX=(()=>{class n extends pa{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=uv(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+bo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+bo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(x(cv),x(u8,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),c1=(()=>{class n{constructor(t){this._subject=new we,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=c8(h8(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+bo(i))}normalize(t){return n.stripTrailingSlash(function AX(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,h8(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=bo,n.joinWithSlash=uv,n.stripTrailingSlash=c8,n.\u0275fac=function(t){return new(t||n)(x(pa))},n.\u0275prov=V({token:n,factory:function(){return function IX(){return new c1(x(pa))}()},providedIn:"root"}),n})();function h8(n){return n.replace(/\/index.html$/,"")}var jt=(()=>((jt=jt||{})[jt.Format=0]="Format",jt[jt.Standalone=1]="Standalone",jt))(),Te=(()=>((Te=Te||{})[Te.Narrow=0]="Narrow",Te[Te.Abbreviated=1]="Abbreviated",Te[Te.Wide=2]="Wide",Te[Te.Short=3]="Short",Te))(),Et=(()=>((Et=Et||{})[Et.Short=0]="Short",Et[Et.Medium=1]="Medium",Et[Et.Long=2]="Long",Et[Et.Full=3]="Full",Et))(),J=(()=>((J=J||{})[J.Decimal=0]="Decimal",J[J.Group=1]="Group",J[J.List=2]="List",J[J.PercentSign=3]="PercentSign",J[J.PlusSign=4]="PlusSign",J[J.MinusSign=5]="MinusSign",J[J.Exponential=6]="Exponential",J[J.SuperscriptingExponent=7]="SuperscriptingExponent",J[J.PerMille=8]="PerMille",J[J.Infinity=9]="Infinity",J[J.NaN=10]="NaN",J[J.TimeSeparator=11]="TimeSeparator",J[J.CurrencyDecimal=12]="CurrencyDecimal",J[J.CurrencyGroup=13]="CurrencyGroup",J))();function u1(n,e){return Qi(ni(n)[U.DateFormat],e)}function d1(n,e){return Qi(ni(n)[U.TimeFormat],e)}function h1(n,e){return Qi(ni(n)[U.DateTimeFormat],e)}function Yi(n,e){const t=ni(n),i=t[U.NumberSymbols][e];if(typeof i>"u"){if(e===J.CurrencyDecimal)return t[U.NumberSymbols][J.Decimal];if(e===J.CurrencyGroup)return t[U.NumberSymbols][J.Group]}return i}function f8(n){if(!n[U.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[U.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Qi(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function hv(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const UX=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yd={},$X=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var an=(()=>((an=an||{})[an.Short=0]="Short",an[an.ShortGMT=1]="ShortGMT",an[an.Long=2]="Long",an[an.Extended=3]="Extended",an))(),ne=(()=>((ne=ne||{})[ne.FullYear=0]="FullYear",ne[ne.Month=1]="Month",ne[ne.Date=2]="Date",ne[ne.Hours=3]="Hours",ne[ne.Minutes=4]="Minutes",ne[ne.Seconds=5]="Seconds",ne[ne.FractionalSeconds=6]="FractionalSeconds",ne[ne.Day=7]="Day",ne))(),ve=(()=>((ve=ve||{})[ve.DayPeriods=0]="DayPeriods",ve[ve.Days=1]="Days",ve[ve.Months=2]="Months",ve[ve.Eras=3]="Eras",ve))();function GX(n,e,t,i){let r=function tJ(n){if(y8(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return p1(r,o-1,s)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(UX))return function nJ(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,s,a,l,c),e}(i)}const e=new Date(n);if(!y8(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=wo(t,e)||e;let a,s=[];for(;e;){if(a=$X.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;e=u}}let l=r.getTimezoneOffset();i&&(l=g8(i,l),r=function eJ(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function JX(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(g8(e,r)-r))}(r,i,!0));let c="";return s.forEach(u=>{const d=function XX(n){if(fv[n])return fv[n];let e;switch(n){case"G":case"GG":case"GGG":e=st(ve.Eras,Te.Abbreviated);break;case"GGGG":e=st(ve.Eras,Te.Wide);break;case"GGGGG":e=st(ve.Eras,Te.Narrow);break;case"y":e=Yt(ne.FullYear,1,0,!1,!0);break;case"yy":e=Yt(ne.FullYear,2,0,!0,!0);break;case"yyy":e=Yt(ne.FullYear,3,0,!1,!0);break;case"yyyy":e=Yt(ne.FullYear,4,0,!1,!0);break;case"Y":e=y1(1);break;case"YY":e=y1(2,!0);break;case"YYY":e=y1(3);break;case"YYYY":e=y1(4);break;case"M":case"L":e=Yt(ne.Month,1,1);break;case"MM":case"LL":e=Yt(ne.Month,2,1);break;case"MMM":e=st(ve.Months,Te.Abbreviated);break;case"MMMM":e=st(ve.Months,Te.Wide);break;case"MMMMM":e=st(ve.Months,Te.Narrow);break;case"LLL":e=st(ve.Months,Te.Abbreviated,jt.Standalone);break;case"LLLL":e=st(ve.Months,Te.Wide,jt.Standalone);break;case"LLLLL":e=st(ve.Months,Te.Narrow,jt.Standalone);break;case"w":e=pv(1);break;case"ww":e=pv(2);break;case"W":e=pv(1,!0);break;case"d":e=Yt(ne.Date,1);break;case"dd":e=Yt(ne.Date,2);break;case"c":case"cc":e=Yt(ne.Day,1);break;case"ccc":e=st(ve.Days,Te.Abbreviated,jt.Standalone);break;case"cccc":e=st(ve.Days,Te.Wide,jt.Standalone);break;case"ccccc":e=st(ve.Days,Te.Narrow,jt.Standalone);break;case"cccccc":e=st(ve.Days,Te.Short,jt.Standalone);break;case"E":case"EE":case"EEE":e=st(ve.Days,Te.Abbreviated);break;case"EEEE":e=st(ve.Days,Te.Wide);break;case"EEEEE":e=st(ve.Days,Te.Narrow);break;case"EEEEEE":e=st(ve.Days,Te.Short);break;case"a":case"aa":case"aaa":e=st(ve.DayPeriods,Te.Abbreviated);break;case"aaaa":e=st(ve.DayPeriods,Te.Wide);break;case"aaaaa":e=st(ve.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":e=st(ve.DayPeriods,Te.Abbreviated,jt.Standalone,!0);break;case"bbbb":e=st(ve.DayPeriods,Te.Wide,jt.Standalone,!0);break;case"bbbbb":e=st(ve.DayPeriods,Te.Narrow,jt.Standalone,!0);break;case"B":case"BB":case"BBB":e=st(ve.DayPeriods,Te.Abbreviated,jt.Format,!0);break;case"BBBB":e=st(ve.DayPeriods,Te.Wide,jt.Format,!0);break;case"BBBBB":e=st(ve.DayPeriods,Te.Narrow,jt.Format,!0);break;case"h":e=Yt(ne.Hours,1,-12);break;case"hh":e=Yt(ne.Hours,2,-12);break;case"H":e=Yt(ne.Hours,1);break;case"HH":e=Yt(ne.Hours,2);break;case"m":e=Yt(ne.Minutes,1);break;case"mm":e=Yt(ne.Minutes,2);break;case"s":e=Yt(ne.Seconds,1);break;case"ss":e=Yt(ne.Seconds,2);break;case"S":e=Yt(ne.FractionalSeconds,1);break;case"SS":e=Yt(ne.FractionalSeconds,2);break;case"SSS":e=Yt(ne.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=m1(an.Short);break;case"ZZZZZ":e=m1(an.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=m1(an.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=m1(an.Long);break;default:return null}return fv[n]=e,e}(u);c+=d?d(r,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function p1(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function wo(n,e){const t=function RX(n){return ni(n)[U.LocaleId]}(n);if(yd[t]=yd[t]||{},yd[t][e])return yd[t][e];let i="";switch(e){case"shortDate":i=u1(n,Et.Short);break;case"mediumDate":i=u1(n,Et.Medium);break;case"longDate":i=u1(n,Et.Long);break;case"fullDate":i=u1(n,Et.Full);break;case"shortTime":i=d1(n,Et.Short);break;case"mediumTime":i=d1(n,Et.Medium);break;case"longTime":i=d1(n,Et.Long);break;case"fullTime":i=d1(n,Et.Full);break;case"short":const r=wo(n,"shortTime"),o=wo(n,"shortDate");i=f1(h1(n,Et.Short),[r,o]);break;case"medium":const s=wo(n,"mediumTime"),a=wo(n,"mediumDate");i=f1(h1(n,Et.Medium),[s,a]);break;case"long":const l=wo(n,"longTime"),c=wo(n,"longDate");i=f1(h1(n,Et.Long),[l,c]);break;case"full":const u=wo(n,"fullTime"),d=wo(n,"fullDate");i=f1(h1(n,Et.Full),[u,d])}return i&&(yd[t][e]=i),i}function f1(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function wr(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function Yt(n,e,t=0,i=!1,r=!1){return function(o,s){let a=function KX(n,e){switch(n){case ne.FullYear:return e.getFullYear();case ne.Month:return e.getMonth();case ne.Date:return e.getDate();case ne.Hours:return e.getHours();case ne.Minutes:return e.getMinutes();case ne.Seconds:return e.getSeconds();case ne.FractionalSeconds:return e.getMilliseconds();case ne.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||a>-t)&&(a+=t),n===ne.Hours)0===a&&-12===t&&(a=12);else if(n===ne.FractionalSeconds)return function WX(n,e){return wr(n,3).substring(0,e)}(a,e);const l=Yi(s,J.MinusSign);return wr(a,e,l,i,r)}}function st(n,e,t=jt.Format,i=!1){return function(r,o){return function ZX(n,e,t,i,r,o){switch(t){case ve.Months:return function NX(n,e,t){const i=ni(n),o=Qi([i[U.MonthsFormat],i[U.MonthsStandalone]],e);return Qi(o,t)}(e,r,i)[n.getMonth()];case ve.Days:return function OX(n,e,t){const i=ni(n),o=Qi([i[U.DaysFormat],i[U.DaysStandalone]],e);return Qi(o,t)}(e,r,i)[n.getDay()];case ve.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function BX(n){const e=ni(n);return f8(e),(e[U.ExtraData][2]||[]).map(i=>"string"==typeof i?hv(i):[hv(i[0]),hv(i[1])])}(e),u=function HX(n,e,t){const i=ni(n);f8(i);const o=Qi([i[U.ExtraData][0],i[U.ExtraData][1]],e)||[];return Qi(o,t)||[]}(e,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){const[p,f]=h,m=s>=p.hours&&a>=p.minutes,y=s<f.hours||s===f.hours&&a<f.minutes;if(p.hours<f.hours){if(m&&y)return!0}else if(m||y)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function PX(n,e,t){const i=ni(n),o=Qi([i[U.DayPeriodsFormat],i[U.DayPeriodsStandalone]],e);return Qi(o,t)}(e,r,i)[s<12?0:1];case ve.Eras:return function FX(n,e){return Qi(ni(n)[U.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function m1(n){return function(e,t,i){const r=-1*i,o=Yi(t,J.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case an.Short:return(r>=0?"+":"")+wr(s,2,o)+wr(Math.abs(r%60),2,o);case an.ShortGMT:return"GMT"+(r>=0?"+":"")+wr(s,1,o);case an.Long:return"GMT"+(r>=0?"+":"")+wr(s,2,o)+":"+wr(Math.abs(r%60),2,o);case an.Extended:return 0===i?"Z":(r>=0?"+":"")+wr(s,2,o)+":"+wr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function m8(n){return p1(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function pv(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{const o=m8(t),s=function QX(n){const e=p1(n,0,1).getDay();return p1(n,0,1+(e<=4?4:11)-e)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return wr(r,n,Yi(i,J.MinusSign))}}function y1(n,e=!1){return function(t,i){return wr(m8(t).getFullYear(),n,Yi(i,J.MinusSign),e)}}const fv={};function g8(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function y8(n){return n instanceof Date&&!isNaN(n.valueOf())}let vd=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(id(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${tt(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(_(a1),_(gd),_(De),_(pr))},n.\u0275dir=$({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class gJ{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let v1=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new gJ(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),M8(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{M8(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(_(yi),_(Oi),_(a1))},n.\u0275dir=$({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function M8(n,e){n.context.$implicit=e.item}let Fi=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new _J,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){x8("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){x8("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(_(yi),_(Oi))},n.\u0275dir=$({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class _J{constructor(){this.$implicit=null,this.ngIf=null}}function x8(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${tt(e)}'.`)}class kv{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let kd=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),bv=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new kv(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(_(yi),_(Oi),_(kd,9))},n.\u0275dir=$({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),k1=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),s=-1===r.indexOf("-")?void 0:fi.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(gd),_(pr))},n.\u0275dir=$({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function Mr(n,e){return new T(2100,!1)}class wJ{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class MJ{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const xJ=new MJ,CJ=new wJ;let bd=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(od(t))return xJ;if(TI(t))return CJ;throw Mr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(_(xn,16))},n.\u0275pipe=Qn({name:"async",type:n,pure:!1,standalone:!0}),n})();const IJ=new P("DATE_PIPE_DEFAULT_TIMEZONE");let wv=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,o){if(null==t||""===t||t!=t)return null;try{return GX(t,i,o||this.locale,r??this.defaultTimezone??void 0)}catch(s){throw Mr()}}}return n.\u0275fac=function(t){return new(t||n)(_(Hr,16),_(IJ,24))},n.\u0275pipe=Qn({name:"date",type:n,pure:!0,standalone:!0}),n})(),as=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({}),n})();const T8="browser";let GJ=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>new WJ(x(xe),window)}),n})();class WJ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function KJ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=S8(this.window.history)||S8(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function S8(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Cv extends class YJ extends class CX{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function xX(n){l1||(l1=n)}(new Cv)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function QJ(){return wd=wd||document.querySelector("base"),wd?wd.getAttribute("href"):null}();return null==t?null:function XJ(n){b1=b1||document.createElement("a"),b1.setAttribute("href",n);const e=b1.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function fJ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let b1,wd=null;const D8=new P("TRANSITION_ID"),eee=[{provide:e1,useFactory:function JJ(n,e,t){return()=>{t.get(t1).donePromise.then(()=>{const i=jr(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[D8,xe,Rt],multi:!0}];let nee=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const w1=new P("EventManagerPlugins");let M1=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(x(w1),x(oe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class I8{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=jr().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let A8=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),Md=(()=>{class n extends A8{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(R8),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(R8))}}return n.\u0275fac=function(t){return new(t||n)(x(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();function R8(n){jr().remove(n)}const Ev={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Tv=/%COMP%/g;function x1(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?x1(n,r,t):(r=r.replace(Tv,n),t.push(r))}return t}function N8(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let C1=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Sv(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case cr.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new lee(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case cr.ShadowDom:return new cee(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=x1(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(x(M1),x(Md),x(md))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class Sv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ev[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(L8(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(L8(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=Ev[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ev[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(fi.DashCase|fi.Important)?e.style.setProperty(t,i,r&fi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&fi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,N8(i)):this.eventManager.addEventListener(e,t,N8(i))}}function L8(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class lee extends Sv{constructor(e,t,i,r){super(e),this.component=i;const o=x1(r+"-"+i.id,i.styles,[]);t.addStyles(o),this.contentAttr=function oee(n){return"_ngcontent-%COMP%".replace(Tv,n)}(r+"-"+i.id),this.hostAttr=function see(n){return"_nghost-%COMP%".replace(Tv,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class cee extends Sv{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=x1(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let uee=(()=>{class n extends I8{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(x(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const V8=["alt","control","meta","shift"],hee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},B8={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pee={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fee=(()=>{class n extends I8{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(V8.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(t){let i="",r=function mee(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&B8.hasOwnProperty(e)&&(e=B8[e]))}return hee[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),V8.forEach(o=>{o!=r&&(0,pee[o])(t)&&(i+=o+".")}),i+=r,i}static eventCallback(t,i,r){return o=>{n.getEventFullKey(o)===t&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(x(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const H8=[{provide:lc,useValue:T8},{provide:P6,useValue:function gee(){Cv.makeCurrent()},multi:!0},{provide:xe,useFactory:function _ee(){return function A$(n){p0=n}(document),document},deps:[]}],vee=q6(bX,"browser",H8),j8=new P(""),z8=[{provide:n1,useClass:class tee{addToWindow(e){Ke.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ke.getAllAngularRootElements=()=>e.getAllRootElements(),Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(i=>{const r=Ke.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?jr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:B6,useClass:ev,deps:[oe,tv,n1]},{provide:ev,useClass:ev,deps:[oe,tv,n1]}],q8=[{provide:x0,useValue:"root"},{provide:po,useFactory:function yee(){return new po},deps:[]},{provide:w1,useClass:uee,multi:!0,deps:[xe,oe,lc]},{provide:w1,useClass:fee,multi:!0,deps:[xe]},{provide:C1,useClass:C1,deps:[M1,Md,md]},{provide:Yu,useExisting:C1},{provide:A8,useExisting:Md},{provide:Md,useClass:Md,deps:[xe]},{provide:M1,useClass:M1,deps:[w1,oe]},{provide:class ZJ{},useClass:nee,deps:[]},[]];let U8=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:md,useValue:t.appId},{provide:D8,useExisting:md},eee]}}}return n.\u0275fac=function(t){return new(t||n)(x(j8,12))},n.\u0275mod=ge({type:n}),n.\u0275inj=me({providers:[...q8,...z8],imports:[as,wX]}),n})(),$8=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(x(xe))},n.\u0275prov=V({token:n,factory:function(t){let i=null;return i=t?new t:function bee(){return new $8(x(xe))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Av=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(t){let i=null;return i=t?new(t||n):x(K8),i},providedIn:"root"}),n})(),K8=(()=>{class n extends Av{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case qe.NONE:return i;case qe.HTML:return Or(i,"HTML")?Ri(i):PS(this._doc,String(i)).toString();case qe.STYLE:return Or(i,"Style")?Ri(i):i;case qe.SCRIPT:if(Or(i,"Script"))return Ri(i);throw new Error("unsafe value used in a script context");case qe.URL:return Or(i,"URL")?Ri(i):Wu(String(i));case qe.RESOURCE_URL:if(Or(i,"ResourceURL"))return Ri(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function H$(n){return new O$(n)}(t)}bypassSecurityTrustStyle(t){return function j$(n){return new N$(n)}(t)}bypassSecurityTrustScript(t){return function z$(n){return new F$(n)}(t)}bypassSecurityTrustUrl(t){return function q$(n){return new L$(n)}(t)}bypassSecurityTrustResourceUrl(t){return function U$(n){return new V$(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(x(xe))},n.\u0275prov=V({token:n,factory:function(t){let i=null;return i=t?new t:function See(n){return new K8(n.get(xe))}(x(Rt)),i},providedIn:"root"}),n})();function Z8(n,e,t,i,r,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(l){Z8(o,i,r,s,a,"next",l)}function a(l){Z8(o,i,r,s,a,"throw",l)}s(void 0)})}}const Y8=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},Pv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,p=63&c;l||(p=64,s||(h=64)),i.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[p])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Y8(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],s=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==o||null==a||null==c||null==d)throw new Ree;i.push(o<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ree extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E1=function(n){return function(n){const e=Y8(n);return Pv.encodeByteArray(e,!0)}(n).replace(/\./g,"")},T1=function(n){try{return Pv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},S1=()=>{try{return function Nee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&T1(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},X8=n=>{var e,t;return null===(t=null===(e=S1())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},J8=n=>{const e=X8(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]},e7=()=>{var n;return null===(n=S1())||void 0===n?void 0:n.config},t7=n=>{var e;return null===(e=S1())||void 0===e?void 0:e[`_${n}`]};class D1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function n7(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[E1(JSON.stringify({alg:"none",type:"JWT"})),E1(JSON.stringify(s)),""].join(".")}function pn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ov(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function fa(){try{return"object"==typeof indexedDB}catch{return!1}}function xd(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function Nv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Li extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zr.prototype.create)}}class zr{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function qee(n,e){return n.replace(Uee,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new Li(r,`${this.serviceName}: ${s} (${r}).`,i)}}const Uee=/\{\$([^}]+)}/g;function $ee(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function A1(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],s=e[r];if(s7(o)&&s7(s)){if(!A1(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function s7(n){return null!==n&&"object"==typeof n}function R1(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Cd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function Ed(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Wee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function Kee(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=Fv),void 0===r.error&&(r.error=Fv),void 0===r.complete&&(r.complete=Fv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fv(){}function Vv(n,e=1e3,t=2){const i=e*Math.pow(t,n),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}function ut(n){return n&&n._delegate?n._delegate:n}class Cn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ma="[DEFAULT]";class ete{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new D1;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function nte(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ma?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ite{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ete(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Bv=[];var Re=(()=>{return(n=Re||(Re={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Re;var n})();const a7={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},rte=Re.INFO,ote={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},ste=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=ote[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class cc{constructor(e){this.name=e,this._logLevel=rte,this._logHandler=ste,this._userLogHandler=null,Bv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?a7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}let l7,c7;const u7=new WeakMap,Hv=new WeakMap,d7=new WeakMap,jv=new WeakMap,zv=new WeakMap;let qv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Hv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||d7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function fte(n){return"function"==typeof n?function pte(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function cte(){return c7||(c7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Uv(this),e),cs(u7.get(this))}:function(...e){return cs(n.apply(Uv(this),e))}:function(e,...t){const i=n.call(Uv(this),e,...t);return d7.set(i,e.sort?e.sort():[e]),cs(i)}}(n):(n instanceof IDBTransaction&&function dte(n){if(Hv.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Hv.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function lte(){return l7||(l7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,qv):n)}function cs(n){if(n instanceof IDBRequest)return function ute(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(cs(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&u7.set(t,n)}).catch(()=>{}),zv.set(e,n),e}(n);if(jv.has(n))return jv.get(n);const e=fte(n);return e!==n&&(jv.set(n,e),zv.set(e,n)),e}const Uv=n=>zv.get(n),gte=["get","getKey","getAll","getAllKeys","count"],yte=["put","add","delete","clear"],$v=new Map;function h7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if($v.get(e))return $v.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=yte.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!gte.includes(t))return;const o=function(){var s=g(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return $v.set(e,o),o}!function hte(n){qv=n(qv)}(n=>({...n,get:(e,t,i)=>h7(e,t)||n.get(e,t,i),has:(e,t)=>!!h7(e,t)||n.has(e,t)}));class _te{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function vte(n){return"VERSION"===n.getComponent()?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const Gv="@firebase/app",ga=new cc("@firebase/app"),P1="[DEFAULT]",$te={[Gv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ya=new Map,O1=new Map;function Gte(n,e){try{n.container.addComponent(e)}catch(t){ga.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zn(n){const e=n.name;if(O1.has(e))return ga.debug(`There were multiple attempts to register component ${e}.`),!1;O1.set(e,n);for(const t of ya.values())Gte(t,n);return!0}function _a(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Mo=new zr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kte{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mo.create("app-deleted",{appName:this._name})}}const us="9.23.0";function f7(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:P1,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw Mo.create("bad-app-name",{appName:String(r)});if(t||(t=e7()),!t)throw Mo.create("no-options");const o=ya.get(r);if(o){if(A1(t,o.options)&&A1(i,o.config))return o;throw Mo.create("duplicate-app",{appName:r})}const s=new ite(r);for(const l of O1.values())s.addComponent(l);const a=new Kte(t,i,s);return ya.set(r,a),a}function N1(n=P1){const e=ya.get(n);if(!e&&n===P1&&e7())return f7();if(!e)throw Mo.create("no-app",{appName:n});return e}function m7(){return Array.from(ya.values())}function dt(n,e,t){var i;let r=null!==(i=$te[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ga.warn(a.join(" "))}zn(new Cn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Td="firebase-heartbeat-store";let b7,w7,Kv=null;function g7(){return Kv||(Kv=function mte(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=cs(s);return i&&s.addEventListener("upgradeneeded",l=>{i(cs(s.result),l.oldVersion,l.newVersion,cs(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Td)}}).catch(n=>{throw Mo.create("idb-open",{originalErrorMessage:n.message})})),Kv}function Zv(){return(Zv=g(function*(n){try{return yield(yield g7()).transaction(Td).objectStore(Td).get(_7(n))}catch(e){if(e instanceof Li)ga.warn(e.message);else{const t=Mo.create("idb-get",{originalErrorMessage:e?.message});ga.warn(t.message)}}})).apply(this,arguments)}function y7(n,e){return Yv.apply(this,arguments)}function Yv(){return(Yv=g(function*(n,e){try{const i=(yield g7()).transaction(Td,"readwrite");yield i.objectStore(Td).put(e,_7(n)),yield i.done}catch(t){if(t instanceof Li)ga.warn(t.message);else{const i=Mo.create("idb-set",{originalErrorMessage:t?.message});ga.warn(i.message)}}})).apply(this,arguments)}function _7(n){return`${n.name}!${n.options.appId}`}class ene{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nne(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return g(function*(){const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=v7();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==r&&!e._heartbeatsCache.heartbeats.some(o=>o.date===r))return e._heartbeatsCache.heartbeats.push({date:r,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=v7(),{heartbeatsToSend:i,unsentEntries:r}=function tne(n,e=1024){const t=[];let i=n.slice();for(const r of n){const o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),k7(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),k7(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=E1(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function v7(){return(new Date).toISOString().substring(0,10)}class nne{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!fa()&&xd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Qte(n){return Zv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return y7(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return y7(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function k7(n){return E1(JSON.stringify({version:2,heartbeats:n})).length}!function ine(n){zn(new Cn("platform-logger",e=>new _te(e),"PRIVATE")),zn(new Cn("heartbeat",e=>new ene(e),"PRIVATE")),dt(Gv,"0.9.13",n),dt(Gv,"0.9.13","esm2017"),dt("fire-js","")}(""),dt("firebase","9.23.0","app");const M7=new WeakMap,Qv=new WeakMap,x7=new WeakMap,Xv=new WeakMap,Jv=new WeakMap;let ek={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Qv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||x7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ds(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function pne(n){return"function"==typeof n?function hne(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lne(){return w7||(w7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(tk(this),e),ds(M7.get(this))}:function(...e){return ds(n.apply(tk(this),e))}:function(e,...t){const i=n.call(tk(this),e,...t);return x7.set(i,e.sort?e.sort():[e]),ds(i)}}(n):(n instanceof IDBTransaction&&function une(n){if(Qv.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Qv.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function ane(){return b7||(b7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ek):n)}function ds(n){if(n instanceof IDBRequest)return function cne(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ds(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&M7.set(t,n)}).catch(()=>{}),Jv.set(e,n),e}(n);if(Xv.has(n))return Xv.get(n);const e=pne(n);return e!==n&&(Xv.set(n,e),Jv.set(e,n)),e}const tk=n=>Jv.get(n),mne=["get","getKey","getAll","getAllKeys","count"],gne=["put","add","delete","clear"],nk=new Map;function C7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(nk.get(e))return nk.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=gne.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!mne.includes(t))return;const o=function(){var s=g(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return nk.set(e,o),o}!function dne(n){ek=n(ek)}(n=>({...n,get:(e,t,i)=>C7(e,t)||n.get(e,t,i),has:(e,t)=>!!C7(e,t)||n.has(e,t)}));const E7="@firebase/installations",S7="w:0.6.4",D7="FIS_v2",xo=new zr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function I7(n){return n instanceof Li&&n.code.includes("request-failed")}function rk({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function A7(n){return{token:n.token,requestStatus:2,expiresIn:wne(n.expiresIn),creationTime:Date.now()}}function ok(n,e){return sk.apply(this,arguments)}function sk(){return(sk=g(function*(n,e){const i=(yield e.json()).error;return xo.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function R7({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function P7(n,{refreshToken:e}){const t=R7(n);return t.append("Authorization",function Mne(n){return`${D7} ${n}`}(e)),t}function ak(n){return lk.apply(this,arguments)}function lk(){return(lk=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function wne(n){return Number(n.replace("s","000"))}function xne(n,e){return ck.apply(this,arguments)}function ck(){return(ck=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=rk(n),r=R7(n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:D7,appId:n.appId,sdkVersion:S7})},l=yield ak(()=>fetch(i,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:A7(c.authToken)}}throw yield ok("Create Installation",l)})).apply(this,arguments)}function O7(n){return new Promise(e=>{setTimeout(e,n)})}const Ene=/^[cdef][\w-]{21}$/;function Tne(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Sne(n){return function Cne(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Ene.test(t)?t:""}catch{return""}}function uc(n){return`${n.appName}!${n.appId}`}const dc=new Map;function N7(n,e){const t=uc(n);F7(t,e),function Ane(n,e){const t=function L7(){return!va&&"BroadcastChannel"in self&&(va=new BroadcastChannel("[Firebase] FID Change"),va.onmessage=n=>{F7(n.data.key,n.data.fid)}),va}();t&&t.postMessage({key:n,fid:e}),function V7(){0===dc.size&&va&&(va.close(),va=null)}()}(t,e)}function F7(n,e){const t=dc.get(n);if(t)for(const i of t)i(e)}let va=null;const ka="firebase-installations-store";let dk=null;function hk(){return dk||(dk=function fne(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=ds(s);return i&&s.addEventListener("upgradeneeded",l=>{i(ds(s.result),l.oldVersion,l.newVersion,ds(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ka)}})),dk}function F1(n,e){return pk.apply(this,arguments)}function pk(){return(pk=g(function*(n,e){const t=uc(n),r=(yield hk()).transaction(ka,"readwrite"),o=r.objectStore(ka),s=yield o.get(t);return yield o.put(e,t),yield r.done,(!s||s.fid!==e.fid)&&N7(n,e.fid),e})).apply(this,arguments)}function fk(n){return mk.apply(this,arguments)}function mk(){return(mk=g(function*(n){const e=uc(n),i=(yield hk()).transaction(ka,"readwrite");yield i.objectStore(ka).delete(e),yield i.done})).apply(this,arguments)}function Sd(n,e){return gk.apply(this,arguments)}function gk(){return(gk=g(function*(n,e){const t=uc(n),r=(yield hk()).transaction(ka,"readwrite"),o=r.objectStore(ka),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield r.done,a&&(!s||s.fid!==a.fid)&&N7(n,a.fid),a})).apply(this,arguments)}function yk(n){return _k.apply(this,arguments)}function _k(){return(_k=g(function*(n){let e;const t=yield Sd(n.appConfig,i=>{const r=One(i),o=Nne(n,r);return e=o.registrationPromise,o.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function One(n){return H7(n||{fid:Tne(),registrationStatus:0})}function Nne(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(xo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function Fne(n,e){return vk.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Lne(n)}:{installationEntry:e}}function vk(){return(vk=g(function*(n,e){try{const t=yield xne(n,e);return F1(n.appConfig,t)}catch(t){throw I7(t)&&409===t.customData.serverCode?yield fk(n.appConfig):yield F1(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function Lne(n){return kk.apply(this,arguments)}function kk(){return(kk=g(function*(n){let e=yield B7(n.appConfig);for(;1===e.registrationStatus;)yield O7(100),e=yield B7(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield yk(n);return i||t}return e})).apply(this,arguments)}function B7(n){return Sd(n,e=>{if(!e)throw xo.create("installation-not-found");return H7(e)})}function H7(n){return function Vne(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Bne(n,e){return bk.apply(this,arguments)}function bk(){return(bk=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=Hne(n,t),r=P7(n,t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:S7,appId:n.appId}})},l=yield ak(()=>fetch(i,a));if(l.ok)return A7(yield l.json());throw yield ok("Generate Auth Token",l)})).apply(this,arguments)}function Hne(n,{fid:e}){return`${rk(n)}/${e}/authTokens:generate`}function wk(n){return Mk.apply(this,arguments)}function Mk(){return(Mk=g(function*(n,e=!1){let t;const i=yield Sd(n.appConfig,o=>{if(!z7(o))throw xo.create("not-registered");const s=o.authToken;if(!e&&qne(s))return o;if(1===s.requestStatus)return t=jne(n,e),o;{if(!navigator.onLine)throw xo.create("app-offline");const a=$ne(o);return t=zne(n,a),a}});return t?yield t:i.authToken})).apply(this,arguments)}function jne(n,e){return xk.apply(this,arguments)}function xk(){return(xk=g(function*(n,e){let t=yield j7(n.appConfig);for(;1===t.authToken.requestStatus;)yield O7(100),t=yield j7(n.appConfig);const i=t.authToken;return 0===i.requestStatus?wk(n,e):i})).apply(this,arguments)}function j7(n){return Sd(n,e=>{if(!z7(e))throw xo.create("not-registered");return function Gne(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function zne(n,e){return Ck.apply(this,arguments)}function Ck(){return(Ck=g(function*(n,e){try{const t=yield Bne(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield F1(n.appConfig,i),t}catch(t){if(!I7(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield F1(n.appConfig,i)}else yield fk(n.appConfig);throw t}})).apply(this,arguments)}function z7(n){return void 0!==n&&2===n.registrationStatus}function qne(n){return 2===n.requestStatus&&!function Une(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function $ne(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Ek(){return(Ek=g(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield yk(e);return i?i.catch(console.error):wk(e).catch(console.error),t.fid})).apply(this,arguments)}function Tk(){return(Tk=g(function*(n,e=!1){const t=n;return yield Zne(t),(yield wk(t,e)).token})).apply(this,arguments)}function Zne(n){return Sk.apply(this,arguments)}function Sk(){return(Sk=g(function*(n){const{registrationPromise:e}=yield yk(n);e&&(yield e)})).apply(this,arguments)}function Ak(n){return xo.create("missing-app-config-values",{valueName:n})}const q7="installations",eie=n=>{const e=n.getProvider("app").getImmediate(),t=function Xne(n){if(!n||!n.options)throw Ak("App Configuration");if(!n.name)throw Ak("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Ak(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:_a(e,"heartbeat"),_delete:()=>Promise.resolve()}},tie=n=>{const t=_a(n.getProvider("app").getImmediate(),q7).getImmediate();return{getId:()=>function Wne(n){return Ek.apply(this,arguments)}(t),getToken:r=>function Kne(n){return Tk.apply(this,arguments)}(t,r)}};(function nie(){zn(new Cn(q7,eie,"PUBLIC")),zn(new Cn("installations-internal",tie,"PRIVATE"))})(),dt(E7,"0.6.4"),dt(E7,"0.6.4","esm2017");const Rk="@firebase/remote-config",vi=new zr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pie{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return g(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function fie(n=navigator){return n.languages&&n.languages[0]||n.language}class mie{constructor(e,t,i,r,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=o,this.appId=s}fetch(e){var t=this;return g(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:fie()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(s,c),d=new Promise((k,w)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",w(v)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(k){let w="fetch-client-network";throw"AbortError"===k?.name&&(w="fetch-timeout"),vi.create(w,{originalErrorMessage:k?.message})}let p=h.status;const f=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let k;try{k=yield h.json()}catch(w){throw vi.create("fetch-client-parse",{originalErrorMessage:w?.message})}m=k.entries,y=k.state}if("INSTANCE_STATE_UNSPECIFIED"===y?p=500:"NO_CHANGE"===y?p=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==p&&200!==p)throw vi.create("fetch-status",{httpStatus:p});return{status:p,eTag:f,config:m}})()}}class _ie{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return g(function*(){yield function gie(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(vi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),o}catch(o){if(!function yie(n){if(!(n instanceof Li&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+Vv(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(s),r.attemptFetch(e,s)}})()}}class bie{constructor(e,t,i,r,o){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function V1(n,e){const t=n.target.error||void 0;return vi.create(e,{originalErrorMessage:t&&t?.message})}const ba="app_namespace_store";class Cie{constructor(e,t,i,r=function xie(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(V1(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ba,{keyPath:"compositeKey"})}}catch(t){e(vi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([ba],"readonly").objectStore(ba),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{o(V1(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;r(d?d.value:void 0)}}catch(c){o(vi.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var i=this;return g(function*(){const r=yield i.openDbPromise;return new Promise((o,s)=>{const l=r.transaction([ba],"readwrite").objectStore(ba),c=i.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{s(V1(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(vi.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return g(function*(){const i=yield t.openDbPromise;return new Promise((r,o)=>{const a=i.transaction([ba],"readwrite").objectStore(ba),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{o(V1(u,"storage-delete"))},c.onsuccess=()=>{r()}}catch(c){o(vi.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Eie{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield i;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Sie(){return Lk.apply(this,arguments)}function Lk(){return(Lk=g(function*(){if(!fa())return!1;try{return yield xd()}catch{return!1}})).apply(this,arguments)}let W7,K7;!function Tie(){zn(new Cn("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw vi.create("registration-window");if(!fa())throw vi.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=i.options;if(!o)throw vi.create("registration-project-id");if(!s)throw vi.create("registration-api-key");if(!a)throw vi.create("registration-app-id");const l=new Cie(a,i.name,t=t||"firebase"),c=new Eie(l),u=new cc(Rk);u.logLevel=Re.ERROR;const d=new mie(r,us,t,o,s,a),h=new _ie(d,l),p=new pie(h,l,c,u),f=new bie(i,p,c,l,u);return function uie(n){const e=ut(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(f),f},"PUBLIC").setMultipleInstances(!0)),dt(Rk,"0.4.4"),dt(Rk,"0.4.4","esm2017")}();const Z7=new WeakMap,Vk=new WeakMap,Y7=new WeakMap,Bk=new WeakMap,Hk=new WeakMap;let jk={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Vk.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Y7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Co(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Fie(n){return"function"==typeof n?function Nie(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Aie(){return K7||(K7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(zk(this),e),Co(Z7.get(this))}:function(...e){return Co(n.apply(zk(this),e))}:function(e,...t){const i=n.call(zk(this),e,...t);return Y7.set(i,e.sort?e.sort():[e]),Co(i)}}(n):(n instanceof IDBTransaction&&function Pie(n){if(Vk.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Vk.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Iie(){return W7||(W7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,jk):n)}function Co(n){if(n instanceof IDBRequest)return function Rie(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Co(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Z7.set(t,n)}).catch(()=>{}),Hk.set(e,n),e}(n);if(Bk.has(n))return Bk.get(n);const e=Fie(n);return e!==n&&(Bk.set(n,e),Hk.set(e,n)),e}const zk=n=>Hk.get(n);function Q7(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Co(s);return i&&s.addEventListener("upgradeneeded",l=>{i(Co(s.result),l.oldVersion,l.newVersion,Co(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}function qk(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Co(t).then(()=>{})}const Lie=["get","getKey","getAll","getAllKeys","count"],Vie=["put","add","delete","clear"],Uk=new Map;function X7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Uk.get(e))return Uk.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Vie.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Lie.includes(t))return;const o=function(){var s=g(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return Uk.set(e,o),o}!function Oie(n){jk=n(jk)}(n=>({...n,get:(e,t,i)=>X7(e,t)||n.get(e,t,i),has:(e,t)=>!!X7(e,t)||n.has(e,t)}));const Bie="/firebase-messaging-sw.js",Hie="/firebase-cloud-messaging-push-scope",J7="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eR="google.c.a.c_id",zie="google.c.a.c_l",qie="google.c.a.ts",Uie="google.c.a.e";var hc=(()=>{return(n=hc||(hc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",hc;var n})();function Eo(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $ie(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let o=0;o<i.length;++o)r[o]=i.charCodeAt(o);return r}const $k="fcm_token_details_db",tR="fcm_token_object_Store";function Wie(n){return Gk.apply(this,arguments)}function Gk(){return Gk=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes($k))return null;let e=null;return(yield Q7($k,5,{upgrade:(i=g(function*(r,o,s,a){var l;if(o<2||!r.objectStoreNames.contains(tR))return;const c=a.objectStore(tR),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Eo(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Eo(d.auth),p256dh:Eo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Eo(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Eo(d.auth),p256dh:Eo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Eo(d.vapidKey)}}}}),function(o,s,a,l){return i.apply(this,arguments)})})).close(),yield qk($k),yield qk("fcm_vapid_details_db"),yield qk("undefined"),Kie(e)?e:null;var i}),Gk.apply(this,arguments)}function Kie(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const wa="firebase-messaging-store";let Wk=null;function Kk(){return Wk||(Wk=Q7("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(wa)}})),Wk}function nR(n){return Zk.apply(this,arguments)}function Zk(){return(Zk=g(function*(n){const e=Jk(n),i=yield(yield Kk()).transaction(wa).objectStore(wa).get(e);if(i)return i;{const r=yield Wie(n.appConfig.senderId);if(r)return yield Yk(n,r),r}})).apply(this,arguments)}function Yk(n,e){return Qk.apply(this,arguments)}function Qk(){return(Qk=g(function*(n,e){const t=Jk(n),r=(yield Kk()).transaction(wa,"readwrite");return yield r.objectStore(wa).put(e,t),yield r.done,e})).apply(this,arguments)}function Qie(n){return Xk.apply(this,arguments)}function Xk(){return(Xk=g(function*(n){const e=Jk(n),i=(yield Kk()).transaction(wa,"readwrite");yield i.objectStore(wa).delete(e),yield i.done})).apply(this,arguments)}function Jk({appConfig:n}){return n.appId}const En=new zr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Jie(n,e){return eb.apply(this,arguments)}function eb(){return(eb=g(function*(n,e){const t=yield rb(n),i=rR(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(ib(n.appConfig),r)).json()}catch(s){throw En.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw En.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw En.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function ere(n,e){return tb.apply(this,arguments)}function tb(){return(tb=g(function*(n,e){const t=yield rb(n),i=rR(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${ib(n.appConfig)}/${e.token}`,r)).json()}catch(s){throw En.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw En.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw En.create("token-update-no-token");return o.token})).apply(this,arguments)}function iR(n,e){return nb.apply(this,arguments)}function nb(){return(nb=g(function*(n,e){const i={method:"DELETE",headers:yield rb(n)};try{const o=yield(yield fetch(`${ib(n.appConfig)}/${e}`,i)).json();if(o.error)throw En.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(r){throw En.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function ib({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function rb(n){return ob.apply(this,arguments)}function ob(){return(ob=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function rR({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==J7&&(r.web.applicationPubKey=i),r}function nre(n){return sb.apply(this,arguments)}function sb(){return(sb=g(function*(n){const e=yield rre(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Eo(e.getKey("auth")),p256dh:Eo(e.getKey("p256dh"))},i=yield nR(n.firebaseDependencies);if(i){if(ore(i.subscriptionOptions,t))return Date.now()>=i.createTime+6048e5?ire(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield iR(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return sR(n.firebaseDependencies,t)}return sR(n.firebaseDependencies,t)})).apply(this,arguments)}function oR(n){return ab.apply(this,arguments)}function ab(){return(ab=g(function*(n){const e=yield nR(n.firebaseDependencies);e&&(yield iR(n.firebaseDependencies,e.token),yield Qie(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function ire(n,e){return lb.apply(this,arguments)}function lb(){return(lb=g(function*(n,e){try{const t=yield ere(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Yk(n.firebaseDependencies,i),t}catch(t){throw yield oR(n),t}})).apply(this,arguments)}function sR(n,e){return cb.apply(this,arguments)}function cb(){return(cb=g(function*(n,e){const i={token:yield Jie(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Yk(n,i),i.token})).apply(this,arguments)}function rre(n,e){return ub.apply(this,arguments)}function ub(){return(ub=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$ie(e)})})).apply(this,arguments)}function ore(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function aR(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function sre(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function are(n,e){!e.data||(n.data=e.data)}(e,n),function lre(n,e){var t,i,r,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const l=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function cre(n){return"object"==typeof n&&!!n&&eR in n}function lR(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function db(n){return En.create("missing-app-config-values",{valueName:n})}lR("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),lR("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dre{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function ure(n){if(!n||!n.options)throw db("App Configuration Object");if(!n.name)throw db("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw db(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function cR(n){return hb.apply(this,arguments)}function hb(){return(hb=g(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Bie,{scope:Hie}),n.swRegistration.update().catch(()=>{})}catch(e){throw En.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function hre(n,e){return pb.apply(this,arguments)}function pb(){return(pb=g(function*(n,e){if(!e&&!n.swRegistration&&(yield cR(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw En.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function pre(n,e){return fb.apply(this,arguments)}function fb(){return(fb=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=J7)})).apply(this,arguments)}function mb(){return(mb=g(function*(n,e){if(!navigator)throw En.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw En.create("permission-blocked");return yield pre(n,e?.vapidKey),yield hre(n,e?.serviceWorkerRegistration),nre(n)})).apply(this,arguments)}function fre(n,e,t){return gb.apply(this,arguments)}function gb(){return(gb=g(function*(n,e,t){const i=mre(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[eR],message_name:t[zie],message_time:t[qie],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function mre(n){switch(n){case hc.NOTIFICATION_CLICKED:return"notification_open";case hc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yb(){return(yb=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===hc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(aR(t)):n.onMessageHandler.next(aR(t)));const i=t.data;cre(i)&&"1"===i[Uie]&&(yield fre(n,t.messageType,i))})).apply(this,arguments)}const dR="@firebase/messaging",yre=n=>{const e=new dre(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function gre(n,e){return yb.apply(this,arguments)}(e,t)),e},_re=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function uR(n,e){return mb.apply(this,arguments)}(e,i)}};function pR(){return _b.apply(this,arguments)}function _b(){return(_b=g(function*(){try{yield xd()}catch{return!1}return typeof window<"u"&&fa()&&Nv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vre(){zn(new Cn("messaging",yre,"PUBLIC")),zn(new Cn("messaging-internal",_re,"PRIVATE")),dt(dR,"0.12.4"),dt(dR,"0.12.4","esm2017")}();const B1="analytics",wre="firebase_id",Cre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bb="https://www.googletagmanager.com/gtag/js",fn=new cc("@firebase/analytics"),ri=new zr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Tre(n){if(!n.startsWith(bb)){const e=ri.create("invalid-gtag-resource",{gtagURL:n});return fn.warn(e.message),""}return n}function fR(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Dre(n,e){const t=function Sre(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Tre}),i=document.createElement("script"),r=`${bb}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function Are(n,e,t,i,r,o){return wb.apply(this,arguments)}function wb(){return(wb=g(function*(n,e,t,i,r,o){const s=i[r];try{if(s)yield e[s];else{const l=(yield fR(t)).find(c=>c.measurementId===r);l&&(yield e[l.appId])}}catch(a){fn.error(a)}n("config",r,o)})).apply(this,arguments)}function Rre(n,e,t,i,r){return Mb.apply(this,arguments)}function Mb(){return(Mb=g(function*(n,e,t,i,r){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);const a=yield fR(t);for(const l of s){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",i,r||{})}catch(o){fn.error(o)}})).apply(this,arguments)}function Nre(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(bb)&&t.src.includes(n))return t;return null}const mR=new class Vre{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Bre(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Hre(n){return xb.apply(this,arguments)}function xb(){return(xb=g(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:Bre(i)},o=Cre.replace("{app-id}",t),s=yield fetch(o,r);if(200!==s.status&&304!==s.status){let a="";try{const l=yield s.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw ri.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function jre(n){return Cb.apply(this,arguments)}function Cb(){return(Cb=g(function*(n,e=mR,t){const{appId:i,apiKey:r,measurementId:o}=n.options;if(!i)throw ri.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw ri.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Ure;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:6e4),gR({appId:i,apiKey:r,measurementId:o},s,a,e)})).apply(this,arguments)}function gR(n,e,t){return Eb.apply(this,arguments)}function Eb(){return(Eb=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=mR){var o;const{appId:s,measurementId:a}=n;try{yield zre(i,e)}catch(l){if(a)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw l}try{const l=yield Hre(n);return r.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!qre(c)){if(r.deleteThrottleMetadata(s),a)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw l}const u=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?Vv(t,r.intervalMillis,30):Vv(t,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return r.setThrottleMetadata(s,d),fn.debug(`Calling attemptFetch again in ${u} millis`),gR(n,d,i,r)}})).apply(this,arguments)}function zre(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(o),i(ri.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qre(n){if(!(n instanceof Li&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class Ure{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Tb,Ob;function Sb(){return(Sb=g(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const o=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:o}))}})).apply(this,arguments)}function yR(n){Ob=n}function _R(n){Tb=n}function Qre(){return Nb.apply(this,arguments)}function Nb(){return(Nb=g(function*(){if(!fa())return fn.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield xd()}catch(n){return fn.warn(ri.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function Fb(){return(Fb=g(function*(n,e,t,i,r,o,s){var a;const l=jre(n);l.then(p=>{t[p.measurementId]=p.appId,n.options.measurementId&&p.measurementId!==n.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>fn.error(p)),e.push(l);const c=Qre().then(p=>{if(p)return i.getId()}),[u,d]=yield Promise.all([l,c]);Nre(o)||Dre(o,u.measurementId),Ob&&(r("consent","default",Ob),yR(void 0)),r("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[wre]=d),r("config",u.measurementId,h),Tb&&(r("set",Tb),_R(void 0)),u.measurementId})).apply(this,arguments)}class Jre{constructor(e){this.app=e}_delete(){return delete qr[this.app.options.appId],Promise.resolve()}}let qr={},vR=[];const kR={};let wR,Ur,H1="dataLayer",Lb=!1;function toe(n,e,t){!function eoe(){const n=[];if(Ov()&&n.push("This is a browser extension environment."),Nv()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=ri.create("invalid-analytics-context",{errorInfo:e});fn.warn(t.message)}}();const i=n.options.appId;if(!i)throw ri.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw ri.create("no-api-key");fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qr[i])throw ri.create("already-exists",{id:i});if(!Lb){!function Ire(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(H1);const{wrappedGtag:o,gtagCore:s}=function Ore(n,e,t,i,r){let o=function(...s){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(o=window[r]),window[r]=function Pre(n,e,t,i){function o(){return(o=g(function*(s,...a){try{if("event"===s){const[l,c]=a;yield Rre(n,e,t,l,c)}else if("config"===s){const[l,c]=a;yield Are(n,e,t,i,l,c)}else if("consent"===s){const[l]=a;n("consent","update",l)}else if("get"===s){const[l,c,u]=a;n("get",l,c,u)}else if("set"===s){const[l]=a;n("set",l)}else n(s,...a)}catch(l){fn.error(l)}})).apply(this,arguments)}return function r(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[r]}}(qr,vR,kR,H1,"gtag");Ur=o,wR=s,Lb=!0}return qr[i]=function Xre(n,e,t,i,r,o,s){return Fb.apply(this,arguments)}(n,vR,kR,e,wR,H1,t),new Jre(n)}function ioe(){return Vb.apply(this,arguments)}function Vb(){return(Vb=g(function*(){if(Ov()||!Nv()||!fa())return!1;try{return yield xd()}catch{return!1}})).apply(this,arguments)}const MR="@firebase/analytics";!function ooe(){zn(new Cn(B1,(e,{options:t})=>toe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),zn(new Cn("analytics-internal",function n(e){try{const t=e.getProvider(B1).getImmediate();return{logEvent:(i,r,o)=>function roe(n,e,t,i){n=ut(n),function $re(n,e,t,i,r){return Sb.apply(this,arguments)}(Ur,qr[n.app.options.appId],e,t,i).catch(r=>fn.error(r))}(t,i,r,o)}}catch(t){throw ri.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),dt(MR,"0.10.0"),dt(MR,"0.10.0","esm2017")}();class soe extends ct{constructor(e,t){super()}schedule(e,t=0){return this}}const j1={setInterval(...n){const{delegate:e}=j1;return(e?.setInterval||setInterval)(...n)},clearInterval(n){const{delegate:e}=j1;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class z1 extends soe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return j1.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;j1.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,gl(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const CR={now:()=>(CR.delegate||Date).now(),delegate:void 0};class Dd{constructor(e,t=Dd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Dd.now=CR.now;class q1 extends Dd{constructor(e,t=Dd.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const coe=new class loe extends q1{}(class aoe extends z1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}}),U1=new q1(z1),ER=U1;function ht(n,e,t){const i=Le(n)||e||t?{next:n,error:e,complete:t}:n;return i?Mt((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(new it(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Zo}const Id=new ns("7.6.1"),Hb="__angularfire_symbol__analyticsIsSupportedValue",jb="__angularfire_symbol__analyticsIsSupported",zb="__angularfire_symbol__remoteConfigIsSupportedValue",qb="__angularfire_symbol__remoteConfigIsSupported",Ub="__angularfire_symbol__messagingIsSupportedValue",$b="__angularfire_symbol__messagingIsSupported";function $1(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[jb]||(globalThis[jb]=ioe().then(n=>globalThis[Hb]=n).catch(()=>globalThis[Hb]=!1)),globalThis[$b]||(globalThis[$b]=pR().then(n=>globalThis[Ub]=n).catch(()=>globalThis[Ub]=!1)),globalThis[qb]||(globalThis[qb]=Sie().then(n=>globalThis[zb]=n).catch(()=>globalThis[zb]=!1));const G1=(n,e)=>{const t=e?[e]:m7(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};function pc(){}class TR{constructor(e,t=coe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class uoe{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pc,{},pc,pc)),t.pipe(ht({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let W1=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new TR(Zone.current)),this.insideAngular=t.run(()=>new TR(Zone.current,U1)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(x(oe))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ma(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function doe(n){return Ma().ngZone.runOutsideAngular(()=>n())}function xa(n){return Ma().ngZone.run(()=>n())}function hoe(n){return Ma(),function poe(n){return function(t){return(t=t.lift(new uoe(n.ngZone))).pipe(Wp(n.outsideAngular),Gp(n.insideAngular))}}(Ma())(n)}const foe=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),xa(()=>n.apply(void 0,i))},zt=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||(t=xa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pc,{},pc,pc)))),i[o]=foe(i[o],t));const r=doe(()=>n.apply(this,i));if(!e){if(r instanceof Ue){const o=Ma();return r.pipe(Wp(o.outsideAngular),Gp(o.insideAngular))}return xa(()=>r)}return r instanceof Ue?r.pipe(hoe):r instanceof Promise?xa(()=>new Promise((o,s)=>r.then(a=>xa(()=>o(a)),a=>xa(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:xa(()=>r)};class Ca{constructor(e){return e}}class K1{constructor(){return m7()}}const Wb=new P("angularfire2._apps"),goe={provide:Ca,useFactory:function moe(n){return n&&1===n.length?n[0]:new Ca(N1())},deps:[[new vt,Wb]]},yoe={provide:K1,deps:[[new vt,Wb]]};function _oe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Ca(i)}}let voe=(()=>{class n{constructor(t){dt("angularfire",Id.full,"core"),dt("angularfire",Id.full,"app"),dt("angular",WS.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(x(lc))},n.\u0275mod=ge({type:n}),n.\u0275inj=me({providers:[goe,yoe]}),n})();function koe(n,...e){return{ngModule:voe,providers:[{provide:Wb,useFactory:_oe(n),multi:!0,deps:[oe,Rt,W1,...e]}]}}const boe=zt(f7,!0),Kb=new Map,SR={activated:!1,tokenObservers:[]},woe={initialized:!1,enabled:!1};function Ot(n){return Kb.get(n)||Object.assign({},SR)}function Z1(){return woe}class Soe{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new D1,yield function Doe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new D1,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Tn=new zr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Yb(n){if(!Ot(n).activated)throw Tn.create("use-before-activation",{appName:n.name})}function X1(n,e){return Xb.apply(this,arguments)}function Xb(){return(Xb=g(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const d=yield r.getHeartbeatsHeader();d&&(i["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:i};let s,a;try{s=yield fetch(n,o)}catch(d){throw Tn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Tn.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Tn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function IR(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Ad="firebase-app-check-store";let J1=null;function RR(){return J1||(J1=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Tn.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ad,{keyPath:"compositeKey"})}}catch(t){e(Tn.create("storage-open",{originalErrorMessage:t?.message}))}}),J1)}function Jb(){return(Jb=g(function*(n,e){const i=(yield RR()).transaction(Ad,"readwrite"),o=i.objectStore(Ad).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(Tn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Rd=new cc("@firebase/app-check");function nw(n,e){return fa()?function Foe(n,e){return function PR(n,e){return Jb.apply(this,arguments)}(function NR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Rd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function rw(){return Z1().enabled}function ow(){return sw.apply(this,arguments)}function sw(){return(sw=g(function*(){const n=Z1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const zoe={error:"UNKNOWN_ERROR"};function qoe(n){return Pv.encodeString(JSON.stringify(n),!1)}function em(n){return aw.apply(this,arguments)}function aw(){return(aw=g(function*(n,e=!1){const t=n.app;Yb(t);const i=Ot(t);let o,r=i.token;if(r&&!fc(r)&&(i.token=void 0,r=void 0),!r){const l=yield i.cachedTokenPromise;l&&(fc(l)?r=l:yield nw(t,void 0))}if(!e&&r&&fc(r))return{token:r.token};let a,s=!1;if(rw()){i.exchangeTokenPromise||(i.exchangeTokenPromise=X1(IR(t,yield ow()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const l=yield i.exchangeTokenPromise;return yield nw(t,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Ot(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Rd.warn(l.message):Rd.error(l),o=l}return r?o?a=fc(r)?{token:r.token,internalError:o}:BR(o):(a={token:r.token},i.token=r,yield nw(t,r)):a=BR(o),s&&VR(t,a),a})).apply(this,arguments)}function lw(){return(lw=g(function*(n){const e=n.app;Yb(e);const{provider:t}=Ot(e);if(rw()){const i=yield ow(),{token:r}=yield X1(IR(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function uw(n,e){const t=Ot(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function LR(n){const{app:e}=n,t=Ot(e);let i=t.tokenRefresher;i||(i=function Uoe(n){const{app:e}=n;return new Soe(g(function*(){let i;if(i=Ot(e).token?yield em(n,!0):yield em(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Ot(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function VR(n,e){const t=Ot(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function fc(n){return n.expireTimeMillis-Date.now()>0}function BR(n){return{token:qoe(zoe),error:n}}class $oe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ot(this.app);for(const t of e)uw(this.app,t.next);return Promise.resolve()}}const WR="app-check-internal";!function ose(){zn(new Cn("app-check",n=>function Goe(n,e){return new $oe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(WR).initialize()})),zn(new Cn(WR,n=>function Woe(n){return{getToken:e=>em(n,e),getLimitedUseToken:()=>function FR(n){return lw.apply(this,arguments)}(n),addTokenListener:e=>function cw(n,e,t,i){const{app:r}=n,o=Ot(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&fc(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),LR(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>LR(n))}(n,"INTERNAL",e),removeTokenListener:e=>uw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),dt("@firebase/app-check","0.8.0")}();class nm{constructor(){return G1("app-check")}}function YR(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}typeof window<"u"&&window;const pse=function JR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},eP=new zr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rm=new cc("@firebase/auth");function om(n,...e){rm.logLevel<=Re.ERROR&&rm.error(`Auth (${us}): ${n}`,...e)}function ki(n,...e){throw gw(n,...e)}function $r(n,...e){return gw(n,...e)}function tP(n,e,t){const i=Object.assign(Object.assign({},pse()),{[e]:t});return new zr("auth","Firebase",i).create(e,{appName:n.name})}function gw(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return eP.create(n,...e)}function F(n,e,...t){if(!n)throw gw(e,...t)}function Gr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw om(e),new Error(e)}function hs(n,e){n||Gr(e)}function Pd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function nP(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Od{constructor(e,t){this.shortDelay=e,this.longDelay=t,hs(t>e,"Short delay should be less than long delay!"),this.isMobile=function Bee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}()||function Hee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function mse(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function yw(){return"http:"===nP()||"https:"===nP()}()||Ov()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _w(n,e){hs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class iP{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_se=new Od(3e4,6e4);function Tt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Nt(n,e,t,i){return vw.apply(this,arguments)}function vw(){return(vw=g(function*(n,e,t,i,r={}){return rP(n,r,g(function*(){let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=R1(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),iP.fetch()(oP(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function rP(n,e,t){return kw.apply(this,arguments)}function kw(){return(kw=g(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},yse),e);try{const r=new vse(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Nd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Nd(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw Nd(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw Nd(n,"user-disabled",s);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tP(n,u,c);ki(n,u)}}catch(r){if(r instanceof Li)throw r;ki(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function To(n,e,t,i){return bw.apply(this,arguments)}function bw(){return(bw=g(function*(n,e,t,i,r={}){const o=yield Nt(n,e,t,i,r);return"mfaPendingCredential"in o&&ki(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function oP(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?_w(n.config,r):`${n.config.apiScheme}://${r}`}class vse{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i($r(this.auth,"network-request-failed")),_se.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=$r(n,e,i);return r.customData._tokenResponse=t,r}function ww(){return(ww=g(function*(n,e){return Nt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function wse(n,e){return xw.apply(this,arguments)}function xw(){return(xw=g(function*(n,e){return Nt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Fd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Cw(){return(Cw=g(function*(n,e=!1){const t=ut(n),i=yield t.getIdToken(e),r=sm(i);F(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Fd(Ew(r.auth_time)),issuedAtTime:Fd(Ew(r.iat)),expirationTime:Fd(Ew(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function Ew(n){return 1e3*Number(n)}function sm(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return om("JWT malformed, contained fewer than 3 sections"),null;try{const r=T1(t);return r?JSON.parse(r):(om("Failed to decode base64 JWT payload"),null)}catch(r){return om("Caught error parsing JWT payload as JSON",r?.toString()),null}}function So(n,e){return Tw.apply(this,arguments)}function Tw(){return(Tw=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof Li&&Cse(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}function Cse({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Ese{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),i)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class sP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fd(this.lastLoginAt),this.creationTime=Fd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ld(n){return Sw.apply(this,arguments)}function Sw(){return(Sw=g(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield So(n,wse(t,{idToken:i}));F(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?Dse(o.providerUserInfo):[],a=Sse(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new sP(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function Dw(){return(Dw=g(function*(n){const e=ut(n);yield Ld(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Sse(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Dse(n){return n.map(e=>{var{providerId:t}=e,i=YR(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Iw(){return(Iw=g(function*(n,e){const t=yield rP(n,{},g(function*(){const i=R1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=oP(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iP.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Vd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){F(e.idToken,"internal-error"),F(typeof e.idToken<"u","internal-error"),F(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function xse(n){const e=sm(n);return F(e,"internal-error"),F(typeof e.exp<"u","internal-error"),F(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return g(function*(){return F(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return g(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function Ise(n,e){return Iw.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new Vd;return i&&(F("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),r&&(F("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),o&&(F("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vd,this.toJSON())}_performRefresh(){return Gr("not implemented")}}function ps(n,e){F("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Ea{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=YR(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ese(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sP(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const i=yield So(t,t.stsTokenManager.getToken(t.auth,e));return F(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function Mse(n){return Cw.apply(this,arguments)}(this,e)}reload(){return function Tse(n){return Dw.apply(this,arguments)}(this)}_assign(e){this!==e&&(F(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ea(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return g(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Ld(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield So(e,function kse(n,e){return ww.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,l,c,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,y=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,k=null!==(c=t.createdAt)&&void 0!==c?c:void 0,w=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:C,isAnonymous:H,providerData:q,stsTokenManager:de}=t;F(v&&de,e,"internal-error");const Je=Vd.fromJSON(this.name,de);F("string"==typeof v,e,"internal-error"),ps(d,e.name),ps(h,e.name),F("boolean"==typeof C,e,"internal-error"),F("boolean"==typeof H,e,"internal-error"),ps(p,e.name),ps(f,e.name),ps(m,e.name),ps(y,e.name),ps(k,e.name),ps(w,e.name);const wt=new Ea({uid:v,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:H,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:Je,createdAt:k,lastLoginAt:w});return q&&Array.isArray(q)&&(wt.providerData=q.map(hi=>Object.assign({},hi))),y&&(wt._redirectEventId=y),wt}static _fromIdTokenResponse(e,t,i=!1){return g(function*(){const r=new Vd;r.updateFromServerResponse(t);const o=new Ea({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Ld(o),o})()}}const aP=new Map;function Do(n){hs(n instanceof Function,"Expected a class definition");let e=aP.get(n);return e?(hs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,aP.set(n,e),e)}const lP=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,i){var r=this;return g(function*(){r.storage[t]=i})()}_get(t){var i=this;return g(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return g(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function am(n,e,t){return`firebase:${n}:${e}:${t}`}class gc{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=am(this.userKey,r.apiKey,o),this.fullPersistenceKey=am("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Ea._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return g(function*(){if(!t.length)return new gc(Do(lP),e,i);const r=(yield Promise.all(t.map(function(){var c=g(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let o=r[0]||Do(lP);const s=am(i,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(s);if(u){const d=Ea._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return c.apply(this,arguments)}}())),new gc(o,e,i)):new gc(o,e,i)})()}}function cP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fP(e))return"Blackberry";if(mP(e))return"Webos";if(Aw(e))return"Safari";if((e.includes("chrome/")||dP(e))&&!e.includes("edge/"))return"Chrome";if(pP(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function uP(n=pn()){return/firefox\//i.test(n)}function Aw(n=pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dP(n=pn()){return/crios\//i.test(n)}function hP(n=pn()){return/iemobile/i.test(n)}function pP(n=pn()){return/android/i.test(n)}function fP(n=pn()){return/blackberry/i.test(n)}function mP(n=pn()){return/webos/i.test(n)}function lm(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gP(n=pn()){return lm(n)||pP(n)||mP(n)||fP(n)||/windows phone/i.test(n)||hP(n)}function yP(n,e=[]){let t;switch(n){case"Browser":t=cP(pn());break;case"Worker":t=`${cP(pn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${us}/${i}`}function _P(n,e){return Pw.apply(this,arguments)}function Pw(){return(Pw=g(function*(n,e){return Nt(n,"GET","/v2/recaptchaConfig",Tt(n,e))})).apply(this,arguments)}function kP(n){return void 0!==n&&void 0!==n.enterprise}class bP{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function Ow(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=$r("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",function Nse(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function wP(n){return`__${n}${Math.floor(1e6*Math.random())}`}class MP{constructor(e){this.type="recaptcha-enterprise",this.auth=mn(e)}verify(e="verify",t=!1){var i=this;return g(function*(){function o(){return o=g(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=g(function*(c,u){_P(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new bP(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,l,c){const u=window.grecaptcha;kP(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function r(a){return o.apply(this,arguments)})(i.auth).then(c=>{if(!t&&kP(window.grecaptcha))s(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));Ow("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function fs(n,e,t){return Nw.apply(this,arguments)}function Nw(){return(Nw=g(function*(n,e,t,i=!1){const r=new MP(n);let o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,i?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class Bse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}class Hse{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xP(this),this.idTokenSubscription=new xP(this),this.beforeStateQueue=new Bse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Do(t)),this._initializationPromise=this.queue(g(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield gc.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,l=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return F(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield Ld(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function gse(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const i=e?ut(e):null;return i&&F(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return g(function*(){if(!i._deleted)return e&&F(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(g(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(Do(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const t=yield _P(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new bP(t);null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.emailPasswordEnabled&&new MP(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zr("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return g(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const i=e&&Do(e)||t._popupRedirectResolver;F(i,t,"argument-error"),t.redirectPersistenceManager=yield gc.create(t,[Do(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var i,r;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return F(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield e._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var e=this;return g(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function fse(n,...e){rm.logLevel<=Re.WARN&&rm.warn(`Auth (${us}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function mn(n){return ut(n)}class xP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Gee(n,e){const t=new Wee(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function CP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function EP(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class TP{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,t){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}}function Lw(){return(Lw=g(function*(n,e){return Nt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Bw(n,e){return Hw.apply(this,arguments)}function Hw(){return(Hw=g(function*(n,e){return To(n,"POST","/v1/accounts:signInWithPassword",Tt(n,e))})).apply(this,arguments)}function Kw(){return(Kw=g(function*(n,e){return To(n,"POST","/v1/accounts:signInWithEmailLink",Tt(n,e))})).apply(this,arguments)}function Zw(){return(Zw=g(function*(n,e){return To(n,"POST","/v1/accounts:signInWithEmailLink",Tt(n,e))})).apply(this,arguments)}class Bd extends TP{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Bd(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Bd(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return g(function*(){var i;switch(t.signInMethod){case"password":const r={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const o=yield fs(e,r,"signInWithPassword");return Bw(e,o)}return Bw(e,r).catch(function(){var o=g(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield fs(e,r,"signInWithPassword");return Bw(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function Zse(n,e){return Kw.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:ki(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return g(function*(){switch(i.signInMethod){case"password":return function DP(n,e){return Lw.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function Yse(n,e){return Zw.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:ki(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Io(n,e){return Yw.apply(this,arguments)}function Yw(){return(Yw=g(function*(n,e){return To(n,"POST","/v1/accounts:signInWithIdp",Tt(n,e))})).apply(this,arguments)}class zd{constructor(e){var t,i,r,o,s,a;const l=Cd(Ed(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(i=l.oobCode)&&void 0!==i?i:null,d=function iae(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);F(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function rae(n){const e=Cd(Ed(n)).link,t=e?Cd(Ed(e)).deep_link_id:null,i=Cd(Ed(n)).deep_link_id;return(i?Cd(Ed(i)).link:null)||i||t||e||n}(e);try{return new zd(t)}catch{return null}}}let IP=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Bd._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=zd.parseLink(i);return F(r,"argument-error"),Bd._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ms{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class oae extends ms{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function dm(n,e){return nM.apply(this,arguments)}function nM(){return(nM=g(function*(n,e){return To(n,"POST","/v1/accounts:signUp",Tt(n,e))})).apply(this,arguments)}class Xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return g(function*(){const o=yield Ea._fromIdTokenResponse(e,i,r),s=AP(i);return new Xi({user:o,providerId:s,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return g(function*(){yield e._updateTokensIfNecessary(i,!0);const r=AP(i);return new Xi({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function AP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class hm extends Li{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,hm.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new hm(e,t,i,r)}}function RP(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?hm._fromErrorAndOperation(n,o,e,i):o})}function oM(n,e){return sM.apply(this,arguments)}function sM(){return(sM=g(function*(n,e,t=!1){const i=yield So(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Xi._forOperation(n,"link",i)})).apply(this,arguments)}function lM(){return(lM=g(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const o=yield So(n,RP(i,r,e,n),t);F(o.idToken,i,"internal-error");const s=sm(o.idToken);F(s,i,"internal-error");const{sub:a}=s;return F(n.uid===a,i,"user-mismatch"),Xi._forOperation(n,r,o)}catch(o){throw"auth/user-not-found"===o?.code&&ki(i,"user-mismatch"),o}})).apply(this,arguments)}function NP(n,e){return cM.apply(this,arguments)}function cM(){return(cM=g(function*(n,e,t=!1){const i="signIn",r=yield RP(n,i,e),o=yield Xi._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function dM(){return(dM=g(function*(n,e){return NP(mn(n),e)})).apply(this,arguments)}function hae(n,e,t){return xM.apply(this,arguments)}function xM(){return xM=g(function*(n,e,t){var i;const r=mn(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(i=r._getRecaptchaConfig())&&void 0!==i&&i.emailPasswordEnabled){const c=yield fs(r,o,"signUpPassword");s=dm(r,c)}else s=dm(r,o).catch(function(){var c=g(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield fs(r,o,"signUpPassword");return dm(r,d)}return Promise.reject(u)});return function(u){return c.apply(this,arguments)}}());const a=yield s.catch(c=>Promise.reject(c)),l=yield Xi._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(l.user),l}),xM.apply(this,arguments)}function pae(n,e,t){return function uM(n,e){return dM.apply(this,arguments)}(ut(n),IP.credential(e,t))}function mae(n,e){return AM.apply(this,arguments)}function AM(){return(AM=g(function*(n,e){return Nt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function gae(n,e){return RM.apply(this,arguments)}function RM(){return(RM=g(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const i=ut(n),o={idToken:yield i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},s=yield So(i,mae(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find(({providerId:l})=>"password"===l);a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),yield i._updateTokensIfNecessary(s)})).apply(this,arguments)}const fm="__sak";class LP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fm,"1"),this.storage.removeItem(fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rae=(()=>{class n extends LP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dae(){const n=pn();return Aw(n)||lm(n)}()&&function Pse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const o=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);!function Rse(){return function jee(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,o=this;return g(function*(){yield r().call(o,t,i),o.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return g(function*(){const o=yield i().call(r,t);return r.localCache[t]=JSON.stringify(o),o})()}_remove(t){var i=()=>super._remove,r=this;return g(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),VP=(()=>{class n extends LP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let Oae=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return g(function*(){const r=t,{eventId:o,eventType:s,data:a}=r.data,l=i.handlersMap[s];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(l).map(function(){var d=g(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Pae(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(c);r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function BM(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class Nae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return g(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=BM("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:o,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},r.handlers.add(a),o.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function Qt(){return window}function HM(){return typeof Qt().WorkerGlobalScope<"u"&&"function"==typeof Qt().importScripts}function jM(){return(jM=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const BP="firebaseLocalStorageDb",mm="firebaseLocalStorage",HP="fbase_key";class Ud{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gm(n,e){return n.transaction([mm],e?"readwrite":"readonly").objectStore(mm)}function zM(){const n=indexedDB.open(BP,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(mm,{keyPath:HP})}catch(r){t(r)}}),n.addEventListener("success",g(function*(){const i=n.result;i.objectStoreNames.contains(mm)?e(i):(i.close(),yield function jae(){const n=indexedDB.deleteDatabase(BP);return new Ud(n).toPromise()}(),e(yield zM()))}))})}function jP(n,e,t){return qM.apply(this,arguments)}function qM(){return(qM=g(function*(n,e,t){const i=gm(n,!0).put({[HP]:e,value:t});return new Ud(i).toPromise()})).apply(this,arguments)}function UM(){return(UM=g(function*(n,e){const t=gm(n,!1).get(e),i=yield new Ud(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function zP(n,e){const t=gm(n,!0).delete(e);return new Ud(t).toPromise()}const $ae=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield zM()),t.db})()}_withRetries(t){var i=this;return g(function*(){let r=0;for(;;)try{const o=yield i._openDb();return yield t(o)}catch(o){if(r++>3)throw o;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return HM()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=Oae._getInstance(function Bae(){return HM()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=g(function*(r,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(r,o){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=g(function*(r,o){return["keyChanged"]});return function(r,o){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var i,r;if(t.activeServiceWorker=yield function Lae(){return jM.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Nae(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);!o||(null===(i=o[0])||void 0===i?void 0:i.fulfilled)&&(null===(r=o[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return g(function*(){if(i.sender&&i.activeServiceWorker&&function Vae(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield zM();return yield jP(t,fm,"1"),yield zP(t,fm),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return g(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(o=>jP(o,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return g(function*(){const r=yield i._withRetries(o=>function zae(n,e){return UM.apply(this,arguments)}(o,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(r=>zP(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const i=yield t._withRetries(s=>{const a=gm(s,!1).getAll();return new Ud(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],o=new Set;for(const{fbase_key:s,value:a}of i)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),r.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),r.push(s));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Sa(n,e){return e?Do(e):(F(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}wP("rcb"),new Od(3e4,6e4);class JM extends TP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Io(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ale(n){return NP(n.auth,new JM(n),n.bypassAuthState)}function lle(n){const{auth:e,user:t}=n;return F(t,e,"internal-error"),function OP(n,e){return lM.apply(this,arguments)}(t,new JM(n),n.bypassAuthState)}function cle(n){return ex.apply(this,arguments)}function ex(){return(ex=g(function*(n){const{auth:e,user:t}=n;return F(t,e,"internal-error"),oM(t,new JM(n),n.bypassAuthState)})).apply(this,arguments)}new Od(2e3,1e4);const $d=new Map;class hle extends class ule{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:i,sessionId:r,postBody:o,tenantId:s,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:i,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ale;case"linkViaPopup":case"linkViaRedirect":return cle;case"reauthViaPopup":case"reauthViaRedirect":return lle;default:ki(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let i=$d.get(t.auth._key());if(!i){try{const o=(yield function ple(n,e){return ox.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(o)}catch(r){i=()=>Promise.reject(r)}$d.set(t.auth._key(),i)}return t.bypassAuthState||$d.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function ox(){return(ox=g(function*(n,e){const t=$P(e),i=UP(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function fle(n,e){$d.set(n._key(),e)}function UP(n){return Do(n._redirectPersistence)}function $P(n){return am("pendingRedirect",n.config.apiKey,n.name)}function GP(n,e){return hx.apply(this,arguments)}function hx(){return(hx=g(function*(n,e,t=!1){const i=mn(n),r=Sa(i,e),s=yield new hle(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})).apply(this,arguments)}class vle{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function kle(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZP(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!ZP(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError($r(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(KP(e))}saveEventToCache(e){this.cachedEventUids.add(KP(e)),this.lastProcessedEventTime=Date.now()}}function KP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ZP({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function ble(n){return fx.apply(this,arguments)}function fx(){return(fx=g(function*(n,e={}){return Nt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const wle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mle=/^https?/;function mx(){return(mx=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield ble(n);for(const t of e)try{if(Cle(t))return}catch{}ki(n,"unauthorized-domain")})).apply(this,arguments)}function Cle(n){const e=Pd(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===i}if(!Mle.test(t))return!1;if(wle.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Ele=new Od(3e4,6e4);function YP(){const n=Qt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let _m=null;function Sle(n){return _m=_m||function Tle(n){return new Promise((e,t)=>{var i,r,o;function s(){YP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YP(),t($r(n,"network-request-failed"))},timeout:Ele.get()})}if(null!==(r=null===(i=Qt().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(o=Qt().gapi)||void 0===o||!o.load){const a=wP("iframefcb");return Qt()[a]=()=>{gapi.load?s():t($r(n,"network-request-failed"))},Ow(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}s()}}).catch(e=>{throw _m=null,e})}(n),_m}const Dle=new Od(5e3,15e3),Rle={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ple=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ole(n){const e=n.config;F(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_w(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,i={apiKey:e.apiKey,appName:n.name,v:us},r=Ple.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${R1(i).slice(1)}`}function gx(){return gx=g(function*(n){const e=yield Sle(n),t=Qt().gapi;return F(t,n,"internal-error"),e.open({where:document.body,url:Ole(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rle,dontclear:!0},i=>new Promise(function(){var r=g(function*(o,s){yield i.restyle({setHideOnLeave:!1});const a=$r(n,"network-request-failed"),l=Qt().setTimeout(()=>{s(a)},Dle.get());function c(){Qt().clearTimeout(l),o(i)}i.ping(c).then(c,()=>{s(a)})});return function(o,s){return r.apply(this,arguments)}}()))}),gx.apply(this,arguments)}const Fle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class QP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const $le=encodeURIComponent("fac");function XP(n,e,t,i,r,o){return yx.apply(this,arguments)}function yx(){return(yx=g(function*(n,e,t,i,r,o){F(n.config.authDomain,n,"auth-domain-config-required"),F(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:us,eventId:r};if(e instanceof ms){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",$ee(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof oae){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${$le}=${encodeURIComponent(l)}`:"";return`${Gle(n)}?${R1(a).slice(1)}${c}`})).apply(this,arguments)}function Gle({config:n}){return n.emulator?_w(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const _x="webStorageSupport",Kle=class Wle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VP,this._completeRedirectFn=GP,this._overrideRedirectResult=fle}_openPopup(e,t,i,r){var o=this;return g(function*(){var s;hs(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield XP(e,t,i,Pd(),r);return function jle(n,e,t,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Fle),{width:i.toString(),height:r.toString(),top:o,left:s}),c=pn().toLowerCase();t&&(a=dP(c)?"_blank":t),uP(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,f])=>`${h}${p}=${f},`,"");if(function Ase(n=pn()){var e;return lm(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function zle(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new QP(null);const d=window.open(e||"",a,u);F(d,n,"popup-blocked");try{d.focus()}catch{}return new QP(d)}(e,a,BM())})()}_openRedirect(e,t,i,r){var o=this;return g(function*(){return yield o._originValidation(e),function Fae(n){Qt().location.href=n}(yield XP(e,t,i,Pd(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(hs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return g(function*(){const i=yield function Nle(n){return gx.apply(this,arguments)}(e),r=new vle(e);return i.register("authEvent",o=>(F(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_x,{type:_x},r=>{var o;const s=null===(o=r?.[0])||void 0===o?void 0:o[_x];void 0!==s&&t(!!s),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function xle(n){return mx.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gP()||Aw()||lm()}};var t9="@firebase/auth";class Zle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Jle=t7("authIdTokenMaxAge")||300;let i9=null;const ece=n=>function(){var e=g(function*(t){const i=t&&(yield t.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Jle)return;const o=i?.token;i9!==o&&(i9=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function tce(n=N1()){const e=_a(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function jse(n,e){const t=_a(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(A1(t.getOptions(),e??{}))return r;ki(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Kle,persistence:[$ae,Rae,VP]}),i=t7("authTokenSyncURL");if(i){const o=ece(i);(function Mae(n,e,t){ut(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function wae(n,e,t,i){ut(n).onIdTokenChanged(e,t,i)}(t,s=>o(s))}const r=X8("auth");return r&&function qse(n,e,t){const i=mn(n);F(i._canInitEmulator,i,"emulator-config-failed"),F(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!t?.disableWarnings,o=CP(e),{host:s,port:a}=function Use(n){const e=CP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:EP(i.substr(o.length+1))}}{const[o,s]=i.split(":");return{host:o,port:EP(s)}}}(e);i.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function $se(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${r}`),t}function nce(n){return new Ue(function(e){var t=function xae(n,e,t,i){return ut(n).onAuthStateChanged(e,t,i)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function Qle(n){zn(new Cn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;F(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yP(n)},c=new Hse(i,r,o,l);return function zse(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Do);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),zn(new Cn("auth-internal",e=>{const t=mn(e.getProvider("auth").getImmediate());return new Zle(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(t9,"0.23.2",function Yle(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),dt(t9,"0.23.2","esm2017")}("Browser");class km{constructor(e){return e}}class kx{constructor(){return G1("auth")}}const bx=new P("angularfire2.auth-instances");function oce(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new km(i)}}const sce={provide:kx,deps:[[new vt,bx]]},ace={provide:km,useFactory:function rce(n,e){const t=$1("auth",n,e);return t&&new km(t)},deps:[[new vt,bx],Ca]};let lce=(()=>{class n{constructor(){dt("angularfire",Id.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({providers:[ace,sce]}),n})();function cce(n,...e){return{ngModule:lce,providers:[{provide:bx,useFactory:oce(n),multi:!0,deps:[oe,Rt,W1,K1,[new vt,nm],...e]}]}}const uce=zt(nce,!0),dce=zt(hae,!0),hce=zt(tce,!0),pce=zt(pae,!0),fce=zt(gae,!0);function W(...n){return We(n,Du(n))}let bm=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=uce(this.auth)}addUser(t){throw new Error("Method not implemented.")}updateUser(t){throw new Error("Method not implemented.")}signUp(t,i){return We(dce(this.auth,t,i))}login(t,i){return We(pce(this.auth,t,i))}updateProfileData(t){const i=this.auth.currentUser;return i?We(fce(i,t)):W()}logout(){return We(this.auth.signOut())}}return n.\u0275fac=function(t){return new(t||n)(x(km))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ji extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:mce}=Array,{getPrototypeOf:gce,prototype:yce,keys:_ce}=Object;function o9(n){if(1===n.length){const e=n[0];if(mce(e))return{args:e,keys:null};if(function vce(n){return n&&"object"==typeof n&&gce(n)===yce}(e)){const t=_ce(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:kce}=Array;function wx(n){return Q(e=>function bce(n,e){return kce(e)?n(...e):n(e)}(n,e))}function s9(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function _c(...n){const e=Du(n),t=_T(n),{args:i,keys:r}=o9(n);if(0===i.length)return We([],e);const o=new Ue(function wce(n,e,t=Zo){return i=>{a9(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)a9(e,()=>{const c=We(n[l],e);let u=!1;c.subscribe(new it(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>s9(r,s):Zo));return t?o.pipe(wx(t)):o}function a9(n,e,t){n?so(t,n,e):e()}function Gd(...n){return function Mce(){return _l(1)}()(We(n,Du(n)))}function wm(n){return new Ue(e=>{Yn(n()).subscribe(e)})}function vc(n,e){const t=Le(n)?n:()=>n,i=r=>r.error(t());return new Ue(e?r=>e.schedule(i,0,r):i)}const kc=Su(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Mx(){return Mt((n,e)=>{let t=null;n._refCount++;const i=new it(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class l9 extends Ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,rT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ct;const t=this.getSubject();e.add(this.source.subscribe(new it(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ct.EMPTY)}return e}refCount(){return Mx()(this)}}function qt(n,e){return Mt((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(new it(i,l=>{r?.unsubscribe();let c=0;const u=o++;Yn(n(l,u)).subscribe(r=new it(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function er(...n){const e=Du(n);return Mt((t,i)=>{(e?Gd(n,t,e):Gd(n,t)).subscribe(i)})}function Xt(n,e){return Mt((t,i)=>{let r=0;t.subscribe(new it(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Mm(n){return Mt((e,t)=>{let i=!1;e.subscribe(new it(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function c9(n=xce){return Mt((e,t)=>{let i=!1;e.subscribe(new it(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function xce(){return new kc}function gs(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Xt((r,o)=>n(r,o,i)):Zo,Bt(1),t?Mm(e):c9(()=>new kc))}function tr(n,e){return Le(e)?Vt(n,e,1):Vt(n,1)}function Ao(n){return Mt((e,t)=>{let o,i=null,r=!1;i=e.subscribe(new it(t,void 0,void 0,s=>{o=Yn(n(s,Ao(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Cce(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(new it(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function u9(n,e){return Mt(Cce(n,e,arguments.length>=2,!0))}function xx(n){return n<=0?()=>ar:Mt((e,t)=>{let i=[];e.subscribe(new it(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function d9(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Xt((r,o)=>n(r,o,i)):Zo,xx(1),t?Mm(e):c9(()=>new kc))}function h9(n){return Q(()=>n)}function xm(n){return Mt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Me="primary";class Tce{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function bc(n){return new Tce(n)}function Sce(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Wr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!p9(n[r],e[r]))return!1;return!0}function p9(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function f9(n){return Array.prototype.concat.apply([],n)}function m9(n){return n.length>0?n[n.length-1]:null}function Sn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ro(n){return E_(n)?n:od(n)?We(Promise.resolve(n)):W(n)}const Ace={exact:function _9(n,e,t){if(!Ia(n.segments,e.segments)||!Cm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!_9(n.children[i],e.children[i],t))return!1;return!0},subset:v9},g9={exact:function Rce(n,e){return Wr(n,e)},subset:function Pce(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>p9(n[t],e[t]))},ignored:()=>!0};function y9(n,e,t){return Ace[t.paths](n.root,e.root,t.matrixParams)&&g9[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function v9(n,e,t){return k9(n,e,e.segments,t)}function k9(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ia(r,t)||e.hasChildren()||!Cm(r,t,i))}if(n.segments.length===t.length){if(!Ia(n.segments,t)||!Cm(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!v9(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Ia(n.segments,r)&&Cm(n.segments,r,i)&&n.children[Me])&&k9(n.children[Me],e,o,i)}}function Cm(n,e,t){return e.every((i,r)=>g9[t](n[r].parameters,i.parameters))}class Da{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bc(this.queryParams)),this._queryParamMap}toString(){return Fce.serialize(this)}}class Ce{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Sn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Em(this)}}class Wd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=bc(this.parameters)),this._parameterMap}toString(){return C9(this)}}function Ia(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class b9{}class w9{parse(e){const t=new $ce(e);return new Da(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Kd(e.root,!0)}`,i=function Bce(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Tm(t)}=${Tm(r)}`).join("&"):`${Tm(t)}=${Tm(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Lce(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Fce=new w9;function Em(n){return n.segments.map(e=>C9(e)).join("/")}function Kd(n,e){if(!n.hasChildren())return Em(n);if(e){const t=n.children[Me]?Kd(n.children[Me],!1):"",i=[];return Sn(n.children,(r,o)=>{o!==Me&&i.push(`${o}:${Kd(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Nce(n,e){let t=[];return Sn(n.children,(i,r)=>{r===Me&&(t=t.concat(e(i,r)))}),Sn(n.children,(i,r)=>{r!==Me&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Me?[Kd(n.children[Me],!1)]:[`${r}:${Kd(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Me]?`${Em(n)}/${t[0]}`:`${Em(n)}/(${t.join("//")})`}}function M9(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tm(n){return M9(n).replace(/%3B/gi,";")}function Ex(n){return M9(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sm(n){return decodeURIComponent(n)}function x9(n){return Sm(n.replace(/\+/g,"%20"))}function C9(n){return`${Ex(n.path)}${function Vce(n){return Object.keys(n).map(e=>`;${Ex(e)}=${Ex(n[e])}`).join("")}(n.parameters)}`}const Hce=/^[^\/()?;=#]+/;function Dm(n){const e=n.match(Hce);return e?e[0]:""}const jce=/^[^=?&#]+/,qce=/^[^&#]+/;class $ce{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Me]=new Ce(e,t)),i}parseSegment(){const e=Dm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Wd(Sm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Dm(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Dm(this.remaining);r&&(i=r,this.capture(i))}e[Sm(t)]=Sm(i)}parseQueryParam(e){const t=function zce(n){const e=n.match(jce);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function Uce(n){const e=n.match(qce);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=x9(t),o=x9(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Dm(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new T(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Me);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Me]:new Ce([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function Tx(n){return n.segments.length>0?new Ce([],{[Me]:n}):n}function Im(n){const e={};for(const i of Object.keys(n.children)){const o=Im(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Gce(n){if(1===n.numberOfChildren&&n.children[Me]){const e=n.children[Me];return new Ce(n.segments.concat(e.segments),e.children)}return n}(new Ce(n.segments,e))}function Aa(n){return n instanceof Da}function Zce(n,e,t,i,r){if(0===t.length)return wc(e.root,e.root,e.root,i,r);const o=function S9(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new T9(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Sn(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new T9(t,e,i)}(t);return o.toRoot()?wc(e.root,e.root,new Ce([],{}),i,r):function s(l){const c=function Qce(n,e,t,i){if(n.isAbsolute)return new Mc(e.root,!0,0);if(-1===i)return new Mc(t,t===e.root,0);return function D9(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new T(4005,!1);r=i.segments.length}return new Mc(i,!1,r-o)}(t,i+(Zd(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,l),u=c.processChildren?Qd(c.segmentGroup,c.index,o.commands):Dx(c.segmentGroup,c.index,o.commands);return wc(e.root,c.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function Zd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yd(n){return"object"==typeof n&&null!=n&&n.outlets}function wc(n,e,t,i,r){let s,o={};i&&Sn(i,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:E9(n,e,t);const a=Tx(Im(s));return new Da(a,o,r)}function E9(n,e,t){const i={};return Sn(n.children,(r,o)=>{i[o]=r===e?t:E9(r,e,t)}),new Ce(n.segments,i)}class T9{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Zd(i[0]))throw new T(4003,!1);const r=i.find(Yd);if(r&&r!==m9(i))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Dx(n,e,t){if(n||(n=new Ce([],{})),0===n.segments.length&&n.hasChildren())return Qd(n,e,t);const i=function Jce(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(Yd(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!A9(l,c,s))return o;i+=2}else{if(!A9(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Ce(n.segments.slice(0,i.pathIndex),{});return o.children[Me]=new Ce(n.segments.slice(i.pathIndex),n.children),Qd(o,0,r)}return i.match&&0===r.length?new Ce(n.segments,{}):i.match&&!n.hasChildren()?Ix(n,e,t):i.match?Qd(n,0,r):Ix(n,e,t)}function Qd(n,e,t){if(0===t.length)return new Ce(n.segments,{});{const i=function Xce(n){return Yd(n[0])?n[0].outlets:{[Me]:n}}(t),r={};return Sn(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=Dx(n.children[s],e,o))}),Sn(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new Ce(n.segments,r)}}function Ix(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Yd(o)){const l=eue(o.outlets);return new Ce(i,l)}if(0===r&&Zd(t[0])){i.push(new Wd(n.segments[e].path,I9(t[0]))),r++;continue}const s=Yd(o)?o.outlets[Me]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&Zd(a)?(i.push(new Wd(s,I9(a))),r+=2):(i.push(new Wd(s,{})),r++)}return new Ce(i,{})}function eue(n){const e={};return Sn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Ix(new Ce([],{}),0,t))}),e}function I9(n){const e={};return Sn(n,(t,i)=>e[i]=`${t}`),e}function A9(n,e,t){return n==t.path&&Wr(e,t.parameters)}class Po{constructor(e,t){this.id=e,this.url=t}}class Ax extends Po{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ra extends Po{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Am extends Po{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class R9 extends Po{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tue extends Po{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nue extends Po{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iue extends Po{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rue extends Po{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oue extends Po{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sue{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aue{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lue{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cue{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uue{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class due{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P9{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class O9{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Rx(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Rx(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Px(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Px(e,this._root).map(t=>t.value)}}function Rx(n,e){if(n===e.value)return e;for(const t of e.children){const i=Rx(n,t);if(i)return i}return null}function Px(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Px(n,t);if(i.length)return i.unshift(e),i}return[]}class Oo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class N9 extends O9{constructor(e,t){super(e),this.snapshot=t,Ox(this,e)}toString(){return this.snapshot.toString()}}function F9(n,e){const t=function pue(n,e){const s=new Rm([],{},{},"",{},Me,e,null,n.root,-1,{});return new V9("",new Oo(s,[]))}(n,e),i=new Ji([new Wd("",{})]),r=new Ji({}),o=new Ji({}),s=new Ji({}),a=new Ji(""),l=new Cc(i,r,s,a,o,Me,e,t.root);return l.snapshot=t.root,new N9(new Oo(l,[]),t)}class Cc{constructor(e,t,i,r,o,s,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Q(e=>bc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Q(e=>bc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function L9(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function fue(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Rm{constructor(e,t,i,r,o,s,a,l,c,u,d,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class V9 extends O9{constructor(e,t){super(t),this.url=e,Ox(this,t)}toString(){return B9(this._root)}}function Ox(n,e){e.value._routerState=n,e.children.forEach(t=>Ox(n,t))}function B9(n){const e=n.children.length>0?` { ${n.children.map(B9).join(", ")} } `:"";return`${n.value}${e}`}function Nx(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Wr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Wr(e.params,t.params)||n.params.next(t.params),function Dce(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Wr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Wr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Fx(n,e){const t=Wr(n.params,e.params)&&function Oce(n,e){return Ia(n,e)&&n.every((t,i)=>Wr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Fx(n.parent,e.parent))}function Xd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function gue(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Xd(n,i,r);return Xd(n,i)})}(n,e,t);return new Oo(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Xd(n,a)),s}}const i=function yue(n){return new Cc(new Ji(n.url),new Ji(n.params),new Ji(n.queryParams),new Ji(n.fragment),new Ji(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Xd(n,o));return new Oo(i,r)}}const Lx="ngNavigationCancelingError";function H9(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Aa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=j9(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function j9(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Lx]=!0,i.cancellationCode=e,t&&(i.url=t),i}function z9(n){return q9(n)&&Aa(n.url)}function q9(n){return n&&n[Lx]}class _ue{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Jd,this.attachRef=null}}class Jd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new _ue,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}const Pm=!1;let Vx=(()=>{class n{constructor(t,i,r,o,s){this.parentContexts=t,this.location=i,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new we,this.deactivateEvents=new we,this.attachEvents=new we,this.detachEvents=new we,this.name=r||Me,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,Pm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,Pm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,Pm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new T(4013,Pm);this._activatedRoute=t;const r=this.location,s=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new vue(t,a,r.injector);if(i&&function kue(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(s);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(_(Jd),_(yi),es("name"),_(xn),_(ts))},n.\u0275dir=$({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class vue{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Cc?this.route:e===Jd?this.childContexts:this.parent.get(e,t)}}let U9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ve({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&le(0,"router-outlet")},dependencies:[Vx],encapsulation:2}),n})();function $9(n,e){return n.providers&&!n._injector&&(n._injector=Zf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Hx(n){const e=n.children&&n.children.map(Hx),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Me&&(t.component=U9),t}function nr(n){return n.outlet||Me}function G9(n,e){const t=n.filter(i=>nr(i)===e);return t.push(...n.filter(i=>nr(i)!==e)),t}function W9(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Cue{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Nx(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=xc(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Sn(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=xc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=xc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=xc(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new due(o.value.snapshot))}),e.children.length&&this.forwardEvent(new cue(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(Nx(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Nx(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=W9(r.snapshot),l=a?.get(ra)??null;s.attachRef=null,s.route=r,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class K9{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Om{constructor(e,t){this.component=e,this.route=t}}function Eue(n,e,t){const i=n._root;return eh(i,e?e._root:null,t,[i.value])}function Nm(n,e,t){return(W9(e)??t).get(n)}function eh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=xc(e);return n.children.forEach(s=>{(function Sue(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Due(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ia(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ia(n.url,e.url)||!Wr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fx(n,e)||!Wr(n.queryParams,e.queryParams);default:return!Fx(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new K9(i)):(o.data=s.data,o._resolvedData=s._resolvedData),eh(n,e,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Om(a.outlet.component,s))}else s&&th(e,a,r),r.canActivateChecks.push(new K9(i)),eh(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Sn(o,(s,a)=>th(s,t.getContext(a),r)),r}function th(n,e,t){const i=xc(n),r=n.value;Sn(i,(o,s)=>{th(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Om(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function nh(n){return"function"==typeof n}const Fm=Symbol("INITIAL_VALUE");function Ec(){return qt(n=>_c(n.map(e=>e.pipe(Bt(1),er(Fm)))).pipe(Q(e=>{for(const t of e)if(!0!==t){if(t===Fm)return Fm;if(!1===t||t instanceof Da)return t}return!0}),Xt(e=>e!==Fm),Bt(1)))}function Z9(n){return function Dq(...n){return tT(n)}(ht(e=>{if(Aa(e))throw H9(0,e)}),Q(e=>!0===e))}const jx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Y9(n,e,t,i,r){const o=zx(n,e,t);return o.matched?function Gue(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?W(r.map(s=>{const a=n.get(s),l=function Nue(n){return n&&nh(n.canMatch)}(a)?a.canMatch(e,t):a(e,t);return Ro(l)})).pipe(Ec(),Z9()):W(!0)}(i=$9(e,i),e,t).pipe(Q(s=>!0===s?o:{...jx})):W(o)}function zx(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...jx}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Sce)(t,n,e);if(!r)return{...jx};const o={};Sn(r.posParams,(a,l)=>{o[l]=a.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Lm(n,e,t,i,r="corrected"){if(t.length>0&&function Zue(n,e,t){return t.some(i=>Vm(n,e,i)&&nr(i)!==Me)}(n,t,i)){const s=new Ce(e,function Kue(n,e,t,i){const r={};r[Me]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&nr(o)!==Me){const s=new Ce([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,r[nr(o)]=s}return r}(n,e,i,new Ce(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function Yue(n,e,t){return t.some(i=>Vm(n,e,i))}(n,t,i)){const s=new Ce(n.segments,function Wue(n,e,t,i,r,o){const s={};for(const a of i)if(Vm(n,t,a)&&!r[nr(a)]){const l=new Ce([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[nr(a)]=l}return{...r,...s}}(n,e,t,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new Ce(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Vm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Q9(n,e,t,i){return!!(nr(n)===i||i!==Me&&Vm(e,t,n))&&("**"===n.path||zx(e,n,t).matched)}function X9(n,e,t){return 0===e.length&&!n.children[t]}const Bm=!1;class Hm{constructor(e){this.segmentGroup=e||null}}class J9{constructor(e){this.urlTree=e}}function ih(n){return vc(new Hm(n))}function eO(n){return vc(new J9(n))}class ede{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=Lm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ce(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Me).pipe(Q(o=>this.createUrlTree(Im(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ao(o=>{if(o instanceof J9)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Hm?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Me).pipe(Q(r=>this.createUrlTree(Im(r),e.queryParams,e.fragment))).pipe(Ao(r=>{throw r instanceof Hm?this.noMatchError(r):r}))}noMatchError(e){return new T(4002,Bm)}createUrlTree(e,t,i){const r=Tx(e);return new Da(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(Q(o=>new Ce([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return We(r).pipe(tr(o=>{const s=i.children[o],a=G9(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(Q(l=>({segment:l,outlet:o})))}),u9((o,s)=>(o[s.outlet]=s.segment,o),{}),d9())}expandSegment(e,t,i,r,o,s){return We(i).pipe(tr(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,o,s).pipe(Ao(c=>{if(c instanceof Hm)return W(null);throw c}))),gs(a=>!!a),Ao((a,l)=>{if(a instanceof kc||"EmptyError"===a.name)return X9(t,r,o)?W(new Ce([],{})):ih(t);throw a}))}expandSegmentAgainstRoute(e,t,i,r,o,s,a){return Q9(r,t,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s):ih(t):ih(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?eO(o):this.lineralizeSegments(i,o).pipe(Vt(s=>{const a=new Ce(s,{});return this.expandSegment(e,a,t,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=zx(t,r,o);if(!a)return ih(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?eO(d):this.lineralizeSegments(r,d).pipe(Vt(h=>this.expandSegment(e,t,i,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=$9(i,e),i.loadChildren?(i._loadedRoutes?W({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(Q(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new Ce(r,{})))):W(new Ce(r,{}))):Y9(t,i,r,e).pipe(qt(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(e=i._injector??e,i,r).pipe(Vt(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:p,slicedSegments:f}=Lm(t,a,l,h),m=new Ce(p.segments,p.children);if(0===f.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(Q(v=>new Ce(a,v)));if(0===h.length&&0===f.length)return W(new Ce(a,{}));const y=nr(i)===o;return this.expandSegment(d,m,h,f,y?Me:o,!0).pipe(Q(w=>new Ce(a.concat(w.segments),w.children)))})):ih(t)))}getChildConfig(e,t,i){return t.children?W({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function $ue(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?W(!0):W(r.map(s=>{const a=n.get(s),l=function Aue(n){return n&&nh(n.canLoad)}(a)?a.canLoad(e,t):a(e,t);return Ro(l)})).pipe(Ec(),Z9())}(e,t,i).pipe(Vt(r=>r?this.configLoader.loadChildren(e,t).pipe(ht(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Xue(n){return vc(j9(Bm,3))}())):W({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return W(i);if(r.numberOfChildren>1||!r.children[Me])return vc(new T(4e3,Bm));r=r.children[Me]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Da(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Sn(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=t[a]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Sn(t.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,i,r)}),new Ce(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new T(4001,Bm);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class nde{}class ode{constructor(e,t,i,r,o,s,a,l){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const e=Lm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Me).pipe(Q(t=>{if(null===t)return null;const i=new Rm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Me,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Oo(i,t),o=new V9(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=L9(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return We(Object.keys(i.children)).pipe(tr(r=>{const o=i.children[r],s=G9(t,r);return this.processSegmentGroup(e,s,o,r)}),u9((r,o)=>r&&o?(r.push(...o),r):null),function Ece(n,e=!1){return Mt((t,i)=>{let r=0;t.subscribe(new it(i,o=>{const s=n(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}(r=>null!==r),Mm(null),d9(),Q(r=>{if(null===r)return null;const o=tO(r);return function sde(n){n.sort((e,t)=>e.value.outlet===Me?-1:t.value.outlet===Me?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return We(t).pipe(tr(s=>this.processSegmentAgainstRoute(s._injector??e,s,i,r,o)),gs(s=>!!s),Ao(s=>{if(s instanceof kc)return X9(i,r,o)?W([]):W(null);throw s}))}processSegmentAgainstRoute(e,t,i,r,o){if(t.redirectTo||!Q9(t,i,r,o))return W(null);let s;if("**"===t.path){const a=r.length>0?m9(r).parameters:{},l=iO(i)+r.length;s=W({snapshot:new Rm(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oO(t),nr(t),t.component??t._loadedComponent??null,t,nO(i),l,sO(t),l),consumedSegments:[],remainingSegments:[]})}else s=Y9(i,t,r,e).pipe(Q(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=iO(i)+l.length;return{snapshot:new Rm(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oO(t),nr(t),t.component??t._loadedComponent??null,t,nO(i),d,sO(t),d),consumedSegments:l,remainingSegments:c}}));return s.pipe(qt(a=>{if(null===a)return W(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function ade(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:p,slicedSegments:f}=Lm(i,c,u,h.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);if(0===f.length&&p.hasChildren())return this.processChildren(d,h,p).pipe(Q(y=>null===y?null:[new Oo(l,y)]));if(0===h.length&&0===f.length)return W([new Oo(l,[])]);const m=nr(t)===o;return this.processSegment(d,h,p,f,m?Me:o).pipe(Q(y=>null===y?null:[new Oo(l,y)]))}))}}function lde(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function tO(n){const e=[],t=new Set;for(const i of n){if(!lde(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=tO(i.children);e.push(new Oo(i.value,r))}return e.filter(i=>!t.has(i))}function nO(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function iO(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function oO(n){return n.data||{}}function sO(n){return n.resolve||{}}const qx=Symbol("RouteTitle");function aO(n){return"string"==typeof n.title||null===n.title}function Ux(n){return qt(e=>{const t=n(e);return t?We(t).pipe(Q(()=>e)):W(e)})}let lO=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Me);return i}getResolvedTitleForRoute(t){return t.data[qx]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return ot(cO)},providedIn:"root"}),n})(),cO=(()=>{class n extends lO{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(x($8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gde{}class _de extends class yde{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const $x=new P("",{providedIn:"root",factory:()=>({})}),Gx=new P("ROUTES");let Wx=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Ro(t.loadComponent()).pipe(ht(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),xm(()=>{this.componentLoaders.delete(t)})),r=new l9(i,()=>new ke).pipe(Mx());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return W({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Q(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=f9(l.get(Gx,[],ee.Self|ee.Optional)));return{routes:c.map(Hx),injector:l}}),xm(()=>{this.childrenLoaders.delete(i)})),s=new l9(o,()=>new ke).pipe(Mx());return this.childrenLoaders.set(i,s),s}loadModuleFactoryOrRoutes(t){return Ro(t()).pipe(Vt(i=>i instanceof GA||Array.isArray(i)?W(i):We(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(x(Rt),x(Y_))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class kde{}class bde{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function wde(n){throw n}function Mde(n,e,t){return e.parse("/")}const xde={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cde={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function dO(){const n=ot(b9),e=ot(Jd),t=ot(c1),i=ot(Rt),r=ot(Y_),o=ot(Gx,{optional:!0})??[],s=ot($x,{optional:!0})??{},a=ot(cO),l=ot(lO,{optional:!0}),c=ot(kde,{optional:!0}),u=ot(gde,{optional:!0}),d=new gn(null,n,e,t,i,r,f9(o));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function Ede(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d}let gn=(()=>{class n{constructor(t,i,r,o,s,a,l){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ke,this.errorHandler=wde,this.malformedUriErrorHandler=Mde,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>W(void 0),this.urlHandlingStrategy=new bde,this.routeReuseStrategy=new _de,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Wx),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new aue(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new sue(h)),this.ngModule=s.get(ca),this.console=s.get(HQ);const d=s.get(oe);this.isNgZoneEnabled=d instanceof oe&&oe.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function Ice(){return new Da(new Ce([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=F9(this.currentUrlTree,this.rootComponentType),this.transitions=new Ji({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Xt(r=>0!==r.id),Q(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),qt(r=>{let o=!1,s=!1;return W(r).pipe(ht(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qt(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return hO(a.source)&&(this.browserUrlTree=a.extractedUrl),W(a).pipe(qt(d=>{const h=this.transitions.getValue();return i.next(new Ax(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?ar:Promise.resolve(d)}),function tde(n,e,t,i){return qt(r=>function Jue(n,e,t,i,r){return new ede(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(Q(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ht(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function ude(n,e,t,i,r,o){return Vt(s=>function rde(n,e,t,i,r,o,s="emptyOnly",a="legacy"){return new ode(n,e,t,i,r,s,a,o).recognize().pipe(qt(l=>null===l?function ide(n){return new Ue(e=>e.error(n))}(new nde):W(l)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r,o).pipe(Q(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),ht(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const p=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(p,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new tue(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:p,source:f,restoredState:m,extras:y}=a,k=new Ax(h,this.serializeUrl(p),f,m);i.next(k);const w=F9(p,this.rootComponentType).snapshot;return W(r={...a,targetSnapshot:w,urlAfterRedirects:p,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),ar}),ht(a=>{const l=new nue(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Q(a=>r={...a,guards:Eue(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function Lue(n,e){return Vt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?W({...t,guardsResult:!0}):function Vue(n,e,t,i){return We(n).pipe(Vt(r=>function Uue(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?W(o.map(a=>{const l=Nm(a,e,r);return Ro(function Oue(n){return n&&nh(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):l(n,e,t,i)).pipe(gs())})).pipe(Ec()):W(!0)}(r.component,r.route,t,e,i)),gs(r=>!0!==r,!0))}(s,i,r,n).pipe(Vt(a=>a&&function Iue(n){return"boolean"==typeof n}(a)?function Bue(n,e,t,i){return We(e).pipe(tr(r=>Gd(function jue(n,e){return null!==n&&e&&e(new lue(n)),W(!0)}(r.route.parent,i),function Hue(n,e){return null!==n&&e&&e(new uue(n)),W(!0)}(r.route,i),function que(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Tue(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>wm(()=>W(s.guards.map(l=>{const c=Nm(l,s.node,t);return Ro(function Pue(n){return n&&nh(n.canActivateChild)}(c)?c.canActivateChild(i,n):c(i,n)).pipe(gs())})).pipe(Ec())));return W(o).pipe(Ec())}(n,r.path,t),function zue(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return W(!0);const r=i.map(o=>wm(()=>{const s=Nm(o,e,t);return Ro(function Rue(n){return n&&nh(n.canActivate)}(s)?s.canActivate(e,n):s(e,n)).pipe(gs())}));return W(r).pipe(Ec())}(n,r.route,t))),gs(r=>!0!==r,!0))}(i,o,n,e):W(a)),Q(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ht(a=>{if(r.guardsResult=a.guardsResult,Aa(a.guardsResult))throw H9(0,a.guardsResult);const l=new iue(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Xt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Ux(a=>{if(a.guards.canActivateChecks.length)return W(a).pipe(ht(l=>{const c=new rue(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),qt(l=>{let c=!1;return W(l).pipe(function dde(n,e){return Vt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return W(t);let o=0;return We(r).pipe(tr(s=>function hde(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!aO(r)&&(o[qx]=r.title),function pde(n,e,t,i){const r=function fde(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return W({});const o={};return We(r).pipe(Vt(s=>function mde(n,e,t,i){const r=Nm(n,e,i);return Ro(r.resolve?r.resolve(e,t):r(e,t))}(n[s],e,t,i).pipe(gs(),ht(a=>{o[s]=a}))),xx(1),h9(o),Ao(s=>s instanceof kc?ar:vc(s)))}(o,n,e,i).pipe(Q(s=>(n._resolvedData=s,n.data=L9(n,t).resolve,r&&aO(r)&&(n.data[qx]=r.title),null)))}(s.route,i,n,e)),ht(()=>o++),xx(1),Vt(s=>o===r.length?W(t):ar))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ht({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),ht(l=>{const c=new oue(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Ux(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(ht(d=>{c.component=d}),Q(()=>{})));for(const d of c.children)u.push(...l(d));return u};return _c(l(a.targetSnapshot.root)).pipe(Mm(),Bt(1))}),Ux(()=>this.afterPreactivation()),Q(a=>{const l=function mue(n,e,t){const i=Xd(n,e._root,t?t._root:void 0);return new N9(i,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:l}}),ht(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>Q(i=>(new Cue(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ht({next(){o=!0},complete(){o=!0}}),xm(()=>{o||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ao(a=>{if(s=!0,q9(a)){z9(a)||(this.navigated=!0,this.restoreHistory(r,!0));const l=new Am(r.id,this.serializeUrl(r.extractedUrl),a.message,a.cancellationCode);if(i.next(l),z9(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hO(r.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new R9(r.id,this.serializeUrl(r.extractedUrl),a,r.targetSnapshot??void 0);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return ar}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(r.state=a)}const s=this.parseUrl(t.url);this.scheduleNavigation(s,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Hx),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),Zce(c,this.currentUrlTree,t,d,u??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Aa(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function Tde(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new T(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...xde}:!1===i?{...Cde}:i,Aa(t))return y9(this.currentUrlTree,t,r);const o=this.parseUrl(t);return y9(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ra(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,p)=>{a=h,l=p});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),d=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const o=new Am(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){Af()},n.\u0275prov=V({token:n,factory:function(){return dO()},providedIn:"root"}),n})();function hO(n){return"imperative"!==n}let qm=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.commands=null,this.onChanges=new ke,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:ko(this.skipLocationChange),replaceUrl:ko(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ko(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(_(gn),_(Cc),es("tabindex"),_(pr),_(De))},n.\u0275dir=$({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&Ee("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Mn]}),n})(),rh=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new ke,this.subscription=t.events.subscribe(o=>{o instanceof Ra&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,o,s){if(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:ko(this.skipLocationChange),replaceUrl:ko(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ko(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(_(gn),_(Cc),_(pa))},n.\u0275dir=$({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&Ee("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&Ye("target",i.target)("href",i.href,k0)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Mn]}),n})();class pO{}let fO=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Xt(t=>t instanceof Ra),tr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Zf(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return We(r).pipe(_l())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):W(null);const o=r.pipe(Vt(s=>null===s?W(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?We([o,this.loader.loadComponent(i)]).pipe(_l()):o})}}return n.\u0275fac=function(t){return new(t||n)(x(gn),x(Y_),x(ts),x(pO),x(Wx))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const mO=new P("");let Ide=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ax?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ra&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof P9&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new P9(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Af()},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const gO=new P("ROUTER_FORROOT_GUARD"),yO=new P(""),Ade=[c1,{provide:b9,useClass:w9},{provide:gn,useFactory:dO},Jd,{provide:Cc,useFactory:function Rde(n){return n.routerState.root},deps:[gn]},Wx];function Pde(){return new j6("Router",gn)}let _O=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[Ade,[],vO(t),{provide:gO,useFactory:Lde,deps:[[gn,new vt,new Nl]]},{provide:$x,useValue:i||{}},i?.useHash?{provide:pa,useClass:DX}:{provide:pa,useClass:d8},{provide:mO,useFactory:()=>{const n=ot(gn),e=ot(GJ),t=ot($x);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ide(n,e,t)}},i?.preloadingStrategy?Ude(i.preloadingStrategy):[],{provide:j6,multi:!0,useFactory:Pde},i?.initialNavigation?Bde(i):[],[{provide:kO,useFactory:Vde},{provide:O6,multi:!0,useExisting:kO}]]}}static forChild(t){return{ngModule:n,providers:[vO(t)]}}}return n.\u0275fac=function(t){return new(t||n)(x(gO,8))},n.\u0275mod=ge({type:n}),n.\u0275inj=me({}),n})();function Lde(n){return"guarded"}function vO(n){return[{provide:Gx,multi:!0,useValue:n}]}function Vde(){const n=ot(Rt);return e=>{const t=n.get(da);if(e!==t.components[0])return;const i=n.get(gn),r=n.get(bO);1===n.get(Kx)&&i.initialNavigation(),n.get(yO,null,ee.Optional)?.setUpPreloading(),n.get(mO,null,ee.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const kO=new P("");function Bde(n){return["disabled"===n.initialNavigation?[{provide:e1,multi:!0,useFactory:()=>{const n=ot(gn);return()=>{n.setUpLocationChangeListener()}}},{provide:Kx,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:Kx,useValue:0},{provide:e1,multi:!0,deps:[Rt],useFactory:n=>{const e=n.get(TX,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(r=>{const o=n.get(gn),s=n.get(bO);(function i(r){n.get(gn).events.pipe(Xt(s=>s instanceof Ra||s instanceof Am||s instanceof R9),Q(s=>s instanceof Ra||s instanceof Am&&(0===s.code||1===s.code)&&null),Xt(s=>null!==s),Bt(1)).subscribe(()=>{r()})})(()=>{r(!0),t=!0}),o.afterPreactivation=()=>(r(!0),t||s.closed?W(void 0):s),o.initialNavigation()}))}}]:[]]}const bO=new P("",{factory:()=>new ke}),Kx=new P("",{providedIn:"root",factory:()=>1});function Ude(n){return[fO,{provide:yO,useExisting:fO},{provide:pO,useExisting:n}]}var j,$de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xr={},Zx=Zx||{},ue=$de||self;function Um(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function oh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Yx="closure_uid_"+(1e9*Math.random()>>>0),Wde=0;function Kde(n,e,t){return n.call.apply(n.bind,arguments)}function Zde(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function qn(n,e,t){return(qn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kde:Zde).apply(null,arguments)}function $m(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function yn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function _s(){this.s=this.s,this.o=this.o}_s.prototype.s=!1,_s.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Gde(n){Object.prototype.hasOwnProperty.call(n,Yx)&&n[Yx]||(n[Yx]=++Wde)}(this)},_s.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Qx(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function MO(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Um(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function Un(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Un.prototype.h=function(){this.defaultPrevented=!0};var Qde=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ue.addEventListener("test",()=>{},e),ue.removeEventListener("test",()=>{},e)}catch{}return n}();function sh(n){return/^[\s\xa0]*$/.test(n)}function Gm(){var n=ue.navigator;return n&&(n=n.userAgent)?n:""}function Kr(n){return-1!=Gm().indexOf(n)}function Xx(n){return Xx[" "](n),n}Xx[" "]=function(){};var eC,n,Jde=Kr("Opera"),Tc=Kr("Trident")||Kr("MSIE"),xO=Kr("Edge"),Jx=xO||Tc,CO=Kr("Gecko")&&!(-1!=Gm().toLowerCase().indexOf("webkit")&&!Kr("Edge"))&&!(Kr("Trident")||Kr("MSIE"))&&!Kr("Edge"),ehe=-1!=Gm().toLowerCase().indexOf("webkit")&&!Kr("Edge");function EO(){var n=ue.document;return n?n.documentMode:void 0}e:{var tC="",nC=(n=Gm(),CO?/rv:([^\);]+)(\)|;)/.exec(n):xO?/Edge\/([\d\.]+)/.exec(n):Tc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ehe?/WebKit\/(\S+)/.exec(n):Jde?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(nC&&(tC=nC?nC[1]:""),Tc){var iC=EO();if(null!=iC&&iC>parseFloat(tC)){eC=String(iC);break e}}eC=tC}var the=ue.document&&Tc&&(EO()||parseInt(eC,10))||void 0;function ah(n,e){if(Un.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(CO){e:{try{Xx(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:nhe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ah.$.h.call(this)}}yn(ah,Un);var nhe={2:"touch",3:"pen",4:"mouse"};ah.prototype.h=function(){ah.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var lh="closure_listenable_"+(1e6*Math.random()|0),ihe=0;function rhe(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++ihe,this.fa=this.ia=!1}function Wm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function oC(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function SO(n){const e={};for(const t in n)e[t]=n[t];return e}const DO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IO(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<DO.length;o++)t=DO[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Km(n){this.src=n,this.g={},this.h=0}function sC(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=wO(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Wm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function aC(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}Km.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=aC(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new rhe(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var lC="closure_lm_"+(1e6*Math.random()|0),cC={};function AO(n,e,t,i,r){if(i&&i.once)return PO(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)AO(n,e[o],t,i,r);return null}return t=pC(t),n&&n[lh]?n.O(e,t,oh(i)?!!i.capture:!!i,r):RO(n,e,t,!1,i,r)}function RO(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=oh(r)?!!r.capture:!!r,a=dC(n);if(a||(n[lC]=a=new Km(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function she(){const e=ahe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Qde||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(NO(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function PO(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)PO(n,e[o],t,i,r);return null}return t=pC(t),n&&n[lh]?n.P(e,t,oh(i)?!!i.capture:!!i,r):RO(n,e,t,!0,i,r)}function OO(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)OO(n,e[o],t,i,r);else i=oh(i)?!!i.capture:!!i,t=pC(t),n&&n[lh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=aC(o=n.g[e],t,i,r))&&(Wm(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=dC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=aC(e,t,i,r)),(t=-1<n?e[n]:null)&&uC(t))}function uC(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[lh])sC(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(NO(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=dC(e))?(sC(t,n),0==t.h&&(t.src=null,e[lC]=null)):Wm(n)}}}function NO(n){return n in cC?cC[n]:cC[n]="on"+n}function ahe(n,e){if(n.fa)n=!0;else{e=new ah(e,this);var t=n.listener,i=n.la||n.src;n.ia&&uC(n),n=t.call(i,e)}return n}function dC(n){return(n=n[lC])instanceof Km?n:null}var hC="__closure_events_fn_"+(1e9*Math.random()>>>0);function pC(n){return"function"==typeof n?n:(n[hC]||(n[hC]=function(e){return n.handleEvent(e)}),n[hC])}function _n(){_s.call(this),this.i=new Km(this),this.S=this,this.J=null}function Dn(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Un(e,n);else if(e instanceof Un)e.target=e.target||n;else{var r=e;IO(e=new Un(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=Zm(s,i,!0,e)&&r}if(r=Zm(s=e.g=n,i,!0,e)&&r,r=Zm(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Zm(s=e.g=t[o],i,!1,e)&&r}function Zm(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&sC(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}yn(_n,_s),_n.prototype[lh]=!0,_n.prototype.removeEventListener=function(n,e,t,i){OO(this,n,e,t,i)},_n.prototype.N=function(){if(_n.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Wm(t[i]);delete n.g[e],n.h--}}this.J=null},_n.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},_n.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var fC=ue.JSON.stringify;function che(){var n=mC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var FO=new class lhe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new dhe,n=>n.reset());class dhe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function hhe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function phe(n){ue.setTimeout(()=>{throw n},0)}let ch,uh=!1,mC=new class uhe{constructor(){this.h=this.g=null}add(e,t){const i=FO.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},LO=()=>{const n=ue.Promise.resolve(void 0);ch=()=>{n.then(fhe)}};var fhe=()=>{for(var n;n=che();){try{n.h.call(n.g)}catch(t){phe(t)}var e=FO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}uh=!1};function Ym(n,e){_n.call(this),this.h=n||1,this.g=e||ue,this.j=qn(this.qb,this),this.l=Date.now()}function gC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function yC(n,e,t){if("function"==typeof n)t&&(n=qn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=qn(n.handleEvent,n)}return 2147483647<Number(e)?-1:ue.setTimeout(n,e||0)}function VO(n){n.g=yC(()=>{n.g=null,n.i&&(n.i=!1,VO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}yn(Ym,_n),(j=Ym.prototype).ga=!1,j.T=null,j.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dn(this,"tick"),this.ga&&(gC(this),this.start()))}},j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},j.N=function(){Ym.$.N.call(this),gC(this),delete this.g};class mhe extends _s{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:VO(this)}N(){super.N(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dh(n){_s.call(this),this.h=n,this.g={}}yn(dh,_s);var BO=[];function HO(n,e,t,i){Array.isArray(t)||(t&&(BO[0]=t.toString()),t=BO);for(var r=0;r<t.length;r++){var o=AO(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function jO(n){oC(n.g,function(e,t){this.g.hasOwnProperty(t)&&uC(e)},n),n.g={}}function Qm(){this.g=!0}function Sc(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vhe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return fC(t)}catch{return e}}(n,t)+(i?" "+i:"")})}dh.prototype.N=function(){dh.$.N.call(this),jO(this)},dh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qm.prototype.Ea=function(){this.g=!1},Qm.prototype.info=function(){};var Pa={},zO=null;function Xm(){return zO=zO||new _n}function qO(n){Un.call(this,Pa.Ta,n)}function hh(n){const e=Xm();Dn(e,new qO(e))}function UO(n,e){Un.call(this,Pa.STAT_EVENT,n),this.stat=e}function oi(n){const e=Xm();Dn(e,new UO(e,n))}function $O(n,e){Un.call(this,Pa.Ua,n),this.size=e}function ph(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){n()},e)}Pa.Ta="serverreachability",yn(qO,Un),Pa.STAT_EVENT="statevent",yn(UO,Un),Pa.Ua="timingevent",yn($O,Un);var Jm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},GO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _C(){}function KO(){}_C.prototype.h=null;var bC,fh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vC(){Un.call(this,"d")}function kC(){Un.call(this,"c")}function eg(){}function mh(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new dh(this),this.P=khe,this.V=new Ym(n=Jx?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ZO}function ZO(){this.i=null,this.g="",this.h=!1}yn(vC,Un),yn(kC,Un),yn(eg,_C),eg.prototype.g=function(){return new XMLHttpRequest},eg.prototype.i=function(){return{}},bC=new eg;var khe=45e3,wC={},tg={};function MC(n,e,t){n.L=1,n.v=og(No(e)),n.s=t,n.S=!0,YO(n,null)}function YO(n,e){n.G=Date.now(),gh(n),n.A=No(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),sN(t.i,"t",i),n.C=0,t=n.l.J,n.h=new ZO,n.g=IN(n.l,t?e:null,!n.s),0<n.O&&(n.M=new mhe(qn(n.Pa,n,n.g),n.O)),HO(n.U,n.g,"readystatechange",n.nb),e=n.I?SO(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),hh(),function ghe(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function QO(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function XO(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=bhe(n,t),r==tg){4==e&&(n.o=4,oi(14),i=!1),Sc(n.j,n.m,null,"[Incomplete Response]");break}if(r==wC){n.o=4,oi(15),Sc(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Sc(n.j,n.m,r,null),xC(n,r)}QO(n)&&r!=tg&&r!=wC&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,oi(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),AC(e),e.M=!0,oi(11))):(Sc(n.j,n.m,t,"[Invalid Chunked Response]"),Oa(n),yh(n))}function bhe(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?tg:(t=Number(e.substring(t,i)),isNaN(t)?wC:(i+=1)+t>e.length?tg:(e=e.slice(i,i+t),n.C=i+t,e))}function gh(n){n.Y=Date.now()+n.P,JO(n,n.P)}function JO(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ph(qn(n.lb,n),e)}function ng(n){n.B&&(ue.clearTimeout(n.B),n.B=null)}function yh(n){0==n.l.H||n.J||EN(n.l,n)}function Oa(n){ng(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,gC(n.V),jO(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function xC(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||CC(t.i,n)))if(!n.K&&CC(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;dg(t),cg(t)}IC(t),oi(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=ph(qn(t.ib,t),6e3));if(1>=cN(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Fa(t,11)}else if((n.K||t.g==n)&&dg(t),!sh(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=i=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const p=n.g;if(p){const f=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var o=i.i;o.g||-1==f.indexOf("spdy")&&-1==f.indexOf("quic")&&-1==f.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(EC(o,o.h),o.h=null))}if(i.F){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,pt(i.I,i.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=DN(i,i.J?i.pa:null,i.Y),s.K){uN(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.B&&(ng(a),gh(a)),i.g=s}else xN(i);0<t.j.length&&ug(t)}else"stop"!=c[0]&&"close"!=c[0]||Fa(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Fa(t,7):DC(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}hh()}catch{}}function eN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Um(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Mhe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Um(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function whe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Um(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(j=mh.prototype).setTimeout=function(n){this.P=n},j.nb=function(n){n=n.target;const e=this.M;e&&3==Zr(n)?e.l():this.Pa(n)},j.Pa=function(n){try{if(n==this.g)e:{const u=Zr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||Jx||this.g&&(this.h.h||this.g.ja()||_N(this.g)))){this.J||4!=u||7==e||hh(),ng(this);var t=this.g.da();this.ca=t;t:if(QO(this)){var i=_N(this.g);n="";var r=i.length,o=4==Zr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Oa(this),yh(this);var s="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function yhe(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sh(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,oi(12),Oa(this),yh(this);break e}Sc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xC(this,t)}this.S?(XO(this,u,s),Jx&&this.i&&3==u&&(HO(this.U,this.V,"tick",this.mb),this.V.start())):(Sc(this.j,this.m,s,null),xC(this,s)),4==u&&Oa(this),this.i&&!this.J&&(4==u?EN(this.l,this):(this.i=!1,gh(this)))}else(function jhe(n){const e={};n=(n.g&&2<=Zr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(sh(n[i]))continue;var t=hhe(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function ohe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,oi(12)):(this.o=0,oi(13)),Oa(this),yh(this)}}}catch{}},j.mb=function(){if(this.g){var n=Zr(this.g),e=this.g.ja();this.C<e.length&&(ng(this),XO(this,n,e),this.i&&4!=n&&gh(this))}},j.cancel=function(){this.J=!0,Oa(this)},j.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function _he(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(hh(),oi(17)),Oa(this),this.o=2,yh(this)):JO(this,this.Y-n)};var tN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Na){this.h=n.h,ig(this,n.j),this.s=n.s,this.g=n.g,rg(this,n.m),this.l=n.l;var e=n.i,t=new kh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),nN(this,t),this.o=n.o}else n&&(e=String(n).match(tN))?(this.h=!1,ig(this,e[1]||"",!0),this.s=_h(e[2]||""),this.g=_h(e[3]||"",!0),rg(this,e[4]),this.l=_h(e[5]||"",!0),nN(this,e[6]||"",!0),this.o=_h(e[7]||"")):(this.h=!1,this.i=new kh(null,this.h))}function No(n){return new Na(n)}function ig(n,e,t){n.j=t?_h(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function rg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function nN(n,e,t){e instanceof kh?(n.i=e,function Ihe(n,e){e&&!n.j&&(vs(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(rN(this,i),sN(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=vh(e,She)),n.i=new kh(e,n.h))}function pt(n,e,t){n.i.set(e,t)}function og(n){return pt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function _h(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function vh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Che),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Che(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Na.prototype.toString=function(){var n=[],e=this.j;e&&n.push(vh(e,iN,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(vh(e,iN,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(vh(t,"/"==t.charAt(0)?The:Ehe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",vh(t,Dhe)),n.join("")};var iN=/[#\/\?@]/g,Ehe=/[#\?:]/g,The=/[#\?]/g,She=/[#\?@]/g,Dhe=/#/g;function kh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function vs(n){n.g||(n.g=new Map,n.h=0,n.i&&function xhe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function rN(n,e){vs(n),e=Dc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function oN(n,e){return vs(n),e=Dc(n,e),n.g.has(e)}function sN(n,e,t){rN(n,e),0<t.length&&(n.i=null,n.g.set(Dc(n,e),Qx(t)),n.h+=t.length)}function Dc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function aN(n){this.l=n||Rhe,n=ue.PerformanceNavigationTiming?0<(n=ue.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ue.g&&ue.g.Ka&&ue.g.Ka()&&ue.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(j=kh.prototype).add=function(n,e){vs(this),this.i=null,n=Dc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},j.forEach=function(n,e){vs(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},j.ta=function(){vs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},j.Z=function(n){vs(this);let e=[];if("string"==typeof n)oN(this,n)&&(e=e.concat(this.g.get(Dc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},j.set=function(n,e){return vs(this),this.i=null,oN(this,n=Dc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},j.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var Rhe=10;function lN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function cN(n){return n.h?1:n.g?n.g.size:0}function CC(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function EC(n,e){n.g?n.g.add(e):n.h=e}function uN(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function dN(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Qx(n.i)}function Ohe(){this.g=new class{stringify(n){return ue.JSON.stringify(n,void 0)}parse(n){return ue.JSON.parse(n,void 0)}}}function Nhe(n,e,t){const i=t||"";try{eN(n,function(r,o){let s=r;oh(r)&&(s=fC(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function sg(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function bh(n){this.l=n.fc||null,this.j=n.ob||!1}function ag(n,e){_n.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=TC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}aN.prototype.cancel=function(){if(this.i=dN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},yn(bh,_C),bh.prototype.g=function(){return new ag(this.l,this.j)},bh.prototype.i=function(n){return function(){return n}}({}),yn(ag,_n);var TC=0;function hN(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function wh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Mh(n)}function Mh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(j=ag.prototype).open=function(n,e){if(this.readyState!=TC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Mh(this)},j.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wh(this)),this.readyState=TC},j.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Mh(this)),this.g&&(this.readyState=3,Mh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hN(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},j.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?wh(this):Mh(this),3==this.readyState&&hN(this)}},j.Za=function(n){this.g&&(this.response=this.responseText=n,wh(this))},j.Ya=function(n){this.g&&(this.response=n,wh(this))},j.ka=function(){this.g&&wh(this)},j.setRequestHeader=function(n,e){this.v.append(n,e)},j.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},j.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ag.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Lhe=ue.JSON.parse;function Ft(n){_n.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pN,this.L=this.M=!1}yn(Ft,_n);var pN="",Vhe=/^https?$/i,Bhe=["POST","PUT"];function fN(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,mN(n),lg(n)}function mN(n){n.F||(n.F=!0,Dn(n,"complete"),Dn(n,"error"))}function gN(n){if(n.h&&typeof Zx<"u"&&(!n.C[1]||4!=Zr(n)||2!=n.da()))if(n.v&&4==Zr(n))yC(n.La,0,n);else if(Dn(n,"readystatechange"),4==Zr(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(tN)[1]||null;!r&&ue.self&&ue.self.location&&(r=ue.self.location.protocol.slice(0,-1)),i=!Vhe.test(r?r.toLowerCase():"")}t=i}if(t)Dn(n,"complete"),Dn(n,"success");else{n.m=6;try{var o=2<Zr(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",mN(n)}}finally{lg(n)}}}function lg(n,e){if(n.g){yN(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Dn(n,"ready");try{t.onreadystatechange=i}catch{}}}function yN(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ue.clearTimeout(n.A),n.A=null)}function Zr(n){return n.g?n.g.readyState:0}function _N(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case pN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function vN(n){let e="";return oC(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function SC(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=vN(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):pt(n,e,t))}function xh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function kN(n){this.Ga=0,this.j=[],this.l=new Qm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xh("baseRetryDelayMs",5e3,n),this.hb=xh("retryDelaySeedMs",1e4,n),this.eb=xh("forwardChannelMaxRetries",2,n),this.xa=xh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new aN(n&&n.concurrentRequestLimit),this.Ja=new Ohe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function DC(n){if(bN(n),3==n.H){var e=n.W++,t=No(n.I);if(pt(t,"SID",n.K),pt(t,"RID",e),pt(t,"TYPE","terminate"),Ch(n,t),(e=new mh(n,n.l,e)).L=2,e.v=og(No(t)),t=!1,ue.navigator&&ue.navigator.sendBeacon)try{t=ue.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ue.Image&&((new Image).src=e.v,t=!0),t||(e.g=IN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),gh(e)}SN(n)}function cg(n){n.g&&(AC(n),n.g.cancel(),n.g=null)}function bN(n){cg(n),n.u&&(ue.clearTimeout(n.u),n.u=null),dg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ue.clearTimeout(n.m),n.m=null)}function ug(n){if(!lN(n.i)&&!n.m){n.m=!0;var e=n.Na;ch||LO(),uh||(ch(),uh=!0),mC.add(e,n),n.C=0}}function wN(n,e){var t;t=e?e.m:n.W++;const i=No(n.I);pt(i,"SID",n.K),pt(i,"RID",t),pt(i,"AID",n.V),Ch(n,i),n.o&&n.s&&SC(i,n.o,n.s),t=new mh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=MN(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),EC(n.i,t),MC(t,i,e)}function Ch(n,e){n.na&&oC(n.na,function(t,i){pt(e,i,t)}),n.h&&eN({},function(t,i){pt(e,i,t)})}function MN(n,e,t){t=Math.min(n.j.length,t);var i=n.h?qn(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let c=r[l].g;const u=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{Nhe(u,s,"req"+c+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function xN(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;ch||LO(),uh||(ch(),uh=!0),mC.add(e,n),n.A=0}}function IC(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ph(qn(n.Ma,n),TN(n,n.A)),n.A++,0))}function AC(n){null!=n.B&&(ue.clearTimeout(n.B),n.B=null)}function CN(n){n.g=new mh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=No(n.wa);pt(e,"RID","rpc"),pt(e,"SID",n.K),pt(e,"AID",n.V),pt(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&pt(e,"TO",n.qa),pt(e,"TYPE","xmlhttp"),Ch(n,e),n.o&&n.s&&SC(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=og(No(e)),t.s=null,t.S=!0,YO(t,n)}function dg(n){null!=n.v&&(ue.clearTimeout(n.v),n.v=null)}function EN(n,e){var t=null;if(n.g==e){dg(n),AC(n),n.g=null;var i=2}else{if(!CC(n.i,e))return;t=e.F,uN(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Dn(i=Xm(),new $O(i,t)),ug(n)}else xN(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function zhe(n,e){return!(cN(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ph(qn(n.Na,n,e),TN(n,n.C)),n.C++,0)))}(n,e)||2==i&&IC(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Fa(n,5);break;case 4:Fa(n,10);break;case 3:Fa(n,6);break;default:Fa(n,2)}}function TN(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Fa(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=qn(n.pb,n);t||(t=new Na("//www.google.com/images/cleardot.gif"),ue.location&&"http"==ue.location.protocol||ig(t,"https"),og(t)),function Fhe(n,e){const t=new Qm;if(ue.Image){const i=new Image;i.onload=$m(sg,t,i,"TestLoadImage: loaded",!0,e),i.onerror=$m(sg,t,i,"TestLoadImage: error",!1,e),i.onabort=$m(sg,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=$m(sg,t,i,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else oi(2);n.H=0,n.h&&n.h.za(e),SN(n),bN(n)}function SN(n){if(n.H=0,n.ma=[],n.h){const e=dN(n.i);(0!=e.length||0!=n.j.length)&&(MO(n.ma,e),MO(n.ma,n.j),n.i.i.length=0,Qx(n.j),n.j.length=0),n.h.ya()}}function DN(n,e,t){var i=t instanceof Na?No(t):new Na(t);if(""!=i.g)e&&(i.g=e+"."+i.g),rg(i,i.m);else{var r=ue.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Na(null);i&&ig(o,i),e&&(o.g=e),r&&rg(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&pt(i,t,e),pt(i,"VER",n.ra),Ch(n,i),i}function IN(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ft(t&&n.Ha&&!n.va?new bh({ob:!0}):n.va)).Oa(n.J),e}function AN(){}function hg(){if(Tc&&!(10<=Number(the)))throw Error("Environmental error: no available transport.")}function Vi(n,e){_n.call(this),this.g=new kN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!sh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ic(this)}function RN(n){vC.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function PN(){kC.call(this),this.status=1}function Ic(n){this.g=n}function Cr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function RC(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Qe(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(j=Ft.prototype).Oa=function(n){this.M=n},j.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():bC.g(),this.C=function WO(n){return n.h||(n.h=n.i())}(this.u?this.u:bC),this.g.onreadystatechange=qn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void fN(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=ue.FormData&&n instanceof ue.FormData,!(0<=wO(Bhe,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yN(this),0<this.B&&((this.L=function Hhe(n){return Tc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qn(this.ua,this)):this.A=yC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){fN(this,o)}},j.ua=function(){typeof Zx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dn(this,"timeout"),this.abort(8))},j.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Dn(this,"complete"),Dn(this,"abort"),lg(this))},j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lg(this,!0)),Ft.$.N.call(this)},j.La=function(){this.s||(this.G||this.v||this.l?gN(this):this.kb())},j.kb=function(){gN(this)},j.isActive=function(){return!!this.g},j.da=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},j.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Lhe(e)}},j.Ia=function(){return this.m},j.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(j=kN.prototype).ra=8,j.H=1,j.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new mh(this,this.l,n);let o=this.s;if(this.U&&(o?(o=SO(o),IO(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=MN(this,r,e),pt(t=No(this.I),"RID",n),pt(t,"CVER",22),this.F&&pt(t,"X-HTTP-Session-Id",this.F),Ch(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(vN(o)))+"&"+e:this.o&&SC(t,this.o,o)),EC(this.i,r),this.bb&&pt(t,"TYPE","init"),this.P?(pt(t,"$req",e),pt(t,"SID","null"),r.aa=!0,MC(r,t,null)):MC(r,t,e),this.H=2}}else 3==this.H&&(n?wN(this,n):0==this.j.length||lN(this.i)||wN(this))},j.Ma=function(){if(this.u=null,CN(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ph(qn(this.jb,this),n)}},j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,oi(10),cg(this),CN(this))},j.ib=function(){null!=this.v&&(this.v=null,cg(this),IC(this),oi(19))},j.pb=function(n){n?(this.l.info("Successfully pinged google.com"),oi(2)):(this.l.info("Failed to ping google.com"),oi(1))},j.isActive=function(){return!!this.h&&this.h.isActive(this)},(j=AN.prototype).Ba=function(){},j.Aa=function(){},j.za=function(){},j.ya=function(){},j.isActive=function(){return!0},j.Va=function(){},hg.prototype.g=function(n,e){return new Vi(n,e)},yn(Vi,_n),Vi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;oi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=DN(n,null,n.Y),ug(n)},Vi.prototype.close=function(){DC(this.g)},Vi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=fC(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&ug(e)},Vi.prototype.N=function(){this.g.h=null,delete this.j,DC(this.g),delete this.g,Vi.$.N.call(this)},yn(RN,vC),yn(PN,kC),yn(Ic,AN),Ic.prototype.Ba=function(){Dn(this.g,"a")},Ic.prototype.Aa=function(n){Dn(this.g,new RN(n))},Ic.prototype.za=function(n){Dn(this.g,new PN)},Ic.prototype.ya=function(){Dn(this.g,"b")},yn(Cr,function qhe(){this.blockSize=-1}),Cr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)RC(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){RC(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){RC(this,i),r=0;break}}this.h=r,this.i+=e},Cr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var Uhe={};function PC(n){return-128<=n&&128>n?function Xde(n,e){var t=Uhe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Qe([0|e],0>e?-1:0)}):new Qe([0|n],0>n?-1:0)}function Yr(n){if(isNaN(n)||!isFinite(n))return Ac;if(0>n)return In(Yr(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=OC;return new Qe(e,0)}var OC=4294967296,Ac=PC(0),NC=PC(1),NN=PC(16777216);function Fo(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ir(n){return-1==n.h}function In(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Qe(t,~n.h).add(NC)}function pg(n,e){return n.add(In(e))}function fg(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Eh(n,e){this.g=n,this.h=e}function mg(n,e){if(Fo(e))throw Error("division by zero");if(Fo(n))return new Eh(Ac,Ac);if(ir(n))return e=mg(In(n),e),new Eh(In(e.g),In(e.h));if(ir(e))return e=mg(n,In(e)),new Eh(In(e.g),e.h);if(30<n.g.length){if(ir(n)||ir(e))throw Error("slowDivide_ only works with positive integers.");for(var t=NC,i=e;0>=i.X(n);)t=FN(t),i=FN(i);var r=Rc(t,1),o=Rc(i,1);for(i=Rc(i,2),t=Rc(t,2);!Fo(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=Rc(i,1),t=Rc(t,1)}return e=pg(n,r.R(e)),new Eh(r,e)}for(r=Ac;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=Yr(t)).R(e);ir(s)||0<s.X(n);)s=(o=Yr(t-=i)).R(e);Fo(o)&&(o=NC),r=r.add(o),n=pg(n,s)}return new Eh(r,n)}function FN(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Qe(t,n.h)}function Rc(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Qe(r,n.h)}(j=Qe.prototype).ea=function(){if(ir(this))return-In(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:OC+i)*e,e*=OC}return n},j.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Fo(this))return"0";if(ir(this))return"-"+In(this).toString(n);for(var e=Yr(Math.pow(n,6)),t=this,i="";;){var r=mg(t,e).g,o=((0<(t=pg(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Fo(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},j.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},j.X=function(n){return ir(n=pg(this,n))?-1:Fo(n)?0:1},j.abs=function(){return ir(this)?In(this):this},j.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new Qe(t,-2147483648&t[t.length-1]?-1:0)},j.R=function(n){if(Fo(this)||Fo(n))return Ac;if(ir(this))return ir(n)?In(this).R(In(n)):In(In(this).R(n));if(ir(n))return In(this.R(In(n)));if(0>this.X(NN)&&0>n.X(NN))return Yr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);t[2*i+2*r]+=s*l,fg(t,2*i+2*r),t[2*i+2*r+1]+=o*l,fg(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,fg(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,fg(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Qe(t,0)},j.gb=function(n){return mg(this,n).h},j.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Qe(t,this.h&n.h)},j.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Qe(t,this.h|n.h)},j.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Qe(t,this.h^n.h)},hg.prototype.createWebChannel=hg.prototype.g,Vi.prototype.send=Vi.prototype.u,Vi.prototype.open=Vi.prototype.m,Vi.prototype.close=Vi.prototype.close,Jm.NO_ERROR=0,Jm.TIMEOUT=8,Jm.HTTP_ERROR=6,GO.COMPLETE="complete",KO.EventType=fh,fh.OPEN="a",fh.CLOSE="b",fh.ERROR="c",fh.MESSAGE="d",_n.prototype.listen=_n.prototype.O,Ft.prototype.listenOnce=Ft.prototype.P,Ft.prototype.getLastError=Ft.prototype.Sa,Ft.prototype.getLastErrorCode=Ft.prototype.Ia,Ft.prototype.getStatus=Ft.prototype.da,Ft.prototype.getResponseJson=Ft.prototype.Wa,Ft.prototype.getResponseText=Ft.prototype.ja,Ft.prototype.send=Ft.prototype.ha,Ft.prototype.setWithCredentials=Ft.prototype.Oa,Cr.prototype.digest=Cr.prototype.l,Cr.prototype.reset=Cr.prototype.reset,Cr.prototype.update=Cr.prototype.j,Qe.prototype.add=Qe.prototype.add,Qe.prototype.multiply=Qe.prototype.R,Qe.prototype.modulo=Qe.prototype.gb,Qe.prototype.compare=Qe.prototype.X,Qe.prototype.toNumber=Qe.prototype.ea,Qe.prototype.toString=Qe.prototype.toString,Qe.prototype.getBits=Qe.prototype.D,Qe.fromNumber=Yr,Qe.fromString=function ON(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return In(ON(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Yr(Math.pow(e,8)),i=Ac,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=Yr(Math.pow(e,o)),i=i.R(o).add(Yr(s))):i=(i=i.R(t)).add(Yr(s))}return i};var $he=xr.createWebChannelTransport=function(){return new hg},Ghe=xr.getStatEventTarget=function(){return Xm()},FC=xr.ErrorCode=Jm,Whe=xr.EventType=GO,Khe=xr.Event=Pa,LN=xr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zhe=xr.FetchXmlHttpFactory=bh,gg=xr.WebChannel=KO,Yhe=xr.XhrIo=Ft,Qhe=xr.Md5=Cr,Pc=xr.Integer=Qe;const VN="@firebase/firestore";class vn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let Oc="9.23.0";const ks=new cc("@firebase/firestore");function LC(){return ks.logLevel}function R(n,...e){if(ks.logLevel<=Re.DEBUG){const t=e.map(VC);ks.debug(`Firestore (${Oc}): ${n}`,...t)}}function Ut(n,...e){if(ks.logLevel<=Re.ERROR){const t=e.map(VC);ks.error(`Firestore (${Oc}): ${n}`,...t)}}function Er(n,...e){if(ks.logLevel<=Re.WARN){const t=e.map(VC);ks.warn(`Firestore (${Oc}): ${n}`,...t)}}function VC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function G(n="Unexpected state"){const e=`FIRESTORE (${Oc}) INTERNAL ASSERTION FAILED: `+n;throw Ut(e),new Error(e)}function Z(n,e){n||G()}function B(n,e){return n}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ln{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class BN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xhe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vn.UNAUTHENTICATED))}shutdown(){}}class Jhe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class epe{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new ln;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ln,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(g(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ln)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Z("string"==typeof i.accessToken),new BN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(null===e||"string"==typeof e),new vn(e)}}class tpe{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class npe{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new tpe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ipe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,R("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Z("string"==typeof t.token),this.T=t.token,new HN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rpe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class jN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=rpe(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function se(n,e){return n<e?-1:n>e?1:0}function Nc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class kt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new D(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new kt(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new kt(0,0))}static max(){return new Y(new kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Th{constructor(e,t,i){void 0===t?t=0:t>e.length&&G(),void 0===i?i=e.length-t:i>e.length-t&&G(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Th.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Th?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ne extends Th{construct(e,t,i){return new Ne(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new D(M.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Ne(t)}static emptyPath(){return new Ne([])}}const ope=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Th{construct(e,t,i){return new $t(e,t,i)}static isValidIdentifier(e){return ope.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $t(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new D(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new D(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new D(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new D(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}class L{constructor(e){this.path=e}static fromPath(e){return new L(Ne.fromString(e))}static fromName(e){return new L(Ne.fromString(e).popFirst(5))}static empty(){return new L(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ne.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ne.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new Ne(e.slice()))}}function UN(n){return new Bi(n.readTime,n.key,-1)}class Bi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Bi(Y.min(),L.empty(),-1)}static max(){return new Bi(Y.max(),L.empty(),-1)}}function HC(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=L.comparator(n.documentKey,e.documentKey),0!==t?t:se(n.largestBatchId,e.largestBatchId))}const $N="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function bs(n){return jC.apply(this,arguments)}function jC(){return jC=g(function*(n){if(n.code!==M.FAILED_PRECONDITION||n.message!==$N)throw n;R("LocalStore","Unexpectedly lost primary lease")}),jC.apply(this,arguments)}class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new b((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof b?t:b.resolve(t)}catch(t){return b.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):b.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):b.reject(t)}static resolve(e){return new b((t,i)=>{t(e)})}static reject(e){return new b((t,i)=>{i(e)})}static waitFor(e){return new b((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=b.resolve(!1);for(const i of e)t=t.next(r=>r?b.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new b((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new b((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}function ws(n){return"IndexedDbTransactionError"===n.name}let Hi=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Ih(n){return null==n}function Ah(n){return 0===n&&1/n==-1/0}function eF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ms(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class at{constructor(e,t){this.comparator=e,this.root=t||An.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bg(this.root,e,this.comparator,!1)}getReverseIterator(){return new bg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bg(this.root,e,this.comparator,!0)}}class bg{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??An.RED,this.left=r??An.EMPTY,this.right=o??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new An(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return An.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1,An.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(n,e,t,i,r){return this}insert(n,e,t){return new An(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ft{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nF(this.data.getIterator())}getIteratorFrom(e){return new nF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ft(this.comparator);return t.data=e,t}}class nF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bi{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new bi([])}unionWith(e){let t=new ft($t.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new bi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class iF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new iF("Invalid base64 string: "+r):r}}(e);return new cn(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const Ape=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(n){if(Z(!!n),"string"==typeof n){let e=0;const t=Ape.exec(n);if(Z(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(n.seconds),nanos:Lt(n.nanos)}}function Lt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Lo(n){return"string"==typeof n?cn.fromBase64String(n):cn.fromUint8Array(n)}function wg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Mg(n){const e=n.mapValue.fields.__previous_value__;return wg(e)?Mg(e):e}function Rh(n){const e=xs(n.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}class Rpe{constructor(e,t,i,r,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ba{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}const Cs_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Es(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wg(n)?4:aF(n)?9007199254740991:10:G()}function Xr(n,e){if(n===e)return!0;const t=Es(n);if(t!==Es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rh(n).isEqual(Rh(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=xs(i.timestampValue),s=xs(r.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Lo(n.bytesValue).isEqual(Lo(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Lt(i.geoPointValue.latitude)===Lt(r.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Lt(i.integerValue)===Lt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Lt(i.doubleValue),s=Lt(r.doubleValue);return o===s?Ah(o)===Ah(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return Nc(n.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(i,r){const o=i.mapValue.fields||{},s=r.mapValue.fields||{};if(eF(o)!==eF(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Xr(o[a],s[a])))return!1;return!0}(n,e);default:return G()}var r}function Ph(n,e){return void 0!==(n.values||[]).find(t=>Xr(t,e))}function Ts(n,e){if(n===e)return 0;const t=Es(n),i=Es(e);if(t!==i)return se(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return se(n.booleanValue,e.booleanValue);case 2:return function(r,o){const s=Lt(r.integerValue||r.doubleValue),a=Lt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return rF(n.timestampValue,e.timestampValue);case 4:return rF(Rh(n),Rh(e));case 5:return se(n.stringValue,e.stringValue);case 6:return function(r,o){const s=Lo(r),a=Lo(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const s=r.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const c=se(s[l],a[l]);if(0!==c)return c}return se(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const s=se(Lt(r.latitude),Lt(o.latitude));return 0!==s?s:se(Lt(r.longitude),Lt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const s=r.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const c=Ts(s[l],a[l]);if(c)return c}return se(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Cs_mapValue&&o===Cs_mapValue)return 0;if(r===Cs_mapValue)return 1;if(o===Cs_mapValue)return-1;const s=r.fields||{},a=Object.keys(s),l=o.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=se(a[u],c[u]);if(0!==d)return d;const h=Ts(s[a[u]],l[c[u]]);if(0!==h)return h}return se(a.length,c.length)}(n.mapValue,e.mapValue);default:throw G()}}function rF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return se(n,e);const t=xs(n),i=xs(e),r=se(t.seconds,i.seconds);return 0!==r?r:se(t.nanos,i.nanos)}function Lc(n){return UC(n)}function UC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=xs(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Lo(n.bytesValue).toBase64():"referenceValue"in n?L.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const s of i.values||[])o?o=!1:r+=",",r+=UC(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",s=!0;for(const a of r)s?s=!1:o+=",",o+=`${a}:${UC(i.fields[a])}`;return o+"}"}(n.mapValue):G();var e}function Ha(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $C(n){return!!n&&"integerValue"in n}function Oh(n){return!!n&&"arrayValue"in n}function oF(n){return!!n&&"nullValue"in n}function sF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Eg(n){return!!n&&"mapValue"in n}function Nh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ms(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Nh(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function aF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Eg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nh(t)}setAll(e){let t=$t.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=Nh(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());Eg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Eg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ms(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Rn(Nh(this.value))}}function uF(n){const e=[];return Ms(n.fields,(t,i)=>{const r=new $t([t]);if(Eg(i)){const o=uF(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new bi(e)}class mt{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new mt(e,0,Y.min(),Y.min(),Y.min(),Rn.empty(),0)}static newFoundDocument(e,t,i,r){return new mt(e,1,t,Y.min(),i,r,0)}static newNoDocument(e,t){return new mt(e,2,t,Y.min(),Y.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new mt(e,3,t,Y.min(),Y.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Y.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ss{constructor(e,t){this.position=e,this.inclusive=t}}function dF(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?L.comparator(L.fromName(s.referenceValue),t.key):Ts(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function hF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xr(n.position[t],e.position[t]))return!1;return!0}class Vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Npe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class pF{}class Se extends pF{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Fpe(e,t,i):"array-contains"===t?new Bpe(e,i):"in"===t?new vF(e,i):"not-in"===t?new Hpe(e,i):"array-contains-any"===t?new jpe(e,i):new Se(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Lpe(e,i):new Vpe(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ts(t,this.value)):null!==t&&Es(this.value)===Es(t)&&this.matchesComparison(Ts(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xe extends pF{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Xe(e,t)}matches(e){return Bc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Bc(n){return"and"===n.op}function WC(n){return function fF(n){for(const e of n.filters)if(e instanceof Xe)return!1;return!0}(n)&&Bc(n)}function KC(n){if(n instanceof Se)return n.field.canonicalString()+n.op.toString()+Lc(n.value);if(WC(n))return n.filters.map(e=>KC(e)).join(",");{const e=n.filters.map(t=>KC(t)).join(",");return`${n.op}(${e})`}}function mF(n,e){return n instanceof Se?(t=n,(i=e)instanceof Se&&t.op===i.op&&t.field.isEqual(i.field)&&Xr(t.value,i.value)):n instanceof Xe?function(t,i){return i instanceof Xe&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,s)=>r&&mF(o,i.filters[s]),!0)}(n,e):void G();var t,i}function yF(n){return n instanceof Se?`${(e=n).field.canonicalString()} ${e.op} ${Lc(e.value)}`:n instanceof Xe?function(e){return e.op.toString()+" {"+e.getFilters().map(yF).join(" ,")+"}"}(n):"Filter";var e}class Fpe extends Se{constructor(e,t,i){super(e,t,i),this.key=L.fromName(i.referenceValue)}matches(e){const t=L.comparator(e.key,this.key);return this.matchesComparison(t)}}class Lpe extends Se{constructor(e,t){super(e,"in",t),this.keys=_F(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Vpe extends Se{constructor(e,t){super(e,"not-in",t),this.keys=_F(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _F(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>L.fromName(i.referenceValue))}class Bpe extends Se{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Oh(t)&&Ph(t.arrayValue,this.value)}}class vF extends Se{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ph(this.value.arrayValue,t)}}class Hpe extends Se{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ph(this.value.arrayValue,t)}}class jpe extends Se{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Oh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ph(this.value.arrayValue,i))}}class zpe{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function ZC(n,e=null,t=[],i=[],r=null,o=null,s=null){return new zpe(n,e,t,i,r,o,s)}function ja(n){const e=B(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>KC(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Ih(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Lc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Lc(i)).join(",")),e.dt=t}return e.dt}function Fh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Npe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hF(n.startAt,e.startAt)&&hF(n.endAt,e.endAt)}function Tg(n){return L.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Vo{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.wt=null,this._t=null}}function Hc(n){return new Vo(n)}function MF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function YC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Dg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function QC(n){return null!==n.collectionGroup}function za(n){const e=B(n);if(null===e.wt){e.wt=[];const t=Dg(e),i=YC(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Vc(t)),e.wt.push(new Vc($t.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Vc($t.keyField(),o))}}}return e.wt}function si(n){const e=B(n);if(!e._t)if("F"===e.limitType)e._t=ZC(e.path,e.collectionGroup,za(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of za(e))t.push(new Vc(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Ss(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ss(e.startAt.position,e.startAt.inclusive):null;e._t=ZC(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function XC(n,e){e.getFirstInequalityField(),Dg(n);const t=n.filters.concat([e]);return new Vo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ig(n,e,t){return new Vo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lh(n,e){return Fh(si(n),si(e))&&n.limitType===e.limitType}function xF(n){return`${ja(si(n))}|lt:${n.limitType}`}function JC(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>yF(i)).join(", ")}]`),Ih(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Lc(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Lc(i)).join(",")),`Target(${t})`}(si(n))}; limitType=${n.limitType})`}function Vh(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):L.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of za(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,s){const a=dF(r,o,s);return r.inclusive?a<=0:a<0}(t.startAt,za(t),i)||t.endAt&&!function(r,o,s){const a=dF(r,o,s);return r.inclusive?a>=0:a>0}(t.endAt,za(t),i)));var t,i}function EF(n){return(e,t)=>{let i=!1;for(const r of za(n)){const o=qpe(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function qpe(n,e,t){const i=n.field.isKeyField()?L.comparator(e.key,t.key):function(r,o,s){const a=o.data.field(r),l=s.data.field(r);return null!==a&&null!==l?Ts(a,l):G()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return G()}}class Bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return tF(this.inner)}size(){return this.innerSize}}const Upe=new at(L.comparator);function wi(){return Upe}const TF=new at(L.comparator);function Bh(...n){let e=TF;for(const t of n)e=e.insert(t.key,t);return e}function SF(n){let e=TF;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Jr(){return Hh()}function DF(){return Hh()}function Hh(){return new Bo(n=>n.toString(),(n,e)=>n.isEqual(e))}const $pe=new at(L.comparator),Gpe=new ft(L.comparator);function _e(...n){let e=Gpe;for(const t of n)e=e.add(t);return e}const Wpe=new ft(se);function IF(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function AF(n){return{integerValue:""+n}}function RF(n,e){return function WN(n){return"number"==typeof n&&Number.isInteger(n)&&!Ah(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?AF(e):IF(n,e)}class Ag{constructor(){this._=void 0}}function Kpe(n,e,t){return n instanceof jc?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&wg(r)&&(r=Mg(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof qa?OF(n,e):n instanceof Ua?NF(n,e):function(i,r){const o=PF(i,r),s=FF(o)+FF(i.gt);return $C(o)&&$C(i.gt)?AF(s):IF(i.serializer,s)}(n,e)}function Zpe(n,e,t){return n instanceof qa?OF(n,e):n instanceof Ua?NF(n,e):t}function PF(n,e){return n instanceof zc?$C(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class jc extends Ag{}class qa extends Ag{constructor(e){super(),this.elements=e}}function OF(n,e){const t=LF(e);for(const i of n.elements)t.some(r=>Xr(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ua extends Ag{constructor(e){super(),this.elements=e}}function NF(n,e){let t=LF(e);for(const i of n.elements)t=t.filter(r=>!Xr(r,i));return{arrayValue:{values:t}}}class zc extends Ag{constructor(e,t){super(),this.serializer=e,this.gt=t}}function FF(n){return Lt(n.integerValue||n.doubleValue)}function LF(n){return Oh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qpe{constructor(e,t){this.version=e,this.transformResults=t}}class bt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bt}static exists(e){return new bt(void 0,e)}static updateTime(e){return new bt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Pg{}function VF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Uc(n.key,bt.none()):new qc(n.key,n.data,bt.none());{const t=n.data,i=Rn.empty();let r=new ft($t.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Ho(n.key,i,new bi(r.toArray()),bt.none())}}function Xpe(n,e,t){n instanceof qc?function(i,r,o){const s=i.value.clone(),a=jF(i.fieldTransforms,r,o.transformResults);s.setAll(a),r.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof Ho?function(i,r,o){if(!Rg(i.precondition,r))return void r.convertToUnknownDocument(o.version);const s=jF(i.fieldTransforms,r,o.transformResults),a=r.data;a.setAll(HF(i)),a.setAll(s),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function zh(n,e,t,i){return n instanceof qc?function(r,o,s,a){if(!Rg(r.precondition,o))return s;const l=r.value.clone(),c=zF(r.fieldTransforms,a,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ho?function(r,o,s,a){if(!Rg(r.precondition,o))return s;const l=zF(r.fieldTransforms,a,o),c=o.data;return c.setAll(HF(r)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(n,e,t,i):(s=t,Rg(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function Jpe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=PF(i.transform,r||null);null!=o&&(null===t&&(t=Rn.empty()),t.set(i.field,o))}return t||null}function BF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Nc(t,i,(r,o)=>function Ype(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof qa&&i instanceof qa||t instanceof Ua&&i instanceof Ua?Nc(t.elements,i.elements,Xr):t instanceof zc&&i instanceof zc?Xr(t.gt,i.gt):t instanceof jc&&i instanceof jc);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class qc extends Pg{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ho extends Pg{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function HF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function jF(n,e,t){const i=new Map;Z(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Zpe(s,a,t[r]))}return i}function zF(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,Kpe(o,s,e))}return i}class Uc extends Pg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t4 extends Pg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class n4{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&Xpe(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=zh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=zh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=DF();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const l=VF(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(Y.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_e())}isEqual(e){return this.batchId===e.batchId&&Nc(this.mutations,e.mutations,(t,i)=>BF(t,i))&&Nc(this.baseMutations,e.baseMutations,(t,i)=>BF(t,i))}}class r4{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Z(e.mutations.length===i.length);let r=$pe;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new r4(e,t,i,r)}}class o4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tfe{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jt,Fe;function qF(n){switch(n){default:return G();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function UF(n){if(void 0===n)return Ut("GRPC error has no .code"),M.UNKNOWN;switch(n){case Jt.OK:return M.OK;case Jt.CANCELLED:return M.CANCELLED;case Jt.UNKNOWN:return M.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return M.INTERNAL;case Jt.UNAVAILABLE:return M.UNAVAILABLE;case Jt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Jt.NOT_FOUND:return M.NOT_FOUND;case Jt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Jt.ABORTED:return M.ABORTED;case Jt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Jt.DATA_LOSS:return M.DATA_LOSS;default:return G()}}(Fe=Jt||(Jt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";class s4{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Og}static getOrCreateInstance(){return null===Og&&(Og=new s4),Og}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Og=null;const nfe=new Pc([4294967295,4294967295],0);function GF(n){const e=function $F(){return new TextEncoder}().encode(n),t=new Qhe;return t.update(e),new Uint8Array(t.digest())}function WF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pc([t,i],0),new Pc([r,o],0)]}class a4{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new qh(`Invalid padding: ${t}`);if(i<0)throw new qh(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new qh(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new qh(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Pc.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Pc.fromNumber(i)));return 1===r.compare(nfe)&&(r=new Pc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=GF(e),[i,r]=WF(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);if(!this.At(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new a4(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=GF(e),[i,r]=WF(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(i,r,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class qh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,$h.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Uh(Y.min(),r,new at(se),wi(),_e())}}class $h{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new $h(i,t,_e(),_e(),_e())}}class Ng{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class KF{constructor(e,t){this.targetId=e,this.Vt=t}}class ZF{constructor(e,t,i=cn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class YF{constructor(){this.St=0,this.Dt=XF(),this.Ct=cn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=_e(),t=_e(),i=_e();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:G()}}),new $h(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=XF()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ife{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=wi(),this.zt=QF(),this.Wt=new at(se)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:G()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const s=o.target;if(Tg(s))if(0===r){const a=new L(s.path);this.Yt(i,a,mt.newNoDocument(a,Y.min()))}else Z(1===r);else{const a=this.ie(i);if(a!==r){const l=this.re(e,a);0!==l&&(this.ee(i),this.Wt=this.Wt.insert(i,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=s4.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,u,d){var h,p,f,m,y,k;const w={localCacheCount:u,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(w.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(f=null===(p=v?.bits)||void 0===p?void 0:p.bitmap)||void 0===f?void 0:f.length)&&void 0!==m?m:0,padding:null!==(k=null===(y=v?.bits)||void 0===y?void 0:y.padding)&&void 0!==k?k:0}),w}(l,a,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=i;let l,c;try{l=Lo(o).toUint8Array()}catch(u){if(u instanceof iF)return Er("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new a4(l,s,a)}catch(u){return Er(u instanceof qh?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.It?1:r!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&Tg(a.target)){const l=new L(a.target.path);null!==this.jt.get(l)||this.ae(s,l)||this.Yt(s,l,mt.newNoDocument(l,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let i=_e();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.se(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const r=new Uh(e,t,this.Wt,this.jt,i);return this.jt=wi(),this.zt=QF(),this.Wt=new at(se),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new YF,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ft(se),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||R("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new YF),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function QF(){return new at(L.comparator)}function XF(){return new at(L.comparator)}const rfe={asc:"ASCENDING",desc:"DESCENDING"},ofe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sfe={and:"AND",or:"OR"};class afe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function l4(n,e){return n.useProto3Json||Ih(e)?e:{value:e}}function $c(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lfe(n,e){return $c(n,e.toTimestamp())}function Gt(n){return Z(!!n),Y.fromTimestamp(function(e){const t=xs(e);return new kt(t.seconds,t.nanos)}(n))}function c4(n,e){return(t=n,new Ne(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function eL(n){const e=Ne.fromString(n);return Z(cL(e)),e}function Gh(n,e){return c4(n.databaseId,e.path)}function eo(n,e){const t=eL(e);if(t.get(1)!==n.databaseId.projectId)throw new D(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new D(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new L(nL(t))}function u4(n,e){return c4(n.databaseId,e)}function Wh(n){return new Ne(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nL(n){return Z(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iL(n,e,t){return{name:Gh(n,e),fields:t.value.mapValue.fields}}function oL(n,e){return{documents:[u4(n,e.path)]}}function h4(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=u4(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=u4(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return lL(Xe.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:Ds((u=c).field),direction:pfe(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=l4(n,e.limit);var a,l;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function sL(n){let e=function tL(n){const e=eL(n);return 4===e.length?Ne.emptyPath():nL(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Z(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=aL(u);return d instanceof Xe&&WC(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new Vc(Gc((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,Ih(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new Ss((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new Ss(u.values||[],!u.before)}(t.endAt)),function wF(n,e,t,i,r,o,s,a){return new Vo(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",l,c)}function aL(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gc(e.unaryFilter.field);return Se.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Gc(e.unaryFilter.field);return Se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gc(e.unaryFilter.field);return Se.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gc(e.unaryFilter.field);return Se.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(n):void 0!==n.fieldFilter?Se.create(Gc((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Xe.create(e.compositeFilter.filters.map(t=>aL(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return G()}}(e.compositeFilter.op))}(n):G();var e}function pfe(n){return rfe[n]}function ffe(n){return ofe[n]}function mfe(n){return sfe[n]}function Ds(n){return{fieldPath:n.canonicalString()}}function Gc(n){return $t.fromServerFormat(n.fieldPath)}function lL(n){return n instanceof Se?function(e){if("=="===e.op){if(sF(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NAN"}};if(oF(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(sF(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NOT_NAN"}};if(oF(e.value))return{unaryFilter:{field:Ds(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(e.field),op:ffe(e.op),value:e.value}}}(n):n instanceof Xe?function(e){const t=e.getFilters().map(i=>lL(i));return 1===t.length?t[0]:{compositeFilter:{op:mfe(e.op),filters:t}}}(n):G()}function gfe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class jo{constructor(e,t,i,r,o=Y.min(),s=Y.min(),a=cn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new jo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uL{constructor(e){this.fe=e}}function p4(n){const e=sL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ig(e,e.limit,"L"):e}class Ka{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Lt(e.integerValue));else if("doubleValue"in e){const i=Lt(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Ah(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Lo(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?aF(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):G()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),L.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Ka.Ve=new Ka;class Cfe{constructor(){this.rn=new v4}addToCollectionParentIndex(e,t){return this.rn.add(t),b.resolve()}getCollectionParents(e,t){return b.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return b.resolve()}deleteFieldIndex(e,t){return b.resolve()}getDocumentsMatchingTarget(e,t){return b.resolve(null)}getIndexType(e,t){return b.resolve(0)}getFieldIndexes(e,t){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,t){return b.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,t){return b.resolve(Bi.min())}updateCollectionGroup(e,t,i){return b.resolve()}updateIndexEntries(e,t){return b.resolve()}}class v4{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ft(Ne.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ft(Ne.comparator)).toArray()}}new Uint8Array(0);class Gn{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(41943040,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);class Ya{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ya(0)}static Mn(){return new Ya(-1)}}class Ofe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class FL{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&zh(i.mutation,r,bi.empty(),kt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,_e()).next(()=>i))}getLocalViewOfDocuments(e,t,i=_e()){const r=Jr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Bh();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=Jr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,_e()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=wi();const s=Hh(),a=Hh();return t.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Ho)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),zh(u.mutation,c,u.mutation.getFieldMask(),kt.now())):s.set(c.key,bi.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new Ofe(u,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Hh();let r=new at((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=i.get(l)||bi.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||_e()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=DF();u.forEach(h=>{if(!o.has(h)){const p=VF(t.get(h),i.get(h));null!==p&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return b.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return L.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):QC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):b.resolve(Jr());let a=-1,l=o;return s.next(c=>b.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,_e())).next(u=>({batchId:a,changes:SF(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new L(t)).next(i=>{let r=Bh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=Bh();return this.indexManager.getCollectionParents(e,r).next(s=>b.forEach(s,a=>{const l=(c=t,u=a.child(r),new Vo(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,i).next(c=>{c.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((a,l)=>{const c=l.getKey();null===o.get(c)&&(o=o.insert(c,mt.newInvalidDocument(c)))});let s=Bh();return o.forEach((a,l)=>{const c=r.get(a);void 0!==c&&zh(c.mutation,l,bi.empty(),kt.now()),Vh(t,l)&&(s=s.insert(a,l))}),s})}}class Nfe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return b.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Gt(i.createTime)}),b.resolve()}getNamedQuery(e,t){return b.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:p4(i.bundledQuery),readTime:Gt(i.readTime)}),b.resolve();var i}}class Ffe{constructor(){this.overlays=new at(L.comparator),this.ls=new Map}getOverlay(e,t){return b.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Jr();return b.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),b.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),b.resolve()}getOverlaysForCollection(e,t,i){const r=Jr(),o=t.length+1,s=new L(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return b.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new at((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=o.get(c.largestBatchId);null===u&&(u=Jr(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Jr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return b.resolve(a)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new o4(t,i));let o=this.ls.get(t);void 0===o&&(o=_e(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class k4{constructor(){this.fs=new ft(bn.ds),this.ws=new ft(bn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new bn(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new bn(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new L(new Ne([])),i=new bn(t,e),r=new bn(t,e+1),o=[];return this.ws.forEachInRange([i,r],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new L(new Ne([])),i=new bn(t,e),r=new bn(t,e+1);let o=_e();return this.ws.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new bn(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class bn{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return L.comparator(e.key,t.key)||se(e.As,t.As)}static _s(e,t){return se(e.As,t.As)||L.comparator(e.key,t.key)}}class Lfe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ft(bn.ds)}checkEmpty(e){return b.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const s=new n4(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new bn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(s)}lookupMutationBatch(e,t){return b.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return b.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new bn(t,0),r=new bn(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],s=>{const a=this.Ps(s.As);o.push(a)}),b.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ft(se);return t.forEach(r=>{const o=new bn(r,0),s=new bn(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{i=i.add(a.As)})}),b.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;L.isDocumentKey(o)||(o=o.child(""));const s=new bn(new L(o),0);let a=new ft(se);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.As)),!0)},s),b.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Z(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return b.forEach(t.mutations,r=>{const o=new bn(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new bn(t,0),r=this.Rs.firstAfterOrEqual(i);return b.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return b.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vfe{constructor(e){this.Ds=e,this.docs=new at(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return b.resolve(i?i.document.mutableCopy():mt.newInvalidDocument(t))}getEntries(e,t){let i=wi();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():mt.newInvalidDocument(r))}),b.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=wi();const s=t.path,a=new L(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||HC(UN(u),i)<=0||(r.has(u.key)||Vh(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return b.resolve(o)}getAllFromCollectionGroup(e,t,i,r){G()}Cs(e,t){return b.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Bfe(this)}getSize(e){return b.resolve(this.size)}}class Bfe extends class Afe{constructor(){this.changes=new Bo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?b.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),b.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Hfe{constructor(e){this.persistence=e,this.xs=new Bo(t=>ja(t),Fh),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Ns=0,this.ks=new k4,this.targetCount=0,this.Ms=Ya.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),b.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ya(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,b.resolve()}updateTargetData(e,t){return this.Fn(t),b.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),b.waitFor(o).next(()=>r)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return b.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),b.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),b.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),b.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return b.resolve(i)}containsKey(e,t){return b.resolve(this.ks.containsKey(t))}}class b4{constructor(e,t){this.$s={},this.overlays={},this.Os=new Hi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Hfe(this),this.indexManager=new Cfe,this.remoteDocumentCache=new Vfe(i=>this.referenceDelegate.Ls(i)),this.serializer=new uL(t),this.qs=new Nfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ffe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new Lfe(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){R("MemoryPersistence","Starting transaction:",e);const r=new jfe(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return b.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class jfe extends class lpe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Ug{constructor(e){this.persistence=e,this.Qs=new k4,this.js=null}static zs(e){return new Ug(e)}get Ws(){if(this.js)return this.js;throw G()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),b.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),b.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),b.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Ws,i=>{const r=L.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,Y.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return b.or([()=>b.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class C4{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=_e(),r=_e();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new C4(e,t.fromCache,i,r)}}class VL{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(MF(t))return b.resolve(null);let i=si(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Ig(t,null,"F"),i=si(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=_e(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.ji(t,a);return this.zi(t,c,s,l.readTime)?this.Ki(e,Ig(t,null,"F")):this.Wi(e,c,t,l)}))})))}Gi(e,t,i,r){return MF(t)||r.isEqual(Y.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const s=this.ji(t,o);return this.zi(t,s,i,r)?this.Qi(e,t):(LC()<=Re.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),JC(t)),this.Wi(e,s,t,function qN(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Y.fromTimestamp(1e9===i?new kt(t+1,0):new kt(t,i));return new Bi(r,L.empty(),e)}(r,-1)))})}ji(e,t){let i=new ft(EF(e));return t.forEach((r,o)=>{Vh(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return LC()<=Re.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",JC(t)),this.Ui.getDocumentsMatchingQuery(e,t,Bi.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class qfe{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new at(se),this.Yi=new Bo(o=>ja(o),Fh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FL(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function HL(n,e){return E4.apply(this,arguments)}function E4(){return E4=g(function*(n,e){const t=B(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=_e();for(const c of r){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}),E4.apply(this,arguments)}function Ufe(n,e){const t=B(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,c){const u=l.batch,d=u.keys();let h=b.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(a,p)).next(f=>{const m=l.docVersions.get(p);Z(null!==m),f.version.compareTo(m)<0&&(u.applyToRemoteDocument(f,l),f.isValidDocument()&&(f.setReadTime(l.commitVersion),c.addEntry(f)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(s){let a=_e();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function jL(n){const e=B(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function $fe(n,e){const t=B(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(o,u.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);var f,m,y;null!==e.targetMismatches.get(d)?p=p.withResumeToken(cn.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,i)),r=r.insert(d,p),m=p,y=u,(0===(f=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,p))});let l=wi(),c=_e();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function zL(n,e,t){let i=_e(),r=_e();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=wi();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Y.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:s,sr:r}})}(o,s,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!i.isEqual(Y.min())){const u=t.Bs.getLastRemoteSnapshotVersion(o).next(d=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return b.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.Ji=r,o))}function Gfe(n,e){const t=B(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Zc(n,e){const t=B(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,b.resolve(r)):t.Bs.allocateTargetId(i).next(s=>(r=new jo(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function Yc(n,e,t){return T4.apply(this,arguments)}function T4(){return T4=g(function*(n,e,t){const i=B(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!ws(s))throw s;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),T4.apply(this,arguments)}function Wg(n,e,t){const i=B(n);let r=Y.min(),o=_e();return i.persistence.runTransaction("Execute query","readonly",s=>function(a,l,c){const u=B(a),d=u.Yi.get(c);return void 0!==d?b.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(i,s,si(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(s,e,t?r:Y.min(),t?o:_e())).next(a=>(function $L(n,e,t){let i=n.Xi.get(e)||Y.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}(i,function CF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class R4{constructor(){this.activeTargetIds=function e4(){return Wpe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KL{constructor(){this.Hr=new R4,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new R4,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zfe{Yr(e){}shutdown(){}}class ZL{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yg=null;function O4(){return null===Yg?Yg=268435456+Math.round(2147483648*Math.random()):Yg++,"0x"+Yg.toString(16)}const Yfe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qfe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Wn="WebChannelConnection";class Xfe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const s=O4(),a=this.To(e,t);R("RestConnection",`Sending RPC '${e}' ${s}:`,a,i);const l={};return this.Eo(l,r,o),this.Ao(e,a,l,i).then(c=>(R("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw Er("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",i),c})}vo(e,t,i,r,o,s){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${Yfe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=O4();return new Promise((s,a)=>{const l=new Yhe;l.setWithCredentials(!0),l.listenOnce(Whe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case FC.NO_ERROR:const u=l.getResponseJson();R(Wn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case FC.TIMEOUT:R(Wn,`RPC '${e}' ${o} timed out`),a(new D(M.DEADLINE_EXCEEDED,"Request time out"));break;case FC.HTTP_ERROR:const d=l.getStatus();if(R(Wn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h?.error;if(p&&p.status&&p.message){const f=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(y)>=0?y:M.UNKNOWN}(p.status);a(new D(f,p.message))}else a(new D(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new D(M.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{R(Wn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(r);R(Wn,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",c,i,15)})}Ro(e,t,i){const r=O4(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$he(),a=Ghe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Zhe({})),this.Eo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const u=o.join("");R(Wn,`Creating RPC '${e}' stream ${r}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,p=!1;const f=new Qfe({ro:y=>{p?R(Wn,`Not sending because RPC '${e}' stream ${r} is closed:`,y):(h||(R(Wn,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),R(Wn,`RPC '${e}' stream ${r} sending:`,y),d.send(y))},oo:()=>d.close()}),m=(y,k,w)=>{y.listen(k,v=>{try{w(v)}catch(C){setTimeout(()=>{throw C},0)}})};return m(d,gg.EventType.OPEN,()=>{p||R(Wn,`RPC '${e}' stream ${r} transport opened.`)}),m(d,gg.EventType.CLOSE,()=>{p||(p=!0,R(Wn,`RPC '${e}' stream ${r} transport closed`),f.wo())}),m(d,gg.EventType.ERROR,y=>{p||(p=!0,Er(Wn,`RPC '${e}' stream ${r} transport errored:`,y),f.wo(new D(M.UNAVAILABLE,"The operation could not be completed")))}),m(d,gg.EventType.MESSAGE,y=>{var k;if(!p){const w=y.data[0];Z(!!w);const v=w,C=v.error||(null===(k=v[0])||void 0===k?void 0:k.error);if(C){R(Wn,`RPC '${e}' stream ${r} received error:`,C);const H=C.status;let q=function(Je){const wt=Jt[Je];if(void 0!==wt)return UF(wt)}(H),de=C.message;void 0===q&&(q=M.INTERNAL,de="Unknown error status: "+H+" with message "+C.message),p=!0,f.wo(new D(q,de)),d.close()}else R(Wn,`RPC '${e}' stream ${r} received:`,w),f._o(w)}}),m(a,Khe.STAT_EVENT,y=>{y.stat===LN.PROXY?R(Wn,`RPC '${e}' stream ${r} detected buffering proxy`):y.stat===LN.NOPROXY&&R(Wn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.fo()},0),f}}function Qg(){return typeof document<"u"?document:null}function ip(n){return new afe(n,!0)}class N4{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&R("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class QL{constructor(e,t,i,r,o,s,a,l){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new N4(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return g(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(Ut(t.toString()),Ut("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===M.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new D(M.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jfe extends QL{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function ufe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:G(),r=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(Z(void 0===c||"string"==typeof c),cn.fromBase64String(c||"")):(Z(void 0===c||c instanceof Uint8Array),cn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=void 0===l.code?M.UNKNOWN:UF(l.code);return new D(c,l.message||"")}(s);t=new ZF(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=eo(n,i.document.name),o=Gt(i.document.updateTime),s=i.document.createTime?Gt(i.document.createTime):Y.min(),a=new Rn({mapValue:{fields:i.document.fields}}),l=mt.newFoundDocument(r,o,s,a);t=new Ng(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=eo(n,i.document),o=i.readTime?Gt(i.readTime):Y.min(),s=mt.newNoDocument(r,o);t=new Ng([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=eo(n,i.document);t=new Ng([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return G();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new tfe(r,o);t=new KF(i.targetId,s)}}var l;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Y.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?Gt(o.readTime):Y.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Wh(this.serializer),t.addTarget=function(r,o){let s;const a=o.target;if(s=Tg(a)?{documents:oL(r,a)}:{query:h4(r,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=JF(r,o.resumeToken);const l=l4(r,o.expectedCount);null!==l&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(Y.min())>0){s.readTime=$c(r,o.snapshotVersion.toTimestamp());const l=l4(r,o.expectedCount);null!==l&&(s.expectedCount=l)}return s}(this.serializer,e);const i=function hfe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Wh(this.serializer),t.removeTarget=e,this.Wo(t)}}class e1e extends QL{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function dfe(n,e){return n&&n.length>0?(Z(void 0!==e),n.map(t=>function(i,r){let o=Gt(i.updateTime?i.updateTime:r);return o.isEqual(Y.min())&&(o=Gt(r)),new Qpe(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Gt(e.commitTime);return this.listener.cu(i,t)}return Z(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Wh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Kh(n,e){let t;if(e instanceof qc)t={update:iL(n,e.key,e.value)};else if(e instanceof Uc)t={delete:Gh(n,e.key)};else if(e instanceof Ho)t={update:iL(n,e.key,e.data),updateMask:gfe(e.fieldMask)};else{if(!(e instanceof t4))return G();t={verify:Gh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const s=o.transform;if(s instanceof jc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof qa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ua)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof zc)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw G()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:lfe(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:G()),t;var r}(this.serializer,i))};this.Wo(t)}}class t1e extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new D(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new D(M.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new D(M.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class i1e{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ut(t),this.mu=!1):R("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class r1e{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{i.enqueueAndForget(g(function*(){var l;Ps(s)&&(R("RemoteStore","Restarting streams for network reachability change."),yield(l=g(function*(c){const u=B(c);u.vu.add(4),yield Qc(u),u.bu.set("Unknown"),u.vu.delete(4),yield rp(u)}),function(c){return l.apply(this,arguments)})(s))}))}),this.bu=new i1e(i,r)}}function rp(n){return L4.apply(this,arguments)}function L4(){return L4=g(function*(n){if(Ps(n))for(const e of n.Ru)yield e(!0)}),L4.apply(this,arguments)}function Qc(n){return V4.apply(this,arguments)}function V4(){return V4=g(function*(n){for(const e of n.Ru)yield e(!1)}),V4.apply(this,arguments)}function Xg(n,e){const t=B(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),j4(t)?H4(t):Jc(t).Ko()&&B4(t,e))}function op(n,e){const t=B(n),i=Jc(t);t.Au.delete(e),i.Ko()&&XL(t,e),0===t.Au.size&&(i.Ko()?i.jo():Ps(t)&&t.bu.set("Unknown"))}function B4(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jc(n).su(e)}function XL(n,e){n.Vu.qt(e),Jc(n).iu(e)}function H4(n){n.Vu=new ife({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Jc(n).start(),n.bu.gu()}function j4(n){return Ps(n)&&!Jc(n).Uo()&&n.Au.size>0}function Ps(n){return 0===B(n).vu.size}function JL(n){n.Vu=void 0}function o1e(n){return z4.apply(this,arguments)}function z4(){return z4=g(function*(n){n.Au.forEach((e,t)=>{B4(n,e)})}),z4.apply(this,arguments)}function s1e(n,e){return q4.apply(this,arguments)}function q4(){return q4=g(function*(n,e){JL(n),j4(n)?(n.bu.Iu(e),H4(n)):n.bu.set("Unknown")}),q4.apply(this,arguments)}function a1e(n,e,t){return U4.apply(this,arguments)}function U4(){return U4=g(function*(n,e,t){if(n.bu.set("Online"),e instanceof ZF&&2===e.state&&e.cause)try{yield(i=g(function*(r,o){const s=o.cause;for(const a of o.targetIds)r.Au.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.Au.delete(a),r.Vu.removeTarget(a))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Jg(n,i)}else if(e instanceof Ng?n.Vu.Ht(e):e instanceof KF?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Y.min()))try{const i=yield jL(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const s=r.Vu.ce(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.Au.get(l);c&&r.Au.set(l,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const c=r.Au.get(a);if(!c)return;r.Au.set(a,c.withResumeToken(cn.EMPTY_BYTE_STRING,c.snapshotVersion)),XL(r,a);const u=new jo(c.target,a,l,c.sequenceNumber);B4(r,u)}),r.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(i){R("RemoteStore","Failed to raise snapshot:",i),yield Jg(n,i)}var i}),U4.apply(this,arguments)}function Jg(n,e,t){return $4.apply(this,arguments)}function $4(){return $4=g(function*(n,e,t){if(!ws(e))throw e;n.vu.add(1),yield Qc(n),n.bu.set("Offline"),t||(t=()=>jL(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){R("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield rp(n)}))}),$4.apply(this,arguments)}function eV(n,e){return e().catch(t=>Jg(n,t,e))}function Xc(n){return G4.apply(this,arguments)}function G4(){return G4=g(function*(n){const e=B(n),t=Os(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;l1e(e);)try{const r=yield Gfe(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,c1e(e,r)}catch(r){yield Jg(e,r)}tV(e)&&nV(e)}),G4.apply(this,arguments)}function l1e(n){return Ps(n)&&n.Eu.length<10}function c1e(n,e){n.Eu.push(e);const t=Os(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function tV(n){return Ps(n)&&!Os(n).Uo()&&n.Eu.length>0}function nV(n){Os(n).start()}function u1e(n){return W4.apply(this,arguments)}function W4(){return W4=g(function*(n){Os(n).hu()}),W4.apply(this,arguments)}function d1e(n){return K4.apply(this,arguments)}function K4(){return K4=g(function*(n){const e=Os(n);for(const t of n.Eu)e.uu(t.mutations)}),K4.apply(this,arguments)}function h1e(n,e,t){return Z4.apply(this,arguments)}function Z4(){return Z4=g(function*(n,e,t){const i=n.Eu.shift(),r=r4.from(i,e,t);yield eV(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Xc(n)}),Z4.apply(this,arguments)}function p1e(n,e){return Y4.apply(this,arguments)}function Y4(){return Y4=g(function*(n,e){var t;e&&Os(n).ou&&(yield(t=g(function*(i,r){if(qF(o=r.code)&&o!==M.ABORTED){const s=i.Eu.shift();Os(i).Qo(),yield eV(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Xc(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),tV(n)&&nV(n)}),Y4.apply(this,arguments)}function iV(n,e){return Q4.apply(this,arguments)}function Q4(){return Q4=g(function*(n,e){const t=B(n);t.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const i=Ps(t);t.vu.add(3),yield Qc(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield rp(t)}),Q4.apply(this,arguments)}function J4(){return J4=g(function*(n,e){const t=B(n);e?(t.vu.delete(2),yield rp(t)):e||(t.vu.add(2),yield Qc(t),t.bu.set("Unknown"))}),J4.apply(this,arguments)}function Jc(n){return n.Su||(n.Su=function(e,t,i){const r=B(e);return r.fu(),new Jfe(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:o1e.bind(null,n),ao:s1e.bind(null,n),nu:a1e.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Su.Qo(),j4(n)?H4(n):n.bu.set("Unknown")):(yield n.Su.stop(),JL(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Os(n){return n.Du||(n.Du=function(e,t,i){const r=B(e);return r.fu(),new e1e(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:u1e.bind(null,n),ao:p1e.bind(null,n),au:d1e.bind(null,n),cu:h1e.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Du.Qo(),yield Xc(n)):(yield n.Du.stop(),n.Eu.length>0&&(R("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class eE{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new eE(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eu(n,e){if(Ut("AsyncQueue",`${e}: ${n}`),ws(n))return new D(M.UNAVAILABLE,`${e}: ${n}`);throw n}class tu{constructor(e){this.comparator=e?(t,i)=>e(t,i)||L.comparator(t.key,i.key):(t,i)=>L.comparator(t.key,i.key),this.keyedMap=Bh(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new tu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new tu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class rV{constructor(){this.Cu=new at(L.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):G():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class nu{constructor(e,t,i,r,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new nu(e,t,tu.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class f1e{constructor(){this.Nu=void 0,this.listeners=[]}}class m1e{constructor(){this.queries=new Bo(e=>xF(e),Lh),this.onlineState="Unknown",this.ku=new Set}}function nE(){return nE=g(function*(n,e){const t=B(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new f1e),r)try{o.Nu=yield t.onListen(i)}catch(s){const a=eu(s,`Initialization of query '${JC(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&oE(t)}),nE.apply(this,arguments)}function rE(){return rE=g(function*(n,e){const t=B(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),rE.apply(this,arguments)}function g1e(n,e){const t=B(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.$u(r)&&(i=!0);s.Nu=r}}i&&oE(t)}function y1e(n,e,t){const i=B(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function oE(n){n.ku.forEach(e=>{e.next()})}class sE{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new nu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class aV{constructor(e){this.key=e}}class lV{constructor(e){this.key=e}}class cV{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=_e(),this.mutatedKeys=_e(),this.tc=EF(e),this.ec=new tu(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new rV,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),p=Vh(this.query,d)?d:null,f=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?f!==m&&(i.track({type:3,doc:p}),y=!0):this.rc(h,p)||(i.track({type:2,doc:p}),y=!0,(l&&this.tc(p,l)>0||c&&this.tc(p,c)<0)&&(a=!0)):!h&&p?(i.track({type:0,doc:p}),y=!0):h&&!p&&(i.track({type:1,doc:h}),y=!0,(l||c)&&(a=!0)),y&&(p?(s=s.add(p),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{ec:s,ic:i,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,u)=>function(d,h){const p=f=>{switch(f){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return p(d)-p(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(i);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,0!==o.length||l?{snapshot:new nu(this.query,e.ec,r,o,e.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new rV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=_e(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new lV(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new aV(i))}),t}hc(e){this.Yu=e.ir,this.Zu=_e();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return nu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class k1e{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class b1e{constructor(e){this.key=e,this.fc=!1}}class w1e{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Bo(a=>xF(a),Lh),this._c=new Map,this.mc=new Set,this.gc=new at(L.comparator),this.yc=new Map,this.Ic=new k4,this.Tc={},this.Ec=new Map,this.Ac=Ya.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function M1e(n,e){return aE.apply(this,arguments)}function aE(){return aE=g(function*(n,e){const t=IE(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const s=yield Zc(t.localStore,si(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield lE(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&Xg(t.remoteStore,s)}return r}),aE.apply(this,arguments)}function lE(n,e,t,i,r){return cE.apply(this,arguments)}function cE(){return cE=g(function*(n,e,t,i,r){n.Rc=(d,h,p)=>{return(f=g(function*(m,y,k,w){let v=y.view.sc(k);v.zi&&(v=yield Wg(m.localStore,y.query,!1).then(({documents:q})=>y.view.sc(q,v)));const C=w&&w.targetChanges.get(y.targetId),H=y.view.applyChanges(v,m.isPrimaryClient,C);return vE(m,y.targetId,H.cc),H.snapshot}),function(m,y,k,w){return f.apply(this,arguments)})(n,d,h,p);var f};const o=yield Wg(n.localStore,e,!0),s=new cV(e,o.ir),a=s.sc(o.documents),l=$h.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);vE(n,t,c.cc);const u=new k1e(e,t,s);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),cE.apply(this,arguments)}function x1e(n,e){return uE.apply(this,arguments)}function uE(){return uE=g(function*(n,e){const t=B(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!Lh(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Yc(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),op(t.remoteStore,i.targetId),iu(t,i.targetId)}).catch(bs))):(iu(t,i.targetId),yield Yc(t.localStore,i.targetId,!0))}),uE.apply(this,arguments)}function dE(){return dE=g(function*(n,e,t){const i=AE(n);try{const r=yield function(o,s){const a=B(o),l=kt.now(),c=s.reduce((h,p)=>h.add(p.key),_e());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=wi(),f=_e();return a.Zi.getEntries(h,c).next(m=>{p=m,p.forEach((y,k)=>{k.isValidDocument()||(f=f.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(m=>{u=m;const y=[];for(const k of s){const w=Jpe(k,u.get(k.key).overlayedDocument);null!=w&&y.push(new Ho(k.key,w,uF(w.value.mapValue),bt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,y,s)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(u,f);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:SF(u)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,s,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new at(se)),l=l.insert(s,a),o.Tc[o.currentUser.toKey()]=l}(i,r.batchId,t),yield zo(i,r.changes),yield Xc(i.remoteStore)}catch(r){const o=eu(r,"Failed to persist write");t.reject(o)}}),dE.apply(this,arguments)}function uV(n,e){return hE.apply(this,arguments)}function hE(){return hE=g(function*(n,e){const t=B(n);try{const i=yield $fe(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.yc.get(o);s&&(Z(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.fc=!0:r.modifiedDocuments.size>0?Z(s.fc):r.removedDocuments.size>0&&(Z(s.fc),s.fc=!1))}),yield zo(t,i,e)}catch(i){yield bs(i)}}),hE.apply(this,arguments)}function dV(n,e,t){const i=B(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&r.push(a.snapshot)}),function(o,s){const a=B(o);a.onlineState=s;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(s)&&(l=!0)}),l&&oE(a)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function E1e(n,e,t){return pE.apply(this,arguments)}function pE(){return pE=g(function*(n,e,t){const i=B(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let s=new at(L.comparator);s=s.insert(o,mt.newNoDocument(o,Y.min()));const a=_e().add(o),l=new Uh(Y.min(),new Map,new at(se),s,a);yield uV(i,l),i.gc=i.gc.remove(o),i.yc.delete(e),kE(i)}else yield Yc(i.localStore,e,!1).then(()=>iu(i,e,t)).catch(bs)}),pE.apply(this,arguments)}function T1e(n,e){return fE.apply(this,arguments)}function fE(){return fE=g(function*(n,e){const t=B(n),i=e.batch.batchId;try{const r=yield Ufe(t.localStore,e);_E(t,i,null),yE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield zo(t,r)}catch(r){yield bs(r)}}),fE.apply(this,arguments)}function S1e(n,e,t){return mE.apply(this,arguments)}function mE(){return mE=g(function*(n,e,t){const i=B(n);try{const r=yield function(o,s){const a=B(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,s).next(u=>(Z(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(i.localStore,e);_E(i,e,t),yE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield zo(i,r)}catch(r){yield bs(r)}}),mE.apply(this,arguments)}function yE(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function _E(n,e,t){const i=B(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function iu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||hV(n,i)})}function hV(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(op(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),kE(n))}function vE(n,e,t){for(const i of t)i instanceof aV?(n.Ic.addReference(i.key,e),I1e(n,i)):i instanceof lV?(R("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||hV(n,i.key)):G()}function I1e(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(R("SyncEngine","New document in limbo: "+t),n.mc.add(i),kE(n))}function kE(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new L(Ne.fromString(e)),i=n.Ac.next();n.yc.set(i,new b1e(t)),n.gc=n.gc.insert(t,i),Xg(n.remoteStore,new jo(si(Hc(t.path)),i,"TargetPurposeLimboResolution",Hi.ct))}}function zo(n,e,t){return bE.apply(this,arguments)}function bE(){return bE=g(function*(n,e,t){const i=B(n),r=[],o=[],s=[];var a;i.wc.isEmpty()||(i.wc.forEach((a,l)=>{s.push(i.Rc(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=C4.Li(l.targetId,c);o.push(u)}}))}),yield Promise.all(s),i.dc.nu(r),yield(a=g(function*(l,c){const u=B(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(c,h=>b.forEach(h.Fi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>b.forEach(h.Bi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!ws(d))throw d;R("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.Ji.get(h),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);u.Ji=u.Ji.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(i.localStore,o))}),bE.apply(this,arguments)}function A1e(n,e){return wE.apply(this,arguments)}function wE(){return wE=g(function*(n,e){const t=B(n);if(!t.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());const i=yield HL(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new D(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield zo(t,i.er)}var r}),wE.apply(this,arguments)}function R1e(n,e){const t=B(n),i=t.yc.get(e);if(i&&i.fc)return _e().add(i.key);{let r=_e();const o=t._c.get(e);if(!o)return r;for(const s of o){const a=t.wc.get(s);r=r.unionWith(a.view.nc)}return r}}function IE(n){const e=B(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R1e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E1e.bind(null,e),e.dc.nu=g1e.bind(null,e.eventManager),e.dc.Pc=y1e.bind(null,e.eventManager),e}function AE(n){const e=B(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T1e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S1e.bind(null,e),e}class ey{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.serializer=ip(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function BL(n,e,t,i){return new qfe(n,e,t,i)}(this.persistence,new VL,e.initialUser,this.serializer)}createPersistence(e){return new b4(Ug.zs,this.serializer)}createSharedClientState(e){return new KL}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ru{initialize(e,t){var i=this;return g(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>dV(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=A1e.bind(null,i.syncEngine),yield function X4(n,e){return J4.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new m1e}createDatastore(e){const t=ip(e.databaseInfo.databaseId),i=new Xfe(e.databaseInfo);return new t1e(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=a=>dV(this.syncEngine,a,0),s=ZL.D()?new ZL:new Zfe,new r1e(t,i,r,o,s);var t,i,r,o,s}createSyncEngine(e,t){return function(i,r,o,s,a,l,c){const u=new w1e(i,r,o,s,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const i=B(t);R("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Qc(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class ty{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ut("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class $1e{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=vn.UNAUTHENTICATED,this.clientId=jN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=g(function*(a){R("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(R("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=eu(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function ny(n,e){return RE.apply(this,arguments)}function RE(){return RE=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=g(function*(o){i.isEqual(o)||(yield HL(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),RE.apply(this,arguments)}function PE(n,e){return OE.apply(this,arguments)}function OE(){return OE=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield NE(n);R("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>iV(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>iV(e.remoteStore,o)),n._onlineComponents=e}),OE.apply(this,arguments)}function _V(n){return"FirebaseError"===n.name?n.code===M.FAILED_PRECONDITION||n.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function NE(n){return FE.apply(this,arguments)}function FE(){return FE=g(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ny(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!_V(t))throw t;Er("Error using user provided cache. Falling back to memory cache: "+t),yield ny(n,new ey)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield ny(n,new ey);return n._offlineComponents}),FE.apply(this,arguments)}function iy(n){return LE.apply(this,arguments)}function LE(){return LE=g(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield PE(n,n._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield PE(n,new ru))),n._onlineComponents}),LE.apply(this,arguments)}function ou(n){return BE.apply(this,arguments)}function BE(){return BE=g(function*(n){const e=yield iy(n),t=e.eventManager;return t.onListen=M1e.bind(null,e.syncEngine),t.onUnlisten=x1e.bind(null,e.syncEngine),t}),BE.apply(this,arguments)}function xV(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const CV=new Map;function HE(n,e,t){if(!t)throw new D(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EV(n){if(!L.isDocumentKey(n))throw new D(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TV(n){if(L.isDocumentKey(n))throw new D(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":G()}function Pe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new D(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=oy(n);throw new D(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class DV{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new D(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function eme(n,e,t,i){if(!0===e&&!0===i)throw new D(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=xV(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new D(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new D(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new D(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sp{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new D(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Xhe;switch(t.type){case"firstParty":return new npe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new D(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=CV.get(e);t&&(R("ComponentProvider","Removing Datastore"),CV.delete(e),t.terminate())}(this),Promise.resolve()}}class Wt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class Pn{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Pn(this.firestore,e,this._query)}}class to extends Pn{constructor(e,t,i){super(e,t,Hc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new L(e))}withConverter(e){return new to(this.firestore,e,this._path)}}function nme(n,e,...t){if(n=ut(n),HE("collection","path",e),n instanceof sp){const i=Ne.fromString(e,...t);return TV(i),new to(n,null,i)}{if(!(n instanceof Wt||n instanceof to))throw new D(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ne.fromString(e,...t));return TV(i),new to(n.firestore,null,i)}}function IV(n,e,...t){if(n=ut(n),1===arguments.length&&(e=jN.A()),HE("doc","path",e),n instanceof sp){const i=Ne.fromString(e,...t);return EV(i),new Wt(n,null,new L(i))}{if(!(n instanceof Wt||n instanceof to))throw new D(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ne.fromString(e,...t));return EV(i),new Wt(n.firestore,n instanceof to?n.converter:null,new L(i))}}class ime{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new N4(this,"async_queue_retry"),this.Xc=()=>{const t=Qg();t&&R("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Qg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Qg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ln;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ws(t))throw t;R("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Ut("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=eE.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&G()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function jE(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class gt extends sp{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new ime,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||RV(this),this._firestoreClient.terminate()}}function ome(n,e){const i="string"==typeof n?n:e||"(default)",r=_a("object"==typeof n?n:N1(),"firestore").getImmediate({identifier:i});if(!r._initialized){const o=J8("firestore");o&&function tme(n,e,t,i={}){var r;const o=(n=Pe(n,sp))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Er("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=vn.MOCK_USER;else{a=n7(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new D(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new vn(c)}n._authCredentials=new Jhe(new BN(a,l))}}(r,...o)}return r}function en(n){return n._firestoreClient||RV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function RV(n){var e,t,i;const r=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Rpe(n._databaseId,a,n._persistenceKey,(c=r).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,xV(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new $1e(n._authCredentials,n._appCheckCredentials,n._queue,o),(null===(t=r.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class Xa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xa(cn.fromBase64String(e))}catch(t){throw new D(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xa(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class su{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new D(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zE{constructor(e){this._methodName=e}}class qE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}}const ame=/^__.*__$/;class lme{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ho(e,this.data,this.fieldMask,t,this.fieldTransforms):new qc(e,this.data,t,this.fieldTransforms)}}class NV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ho(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class sy{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new sy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ly(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(FV(this.ca)&&ame.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class cme{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ip(e)}ya(e,t,i,r=!1){return new sy({ca:e,methodName:t,ga:i,path:$t.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function au(n){const e=n._freezeSettings(),t=ip(n._databaseId);return new cme(n._databaseId,!!e.ignoreUndefinedProperties,t)}function UE(n,e,t,i,r,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,r);GE("Data must be an object, but it was:",s,i);const a=jV(i,s);let l,c;if(o.merge)l=new bi(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=cp(e,d,t);if(!s.contains(h))throw new D(M.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);qV(u,h)||u.push(h)}l=new bi(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new lme(new Rn(a),l,c)}class lp extends zE{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lp}}function Ja(n,e){if(zV(n=ut(n)))return GE("Unsupported field value:",e,n),jV(n,e);if(n instanceof zE)return function(t,i){if(!FV(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const s of t){let a=Ja(s,i.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=ut(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return RF(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=kt.fromDate(t);return{timestampValue:$c(i.serializer,r)}}if(t instanceof kt){const r=new kt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$c(i.serializer,r)}}if(t instanceof qE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xa)return{bytesValue:JF(i.serializer,t._byteString)};if(t instanceof Wt){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:c4(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${oy(t)}`)}(n,e)}function jV(n,e){const t={};return tF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(n,(i,r)=>{const o=Ja(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function zV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof qE||n instanceof Xa||n instanceof Wt||n instanceof zE)}function GE(n,e,t){if(!zV(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=oy(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function cp(n,e,t){if((e=ut(e))instanceof su)return e._internalPath;if("string"==typeof e)return ay(n,e);throw ly("Field path arguments must be of type string or ",n,!1,void 0,t)}const pme=new RegExp("[~\\*/\\[\\]]");function ay(n,e,t){if(e.search(pme)>=0)throw ly(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new su(...e.split("."))._internalPath}catch{throw ly(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ly(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new D(M.INVALID_ARGUMENT,a+n+l)}function qV(n,e){return n.some(t=>t.isEqual(e))}class WE{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new fme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class fme extends WE{data(){return super.data()}}function cy(n,e){return"string"==typeof e?ay(n,e):e instanceof su?e._internalPath:e._delegate._internalPath}class KE{}class $V extends KE{}function mme(n,e,...t){let i=[];e instanceof KE&&i.push(e),i=i.concat(t),function(r){const o=r.filter(a=>a instanceof lu).length,s=r.filter(a=>a instanceof up).length;if(o>1||o>0&&s>0)throw new D(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class up extends $V{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new up(e,t,i)}_apply(e){const t=this._parse(e);return ZV(e._query,t),new Pn(e.firestore,e.converter,XC(e._query,t))}_parse(e){const t=au(e.firestore);return function(r,o,s,a,l,c,u){let d;if(l.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new D(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){KV(u,c);const h=[];for(const p of u)h.push(WV(a,r,p));d={arrayValue:{values:h}}}else d=WV(a,r,u)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||KV(u,c),d=function HV(n,e,t,i=!1){return Ja(t,n.ya(i?4:3,e))}(s,"where",u,"in"===c||"not-in"===c);return Se.create(l,c,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function gme(n,e,t){const i=e,r=cy("where",n);return up._create(r,i,t)}class lu extends KE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lu(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Xe.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const s=r.getFlattenedFilters();for(const a of s)ZV(o,a),o=XC(o,a)}(e._query,t),new Pn(e.firestore,e.converter,XC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ZE extends $V{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ZE(e,t)}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new D(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new D(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new Vc(r,o);return function(a,l){if(null===YC(a)){const c=Dg(a);null!==c&&YV(0,c,l.field)}}(i,s),s}(e._query,this._field,this._direction);return new Pn(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Vo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function yme(n,e="asc"){const t=e,i=cy("orderBy",n);return ZE._create(i,t)}function WV(n,e,t){if("string"==typeof(t=ut(t))){if(""===t)throw new D(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QC(e)&&-1!==t.indexOf("/"))throw new D(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ne.fromString(t));if(!L.isDocumentKey(i))throw new D(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ha(n,new L(i))}if(t instanceof Wt)return Ha(n,t._key);throw new D(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oy(t)}.`)}function KV(n,e){if(!Array.isArray(n)||0===n.length)throw new D(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZV(n,e){if(e.isInequality()){const i=Dg(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new D(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=YC(n);null!==o&&YV(0,r,o)}const t=function(i,r){for(const o of i)for(const s of o.getFlattenedFilters())if(r.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new D(M.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function YV(n,e,t){if(!t.isEqual(e))throw new D(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}function YE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class el{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cu extends WE{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new py(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(cy("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class py extends cu{data(e={}){return super.data(e)}}class uu{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new el(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new py(this._firestore,this._userDataWriter,i.key,i,new el(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new D(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>({type:"added",doc:new py(i._firestore,i._userDataWriter,s.doc.key,s.doc,new el(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>r||3!==s.type).map(s=>{const a=new py(i._firestore,i._userDataWriter,s.doc.key,s.doc,new el(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return 0!==s.type&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:kme(s.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kme(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}class Ns extends class _me{convertValue(e,t="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw G()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ms(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new qE(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Mg(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Rh(e));default:return null}}convertTimestamp(e){const t=xs(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ne.fromString(e);Z(cL(i));const r=new Ba(i.get(1),i.get(3)),o=new L(i.popFirst(5));return r.isEqual(t)||Ut(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,t)}}function bme(n,e,t){n=Pe(n,Wt);const i=Pe(n.firestore,gt),r=YE(n.converter,e,t);return dp(i,[UE(au(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,bt.none())])}function wme(n,e,t,...i){n=Pe(n,Wt);const r=Pe(n.firestore,gt),o=au(r);let s;return s="string"==typeof(e=ut(e))||e instanceof su?function BV(n,e,t,i,r,o){const s=n.ya(1,e,t),a=[cp(e,i,t)],l=[r];if(o.length%2!=0)throw new D(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(cp(e,o[h])),l.push(o[h+1]);const c=[],u=Rn.empty();for(let h=a.length-1;h>=0;--h)if(!qV(c,a[h])){const p=a[h];let f=l[h];f=ut(f);const m=s.da(p);if(f instanceof lp)c.push(p);else{const y=Ja(f,m);null!=y&&(c.push(p),u.set(p,y))}}const d=new bi(c);return new NV(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,i):function VV(n,e,t,i){const r=n.ya(1,e,t);GE("Data must be an object, but it was:",r,i);const o=[],s=Rn.empty();Ms(i,(l,c)=>{const u=ay(e,l,t);c=ut(c);const d=r.da(u);if(c instanceof lp)o.push(u);else{const h=Ja(c,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new bi(o);return new NV(s,a,r.fieldTransforms)}(o,"updateDoc",n._key,e),dp(r,[s.toMutation(n._key,bt.exists(!0))])}function Mme(n,e){const t=Pe(n.firestore,gt),i=IV(n),r=YE(n.converter,e);return dp(t,[UE(au(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,bt.exists(!1))]).then(()=>i)}function dp(n,e){return function(t,i){const r=new ln;return t.asyncQueue.enqueueAndForget(g(function*(){return function C1e(n,e,t){return dE.apply(this,arguments)}(yield function VE(n){return iy(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(en(n),e)}!function(n,e=!0){Oc="9.23.0",zn(new Cn("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),s=new gt(new epe(t.getProvider("auth-internal")),new ipe(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new D(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(a.options.projectId,l)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),dt(VN,"3.13.0",n),dt(VN,"3.13.0","esm2017")}();var Fme={includeMetadataChanges:!1};function XE(n,e){return void 0===e&&(e=Fme),new Ue(function(t){var i=function xme(n,...e){var t,i,r;n=ut(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||jE(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(jE(e[s])){const d=e[s];e[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[s+1]=null===(i=d.error)||void 0===i?void 0:i.bind(d),e[s+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}let l,c,u;if(n instanceof Wt)c=Pe(n.firestore,gt),u=Hc(n._key.path),l={next:d=>{e[s]&&e[s](function QE(n,e,t){const i=t.docs.get(e._key),r=new Ns(n);return new cu(n,r,e._key,i,new el(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[s+1],complete:e[s+2]};else{const d=Pe(n,Pn);c=Pe(d.firestore,gt),u=d._query;const h=new Ns(c);l={next:p=>{e[s]&&e[s](new uu(c,h,d,p))},error:e[s+1],complete:e[s+2]},function UV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new D(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,p,f){const m=new ty(f),y=new sE(h,m,p);return d.asyncQueue.enqueueAndForget(g(function*(){return function tE(n,e){return nE.apply(this,arguments)}(yield ou(d),y)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return function iE(n,e){return rE.apply(this,arguments)}(yield ou(d),y)}))}}(en(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function Vme(n,e){return void 0===e&&(e={}),function Lme(n){return XE(n,{includeMetadataChanges:!0})}(n).pipe(Q(function(t){return JV(t,e)}))}function JV(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}function Ume(n,e){return void 0===e&&(e={}),function qme(n){return XE(n,{includeMetadataChanges:!0}).pipe(Q(function(e){return e.docs}))}(n).pipe(Q(function(t){return t.map(function(i){return JV(i,e)})}))}class hp{constructor(e){return e}}const iB="firestore",t5=new P("angularfire2.firestore-instances");function Wme(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new hp(i)}}const Kme={provide:class $me{constructor(){return G1(iB)}},deps:[[new vt,t5]]},Zme={provide:hp,useFactory:function Gme(n,e){const t=$1(iB,n,e);return t&&new hp(t)},deps:[[new vt,t5],Ca]};let Yme=(()=>{class n{constructor(){dt("angularfire",Id.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({providers:[Zme,Kme]}),n})();function Qme(n,...e){return{ngModule:Yme,providers:[{provide:t5,useFactory:Wme(n),multi:!0,deps:[oe,Rt,W1,K1,[new vt,kx],[new vt,nm],...e]}]}}const n5=zt(Ume,!0),Xme=zt(Vme,!0),rB=zt(Mme,!0),pp=zt(nme,!0),my=zt(IV,!0),Jme=zt(ome,!0),ege=zt(yme,!0),r5=zt(mme,!0),tge=zt(bme,!0),oB=zt(wme,!0),nge=zt(gme,!0);let o5,du=(()=>{class n{constructor(t,i){this.firestore=t,this.authService=i}get currentUserProfile$(){return this.authService.currentUser$.pipe(qt(t=>{if(!t?.uid)return W(null);const i=my(this.firestore,"users",t?.uid);return Xme(i)}))}get allUsers$(){const t=pp(this.firestore,"users"),i=r5(t);return n5(i)}addUser(t){const i=my(this.firestore,"users",t.uid);return We(tge(i,t))}updateUser(t){const i=my(this.firestore,"users",t.uid);return We(oB(i,{...t}))}}return n.\u0275fac=function(t){return new(t||n)(x(hp),x(bm))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{o5=typeof Intl<"u"&&Intl.v8BreakIterator}catch{o5=!1}let hu,ai=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function UJ(n){return n===T8}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!o5)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(x(lc))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function aB(){if(hu)return hu;if("object"!=typeof document||!document)return hu=new Set(sB),hu;let n=document.createElement("input");return hu=new Set(sB.filter(e=>(n.setAttribute("type",e),n.type===e))),hu}let fp,tl,s5;function pu(n){return function ige(){if(null==fp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fp=!0}))}finally{fp=fp||!1}return fp}()?n:!!n.capture}function rge(){if(null==tl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return tl=!1,tl;if("scrollBehavior"in document.documentElement.style)tl=!0;else{const n=Element.prototype.scrollTo;tl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return tl}function Fs(n){return n.composedPath?n.composedPath()[0]:n.target}function a5(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ls(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function h5(n,e=U1){return Mt((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(new it(i,c=>{o=c,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function uB(n){return Xt((e,t)=>n<=t)}function _ge(n,e){return n===e}function Mi(n){return Mt((e,t)=>{Yn(n).subscribe(new it(t,()=>t.complete(),yl)),!t.closed&&e.subscribe(t)})}function yt(n){return null!=n&&"false"!=`${n}`}function vy(n){return Array.isArray(n)?n:[n]}function tn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function qo(n){return n instanceof De?n.nativeElement:n}let dB=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wge=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=qo(t);return new Ue(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new ke,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(x(dB))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mge=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new we,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=yt(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function vge(n,e=0){return function kge(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(h5(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(_(wge),_(De),_(oe))},n.\u0275dir=$({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),hB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({providers:[dB]}),n})();const pB=new Set;let fu,xge=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ege}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Cge(n){if(!pB.has(n))try{fu||(fu=document.createElement("style"),fu.setAttribute("type","text/css"),document.head.appendChild(fu)),fu.sheet&&(fu.sheet.insertRule(`@media ${n} {body{ }}`,0),pB.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(x(ai))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ege(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Tge=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new ke}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return fB(vy(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=_c(fB(vy(t)).map(s=>this._registerQuery(s).observable));return o=Gd(o.pipe(Bt(1)),o.pipe(uB(1),h5(0))),o.pipe(Q(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Ue(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(er(i),Q(({matches:s})=>({query:t,matches:s})),Mi(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(x(xge),x(oe))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fB(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class yB{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ke,this._typeaheadSubscription=ct.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new ke,this.change=new ke,e instanceof rc&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ht(t=>this._pressedLetters.push(t)),h5(e),Xt(()=>this._pressedLetters.length>0),Q(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Ls(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof rc?this._items.toArray():this._items}}class Ige extends yB{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class _B extends yB{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function p5(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function f5(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Fge=new P("cdk-input-modality-detector-options"),Lge={ignoreKeys:[18,17,224,91,16]},mu=pu({passive:!0,capture:!0});let Vge=(()=>{class n{constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Ji(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Fs(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(p5(s)?"keyboard":"mouse"),this._mostRecentTarget=Fs(s))},this._onTouchstart=s=>{f5(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Fs(s))},this._options={...Lge,...o},this.modalityDetected=this._modality.pipe(uB(1)),this.modalityChanged=this.modalityDetected.pipe(function yge(n,e=Zo){return n=n??_ge,Mt((t,i)=>{let r,o=!0;t.subscribe(new it(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,mu),r.addEventListener("mousedown",this._onMousedown,mu),r.addEventListener("touchstart",this._onTouchstart,mu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,mu),document.removeEventListener("mousedown",this._onMousedown,mu),document.removeEventListener("touchstart",this._onTouchstart,mu))}}return n.\u0275fac=function(t){return new(t||n)(x(ai),x(oe),x(xe),x(Fge,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hge=new P("cdk-focus-monitor-default-options"),ky=pu({passive:!0,capture:!0});let gp=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ke,this._rootNodeFocusAndBlurListener=a=>{for(let c=Fs(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=qo(t);if(!this._platform.isBrowser||1!==r.nodeType)return W(null);const o=function sge(n){if(function oge(){if(null==s5){const n=typeof document<"u"?document.head:null;s5=!(!n||!n.createShadowRoot&&!n.attachShadow)}return s5}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new ke,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=qo(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=qo(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Fs(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ky),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ky)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Mi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ky),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ky),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(x(oe),x(ai),x(Vge),x(xe,8),x(Hge,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bB="cdk-high-contrast-black-on-white",wB="cdk-high-contrast-white-on-black",m5="cdk-high-contrast-active";let MB=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=ot(Tge).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(m5,bB,wB),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(m5,bB):2===i&&t.add(m5,wB)}}}return n.\u0275fac=function(t){return new(t||n)(x(ai),x(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jge=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(x(MB))},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[hB]}),n})();const zge=new P("cdk-dir-doc",{providedIn:"root",factory:function qge(){return ot(xe)}}),Uge=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let by=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new we,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function $ge(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Uge.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(x(zge,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({}),n})();function Gge(n,e){if(1&n&&le(0,"mat-pseudo-checkbox",4),2&n){const t=ce();O("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function Wge(n,e){if(1&n&&(E(0,"span",5),I(1),A()),2&n){const t=ce();N(1),os("(",t.group.label,")")}}const Kge=["*"],Yge=new P("mat-sanity-checks",{providedIn:"root",factory:function Zge(){return!0}});let nt=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!a5()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(x(MB),x(Yge,8),x(xe))},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[yp,yp]}),n})();function EB(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=yt(e)}}}function wy(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function gu(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=yt(e)}}}function Qge(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}let TB=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function _p(n,e,t){n.nativeElement.classList.toggle(e,t)}let DB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[nt,nt]}),n})();class eye{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const IB={enterDuration:225,exitDuration:150},g5=pu({passive:!0}),AB=["mousedown","touchstart"],RB=["mouseup","mouseleave","touchend","touchcancel"];class nye{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=qo(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...IB,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function iye(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),p=d.transitionDuration,f="none"===d.transitionProperty||"0s"===p||"0s, 0s"===p,m=new eye(this,u,i,f);u.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);let y=null;return!f&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(m),w=()=>this._destroyRipple(m);u.addEventListener("transitionend",k),u.addEventListener("transitioncancel",w),y={onTransitionEnd:k,onTransitionCancel:w}}),this._activeRipples.set(m,y),(f||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...IB,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=qo(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(AB))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(RB),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=p5(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!f5(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,g5)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(AB.forEach(e=>{this._triggerElement.removeEventListener(e,this,g5)}),this._pointerUpEventsRegistered&&RB.forEach(e=>{this._triggerElement.removeEventListener(e,this,g5)}))}}const rye=new P("mat-ripple-global-options");let yu=(()=>{class n{constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new nye(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(oe),_(ai),_(rye,8),_(ua,8))},n.\u0275dir=$({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&Ht("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),vp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[nt,nt]}),n})(),PB=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(_(ua,8))},n.\u0275cmp=Ve({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&Ht("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),y5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[nt]}),n})();const OB=new P("MAT_OPTION_PARENT_COMPONENT"),NB=new P("MatOptgroup");let oye=0;class FB{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let sye=(()=>{class n{constructor(t,i,r,o){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+oye++,this.onSelectionChange=new we,this._stateChanges=new ke}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=yt(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Ls(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new FB(this,t))}}return n.\u0275fac=function(t){Af()},n.\u0275dir=$({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),LB=(()=>{class n extends sye{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(xn),_(OB,8),_(NB,8))},n.\u0275cmp=Ve({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&Ee("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&t&&(Uf("id",i.id),Ye("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),Ht("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[fe],ngContentSelectors:Kge,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(mi(),te(0,Gge,1,2,"mat-pseudo-checkbox",0),E(1,"span",1),xt(2),A(),te(3,Wge,2,1,"span",2),le(4,"div",3)),2&t&&(O("ngIf",i.multiple),N(3),O("ngIf",i.group&&i.group._inert),N(1),O("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[yu,Fi,PB],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})(),VB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[vp,as,nt,y5]}),n})();const cye=["*",[["mat-toolbar-row"]]],uye=["*","mat-toolbar-row"],dye=wy(class{constructor(n){this._elementRef=n}});let hye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),pye=(()=>{class n extends dye{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(ai),_(xe))},n.\u0275cmp=Ve({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&Ct(r,hye,5),2&t){let o;Ie(o=Ae())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&Ht("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[fe],ngContentSelectors:uye,decls:2,vars:0,template:function(t,i){1&t&&(mi(cye),xt(0),xt(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),fye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[nt,nt]}),n})();function BB(...n){const e=_T(n),{args:t,keys:i}=o9(n),r=new Ue(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;Yn(t[u]).subscribe(new it(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?s9(i,a):a),o.complete())}))}});return e?r.pipe(wx(e)):r}class mye{}class Vs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Vs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Vs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Vs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class gye{encodeKey(e){return HB(e)}encodeValue(e){return HB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const _ye=/%(\d[a-f0-9])/gi,vye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function HB(n){return encodeURIComponent(n).replace(_ye,(e,t)=>vye[t]??e)}function My(n){return`${n}`}class Bs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new gye,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yye(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(My):[My(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Bs({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(My(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(My(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class kye{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function jB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function zB(n){return typeof Blob<"u"&&n instanceof Blob}function qB(n){return typeof FormData<"u"&&n instanceof FormData}class kp{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function bye(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Vs),this.context||(this.context=new kye),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Bs,this.urlWithParams=t}serializeBody(){return null===this.body?null:jB(this.body)||zB(this.body)||qB(this.body)||function wye(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qB(this.body)?null:zB(this.body)?this.body.type||null:jB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new kp(t,i,o,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var On=(()=>((On=On||{})[On.Sent=0]="Sent",On[On.UploadProgress=1]="UploadProgress",On[On.ResponseHeader=2]="ResponseHeader",On[On.DownloadProgress=3]="DownloadProgress",On[On.Response=4]="Response",On[On.User=5]="User",On))();class _5 extends class Mye{constructor(e,t=200,i="OK"){this.headers=e.headers||new Vs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=On.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new _5({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function v5(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $B=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof kp)o=t;else{let l,c;l=r.headers instanceof Vs?r.headers:new Vs(r.headers),r.params&&(c=r.params instanceof Bs?r.params:new Bs({fromObject:r.params})),o=new kp(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=W(o).pipe(tr(l=>this.handler.handle(l)));if(t instanceof kp||"events"===r.observe)return s;const a=s.pipe(Xt(l=>l instanceof _5));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Q(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Q(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Q(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Q(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Bs).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,v5(r,i))}post(t,i,r={}){return this.request("POST",t,v5(r,i))}put(t,i,r={}){return this.request("PUT",t,v5(r,i))}}return n.\u0275fac=function(t){return new(t||n)(x(mye))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const Cye=["*"];let xy;function bp(n){return function Eye(){if(void 0===xy&&(xy=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(xy=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return xy}()?.createHTML(n)||n}function GB(n){return Error(`Unable to find icon with the name "${n}"`)}function WB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function KB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class nl{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Cy=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new nl(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const s=this._sanitizer.sanitize(qe.HTML,r);if(!s)throw KB(r);const a=bp(s);return this._addSvgIconConfig(t,i,new nl("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new nl(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(qe.HTML,i);if(!o)throw KB(i);const s=bp(o);return this._addSvgIconSetConfig(t,new nl("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(qe.RESOURCE_URL,t);if(!i)throw WB(t);const r=this._cachedIconsByUrl.get(i);return r?W(Ey(r)):this._loadSvgIconFromConfig(new nl(t,null)).pipe(ht(o=>this._cachedIconsByUrl.set(i,o)),Q(o=>Ey(o)))}getNamedSvgIcon(t,i=""){const r=ZB(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):vc(GB(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?W(Ey(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Q(i=>Ey(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?W(r):BB(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Ao(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(qe.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),W(null)})))).pipe(Q(()=>{const s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw GB(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(ht(i=>t.svgText=i),Q(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?W(null):this._fetchIcon(t).pipe(ht(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(bp("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(bp("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function Tye(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(qe.RESOURCE_URL,i);if(!s)throw WB(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Q(c=>bp(c)),xm(()=>this._inProgressUrlFetches.delete(s)),kT());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(ZB(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return Dye(o)?new nl(o.url,null,o.options):new nl(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(x($B,8),x(Av),x(xe,8),x(po))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ey(n){return n.cloneNode(!0)}function ZB(n,e){return n+":"+e}function Dye(n){return!(!n.url||!n.options)}const Iye=wy(class{constructor(n){this._elementRef=n}}),Aye=new P("MAT_ICON_DEFAULT_OPTIONS"),Rye=new P("mat-icon-location",{providedIn:"root",factory:function Pye(){const n=ot(xe),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),YB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Oye=YB.map(n=>`[${n}]`).join(", "),Nye=/^url\(['"]?#(.*?)['"]?\)$/;let k5=(()=>{class n extends Iye{constructor(t,i,r,o,s,a){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ct.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=yt(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Oye),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)YB.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(Nye):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Bt(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(Cy),es("aria-hidden"),_(Rye),_(po),_(Aye,8))},n.\u0275cmp=Ve({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(Ye("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),Ht("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[fe],ngContentSelectors:Cye,decls:1,vars:0,template:function(t,i){1&t&&(mi(),xt(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Fye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[nt,nt]}),n})();const Lye=["mat-button",""],Vye=["*"],Hye=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],jye=wy(EB(gu(class{constructor(n){this._elementRef=n}})));let b5,wp=(()=>{class n extends jye{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of Hye)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(gp),_(ua,8))},n.\u0275cmp=Ve({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&Ni(yu,5),2&t){let r;Ie(r=Ae())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(Ye("disabled",i.disabled||null),Ht("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[fe],attrs:Lye,ngContentSelectors:Vye,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(mi(),E(0,"span",0),xt(1),A(),le(2,"span",1)(3,"span",2)),2&t&&(N(2),Ht("mat-button-ripple-round",i.isRoundButton||i.isIconButton),O("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[yu],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),zye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[vp,nt,nt]}),n})(),qye=1;const Ty={};function QB(n){return n in Ty&&(delete Ty[n],!0)}const Uye={setImmediate(n){const e=qye++;return Ty[e]=!0,b5||(b5=Promise.resolve()),b5.then(()=>QB(e)&&n()),e},clearImmediate(n){QB(n)}},{setImmediate:$ye,clearImmediate:Gye}=Uye,Sy={setImmediate(...n){const{delegate:e}=Sy;return(e?.setImmediate||$ye)(...n)},clearImmediate(n){const{delegate:e}=Sy;return(e?.clearImmediate||Gye)(n)},delegate:void 0},w5=new class Kye extends q1{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;e=e||t.shift();const o=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++r<o&&(e=t.shift()));if(this._active=!1,i){for(;++r<o&&(e=t.shift());)e.unsubscribe();throw i}}}(class Wye extends z1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Sy.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(Sy.clearImmediate(t),e._scheduled=void 0)}});function XB(n,e){return e?t=>Gd(e.pipe(Bt(1),function Zye(){return Mt((n,e)=>{n.subscribe(new it(e,yl))})}()),t.pipe(XB(n))):Vt((t,i)=>n(t,i).pipe(Bt(1),h9(t)))}function JB(n=0,e,t=ER){let i=-1;return null!=e&&(yT(e)?t=e:i=e),new Ue(r=>{let o=function Yye(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function M5(n,e=U1){const t=JB(n,e);return XB(()=>t)}class eH{}const Uo="*";function Dy(n,e){return{type:7,name:n,definitions:e,options:{}}}function _u(n,e=null){return{type:4,styles:e,timings:n}}function tH(n,e=null){return{type:2,steps:n,options:e}}function li(n){return{type:6,styles:n,offset:null}}function Mp(n,e,t){return{type:0,name:n,styles:e,options:t}}function vu(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function nH(n){Promise.resolve(null).then(n)}class xp{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){nH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class iH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?nH(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class C5{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Jye extends C5{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class E5 extends C5{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class e2e extends C5{constructor(e){super(),this.element=e instanceof De?e.nativeElement:e}}class n2e extends class t2e{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Jye?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof E5?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof e2e?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Rt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let i2e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({}),n})();const r2e=["addListener","removeListener"],o2e=["addEventListener","removeEventListener"],s2e=["on","off"];function il(n,e,t,i){if(Le(t)&&(i=t,t=void 0),i)return il(n,e,t).pipe(wx(i));const[r,o]=function c2e(n){return Le(n.addEventListener)&&Le(n.removeEventListener)}(n)?o2e.map(s=>a=>n[s](e,a,t)):function a2e(n){return Le(n.addListener)&&Le(n.removeListener)}(n)?r2e.map(rH(n,e)):function l2e(n){return Le(n.on)&&Le(n.off)}(n)?s2e.map(rH(n,e)):[];if(!r&&C2(n))return Vt(s=>il(s,e,t))(Yn(n));if(!r)throw new TypeError("Invalid event target");return new Ue(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function rH(n,e){return t=>i=>n[t](e,i)}const Cp={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Cp;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new ct(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Cp;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Cp;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class d2e extends q1{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;e=e||t.shift();const o=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++r<o&&(e=t.shift()));if(this._active=!1,i){for(;++r<o&&(e=t.shift());)e.unsubscribe();throw i}}}(class u2e extends z1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Cp.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(Cp.cancelAnimationFrame(t),e._scheduled=void 0)}});function oH(n,e=ER){return function p2e(n){return Mt((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(new it(t,c=>{i=!0,r=c,o||Yn(n(c)).subscribe(o=new it(t,a,l))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>JB(n,e))}let m2e=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new ke,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ue(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(oH(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):W()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Xt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=qo(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>il(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(x(oe),x(ai),x(xe,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),T5=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new ke,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(oH(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(x(ai),x(oe),x(xe,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ep=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({}),n})(),sH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[yp,Ep,yp,Ep]}),n})();const aH=rge();class y2e{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=tn(-this._previousScrollPosition.left),e.style.top=tn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),aH&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),aH&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class _2e{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class lH{enable(){}disable(){}attach(){}}function S5(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function cH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class v2e{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();S5(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let k2e=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new lH,this.close=s=>new _2e(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new y2e(this._viewportRuler,this._document),this.reposition=s=>new v2e(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(x(m2e),x(T5),x(oe),x(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class D5{constructor(e){if(this.scrollStrategy=new lH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class b2e{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let uH=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(x(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w2e=(()=>{class n extends uH{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(x(xe),x(oe,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M2e=(()=>{class n extends uH{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Fs(o)},this._clickListener=o=>{const s=Fs(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(x(xe),x(ai),x(oe,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dH=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||a5()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),a5()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(x(xe),x(ai))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class x2e{constructor(e,t,i,r,o,s,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new ke,this._attachments=new ke,this._detachments=new ke,this._locationChanges=ct.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new ke,this._outsidePointerEvents=new ke,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Bt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=tn(this._config.width),e.height=tn(this._config.height),e.minWidth=tn(this._config.minWidth),e.minHeight=tn(this._config.minHeight),e.maxWidth=tn(this._config.maxWidth),e.maxHeight=tn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=vy(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Mi(Ar(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const hH="cdk-overlay-connected-position-bounding-box",C2e=/([A-Za-z%]+)$/;class E2e{constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ke,this._resizeSubscription=ct.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(hH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=fH(t);let{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let h=0-a,p=a+o.height-i.height,f=this._subtractOverflows(o.width,0-s,s+o.width-i.width),m=this._subtractOverflows(o.height,h,p),y=f*m;return{visibleArea:y,isCompletelyWithinViewport:o.width*o.height===y,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:f==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=pH(this._overlayRef.getConfig().minHeight),a=pH(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=o;return(e.fitsInViewportVertically||null!=s&&s<=r)&&c}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=fH(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,d=r.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new b2e(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const p=Math.min(i.bottom-e.y+i.top,e.y),f=this._lastBoundingBoxSize.height;o=2*p,s=e.y-p,o>f&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-f/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const p=Math.min(i.right-e.x+i.left,e.x),f=this._lastBoundingBoxSize.width;u=2*p,d=e.x-p,u>f&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-f/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=tn(i.height),r.top=tn(i.top),r.bottom=tn(i.bottom),r.width=tn(i.width),r.left=tn(i.left),r.right=tn(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=tn(o)),s&&(r.maxWidth=tn(s))}this._lastBoundingBoxSize=i,rl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){rl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();rl(i,this._getExactOverlayY(t,e,u)),rl(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=tn(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=tn(s.maxWidth):o&&(i.maxWidth="")),rl(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=tn(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=tn(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:cH(e,i),isOriginOutsideView:S5(e,i),isOverlayClipped:cH(t,i),isOverlayOutsideView:S5(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&vy(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof De)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function rl(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function pH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(C2e);return t&&"px"!==t?null:parseFloat(e)}return n||null}function fH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const mH="cdk-global-overlay-wrapper";class T2e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(mH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let p="",f="",m="";l?m="flex-start":"center"===u?(m="center",h?f=d:p=d):h?"left"===u||"end"===u?(m="flex-end",p=d):("right"===u||"start"===u)&&(m="flex-start",f=d):"left"===u||"start"===u?(m="flex-start",p=d):("right"===u||"end"===u)&&(m="flex-end",f=d),e.position=this._cssPosition,e.marginLeft=l?"0":p,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":f,t.justifyContent=m,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(mH),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let S2e=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new T2e}flexibleConnectedTo(t){return new E2e(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(x(T5),x(xe),x(ai),x(dH))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D2e=0,ol=(()=>{class n{constructor(t,i,r,o,s,a,l,c,u,d,h,p){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=p}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new D5(t);return s.direction=s.direction||this._directionality.value,new x2e(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+D2e++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(da)),new n2e(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(x(k2e),x(dH),x(ra),x(S2e),x(w2e),x(Rt),x(oe),x(xe),x(by),x(c1),x(M2e),x(ua,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const R2e={provide:new P("cdk-connected-overlay-scroll-strategy"),deps:[ol],useFactory:function A2e(n){return()=>n.scrollStrategies.reposition()}};let I5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({providers:[ol,R2e],imports:[yp,i2e,sH,sH]}),n})();const P2e=["mat-menu-item",""];function O2e(n,e){1&n&&(X2(),E(0,"svg",2),le(1,"polygon",3),A())}const gH=["*"];function N2e(n,e){if(1&n){const t=_o();E(0,"div",0),Ee("keydown",function(r){return Ln(t),Vn(ce()._handleKeydown(r))})("click",function(){return Ln(t),Vn(ce().closed.emit("click"))})("@transformMenu.start",function(r){return Ln(t),Vn(ce()._onAnimationStart(r))})("@transformMenu.done",function(r){return Ln(t),Vn(ce()._onAnimationDone(r))}),E(1,"div",1),xt(2),A()()}if(2&n){const t=ce();O("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Ye("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const Iy={transformMenu:Dy("transformMenu",[Mp("void",li({opacity:0,transform:"scale(0.8)"})),vu("void => enter",_u("120ms cubic-bezier(0, 0, 0.2, 1)",li({opacity:1,transform:"scale(1)"}))),vu("* => void",_u("100ms 25ms linear",li({opacity:0})))]),fadeInItems:Dy("fadeInItems",[Mp("showing",li({opacity:1})),vu("void => *",[li({opacity:0}),_u("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},F2e=new P("MatMenuContent"),A5=new P("MAT_MENU_PANEL"),L2e=gu(EB(class{}));let Tp=(()=>{class n extends L2e{constructor(t,i,r,o,s){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new ke,this._focused=new ke,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(xe),_(gp),_(A5,8),_(xn))},n.\u0275cmp=Ve({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&Ee("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(Ye("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),Ht("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[fe],attrs:P2e,ngContentSelectors:gH,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(mi(),xt(0),le(1,"div",0),te(2,O2e,2,0,"svg",1)),2&t&&(N(1),O("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),N(1),O("ngIf",i._triggersSubmenu))},dependencies:[Fi,yu],encapsulation:2,changeDetection:0}),n})();const yH=new P("mat-menu-default-options",{providedIn:"root",factory:function V2e(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let B2e=0,Sp=(()=>{class n{constructor(t,i,r,o){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new rc,this._tabSubscription=ct.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ke,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new we,this.close=this.closed,this.panelId="mat-menu-panel-"+B2e++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=yt(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=yt(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new _B(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(er(this._directDescendantItems),qt(t=>Ar(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(er(this._directDescendantItems),qt(i=>Ar(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:Ls(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(Bt(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(er(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(oe),_(yH),_(xn))},n.\u0275dir=$({type:n,contentQueries:function(t,i,r){if(1&t&&(Ct(r,F2e,5),Ct(r,Tp,5),Ct(r,Tp,4)),2&t){let o;Ie(o=Ae())&&(i.lazyContent=o.first),Ie(o=Ae())&&(i._allItems=o),Ie(o=Ae())&&(i.items=o)}},viewQuery:function(t,i){if(1&t&&Ni(Oi,5),2&t){let r;Ie(r=Ae())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),_H=(()=>{class n extends Sp{constructor(t,i,r,o){super(t,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(oe),_(yH),_(xn))},n.\u0275cmp=Ve({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&Ye("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Be([{provide:A5,useExisting:n}]),fe],ngContentSelectors:gH,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(mi(),te(0,N2e,3,6,"ng-template"))},dependencies:[vd],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Iy.transformMenu,Iy.fadeInItems]},changeDetection:0}),n})();const vH=new P("mat-menu-scroll-strategy"),j2e={provide:vH,deps:[ol],useFactory:function H2e(n){return()=>n.scrollStrategies.reposition()}},kH=pu({passive:!0});let z2e=(()=>{class n{constructor(t,i,r,o,s,a,l,c,u){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._ngZone=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ct.EMPTY,this._hoverSubscription=ct.EMPTY,this._menuCloseSubscription=ct.EMPTY,this._handleTouchStart=d=>{f5(d)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new we,this.onMenuOpen=this.menuOpened,this.menuClosed=new we,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof Sp?s:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,kH),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,kH),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),o=r.positionStrategy;this._setPosition(t,o),r.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Sp&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Mi(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Sp?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Xt(r=>"void"===r.toState),Bt(1),Mi(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new D5({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",s="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,s)):t.setPositionClasses(o,s)})}_setPosition(t,i){let[r,o]="before"===t.xPosition?["end","start"]:["start","end"],[s,a]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[u,d]=[r,o],h=0;if(this.triggersSubmenu()){if(d=r="before"===t.xPosition?"start":"end",o=u="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const p=this._parentMaterialMenu.items.first;this._parentInnerPadding=p?p._getHostElement().offsetTop:0}h="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(l="top"===s?"bottom":"top",c="top"===a?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:u,overlayY:s,offsetY:h},{originX:o,originY:l,overlayX:d,overlayY:s,offsetY:h},{originX:r,originY:c,overlayX:u,overlayY:a,offsetY:-h},{originX:o,originY:c,overlayX:d,overlayY:a,offsetY:-h}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return Ar(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:W(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Xt(s=>s!==this._menuItemInstance),Xt(()=>this._menuOpen)):W(),i)}_handleMousedown(t){p5(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Xt(t=>t===this._menuItemInstance&&!t.disabled),M5(0,w5)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Sp&&this.menu._isAnimating?this.menu._animationDone.pipe(Bt(1),M5(0,w5),Mi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new E5(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(_(ol),_(De),_(yi),_(vH),_(A5,8),_(Tp,10),_(by,8),_(gp),_(oe))},n.\u0275dir=$({type:n,hostVars:3,hostBindings:function(t,i){1&t&&Ee("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&t&&Ye("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),bH=(()=>{class n extends z2e{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=rn(n)))(i||n)}}(),n.\u0275dir=$({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[fe]}),n})(),q2e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({providers:[j2e],imports:[as,nt,vp,I5,Ep,nt]}),n})();const U2e=["*"],wH=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]];var Dp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const R5=new P("LucideIcons",{factory:()=>new P5({})});class P5{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return"object"==typeof this.icons&&e in this.icons}}let z5e=(()=>{class n{constructor(){this.color=Dp.stroke,this.size=Dp.width,this.strokeWidth=Dp["stroke-width"],this.absoluteStrokeWidth=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function q5e(n,e=3){return parseFloat(n.toFixed(e)).toString(10)}let MH=(()=>{class n{constructor(t,i,r,o,s){this.elem=t,this.renderer=i,this.changeDetector=r,this.iconProviders=o,this.iconConfig=s,this.absoluteStrokeWidth=!1,this.defaultSize=Dp.height}set img(t){this.name=t}get size(){return this._size??this.iconConfig.size}set size(t){t?this._size=this.parseNumber(t):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(t){t?this._strokeWidth=this.parseNumber(t):delete this._strokeWidth}ngOnChanges(t){if(this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth,t.name||t.img){const i=t.img?.currentValue??t.name?.currentValue;if("string"==typeof i){const r=this.getIcon(this.toPascalCase(i));if(!r)throw new Error(`The "${i}" icon has not been provided by any available icon providers.`);this.replaceElement(r)}else{if(!Array.isArray(i))throw new Error("No icon name or image has been provided.");this.replaceElement(i)}}this.changeDetector.markForCheck()}replaceElement(t){const i={...Dp,width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?q5e(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)},r=this.createElement(["svg",i,t]);r.classList.add("lucide"),"string"==typeof this.name&&r.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&r.classList.add(...this.class.split(/ /).map(s=>s.trim()).filter(s=>s.length>0));const o=this.elem.nativeElement.childNodes;for(const s of o)this.renderer.removeChild(this.elem.nativeElement,s);this.renderer.appendChild(this.elem.nativeElement,r)}toPascalCase(t){return t.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(i,r,o)=>r.toUpperCase()+o.toLowerCase())}parseNumber(t){if("string"==typeof t){const i=parseInt(t,10);if(isNaN(i))throw new Error(`${t} is not numeric.`);return i}return t}getIcon(t){for(const i of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(i.hasIcon(t))return i.getIcon(t);return null}createElement([t,i,r=[]]){const o=this.renderer.createElement(t,"http://www.w3.org/2000/svg");return Object.keys(i).forEach(s=>{const a="string"==typeof i[s]?i[s]:i[s].toString(10);this.renderer.setAttribute(o,s,a)}),r.length&&r.forEach(s=>{const a=this.createElement(s);this.renderer.appendChild(o,a)}),o}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(pr),_(xn),_(R5),_(z5e))},n.\u0275cmp=Ve({type:n,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",img:"img",size:"size",strokeWidth:"strokeWidth"},features:[Mn],ngContentSelectors:U2e,decls:1,vars:0,template:function(t,i){1&t&&(mi(),xt(0))},encapsulation:2}),n})();class U5e{constructor(e){this.icons=e}}const $5e=n=>new P5(n??{});let G5e=(()=>{class n{static pick(t){return{ngModule:n,providers:[{provide:R5,multi:!0,useValue:new P5(t)},{provide:R5,multi:!0,useFactory:$5e,deps:[[new vt,U5e]]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[[]]}),n})();function W5e(n,e){if(1&n&&(gr(0),E(1,"button",9)(2,"mat-icon"),I(3,"face"),A(),I(4),E(5,"mat-icon"),I(6,"expand_more"),A()(),yr()),2&n){const t=e.ngIf;ce();const i=yo(13);N(1),O("matMenuTriggerFor",i),N(3),os(" ",t.firstName?t.firstName:t.displayName," ")}}function K5e(n,e){1&n&&(E(0,"button",10)(1,"mat-icon"),I(2,"login"),A(),I(3," Login "),A())}let Z5e=(()=>{class n{constructor(t,i,r,o){this.authService=t,this.router=i,this.usersService=r,this.ngZone=o,this.user$=this.usersService.currentUserProfile$}logout(){this.authService.logout().subscribe(()=>{this.ngZone.run(()=>(this.router.navigate([""]),!0))})}}return n.\u0275fac=function(t){return new(t||n)(_(bm),_(gn),_(du),_(oe))},n.\u0275cmp=Ve({type:n,selectors:[["app-root"]],decls:26,vars:10,consts:[[1,"toolbar-content"],["name","ghost"],[4,"ngIf","ngIfElse"],["loginButton",""],[1,"content"],["userMenu","matMenu"],["mat-menu-item","","routerLink","/home"],["mat-menu-item","","routerLink","/profile"],["mat-menu-item","",3,"click"],["mat-button","",3,"matMenuTriggerFor"],["mat-button","","routerLink","login"]],template:function(t,i){if(1&t&&(E(0,"mat-toolbar"),dn(1,"async"),E(2,"span",0)(3,"h1"),I(4,"Chatsper"),A(),le(5,"lucide-icon",1),A(),te(6,W5e,7,2,"ng-container",2),dn(7,"async"),te(8,K5e,4,0,"ng-template",null,3,pd),A(),E(10,"div",4),le(11,"router-outlet"),A(),E(12,"mat-menu",null,5)(14,"button",6)(15,"mat-icon"),I(16,"home"),A(),I(17," Home "),A(),E(18,"button",7)(19,"mat-icon"),I(20,"account_circle"),A(),I(21," Profile "),A(),E(22,"button",8),Ee("click",function(){return i.logout()}),E(23,"mat-icon"),I(24,"logout"),A(),I(25," Logout "),A()()),2&t){const r=yo(9);let o;gi("background",(null==(o=hn(1,6,i.user$))?null:o.color)||"rgb(128, 128, 128)")("color","white"),N(6),O("ngIf",hn(7,8,i.user$))("ngIfElse",r)}},dependencies:[Fi,Vx,qm,pye,k5,wp,_H,Tp,bH,MH,bd],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between}.content[_ngcontent-%COMP%]{padding:32px}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px}.toolbar-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.toolbar-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-right:2px}.toolbar-content[_ngcontent-%COMP%]   lucide-icon[_ngcontent-%COMP%]{margin-top:5px}"]}),n})();function xH(n){return new T(3e3,!1)}function I3e(){return typeof window<"u"&&typeof window.document<"u"}function O5(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Hs(n){switch(n.length){case 0:return new xp;case 1:return n[0];default:return new iH(n)}}function CH(n,e,t,i,r=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),h=d==l,p=h&&c||new Map;u.forEach((f,m)=>{let y=m,k=f;if("offset"!==m)switch(y=e.normalizePropertyName(y,s),k){case"!":k=r.get(m);break;case Uo:k=o.get(m);break;default:k=e.normalizeStyleValue(m,y,k,s)}p.set(y,k)}),h||a.push(p),c=p,l=d}),s.length)throw function _3e(n){return new T(3502,!1)}();return a}function N5(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&F5(t,"start",n)));break;case"done":n.onDone(()=>i(t&&F5(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&F5(t,"destroy",n)))}}function F5(n,e,t){const o=L5(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function L5(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ji(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function EH(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let V5=(n,e)=>!1,TH=(n,e,t)=>[],SH=null;function B5(n){const e=n.parentNode||n.host;return e===SH?null:e}(O5()||typeof Element<"u")&&(I3e()?(SH=(()=>document.documentElement)(),V5=(n,e)=>{for(;e;){if(e===n)return!0;e=B5(e)}return!1}):V5=(n,e)=>n.contains(e),TH=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let sl=null,DH=!1;const IH=V5,AH=TH;let RH=(()=>{class n{validateStyleProperty(t){return function R3e(n){sl||(sl=function P3e(){return typeof document<"u"?document.body:null}()||{},DH=!!sl.style&&"WebkitAppearance"in sl.style);let e=!0;return sl.style&&!function A3e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in sl.style,!e&&DH&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in sl.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return IH(t,i)}getParentElement(t){return B5(t)}query(t,i,r){return AH(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new xp(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),H5=(()=>{class n{}return n.NOOP=new RH,n})();const j5="ng-enter",Ay="ng-leave",Ry="ng-trigger",Py=".ng-trigger",OH="ng-animating",z5=".ng-animating";function js(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:q5(parseFloat(e[1]),e[2])}function q5(n,e){return"s"===e?1e3*n:n}function Oy(n,e,t){return n.hasOwnProperty("duration")?n:function F3e(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(xH()),{duration:0,delay:0,easing:""};r=q5(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=q5(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function Y5e(){return new T(3100,!1)}()),a=!0),o<0&&(e.push(function Q5e(){return new T(3101,!1)}()),a=!0),a&&e.splice(l,0,xH())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Ip(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function NH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function zs(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function LH(n,e,t){return t?e+":"+t+";":""}function VH(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=LH(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=LH(0,H3e(t),n.style[t]));n.setAttribute("style",e)}function no(n,e,t){n.style&&(e.forEach((i,r)=>{const o=$5(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),O5()&&VH(n))}function al(n,e){n.style&&(e.forEach((t,i)=>{const r=$5(i);n.style[r]=""}),O5()&&VH(n))}function Ap(n){return Array.isArray(n)?1==n.length?n[0]:tH(n):n}const U5=new RegExp("{{\\s*(.+?)\\s*}}","g");function BH(n){let e=[];if("string"==typeof n){let t;for(;t=U5.exec(n);)e.push(t[1]);U5.lastIndex=0}return e}function Ny(n,e,t){const i=n.toString(),r=i.replace(U5,(o,s)=>{let a=e[s];return null==a&&(t.push(function J5e(n){return new T(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Fy(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const B3e=/-+([a-z0-9])/g;function $5(n){return n.replace(B3e,(...e)=>e[1].toUpperCase())}function H3e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function e3e(n){return new T(3004,!1)}()}}function HH(n,e){return window.getComputedStyle(n)[e]}function G3e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function W3e(n,e,t){if(":"==n[0]){const l=function K3e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function f3e(n){return new T(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function p3e(n){return new T(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(jH(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&e.push(jH(s,r))}(i,t,e)):t.push(n),t}const Hy=new Set(["true","1"]),jy=new Set(["false","0"]);function jH(n,e){const t=Hy.has(n)||jy.has(n),i=Hy.has(e)||jy.has(e);return(r,o)=>{let s="*"==n||n==r,a="*"==e||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?Hy.has(n):jy.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Hy.has(e):jy.has(e)),s&&a}}const Z3e=new RegExp("s*:selfs*,?","g");function G5(n,e,t,i){return new Y3e(n).build(e,t,i)}class Y3e{constructor(e){this._driver=e}build(e,t,i){const r=new J3e(t);return this._resetContextStyleTimingState(r),zi(this,Ap(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function n3e(){return new T(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function i3e(){return new T(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{BH(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Fy(o.values()),t.errors.push(function r3e(n,e){return new T(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=zi(this,Ap(e.animation),t);return{type:1,matchers:G3e(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ll(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>zi(this,i,t)),options:ll(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=zi(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:ll(e.options)}}visitAnimate(e,t){const i=function tTe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return W5(Oy(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=W5(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Oy(t,e);return W5(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:li({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=li(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Uo?i.push(a):t.errors.push(new T(3002,!1)):i.push(NH(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(function s3e(n,e,t,i,r){return new T(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),t.options&&function V3e(n,e,t){const i=e.params||{},r=BH(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function X5e(n){return new T(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function a3e(){return new T(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=e.steps.map(k=>{const w=this._makeStyleAst(k,t);let v=null!=w.offset?w.offset:function eTe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(w.styles),C=0;return null!=v&&(o++,C=w.offset=v),l=l||C<0||C>1,a=a||C<c,c=C,s.push(C),w});l&&t.errors.push(function l3e(){return new T(3012,!1)}()),a&&t.errors.push(function c3e(){return new T(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function u3e(){return new T(3202,!1)}()):0==o&&(h=1/(d-1));const p=d-1,f=t.currentTime,m=t.currentAnimateTimings,y=m.duration;return u.forEach((k,w)=>{const v=h>0?w==p?1:h*w:s[w],C=v*y;t.currentTime=f+m.delay+C,m.duration=C,this._validateStyleAst(k,t),k.offset=v,i.styles.push(k)}),i}visitReference(e,t){return{type:8,animation:zi(this,Ap(e.animation),t),options:ll(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ll(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ll(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Q3e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Z3e,"")),n=n.replace(/@\*/g,Py).replace(/@\w+/g,t=>Py+"-"+t.slice(1)).replace(/:animating/g,z5),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,ji(t.collectedStyles,t.currentQuerySelector,new Map);const a=zi(this,Ap(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ll(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function d3e(){return new T(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Oy(e.timings,t.errors,!0);return{type:12,animation:zi(this,Ap(e.animation),t),timings:i,options:null}}}class J3e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ll(n){return n?(n=Ip(n)).params&&(n.params=function X3e(n){return n?Ip(n):null}(n.params)):n={},n}function W5(n,e,t){return{duration:n,delay:e,easing:t}}function K5(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class zy{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const rTe=new RegExp(":enter","g"),sTe=new RegExp(":leave","g");function Z5(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return(new aTe).buildKeyframes(n,e,t,i,r,o,s,a,l,c)}class aTe{buildKeyframes(e,t,i,r,o,s,a,l,c,u=[]){c=c||new zy;const d=new Y5(e,t,c,r,o,u,[]);d.options=l;const h=l.delay?js(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),zi(this,i,d);const p=d.timelines.filter(f=>f.containsAnimation());if(p.length&&a.size){let f;for(let m=p.length-1;m>=0;m--){const y=p[m];if(y.element===t){f=y;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,l)}return p.length?p.map(f=>f.buildKeyframes()):[K5(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?js(i.duration):null,a=null!=i.delay?js(i.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),zi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=qy);const s=js(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>zi(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?js(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),zi(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Oy(t.params?Ny(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?js(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=qy);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),zi(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;zi(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const qy={};class Y5{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Uy(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=js(i.duration)),null!=i.delay&&(r.delay=js(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Ny(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new Y5(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=qy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new lTe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(rTe,"."+this._enterClassName)).replace(sTe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function h3e(n){return new T(3014,!1)}()),a}}class Uy{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Uy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Uo),this._currentKeyframe.set(t,Uo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function cTe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Uo)}else zs(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=Ny(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Uo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=zs(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===Uo&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const o=e.size?Fy(e.values()):[],s=t.size?Fy(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return K5(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class lTe extends Uy{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=zs(e[0]);l.set("offset",0),o.push(l);const c=zs(e[0]);c.set("offset",UH(a)),o.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=zs(e[d]);const p=h.get("offset");h.set("offset",UH((t+p*i)/s)),o.push(h)}i=s,t=0,r="",e=o}return K5(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function UH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Q5{}const uTe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class dTe extends Q5{normalizePropertyName(e,t){return $5(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(uTe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function t3e(n,e){return new T(3005,!1)}())}return s+o}}function $H(n,e,t,i,r,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const X5={};class GH{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function hTe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||X5,f=this.buildStyles(i,a&&a.params||X5,d),m=l&&l.params||X5,y=this.buildStyles(r,m,d),k=new Set,w=new Map,v=new Map,C="void"===r,H={params:pTe(m,h),delay:this.ast.options?.delay},q=u?[]:Z5(e,t,this.ast.animation,o,s,f,y,H,c,d);let de=0;if(q.forEach(wt=>{de=Math.max(wt.duration+wt.delay,de)}),d.length)return $H(t,this._triggerName,i,r,C,f,y,[],[],w,v,de,d);q.forEach(wt=>{const hi=wt.element,Cu=ji(w,hi,new Set);wt.preStyleProps.forEach(Ir=>Cu.add(Ir));const Ko=ji(v,hi,new Set);wt.postStyleProps.forEach(Ir=>Ko.add(Ir)),hi!==t&&k.add(hi)});const Je=Fy(k.values());return $H(t,this._triggerName,i,r,C,f,y,q,Je,w,v,de)}}function pTe(n,e){const t=Ip(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class fTe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Ip(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Ny(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(l,s)})}),i}}class gTe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new fTe(r.style,r.options&&r.options.params||{},i))}),WH(this.states,"true","1"),WH(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new GH(e,r,this.states))}),this.fallbackTransition=function yTe(n,e,t){return new GH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function WH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const _Te=new zy;class vTe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=G5(this._driver,t,i,[]);if(i.length)throw function v3e(n){return new T(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=CH(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=Z5(this._driver,t,o,j5,Ay,new Map,new Map,i,_Te,r),s.forEach(u=>{const d=ji(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function k3e(){return new T(3300,!1)}()),s=[]),r.length)throw function b3e(n){return new T(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,p)=>{u.set(p,this._driver.computeStyle(d,p,Uo))})});const c=Hs(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function w3e(n){return new T(3301,!1)}();return t}listen(e,t,i,r){const o=L5(t,"","","");return N5(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const KH="ng-animate-queued",J5="ng-animate-disabled",xTe=[],ZH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},CTe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rr="__ng_removed";class e3{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function DTe(n){return n??null}(i?e.value:e),i){const o=Ip(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Rp="void",t3=new e3(Rp);class ETe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,or(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function M3e(n,e){return new T(3302,!1)}();if(null==i||0==i.length)throw function x3e(n){return new T(3303,!1)}();if(!function ITe(n){return"start"==n||"done"==n}(i))throw function C3e(n,e){return new T(3400,!1)}();const o=ji(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=ji(this._engine.statesByElement,e,new Map);return a.has(t)||(or(e,Ry),or(e,Ry+"-"+t),a.set(t,t3)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function E3e(n){return new T(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new n3(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(or(e,Ry),or(e,Ry+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new e3(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=t3),c.value!==Rp&&l.value===c.value){if(!function PTe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const m=[],y=o.matchStyles(l.value,l.params,m),k=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{al(e,y),no(e,k)})}return}const h=ji(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let p=o.matchTransition(l.value,c.value,e,c.params),f=!1;if(!p){if(!r)return;p=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:c,player:s,isFallbackTransition:f}),f||(or(e,KH),s.onStart(()=>{ku(e,KH)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const y=this._engine.playersByElement.get(e);if(y){let k=y.indexOf(s);k>=0&&y.splice(k,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Py,!0);i.forEach(r=>{if(r[rr])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Rp,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Hs(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||t3,u=new e3(Rp),d=new n3(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[rr];(!o||o===ZH)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){or(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=L5(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,N5(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class TTe{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new ETe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if($y(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!$y(t))return;const o=t[rr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),or(e,J5)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ku(e,J5))}removeNode(e,t,i,r){if($y(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[rr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return $y(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Py,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,z5,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hs(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[rr];if(t&&t.setForRemoval){if(e[rr]=ZH,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(J5)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)or(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Hs(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function T3e(n){return new T(3402,!1)}()}_flushAnimations(e,t){const i=new zy,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(K=>{u.add(K);const X=this.driver.query(K,".ng-animate-queued",!0);for(let ie=0;ie<X.length;ie++)u.add(X[ie])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=XH(h,this.collectedEnterElements),f=new Map;let m=0;p.forEach((K,X)=>{const ie=j5+m++;f.set(X,ie),K.forEach(He=>or(He,ie))});const y=[],k=new Set,w=new Set;for(let K=0;K<this.collectedLeaveElements.length;K++){const X=this.collectedLeaveElements[K],ie=X[rr];ie&&ie.setForRemoval&&(y.push(X),k.add(X),ie.hasAnimation?this.driver.query(X,".ng-star-inserted",!0).forEach(He=>k.add(He)):w.add(X))}const v=new Map,C=XH(h,Array.from(k));C.forEach((K,X)=>{const ie=Ay+m++;v.set(X,ie),K.forEach(He=>or(He,ie))}),e.push(()=>{p.forEach((K,X)=>{const ie=f.get(X);K.forEach(He=>ku(He,ie))}),C.forEach((K,X)=>{const ie=v.get(X);K.forEach(He=>ku(He,ie))}),y.forEach(K=>{this.processLeaveNode(K)})});const H=[],q=[];for(let K=this._namespaceList.length-1;K>=0;K--)this._namespaceList[K].drainQueuedTransitions(t).forEach(ie=>{const He=ie.player,wn=ie.element;if(H.push(He),this.collectedEnterElements.length){const Zn=wn[rr];if(Zn&&Zn.setForMove){if(Zn.previousTriggersValues&&Zn.previousTriggersValues.has(ie.triggerName)){const ml=Zn.previousTriggersValues.get(ie.triggerName),sr=this.statesByElement.get(ie.element);if(sr&&sr.has(ie.triggerName)){const y2=sr.get(ie.triggerName);y2.value=ml,sr.set(ie.triggerName,y2)}}return void He.destroy()}}const oo=!d||!this.driver.containsElement(d,wn),Ui=v.get(wn),Ws=f.get(wn),Dt=this._buildInstruction(ie,i,Ws,Ui,oo);if(Dt.errors&&Dt.errors.length)return void q.push(Dt);if(oo)return He.onStart(()=>al(wn,Dt.fromStyles)),He.onDestroy(()=>no(wn,Dt.toStyles)),void r.push(He);if(ie.isFallbackTransition)return He.onStart(()=>al(wn,Dt.fromStyles)),He.onDestroy(()=>no(wn,Dt.toStyles)),void r.push(He);const Mq=[];Dt.timelines.forEach(Zn=>{Zn.stretchStartingKeyframe=!0,this.disabledNodes.has(Zn.element)||Mq.push(Zn)}),Dt.timelines=Mq,i.append(wn,Dt.timelines),s.push({instruction:Dt,player:He,element:wn}),Dt.queriedElements.forEach(Zn=>ji(a,Zn,[]).push(He)),Dt.preStyleProps.forEach((Zn,ml)=>{if(Zn.size){let sr=l.get(ml);sr||l.set(ml,sr=new Set),Zn.forEach((y2,Z3)=>sr.add(Z3))}}),Dt.postStyleProps.forEach((Zn,ml)=>{let sr=c.get(ml);sr||c.set(ml,sr=new Set),Zn.forEach((y2,Z3)=>sr.add(Z3))})});if(q.length){const K=[];q.forEach(X=>{K.push(function S3e(n,e){return new T(3505,!1)}())}),H.forEach(X=>X.destroy()),this.reportError(K)}const de=new Map,Je=new Map;s.forEach(K=>{const X=K.element;i.has(X)&&(Je.set(X,X),this._beforeAnimationBuild(K.player.namespaceId,K.instruction,de))}),r.forEach(K=>{const X=K.element;this._getPreviousPlayers(X,!1,K.namespaceId,K.triggerName,null).forEach(He=>{ji(de,X,[]).push(He),He.destroy()})});const wt=y.filter(K=>ej(K,l,c)),hi=new Map;QH(hi,this.driver,w,c,Uo).forEach(K=>{ej(K,l,c)&&wt.push(K)});const Ko=new Map;p.forEach((K,X)=>{QH(Ko,this.driver,new Set(K),l,"!")}),wt.forEach(K=>{const X=hi.get(K),ie=Ko.get(K);hi.set(K,new Map([...Array.from(X?.entries()??[]),...Array.from(ie?.entries()??[])]))});const Ir=[],Eu=[],Tu={};s.forEach(K=>{const{element:X,player:ie,instruction:He}=K;if(i.has(X)){if(u.has(X))return ie.onDestroy(()=>no(X,He.toStyles)),ie.disabled=!0,ie.overrideTotalTime(He.totalTime),void r.push(ie);let wn=Tu;if(Je.size>1){let Ui=X;const Ws=[];for(;Ui=Ui.parentNode;){const Dt=Je.get(Ui);if(Dt){wn=Dt;break}Ws.push(Ui)}Ws.forEach(Dt=>Je.set(Dt,wn))}const oo=this._buildAnimation(ie.namespaceId,He,de,o,Ko,hi);if(ie.setRealPlayer(oo),wn===Tu)Ir.push(ie);else{const Ui=this.playersByElement.get(wn);Ui&&Ui.length&&(ie.parentPlayer=Hs(Ui)),r.push(ie)}}else al(X,He.fromStyles),ie.onDestroy(()=>no(X,He.toStyles)),Eu.push(ie),u.has(X)&&r.push(ie)}),Eu.forEach(K=>{const X=o.get(K.element);if(X&&X.length){const ie=Hs(X);K.setRealPlayer(ie)}}),r.forEach(K=>{K.parentPlayer?K.syncPlayerEvents(K.parentPlayer):K.destroy()});for(let K=0;K<y.length;K++){const X=y[K],ie=X[rr];if(ku(X,Ay),ie&&ie.hasAnimation)continue;let He=[];if(a.size){let oo=a.get(X);oo&&oo.length&&He.push(...oo);let Ui=this.driver.query(X,z5,!0);for(let Ws=0;Ws<Ui.length;Ws++){let Dt=a.get(Ui[Ws]);Dt&&Dt.length&&He.push(...Dt)}}const wn=He.filter(oo=>!oo.destroyed);wn.length?ATe(this,X,wn):this.processLeaveNode(X)}return y.length=0,Ir.forEach(K=>{this.players.push(K),K.onDone(()=>{K.destroy();const X=this.players.indexOf(K);this.players.splice(X,1)}),K.play()}),Ir}elementContainsData(e,t){let i=!1;const r=t[rr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Rp;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,d=ji(i,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(p=>{const f=p.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),p.destroy(),d.push(p)})}al(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(f=>{const m=f.element;u.add(m);const y=m[rr];if(y&&y.removedBeforeQueried)return new xp(f.duration,f.delay);const k=m!==l,w=function RTe(n){const e=[];return JH(n,e),e}((i.get(m)||xTe).map(de=>de.getRealPlayer())).filter(de=>!!de.element&&de.element===m),v=o.get(m),C=s.get(m),H=CH(0,this._normalizer,0,f.keyframes,v,C),q=this._buildPlayer(f,H,w);if(f.subTimeline&&r&&d.add(m),k){const de=new n3(e,a,m);de.setRealPlayer(q),c.push(de)}return q});c.forEach(f=>{ji(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>function STe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,f.element,f))}),u.forEach(f=>or(f,OH));const p=Hs(h);return p.onDestroy(()=>{u.forEach(f=>ku(f,OH)),no(l,t.toStyles)}),d.forEach(f=>{ji(r,f,[]).push(p)}),p}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new xp(e.duration,e.delay)}}class n3{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new xp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>N5(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ji(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function $y(n){return n&&1===n.nodeType}function YH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function QH(n,e,t,i,r){const o=[];t.forEach(l=>o.push(YH(l)));const s=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[rr]=CTe,s.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>YH(l,o[a++])),s}function XH(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function or(n,e){n.classList?.add(e)}function ku(n,e){n.classList?.remove(e)}function ATe(n,e,t){Hs(t).onDone(()=>n.processLeaveNode(e))}function JH(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof iH?JH(i.players,e):e.push(i)}}function ej(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class Gy{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new TTe(e,t,i),this._timelineEngine=new vTe(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=G5(this._driver,o,l,[]);if(l.length)throw function y3e(n,e){return new T(3404,!1)}();a=function mTe(n,e,t){return new gTe(n,e,t)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=EH(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=EH(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let NTe=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&no(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(no(this._element,this._initialStyles),this._endStyles&&(no(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(al(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(al(this._element,this._endStyles),this._endStyles=null),no(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function r3(n){let e=null;return n.forEach((t,i)=>{(function FTe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class tj{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:HH(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class LTe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return IH(e,t)}getParentElement(e){return B5(e)}query(e,t,i){return AH(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(p=>p instanceof tj);(function j3e(n,e){return 0===n||0===e})(i,r)&&u.forEach(p=>{p.currentSnapshot.forEach((f,m)=>c.set(m,f))});let d=function L3e(n){return n.length?n[0]instanceof Map?n:n.map(e=>NH(e)):[]}(t).map(p=>zs(p));d=function z3e(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,HH(n,a)))}}return e}(e,d,c);const h=function OTe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=r3(e[0]),e.length>1&&(i=r3(e[e.length-1]))):e instanceof Map&&(t=r3(e)),t||i?new NTe(n,t,i):null}(e,d);return new tj(e,d,l,h)}}let VTe=(()=>{class n extends eH{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:cr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?tH(t):t;return nj(this._renderer,null,i,"register",[r]),new BTe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(x(Yu),x(xe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class BTe extends class Qye{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new HTe(this._id,e,t||{},this._renderer)}}class HTe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return nj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function nj(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const ij="@.disabled";let jTe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new rj("",o,this.engine),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,t,u.name,u)};return i.data.animation.forEach(l),new zTe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(x(Yu),x(Gy),x(oe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class rj{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==ij?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class zTe extends rj{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ij?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function qTe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function UTe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let $Te=(()=>{class n extends Gy{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(x(xe),x(H5),x(Q5),x(da))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const oj=[{provide:eH,useClass:VTe},{provide:Q5,useFactory:function GTe(){return new dTe}},{provide:Gy,useClass:$Te},{provide:Yu,useFactory:function WTe(n,e,t){return new jTe(n,e,t)},deps:[C1,Gy,oe]}],o3=[{provide:H5,useFactory:()=>new LTe},{provide:ua,useValue:"BrowserAnimations"},...oj],sj=[{provide:H5,useClass:RH},{provide:ua,useValue:"NoopAnimations"},...oj];let KTe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?sj:o3}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({providers:o3,imports:[U8]}),n})(),aj=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(_(pr),_(De))},n.\u0275dir=$({type:n}),n})(),cl=(()=>{class n extends aj{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=rn(n)))(i||n)}}(),n.\u0275dir=$({type:n,features:[fe]}),n})();const qi=new P("NgValueAccessor"),YTe={provide:qi,useExisting:$e(()=>ul),multi:!0},XTe=new P("CompositionEventMode");let ul=(()=>{class n extends aj{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function QTe(){const n=jr()?jr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(_(pr),_(De),_(XTe,8))},n.\u0275dir=$({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&Ee("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Be([YTe]),fe]}),n})();function qs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function cj(n){return null!=n&&"number"==typeof n.length}const Kn=new P("NgValidators"),Us=new P("NgAsyncValidators"),eSe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bu{static min(e){return function uj(n){return e=>{if(qs(e.value)||qs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function dj(n){return e=>{if(qs(e.value)||qs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function hj(n){return qs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function pj(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function fj(n){return qs(n.value)||eSe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function mj(n){return e=>qs(e.value)||!cj(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function gj(n){return e=>cj(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function yj(n){if(!n)return Ky;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(qs(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Mj(e)}static composeAsync(e){return xj(e)}}function Ky(n){return null}function _j(n){return null!=n}function vj(n){return od(n)?We(n):n}function kj(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function bj(n,e){return e.map(t=>t(n))}function wj(n){return n.map(e=>function tSe(n){return!n.validate}(e)?e:t=>e.validate(t))}function Mj(n){if(!n)return null;const e=n.filter(_j);return 0==e.length?null:function(t){return kj(bj(t,e))}}function s3(n){return null!=n?Mj(wj(n)):null}function xj(n){if(!n)return null;const e=n.filter(_j);return 0==e.length?null:function(t){return BB(bj(t,e).map(vj)).pipe(Q(kj))}}function a3(n){return null!=n?xj(wj(n)):null}function Cj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ej(n){return n._rawValidators}function Tj(n){return n._rawAsyncValidators}function l3(n){return n?Array.isArray(n)?n:[n]:[]}function Zy(n,e){return Array.isArray(n)?n.includes(e):n===e}function Sj(n,e){const t=l3(e);return l3(n).forEach(r=>{Zy(t,r)||t.push(r)}),t}function Dj(n,e){return l3(e).filter(t=>!Zy(n,t))}class Ij{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=s3(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=a3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ci extends Ij{get formDirective(){return null}get path(){return null}}class $o extends Ij{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Aj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pp=(()=>{class n extends Aj{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(_($o,2))},n.\u0275dir=$({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Ht("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[fe]}),n})(),Yy=(()=>{class n extends Aj{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(_(ci,10))},n.\u0275dir=$({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&Ht("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[fe]}),n})();const Op="VALID",Xy="INVALID",wu="PENDING",Np="DISABLED";function h3(n){return(Jy(n)?n.validators:n)||null}function Pj(n){return Array.isArray(n)?s3(n):n||null}function p3(n,e){return(Jy(e)?e.asyncValidators:n)||null}function Oj(n){return Array.isArray(n)?a3(n):n||null}function Jy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Nj(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new T(1e3,"");if(!i[t])throw new T(1001,"")}function Fj(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new T(1002,"")})}class e2{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Pj(this._rawValidators),this._composedAsyncValidatorFn=Oj(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Op}get invalid(){return this.status===Xy}get pending(){return this.status==wu}get disabled(){return this.status===Np}get enabled(){return this.status!==Np}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Pj(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Oj(e)}addValidators(e){this.setValidators(Sj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Sj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Dj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Dj(e,this._rawAsyncValidators))}hasValidator(e){return Zy(this._rawValidators,e)}hasAsyncValidator(e){return Zy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Np,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Op,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Op||this.status===wu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Np:Op}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wu,this._hasOwnPendingAsyncValidator=!0;const t=vj(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?Np:this.errors?Xy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wu)?wu:this._anyControlsHaveStatus(Xy)?Xy:Op}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class t2 extends e2{constructor(e,t,i){super(h3(t),p3(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Fj(this,0,e),Object.keys(e).forEach(i=>{Nj(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Fp(n,e){f3(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function uSe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Lj(n,e)})}(n,e),function hSe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function dSe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Lj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function cSe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function r2(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),s2(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function o2(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function f3(n,e){const t=Ej(n);null!==e.validator?n.setValidators(Cj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Tj(n);null!==e.asyncValidator?n.setAsyncValidators(Cj(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();o2(e._rawValidators,r),o2(e._rawAsyncValidators,r)}function s2(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Ej(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=Tj(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return o2(e._rawValidators,i),o2(e._rawAsyncValidators,i),t}function Lj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Vj(n,e){f3(n,e)}function m3(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Hj(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function g3(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===ul?t=o:function mSe(n){return Object.getPrototypeOf(n.constructor)===cl}(o)?i=o:r=o}),r||i||t||null}const ySe={provide:ci,useExisting:$e(()=>a2)},Lp=(()=>Promise.resolve(null))();let a2=(()=>{class n extends ci{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new we,this.form=new t2({},s3(t),a3(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Lp.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Fp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Lp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Lp.then(()=>{const i=this._findContainer(t.path),r=new t2({});Vj(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Lp.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Lp.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Hj(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(_(Kn,10),_(Us,10))},n.\u0275dir=$({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&Ee("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Be([ySe]),fe]}),n})();function jj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function zj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $s=class extends e2{constructor(e=null,t,i){super(h3(t),p3(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=zj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){zj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let l2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Kj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({}),n})();const y3=new P("NgModelWithFormControlWarning"),CSe={provide:$o,useExisting:$e(()=>_3)};let _3=(()=>{class n extends $o{constructor(t,i,r,o){super(),this._ngModelWarningConfig=o,this.update=new we,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=g3(0,r)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&r2(i,this,!1),Fp(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}m3(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&r2(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(_(Kn,10),_(Us,10),_(qi,10),_(y3,8))},n.\u0275dir=$({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Be([CSe]),fe,Mn]}),n})();const ESe={provide:ci,useExisting:$e(()=>dl)};let dl=(()=>{class n extends ci{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new we,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(s2(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Fp(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){r2(t.control||null,t,!1),function gSe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Hj(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(r2(i||null,t),(n=>n instanceof $s)(r)&&(Fp(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);Vj(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function pSe(n,e){return s2(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){f3(this.form,this),this._oldForm&&s2(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(_(Kn,10),_(Us,10))},n.\u0275dir=$({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&Ee("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Be([ESe]),fe,Mn]}),n})();const DSe={provide:$o,useExisting:$e(()=>Vp)};let Vp=(()=>{class n extends $o{constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new we,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=g3(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),m3(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function n2(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(_(ci,13),_(Kn,10),_(Us,10),_(qi,10),_(y3,8))},n.\u0275dir=$({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Be([DSe]),fe,Mn]}),n})(),USe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[Kj]}),n})(),x3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:y3,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[USe]}),n})();class cz extends e2{constructor(e,t,i){super(h3(t),p3(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Fj(this,0,e),e.forEach((i,r)=>{Nj(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function uz(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let $Se=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let o={};return uz(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new t2(r,o)}control(t,i,r){let o={};return this.useNonNullable?(uz(i)?o=i:(o.validators=i,o.asyncValidators=r),new $s(t,{...o,nonNullable:!0})):new $s(t,i,r)}array(t,i,r){const o=t.map(s=>this._createControl(s));return new cz(o,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof $s||t instanceof e2?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:x3}),n})(),C3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return ot($Se).nonNullable},providedIn:x3}),n})(),GSe=(()=>{class n{constructor(t,i){this.firestore=t,this.usersService=i}get myChats$(){const t=pp(this.firestore,"chats");return this.usersService.currentUserProfile$.pipe(tr(i=>{const r=r5(t,nge("userIds","array-contains",i?.uid));return n5(r,{idField:"id"}).pipe(Q(o=>this.addChatNameAndPic(i?.uid,o)))}))}createChat(t){const i=pp(this.firestore,"chats");return this.usersService.currentUserProfile$.pipe(Bt(1),tr(r=>rB(i,{userIds:[r?.uid,t?.uid],users:[{displayName:r?.displayName??""},{displayName:t.displayName??""}]})),Q(r=>r.id))}isExistingChat(t){return this.myChats$.pipe(Bt(1),Q(i=>{for(let r=0;r<i.length;r++)if(i[r].userIds.includes(t))return i[r].id;return null}))}addChatMessage(t,i){const r=pp(this.firestore,"chats",t,"messages"),o=my(this.firestore,"chats",t),s=kt.fromDate(new Date);return this.usersService.currentUserProfile$.pipe(Bt(1),tr(a=>rB(r,{text:i,senderId:a?.uid,sentDate:s})),tr(()=>oB(o,{lastMessage:i,lastMessageDate:s})))}getChatMessages$(t){const i=pp(this.firestore,"chats",t,"messages"),r=r5(i,ege("sentDate","asc"));return n5(r)}addChatNameAndPic(t,i){return i.forEach(r=>{const o=0===r.userIds.indexOf(t??"")?1:0,{displayName:s}=r.users[o];r.chatName=s}),i}}return n.\u0275fac=function(t){return new(t||n)(x(hp),x(du))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WSe=["connectionContainer"],KSe=["inputContainer"],ZSe=["label"];function YSe(n,e){1&n&&(gr(0),E(1,"div",14),le(2,"div",15)(3,"div",16)(4,"div",17),A(),E(5,"div",18),le(6,"div",15)(7,"div",16)(8,"div",17),A(),yr())}function QSe(n,e){if(1&n){const t=_o();E(0,"div",19),Ee("cdkObserveContent",function(){return Ln(t),Vn(ce().updateOutlineGap())}),xt(1,1),A()}2&n&&O("cdkObserveContentDisabled","outline"!=ce().appearance)}function XSe(n,e){if(1&n&&(gr(0),xt(1,2),E(2,"span"),I(3),A(),yr()),2&n){const t=ce(2);N(3),kr(t._control.placeholder)}}function JSe(n,e){1&n&&xt(0,3,["*ngSwitchCase","true"])}function eDe(n,e){1&n&&(E(0,"span",23),I(1," *"),A())}function tDe(n,e){if(1&n){const t=_o();E(0,"label",20,21),Ee("cdkObserveContent",function(){return Ln(t),Vn(ce().updateOutlineGap())}),te(2,XSe,4,1,"ng-container",12),te(3,JSe,1,0,"ng-content",12),te(4,eDe,2,0,"span",22),A()}if(2&n){const t=ce();Ht("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),O("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Ye("for",t._control.id)("aria-owns",t._control.id),N(2),O("ngSwitchCase",!1),N(1),O("ngSwitchCase",!0),N(1),O("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function nDe(n,e){1&n&&(E(0,"div",24),xt(1,4),A())}function iDe(n,e){if(1&n&&(E(0,"div",25),le(1,"span",26),A()),2&n){const t=ce();N(1),Ht("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function rDe(n,e){1&n&&(E(0,"div"),xt(1,5),A()),2&n&&O("@transitionMessages",ce()._subscriptAnimationState)}function oDe(n,e){if(1&n&&(E(0,"div",30),I(1),A()),2&n){const t=ce(2);O("id",t._hintLabelId),N(1),kr(t.hintLabel)}}function sDe(n,e){if(1&n&&(E(0,"div",27),te(1,oDe,2,2,"div",28),xt(2,6),le(3,"div",29),xt(4,7),A()),2&n){const t=ce();O("@transitionMessages",t._subscriptAnimationState),N(1),O("ngIf",t.hintLabel)}}const aDe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],lDe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let cDe=0;const dz=new P("MatError");let hz=(()=>{class n{constructor(t,i){this.id="mat-error-"+cDe++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(es("aria-live"),_(De))},n.\u0275dir=$({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&Ye("id",i.id)},inputs:{id:"id"},features:[Be([{provide:dz,useExisting:n}])]}),n})();const uDe={transitionMessages:Dy("transitionMessages",[Mp("enter",li({opacity:1,transform:"translateY(0%)"})),vu("void => enter",[li({opacity:0,transform:"translateY(-5px)"}),_u("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let E3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n}),n})();const dDe=new P("MatHint");let pz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["mat-label"]]}),n})(),hDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["mat-placeholder"]]}),n})();const pDe=new P("MatPrefix"),fz=new P("MatSuffix");let fDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["","matSuffix",""]],features:[Be([{provide:fz,useExisting:n}])]}),n})(),mz=0;const gDe=wy(class{constructor(n){this._elementRef=n}},"primary"),yDe=new P("MAT_FORM_FIELD_DEFAULT_OPTIONS"),T3=new P("MatFormField");let c2=(()=>{class n extends gDe{constructor(t,i,r,o,s,a,l){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=s,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ke,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+mz++,this._labelId="mat-form-field-label-"+mz++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=yt(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(er(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Mi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Mi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Ar(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(er(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(er(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Mi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,il(this._label.nativeElement,"transitionend").pipe(Bt(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const u=i.querySelectorAll(`${r}, ${o}`);for(let d=0;d<u.length;d++)u[d].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,a=0;const l=i.querySelectorAll(r),c=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const u=i.getBoundingClientRect();if(0===u.width&&0===u.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const d=this._getStartEnd(u),h=t.children,p=this._getStartEnd(h[0].getBoundingClientRect());let f=0;for(let m=0;m<h.length;m++)f+=h[m].offsetWidth;s=Math.abs(p-d)-5,a=f>0?.75*f+10:0}for(let u=0;u<l.length;u++)l[u].style.width=`${s}px`;for(let u=0;u<c.length;u++)c[u].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(xn),_(by,8),_(yDe,8),_(ai),_(oe),_(ua,8))},n.\u0275cmp=Ve({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(Ct(r,E3,5),Ct(r,E3,7),Ct(r,pz,5),Ct(r,pz,7),Ct(r,hDe,5),Ct(r,dz,5),Ct(r,dDe,5),Ct(r,pDe,5),Ct(r,fz,5)),2&t){let o;Ie(o=Ae())&&(i._controlNonStatic=o.first),Ie(o=Ae())&&(i._controlStatic=o.first),Ie(o=Ae())&&(i._labelChildNonStatic=o.first),Ie(o=Ae())&&(i._labelChildStatic=o.first),Ie(o=Ae())&&(i._placeholderChild=o.first),Ie(o=Ae())&&(i._errorChildren=o),Ie(o=Ae())&&(i._hintChildren=o),Ie(o=Ae())&&(i._prefixChildren=o),Ie(o=Ae())&&(i._suffixChildren=o)}},viewQuery:function(t,i){if(1&t&&(Ni(WSe,7),Ni(KSe,5),Ni(ZSe,5)),2&t){let r;Ie(r=Ae())&&(i._connectionContainerRef=r.first),Ie(r=Ae())&&(i._inputContainerRef=r.first),Ie(r=Ae())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&Ht("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Be([{provide:T3,useExisting:n}]),fe],ngContentSelectors:lDe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(mi(aDe),E(0,"div",0)(1,"div",1,2),Ee("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),te(3,YSe,9,0,"ng-container",3),te(4,QSe,2,1,"div",4),E(5,"div",5,6),xt(7),E(8,"span",7),te(9,tDe,5,16,"label",8),A()(),te(10,nDe,2,0,"div",9),A(),te(11,iDe,2,4,"div",10),E(12,"div",11),te(13,rDe,2,1,"div",12),te(14,sDe,5,2,"div",13),A()()),2&t&&(N(3),O("ngIf","outline"==i.appearance),N(1),O("ngIf",i._prefixChildren.length),N(5),O("ngIf",i._hasFloatingLabel()),N(1),O("ngIf",i._suffixChildren.length),N(1),O("ngIf","outline"!=i.appearance),N(1),O("ngSwitch",i._getDisplayedMessages()),N(1),O("ngSwitchCase","error"),N(1),O("ngSwitchCase","hint"))},dependencies:[Fi,kd,bv,Mge],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[uDe.transitionMessages]},changeDetection:0}),n})(),S3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[as,nt,hB,nt]}),n})();const yz=pu({passive:!0});let _De=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ar;const i=qo(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new ke,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,yz),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,yz)}}),o}stopMonitoring(t){const i=qo(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(x(ai),x(oe))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({}),n})();const vDe=new P("MAT_INPUT_VALUE_ACCESSOR"),kDe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let bDe=0;const wDe=Qge(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new ke}});let u2=(()=>{class n extends wDe{constructor(t,i,r,o,s,a,l,c,u,d){super(a,o,s,r),this._elementRef=t,this._platform=i,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+bDe++,this.focused=!1,this.stateChanges=new ke,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(f=>aB().has(f)),this._iOSKeyupListener=f=>{const m=f.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,p=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===p,this._isTextarea="textarea"===p,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=yt(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(bu.required)??!1}set required(t){this._required=yt(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&aB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=yt(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){kDe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(ai),_($o,10),_(a2,8),_(dl,8),_(TB),_(vDe,10),_(_De),_(oe),_(T3,8))},n.\u0275dir=$({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&Ee("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(Uf("disabled",i.disabled)("required",i.required),Ye("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),Ht("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Be([{provide:E3,useExisting:n}]),fe,Mn]}),n})(),MDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({providers:[TB],imports:[_z,S3,nt,_z,S3]}),n})();const xDe=["panel"];function CDe(n,e){if(1&n&&(E(0,"div",0,1),xt(2),A()),2&n){const t=e.id,i=ce();O("id",i.id)("ngClass",i._classList),Ye("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(t))}}const EDe=["*"];let TDe=0;class SDe{constructor(e,t){this.source=e,this.option=t}}const DDe=gu(class{}),vz=new P("mat-autocomplete-default-options",{providedIn:"root",factory:function IDe(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1}}});let ADe=(()=>{class n extends DDe{constructor(t,i,r,o){super(),this._changeDetectorRef=t,this._elementRef=i,this._activeOptionChanges=ct.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new we,this.opened=new we,this.closed=new we,this.optionActivated=new we,this._classList={},this.id="mat-autocomplete-"+TDe++,this.inertGroups=o?.SAFARI||!1,this._autoActiveFirstOption=!!r.autoActiveFirstOption,this._autoSelectActiveOption=!!r.autoSelectActiveOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=yt(t)}get autoSelectActiveOption(){return this._autoSelectActiveOption}set autoSelectActiveOption(t){this._autoSelectActiveOption=yt(t)}set classList(t){this._classList=t&&t.length?function bge(n,e=/\s+/){const t=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(e);for(const r of i){const o=`${r}`.trim();o&&t.push(o)}}return t}(t).reduce((i,r)=>(i[r]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new Ige(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const i=new SDe(this,t);this.optionSelected.emit(i)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}}return n.\u0275fac=function(t){return new(t||n)(_(xn),_(De),_(vz),_(ai))},n.\u0275dir=$({type:n,viewQuery:function(t,i){if(1&t&&(Ni(Oi,7),Ni(xDe,5)),2&t){let r;Ie(r=Ae())&&(i.template=r.first),Ie(r=Ae())&&(i.panel=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[fe]}),n})(),RDe=(()=>{class n extends ADe{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=rn(n)))(i||n)}}(),n.\u0275cmp=Ve({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(t,i,r){if(1&t&&(Ct(r,NB,5),Ct(r,LB,5)),2&t){let o;Ie(o=Ae())&&(i.optionGroups=o),Ie(o=Ae())&&(i.options=o)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[Be([{provide:OB,useExisting:n}]),fe],ngContentSelectors:EDe,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,i){1&t&&(mi(),te(0,CDe,3,4,"ng-template"))},dependencies:[vd],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}"],encapsulation:2,changeDetection:0}),n})();const kz=new P("mat-autocomplete-scroll-strategy"),ODe={provide:kz,deps:[ol],useFactory:function PDe(n){return()=>n.scrollStrategies.reposition()}},NDe={provide:qi,useExisting:$e(()=>bz),multi:!0};let FDe=(()=>{class n{constructor(t,i,r,o,s,a,l,c,u,d,h){this._element=t,this._overlay=i,this._viewContainerRef=r,this._zone=o,this._changeDetectorRef=s,this._dir=l,this._formField=c,this._document=u,this._viewportRuler=d,this._defaults=h,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=ct.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new ke,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=wm(()=>{const p=this.autocomplete?this.autocomplete.options:null;return p?p.changes.pipe(er(p),qt(()=>Ar(...p.map(f=>f.onSelectionChange)))):this._zone.onStable.pipe(Bt(1),qt(()=>this.optionSelections))}),this._scrollStrategy=a}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=yt(t)}ngAfterViewInit(){const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Ar(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Xt(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Xt(()=>this._overlayAttached)):W()).pipe(Q(t=>t instanceof FB?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Ar(il(this._document,"click"),il(this._document,"auxclick"),il(this._document,"touchend")).pipe(Xt(t=>{const i=Fs(t),r=this._formField?this._formField._elementRef.nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(i))&&(!o||!o.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const i=t.keyCode,r=Ls(t);if(27===i&&!r&&t.preventDefault(),this.activeOption&&13===i&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,s=38===i||40===i;9===i||s&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):s&&this._canOpen()&&this.openPanel(),(s||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let i=t.target,r=i.value;"number"===i.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r&&(this._previousValue=r,this._pendingAutoselectedOption=null,this._onChange(r),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return Ar(this._zone.onStable.pipe(Bt(1)),this.autocomplete.options.changes.pipe(ht(()=>this._positionStrategy.reapplyLastPosition()),M5(0))).pipe(qt(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this.autocomplete.opened.emit():this.autocomplete.closed.emit())}),this.panelClosingActions)),Bt(1)).subscribe(r=>this._setValueAndClose(r))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(t){const i=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t;this._updateNativeInputValue(i??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const i=t?t.source:this._pendingAutoselectedOption;i&&(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),this.autocomplete._emitSelectEvent(i),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(i=>{i!==t&&i.selected&&i.deselect()})}_attachOverlay(){let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new E5(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._handleOverlayEvents(t),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})})),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const i=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&i!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new D5({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let s;s="above"===this.position?o:"below"===this.position?i:[...i,...o],t.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;t.autoActiveFirstOption?t._keyManager.setFirstItemActive():t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const i=this.autocomplete,r=function aye(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}(t,i.options,i.optionGroups);if(0===t&&1===r)i._setScrollTop(0);else if(i.panel){const o=i.options.toArray()[t];if(o){const s=o._getHostElement(),a=function lye(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}(s.offsetTop,s.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(a)}}}_handleOverlayEvents(t){t.keydownEvents().subscribe(i=>{(27===i.keyCode&&!Ls(i)||38===i.keyCode&&Ls(i,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),i.stopPropagation(),i.preventDefault())}),t.outsidePointerEvents().subscribe()}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(ol),_(yi),_(oe),_(xn),_(kz),_(by,8),_(T3,9),_(xe,8),_(T5),_(vz,8))},n.\u0275dir=$({type:n,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[Mn]}),n})(),bz=(()=>{class n extends FDe{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=rn(n)))(i||n)}}(),n.\u0275dir=$({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,i){1&t&&Ee("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(o){return i._handleInput(o)})("keydown",function(o){return i._handleKeydown(o)})("click",function(){return i._handleClick()}),2&t&&Ye("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-owns",i.autocompleteDisabled||!i.panelOpen||null==i.autocomplete?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[Be([NDe]),fe]}),n})(),LDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({providers:[ODe],imports:[I5,VB,nt,as,Ep,VB,nt]}),n})();class D3{constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ke,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){if(this.compareWith){for(const t of this._selection)if(this.compareWith(t,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let VDe=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=yt(t)}get inset(){return this._inset}set inset(t){this._inset=yt(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ve({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(Ye("aria-orientation",i.vertical?"vertical":"horizontal"),Ht("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),wz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[nt,nt]}),n})();const BDe=["*"],jDe=["text"];function zDe(n,e){if(1&n&&le(0,"mat-pseudo-checkbox",5),2&n){const t=ce();O("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const qDe=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],UDe=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let $De=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),GDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=$({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})();const WDe=gu(class{}),KDe=gu(class{}),ZDe={provide:qi,useExisting:$e(()=>I3),multi:!0};class YDe{constructor(e,t){this.source=e,this.options=t}}let Mz=(()=>{class n extends KDe{constructor(t,i,r){super(),this._element=t,this._changeDetector=i,this.selectionList=r,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new we,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const i=yt(t);i!==this._disabled&&(this._disabled=i,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const i=yt(t);i!==this._selected&&(this._setSelected(i),(i||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(r=>t.compareWith(this._value,r))&&this._setSelected(!0);const i=this._selected;Promise.resolve().then(()=>{(this._selected||i)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function Jge(n,e,t="mat"){n.changes.pipe(er(n)).subscribe(({length:i})=>{_p(e,`${t}-2-line`,!1),_p(e,`${t}-3-line`,!1),_p(e,`${t}-multi-line`,!1),2===i||3===i?_p(e,`${t}-${i}-line`,!0):i>3&&_p(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,i=this.selectionList._removeOptionFromList(this);t&&i&&i.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(t),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(xn),_($e(()=>I3)))},n.\u0275cmp=Ve({type:n,selectors:[["mat-list-option"]],contentQueries:function(t,i,r){if(1&t&&(Ct(r,$De,5),Ct(r,GDe,5),Ct(r,SB,5)),2&t){let o;Ie(o=Ae())&&(i._avatar=o.first),Ie(o=Ae())&&(i._icon=o.first),Ie(o=Ae())&&(i._lines=o)}},viewQuery:function(t,i){if(1&t&&Ni(jDe,5),2&t){let r;Ie(r=Ae())&&(i._text=r.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&Ee("focus",function(){return i._handleFocus()})("blur",function(){return i._handleBlur()})("click",function(){return i._handleClick()}),2&t&&(Ye("aria-selected",i.selected)("aria-disabled",i.disabled)("tabindex",-1),Ht("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)("mat-primary","primary"===i.color)("mat-accent","primary"!==i.color&&"warn"!==i.color)("mat-warn","warn"===i.color)("mat-list-single-selected-option",i.selected&&!i.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[fe],ngContentSelectors:UDe,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,i){1&t&&(mi(qDe),E(0,"div",0),le(1,"div",1),te(2,zDe,1,2,"mat-pseudo-checkbox",2),E(3,"div",3,4),xt(5),A(),xt(6,1),A()),2&t&&(Ht("mat-list-item-content-reverse","after"==i.checkboxPosition),N(1),O("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()),N(1),O("ngIf",i.selectionList.multiple))},dependencies:[yu,PB,Fi],encapsulation:2,changeDetection:0}),n})(),I3=(()=>{class n extends WDe{constructor(t,i,r){super(),this._element=t,this._changeDetector=i,this._focusMonitor=r,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new we,this.color="accent",this.compareWith=(o,s)=>o===s,this._disabled=!1,this.selectedOptions=new D3(this._multiple),this._tabIndex=-1,this._onChange=o=>{},this._destroyed=new ke,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=yt(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const i=yt(t);i!==this._multiple&&(this._multiple=i,this.selectedOptions=new D3(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){this._contentInitialized=!0,this._keyManager=new _B(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(Mi(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(er(null),Mi(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(Mi(this._destroyed)).subscribe(t=>{if(t.added)for(let i of t.added)i.selected=!0;if(t.removed)for(let i of t.removed)i.selected=!1}),this._focusMonitor.monitor(this._element).pipe(Mi(this._destroyed)).subscribe(t=>{if("keyboard"===t||"program"===t){let i=0;for(let r=0;r<this.options.length;r++)if(this.options.get(r)?.selected){i=r;break}this._keyManager.setActiveItem(i)}})}ngOnChanges(t){const i=t.disableRipple,r=t.color;(i&&!i.firstChange||r&&!r.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const i=this._getOptionIndex(t);return i>-1&&this._keyManager.activeItemIndex===i&&(i>0?this._keyManager.updateActiveItem(i-1):0===i&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(i+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const i=t.keyCode,r=this._keyManager,o=r.activeItemIndex,s=Ls(t);switch(i){case 32:case 13:!s&&!r.isTyping()&&(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===i&&this.multiple&&Ls(t,"ctrlKey")&&!r.isTyping()){const a=this.options.some(l=>!l.disabled&&!l.selected);this._setAllOptionsSelected(a,!0,!0),t.preventDefault()}else r.onKeydown(t)}this.multiple&&(38===i||40===i)&&t.shiftKey&&r.activeItemIndex!==o&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new YDe(this,t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(i=>i._setSelected(!1)),t.forEach(i=>{const r=this.options.find(o=>!o.selected&&this.compareWith(o.value,i));r&&r._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let i=this.options.toArray()[t];i&&!i.disabled&&(this._multiple||!i.selected)&&(i.toggle(),this._emitChangeEvent([i]))}}_setAllOptionsSelected(t,i,r){const o=[];return this.options.forEach(s=>{(!i||!s.disabled)&&s._setSelected(t)&&o.push(s)}),o.length&&(this._reportValueChange(),r&&this._emitChangeEvent(o)),o}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return n.\u0275fac=function(t){return new(t||n)(_(De),_(xn),_(gp))},n.\u0275cmp=Ve({type:n,selectors:[["mat-selection-list"]],contentQueries:function(t,i,r){if(1&t&&Ct(r,Mz,5),2&t){let o;Ie(o=Ae())&&(i.options=o)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,i){1&t&&Ee("keydown",function(o){return i._keydown(o)}),2&t&&Ye("aria-multiselectable",i.multiple)("aria-disabled",i.disabled.toString())("tabindex",i._tabIndex)},inputs:{disableRipple:"disableRipple",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[Be([ZDe]),fe,Mn],ngContentSelectors:BDe,decls:1,vars:0,template:function(t,i){1&t&&(mi(),xt(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),QDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[DB,vp,nt,y5,as,DB,nt,y5,wz]}),n})(),XDe=(()=>{class n{constructor(t){this.datePipe=t}transform(t){return this.datePipe.transform(t?.toMillis(),"short")??""}}return n.\u0275fac=function(t){return new(t||n)(_(wv,16))},n.\u0275pipe=Qn({name:"dateDisplay",type:n,pure:!0}),n})();const JDe=["endOfChat"];function eIe(n,e){if(1&n){const t=_o();E(0,"mat-option",18),Ee("click",function(){const o=Ln(t).$implicit;return Vn(ce().createChat(o))}),I(1),A()}if(2&n){const t=e.$implicit;O("value",""),N(1),os(" ",t.displayName," ")}}function tIe(n,e){if(1&n&&(E(0,"mat-list-option",19)(1,"div",20),le(2,"lucide-icon",21),E(3,"span",22),I(4),A(),E(5,"span",23),I(6),dn(7,"dateDisplay"),A()(),E(8,"p",24),I(9),A(),le(10,"mat-divider"),A()),2&n){const t=e.$implicit;O("value",t.id),N(4),kr(t.chatName),N(2),kr(hn(7,4,t.lastMessageDate)),N(3),kr(t.lastMessage)}}function nIe(n,e){if(1&n&&(E(0,"div",25)(1,"mat-icon",26),I(2,"face"),A(),E(3,"h2"),I(4),A()()),2&n){const t=e.ngIf;N(4),kr(t.chatName)}}function iIe(n,e){1&n&&(E(0,"h2"),I(1,"Chats"),A())}const rIe=function(n){return{sender:n}},oIe=function(n,e){return{"background-color":n,color:e}},sIe=function(n){return{color:n}};function aIe(n,e){if(1&n&&(E(0,"div",28)(1,"div",29),dn(2,"async"),dn(3,"async"),dn(4,"async"),I(5),E(6,"span",30),dn(7,"async"),I(8),dn(9,"dateDisplay"),A()()()),2&n){const t=e.$implicit,i=ce(2).ngIf,r=ce();let o,s;O("ngClass",Yf(15,rIe,t.senderId===i.uid)),N(1),O("ngStyle",L_(17,oIe,t.senderId===(null==(o=hn(2,5,r.currentUser$))?null:o.uid)?null==(o=hn(3,7,r.currentUser$))?null:o.color:"white",t.senderId===(null==(o=hn(4,9,r.currentUser$))?null:o.uid)?"white":"black")),N(4),os(" ",t.text," "),N(1),O("ngStyle",Yf(20,sIe,t.senderId===(null==(s=hn(7,11,r.currentUser$))?null:s.uid)?"white":"black")),N(2),os(" ",hn(9,13,t.sentDate)," ")}}function lIe(n,e){if(1&n&&(gr(0),te(1,aIe,10,22,"div",27),yr()),2&n){const t=e.ngIf;N(1),O("ngForOf",t)}}function cIe(n,e){if(1&n&&(gr(0),te(1,lIe,2,1,"ng-container",12),dn(2,"async"),yr()),2&n){const t=ce();N(1),O("ngIf",hn(2,1,t.messages$))}}const uIe=function(n){return{"background-color":n}};let dIe=(()=>{class n{constructor(t,i){this.usersService=t,this.chatsService=i,this.user$=this.usersService.currentUserProfile$,this.currentUser$=this.user$,this.myChats$=this.chatsService.myChats$,this.searchControl=new $s(""),this.messageControl=new $s(""),this.chatListControl=new $s(""),this.otherUsers$=_c([this.usersService.allUsers$,this.user$]).pipe(Q(([r,o])=>r.filter(s=>s.uid!==o?.uid))),this.users$=_c([this.otherUsers$,this.searchControl.valueChanges.pipe(er(""))]).pipe(Q(([r,o])=>r.filter(s=>s.displayName?.toLowerCase().includes(o?.toLowerCase()??"")||s.email?.toLowerCase().includes(o?.toLowerCase()??"")))),this.selectedChat$=_c([this.chatListControl.valueChanges,this.myChats$]).pipe(Q(([r,o])=>o.find(s=>s.id===r?.[0])))}ngOnInit(){this.messages$=this.chatListControl.valueChanges.pipe(Q(t=>t?.[0]),qt(t=>t?this.chatsService.getChatMessages$(t):W([])),ht(()=>{this.scrollToBottom()}))}createChat(t){this.chatsService.isExistingChat(t.uid).pipe(qt(i=>i?W(i):this.chatsService.createChat(t))).subscribe(i=>{this.chatListControl.setValue(i[0]||"")})}sendMessage(){const t=this.messageControl.value,i=this.chatListControl.value?.[0];t&&i&&(this.chatsService.addChatMessage(i,t).subscribe(()=>{this.scrollToBottom()}),this.messageControl.setValue(""))}scrollToBottom(){setTimeout(()=>{this.endOfChat&&this.endOfChat.nativeElement.scrollIntoView({behavior:"smooth"})},100)}hexToRgb(t){if(!t)return;const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(o,s,a,l)=>s+s+a+a+l+l));return r?`${parseInt(r[1],16)}, ${parseInt(r[2],16)}, ${parseInt(r[3],16)}`:""}}return n.\u0275fac=function(t){return new(t||n)(_(du),_(GSe))},n.\u0275cmp=Ve({type:n,selectors:[["app-home"]],viewQuery:function(t,i){if(1&t&&Ni(JDe,5),2&t){let r;Ie(r=Ae())&&(i.endOfChat=r.first)}},decls:31,vars:23,consts:[[1,"container"],[1,"chat-list","mat-elevation-z5",3,"ngStyle"],[1,"search-input"],["matInput","","placeholder","Search for users...",2,"color","white",3,"matAutocomplete","formControl"],["users","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[3,"multiple","formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"messages","mat-elevation-z5"],["class","messages-header",4,"ngIf","ngIfElse"],["noChatSelected",""],[1,"chat-area"],[4,"ngIf"],["endOfChat",""],[1,"input-area"],["appearance","outline"],["matInput","","placeholder","Enter your message...",3,"formControl","keydown.enter"],["mat-icon-button","","matSuffix","",3,"click"],[3,"value","click"],[3,"value"],[1,"chat-title"],["name","ghost","size","17",2,"padding-top","1px","margin-right","px"],[1,"chat-name"],[1,"chat-date",2,"font-size","0.5rem"],["mat-line","",2,"font-size","0.7rem"],[1,"messages-header"],[2,"padding-right","3px","padding-top","2px"],["class","chat-bubble-container",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-bubble-container",3,"ngClass"],[1,"chat-bubble",3,"ngStyle"],[1,"chat-time",3,"ngStyle"]],template:function(t,i){if(1&t&&(E(0,"div",0)(1,"div",1),dn(2,"async"),E(3,"div",2)(4,"mat-form-field"),le(5,"input",3),A(),E(6,"mat-autocomplete",null,4),te(8,eIe,2,2,"mat-option",5),dn(9,"async"),A()(),E(10,"mat-selection-list",6),le(11,"mat-divider"),te(12,tIe,11,6,"mat-list-option",7),dn(13,"async"),A()(),E(14,"div",8),te(15,nIe,5,1,"div",9),dn(16,"async"),te(17,iIe,2,0,"ng-template",null,10,pd),le(19,"mat-divider"),E(20,"div",11),te(21,cIe,3,3,"ng-container",12),dn(22,"async"),le(23,"div",null,13),A(),E(25,"div",14)(26,"mat-form-field",15)(27,"input",16),Ee("keydown.enter",function(){return i.sendMessage()}),A(),E(28,"button",17),Ee("click",function(){return i.sendMessage()}),E(29,"mat-icon"),I(30,"send"),A()()()()()()),2&t){const r=yo(7),o=yo(18);let s;N(1),O("ngStyle",Yf(21,uIe,null==(s=hn(2,11,i.currentUser$))?null:s.color)),N(4),O("matAutocomplete",r)("formControl",i.searchControl),N(3),O("ngForOf",hn(9,13,i.users$)),N(2),O("multiple",!1)("formControl",i.chatListControl),N(2),O("ngForOf",hn(13,15,i.myChats$)),N(3),O("ngIf",hn(16,17,i.selectedChat$))("ngIfElse",o),N(6),O("ngIf",hn(22,19,i.user$)),N(6),O("formControl",i.messageControl)}},dependencies:[vd,v1,Fi,k1,k5,wp,c2,fDe,u2,ul,Pp,_3,MH,RDe,bz,LB,SB,I3,Mz,VDe,bd,XDe],styles:[".container[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 120px);overflow:hidden;> .chat-list {width: 40%; margin: 16px; border-radius: 16px; .chat-title {display: flex; align-items: center; .chat-name {font-weight: 500;} .chat-date {font-size: .7rem; color: rgba(0,0,0,.7); margin-left: auto;}} .search-input {margin: 24px;}} > .messages {width: 60%; padding: 24px; margin: 16px; margin-left: 8px; border-radius: 16px; background: rgba(0,0,0,.05); .messages-header {display: flex; margin-bottom: 8px; > img {border-radius: 50%; object-fit: cover; margin-right: 16px; height: 35px;} > h2 {margin: 0;}} .chat-area {height: calc(100vh - 340px); display: flex; flex-direction: column; align-items: flex-start; overflow: auto; > :first-child {margin-top: auto;} .chat-bubble-container {display: flex; width: 100%; justify-content: flex-start; > .chat-bubble {background: white; padding-top: 8px; padding-bottom: 18px; padding-left: 8px; padding-right: 100px; margin-bottom: 16px; border-radius: 8px; width: -moz-fit-content; width: fit-content; position: relative; > .chat-time {position: absolute; bottom: 2px; right: 8px; font-size: .7rem; color: rgba(0,0,0,.6);}}} .chat-bubble-container.sender {justify-content: flex-end;}} .input-area {padding-top: 16px; padding-bottom: 8px;}}}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),n})();function hIe(n,e){if(1&n&&(E(0,"h1")(1,"span"),I(2),A()()),2&n){const t=e.ngIf;N(1),gi("color",t.color||"black"),N(1),kr(t.displayName)}}let pIe=(()=>{class n{constructor(t){this.usersService=t,this.user$=this.usersService.currentUserProfile$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(_(du))},n.\u0275cmp=Ve({type:n,selectors:[["app-landing"]],decls:17,vars:3,consts:[[1,"page-container"],[4,"ngIf"],["routerLink","/login",1,"icon-link"],[1,"huge-icon"],["xmlns","http://www.w3.org/2000/svg","width","200","height","200","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-ghost"],["d","M9 10h.01"],["d","M15 10h.01"],["d","M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"],["routerLink","/sign-up",1,"sign-up-link"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"h1"),I(2,"Welcome!"),A(),te(3,hIe,3,3,"h1",1),dn(4,"async"),E(5,"a",2)(6,"div",3),X2(),E(7,"svg",4),le(8,"path",5)(9,"path",6)(10,"path",7),A()()(),function WT(){!function qU(){ae.lFrame.currentNamespace=null}()}(),E(11,"h2"),I(12,"About"),A(),E(13,"p"),I(14," Chatsper redefines messaging apps by prioritizing security and reliability. Developed to counter the prevailing surveillance practices of major corporations, Chatsper stands out as a secure and trustworthy applet. Focused on safeguarding user data and ensuring privacy, it offers an alternative to conventional messaging platforms, emphasizing confidentiality in communication. With a commitment to user empowerment, Chatsper provides a concise and secure messaging experience, challenging the norms of data-centric practices prevalent in the industry. "),A(),E(15,"a",8),I(16,"Sign up Today!"),A()()),2&t&&(N(3),O("ngIf",hn(4,1,i.user$)))},dependencies:[Fi,rh,bd],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;display:flex;align-items:center;justify-content:center}.larger-icon[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(.8)}.larger-icon[_ngcontent-%COMP%]{font-size:200px;width:100%;height:100%;text-align:center;line-height:normal}.huge-icon[_ngcontent-%COMP%]{font-size:200px;width:100%;height:100%;color:#000;text-align:center;transition:filter .3s ease}.huge-icon[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(1.8)}.sign-up-link[_ngcontent-%COMP%]{margin-top:20px}"]}),n})();function A3(n){return n instanceof Oi}function R3(n){return"function"==typeof n}function xz(n){return"string"==typeof n}let fIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ve({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,i){1&t&&le(0,"div",0),2&t&&O("innerHTML",i.content,OS)},encapsulation:2}),n})();class mIe{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class gIe{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class yIe{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let Cz=(()=>{class n{constructor(t,i,r){this.resolver=t,this.injector=i,this.appRef=r}createComponent(t,i={}){return new yIe({component:t,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,i={}){return new mIe({vcr:i.vcr,appRef:this.appRef,tpl:t,context:i.context})}createView(t,i={}){if(A3(t))return this.createTemplate(t,i);if(R3(t))return this.createComponent(t,i);if(xz(t))return new gIe(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(x(ra),x(Rt),x(da))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_Ie=(()=>{class n{constructor(t,i,r){this.defaultTpl=t,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),xz(this.view)?(this.viewRef=this.viewService.createComponent(fIe,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(_(Oi),_(yi),_(Cz))},n.\u0275dir=$({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[Mn]}),n})(),vIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({}),n})();const{isArray:kIe}=Array;const xIe=["*"],CIe=function(n,e){return{"border-color":n,"border-right-color":e}};function EIe(n,e){if(1&n&&(E(0,"div"),I(1,"\n        "),le(2,"hot-toast-error",2),I(3,"\n      "),A()),2&n){const t=ce(3);N(2),O("theme",t.theme)}}function TIe(n,e){if(1&n&&(E(0,"div"),I(1,"\n        "),le(2,"hot-toast-checkmark",2),I(3,"\n      "),A()),2&n){const t=ce(3);N(2),O("theme",t.theme)}}function SIe(n,e){if(1&n&&(E(0,"div"),I(1,"\n        "),le(2,"hot-toast-warning",2),I(3,"\n      "),A()),2&n){const t=ce(3);N(2),O("theme",t.theme)}}function DIe(n,e){if(1&n&&(E(0,"div"),I(1,"\n        "),le(2,"hot-toast-info",2),I(3,"\n      "),A()),2&n){const t=ce(3);N(2),O("theme",t.theme)}}function IIe(n,e){if(1&n&&(E(0,"div",4),I(1,"\n    "),E(2,"div",5),I(3,"\n      "),te(4,EIe,4,1,"div",6),I(5,"\n      "),te(6,TIe,4,1,"div",6),I(7,"\n      "),te(8,SIe,4,1,"div",6),I(9,"\n      "),te(10,DIe,4,1,"div",6),I(11,"\n    "),A(),I(12,"\n  "),A()),2&n){const t=ce(2);N(2),O("ngSwitch",t.type),N(2),O("ngSwitchCase","error"),N(2),O("ngSwitchCase","success"),N(2),O("ngSwitchCase","warning"),N(2),O("ngSwitchCase","info")}}function AIe(n,e){if(1&n&&(E(0,"div",1),I(1,"\n  "),le(2,"hot-toast-loader",2),I(3,"\n  "),te(4,IIe,13,5,"div",3),I(5,"\n"),A()),2&n){const t=ce();N(2),O("theme",t.theme),N(2),O("ngIf","loading"!==t.type)}}const RIe=["hotToastBarBase"];function PIe(n,e){if(1&n&&(gr(0),I(1,"\n          "),E(2,"hot-toast-animated-icon",10),I(3),A(),I(4,"\n        "),yr()),2&n){const t=ce(2);N(2),O("iconTheme",t.toast.iconTheme),N(1),kr(t.toast.icon)}}function OIe(n,e){if(1&n&&(I(0,"\n          "),E(1,"div"),I(2,"\n            "),zf(3,11),I(4,"\n          "),A(),I(5,"\n        ")),2&n){const t=ce(2);N(3),O("dynamicView",t.toast.icon)}}function NIe(n,e){if(1&n&&(gr(0),I(1,"\n        "),te(2,PIe,5,2,"ng-container",4),I(3,"\n        "),te(4,OIe,6,1,"ng-template",null,9,pd),I(6,"\n      "),yr()),2&n){const t=yo(5),i=ce();N(2),O("ngIf",i.isIconString)("ngIfElse",t)}}function FIe(n,e){if(1&n&&(I(0,"\n        "),le(1,"hot-toast-indicator",12),I(2,"\n      ")),2&n){const t=ce();N(1),O("theme",t.toast.iconTheme)("type",t.toast.type)}}function LIe(n,e){1&n&&zf(0)}function VIe(n,e){if(1&n){const t=_o();E(0,"button",13),Ee("click",function(){return Ln(t),Vn(ce().close())}),A()}2&n&&O("ngStyle",ce().toast.closeStyle)}function BIe(n,e){if(1&n){const t=_o();E(0,"hot-toast",3),Ee("height",function(r){const s=Ln(t).$implicit;return Vn(ce().updateHeight(r,s))})("beforeClosed",function(){const o=Ln(t).$implicit;return Vn(ce().beforeClosed(o))})("afterClosed",function(r){return Ln(t),Vn(ce().afterClosed(r))}),A()}if(2&n){const t=e.$implicit,i=e.index,r=ce();O("toast",t)("offset",r.calculateOffset(t.id,t.position))("toastRef",r.toastRefs[i])}}const Ez={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class Sz{constructor(e){this.toast=e,this._onClosed=new ke}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:i,updateToast:r,afterClosed:o}=e.addToast(this);return this.dispose=t,this.updateMessage=i,this.updateToast=r,this.afterClosed=function wIe(...n){return 1===(n=function bIe(n){return 1===n.length&&kIe(n[0])?n[0]:n}(n)).length?Yn(n[0]):new Ue(function MIe(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(Yn(n[i]).subscribe(new it(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(r)})))}}(n))}(this._onClosed.asObservable(),o),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let qIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ve({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:xIe,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,i){1&t&&(mi(),E(0,"div",0),I(1,"\n  "),xt(2),I(3,"\n"),A(),I(4,"\n")),2&t&&gi("color",null==i.iconTheme?null:i.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),UIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ve({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,i){1&t&&(le(0,"div",0),I(1,"\n")),2&t&&O("ngStyle",L_(1,CIe,null==i.theme?null:i.theme.primary,null==i.theme?null:i.theme.secondary))},dependencies:[k1],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),$Ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ve({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,i){1&t&&(le(0,"div",0),I(1,"\n")),2&t&&gi("--error-primary",null==i.theme?null:i.theme.primary)("--error-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),GIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ve({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,i){1&t&&(le(0,"div",0),I(1,"\n")),2&t&&gi("--check-primary",null==i.theme?null:i.theme.primary)("--check-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),WIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ve({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,i){1&t&&(le(0,"div",0),I(1,"\n")),2&t&&gi("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),KIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ve({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,i){1&t&&(le(0,"div",0),I(1,"\n")),2&t&&gi("--warn-primary",null==i.theme?null:i.theme.primary)("--warn-secondary",null==i.theme?null:i.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),ZIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ve({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,i){1&t&&(te(0,AIe,6,2,"div",0),I(1,"\n")),2&t&&O("ngIf","blank"!==i.type)},dependencies:[UIe,$Ie,GIe,WIe,KIe,Fi,kd,bv],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),Dz=(()=>{class n{constructor(t,i,r){this.injector=t,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new we,this.beforeClosed=new we,this.afterClosed=new we,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){A3(this.toast.message)&&(this.context={$implicit:this.toastRef}),R3(this.toast.message)&&(this.toastComponentInjector=Rt.create({providers:[{provide:Sz,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),i=t?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...i,...r}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),i=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${i}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i}}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[i,r]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}}return n.\u0275fac=function(t){return new(t||n)(_(Rt),_(pr),_(oe))},n.\u0275cmp=Ve({type:n,selectors:[["hot-toast"]],viewQuery:function(t,i){if(1&t&&Ni(RIe,5),2&t){let r;Ie(r=Ae())&&(i.toastBarBase=r.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,i){if(1&t&&(E(0,"div",0),I(1,"\n  "),E(2,"div",1,2),I(4,"\n    "),E(5,"div",3),I(6,"\n      "),te(7,NIe,7,2,"ng-container",4),I(8,"\n\n      "),te(9,FIe,3,2,"ng-template",null,5,pd),I(11,"\n    "),A(),I(12,"\n\n    "),E(13,"div",6),I(14,"\n      "),E(15,"div"),I(16,"\n        "),te(17,LIe,1,0,"ng-container",7),I(18,"\n      "),A(),I(19,"\n    "),A(),I(20,"\n\n    "),te(21,VIe,1,1,"button",8),I(22,"\n  "),A(),I(23,"\n"),A(),I(24,"\n")),2&t){const r=yo(10);O("ngStyle",i.containerPositionStyle)("ngClass","hot-toast-theme-"+i.toast.theme),N(2),gi("--hot-toast-animation-state",i.isManualClose?"running":"paused"),O("ngStyle",i.toastBarBaseStyles)("ngClass",i.toast.className),Ye("aria-live",i.toast.ariaLive)("role",i.toast.role),N(5),O("ngIf",void 0!==i.toast.icon)("ngIfElse",r),N(10),O("dynamicView",i.toast.message)("dynamicViewContext",i.context)("dynamicViewInjector",i.toastComponentInjector),N(4),O("ngIf",i.toast.dismissible)}},dependencies:[qIe,ZIe,k1,vd,Fi,_Ie],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),YIe=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new ke,this.onClosed$=this._onClosed.asObservable()}trackById(t,i){return i.id}calculateOffset(t,i){const r=this.toasts.filter(a=>a.visible&&a.position===i),o=r.findIndex(a=>a.id===t);return-1!==o?r.slice(...this.defaultConfig.reverseOrder?[o+1]:[0,o]).reduce((a,l)=>a+(l.height||0)+8,0):0}updateHeight(t,i){i.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const i=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(t){if(t){const i=this.hotToastComponentList.find(r=>r.toast.id===t);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(r=>r.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(r=>r.id!==t.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(i=>i.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(Xt(i=>i.id===t.id))}updateToasts(t,i){this.toasts=this.toasts.map(r=>({...r,...r.id===t.id&&{...t,...i}}))}}return n.\u0275fac=function(t){return new(t||n)(_(xn))},n.\u0275cmp=Ve({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,i){if(1&t&&Ni(Dz,5),2&t){let r;Ie(r=Ae())&&(i.hotToastComponentList=r)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,i){1&t&&(E(0,"div",0),I(1,"\n  "),E(2,"div",1),I(3,"\n    "),te(4,BIe,1,3,"hot-toast",2),I(5,"\n  "),A(),I(6,"\n"),A(),I(7,"\n")),2&t&&(N(4),O("ngForOf",i.toasts)("ngForTrackBy",i.trackById))},dependencies:[Dz,v1],encapsulation:2,changeDetection:0}),n})();class P3{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class JIe{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let O3=(()=>{class n{constructor(t,i,r){this._viewService=t,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new P3,this._defaultPersistConfig=new JIe,r&&(this._defaultConfig={...this._defaultConfig,...r})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,i){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...i})}error(t,i){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...i})}success(t,i){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...i})}loading(t,i){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...i})}warning(t,i){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}info(t,i){return this.createToast(t||this._defaultConfig.warning.content,"info",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}observe(t){return i=>{let r,o=0;const s=t.loading||this._defaultConfig.loading?.content,a=t.error||this._defaultConfig.error?.content;return wm(()=>(s&&(r=this.createLoadingToast(s),o=Date.now()),i.pipe(ht({next:l=>{r=this.createOrUpdateToast(t,l,r,"success",0===o?o:Date.now()-o)},...a&&{error:l=>{r=this.createOrUpdateToast(t,l,r,"error",0===o?o:Date.now()-o)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){(function $J(n){return"server"===n})(this.platformId)||(this._componentRef=this._viewService.createComponent(YIe).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,i,r,o,s){let a=null,l={};if(({content:a,options:l}=this.getContentAndOptions(o,t[o]||(this._defaultConfig[o]?this._defaultConfig[o].content:""))),a=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(a,i),r){r.updateMessage(a);const c={type:o,duration:s+Ez[o],...l,...l.duration&&{duration:s+l.duration}};r.updateToast(c)}else this.createToast(a,o,l);return r}createToast(t,i,r,o){this._isInitialized||(this._isInitialized=!0,this.init());const s=Date.now(),a=r?.id??s.toString();if(!this.isDuplicate(a)&&(!r.persist?.enabled||r.persist?.enabled&&this.handleStorageValue(a,r))){const l={ariaLive:r?.ariaLive??"polite",createdAt:s,duration:r?.duration??Ez[i],id:a,message:t,role:r?.role??"status",type:i,visible:!0,observableMessages:o??void 0,...r};return new Sz(l).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,i){let r=1;const o={...this._defaultPersistConfig,...i.persist},s="local"===o.storage?localStorage:sessionStorage,a=o.key.replace(/\${id}/g,t);let l=s.getItem(a);return l?(l=parseInt(l,10),r=l>0?l-1:l):r=o.count,s.setItem(a,r.toString()),r}getContentAndOptions(t,i){let r,o={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof i||A3(i)||R3(i))r=i;else{let s;({content:r,...s}=i),o={...o,...s}}return{content:r,options:o}}createLoadingToast(t){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",t)),this.loading(i,r)}}return n.\u0275fac=function(t){return new(t||n)(x(Cz),x(lc),x(P3,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eAe=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:P3,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[[as,vIe]]}),n})();function tAe(n,e){1&n&&(E(0,"mat-error"),I(1," Password is required "),A())}let nAe=(()=>{class n{constructor(t,i,r,o){this.authService=t,this.toast=i,this.router=r,this.fb=o,this.loginForm=this.fb.group({displayName:["",bu.required],password:["",bu.required]})}ngOnInit(){}get password(){return this.loginForm.get("password")}get displayName(){return this.loginForm.get("displayName")}submit(){const{displayName:t,password:i}=this.loginForm.value;this.loginForm.valid&&t&&i&&this.authService.login(`${t}@example.com`,i).pipe(this.toast.observe({success:"Logged in successfully",loading:"Logging in...",error:({message:o})=>`There was an error: ${o} `})).subscribe(()=>{this.router.navigate(["/home"])})}}return n.\u0275fac=function(t){return new(t||n)(_(bm),_(O3),_(gn),_(C3))},n.\u0275cmp=Ve({type:n,selectors:[["app-login"]],decls:16,vars:2,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Username","formControlName","displayName"],["matInput","","type","password","placeholder","Password","formControlName","password"],[4,"ngIf"],[1,"center","margin-top"],["type","submit","mat-raised-button","","color","primary"],["routerLink","/sign-up",1,"sign-up-link"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"h1"),I(2,"Login"),A(),E(3,"form",1),Ee("ngSubmit",function(){return i.submit()}),E(4,"mat-form-field"),le(5,"input",2),A(),E(6,"mat-form-field"),le(7,"input",3),te(8,tAe,2,0,"mat-error",4),A(),E(9,"div",5)(10,"button",6),I(11,"Login"),A()(),E(12,"span",5),I(13,"New? "),E(14,"a",7),I(15,"Sign up!"),A()()()()),2&t&&(N(3),O("formGroup",i.loginForm),N(5),O("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required))},dependencies:[Fi,rh,wp,hz,c2,u2,l2,ul,Pp,Yy,dl,Vp],styles:[".sign-up-link[_ngcontent-%COMP%]{margin-left:8px}"]}),n})();function iAe(n,e){1&n&&(E(0,"mat-error"),I(1," Username is required "),A())}function rAe(n,e){1&n&&(E(0,"mat-error"),I(1," Password is required "),A())}function oAe(n,e){1&n&&(E(0,"mat-error"),I(1," Confirm Password is required "),A())}function sAe(n,e){1&n&&(E(0,"mat-error"),I(1," Passwords should match "),A())}let lAe=(()=>{class n{constructor(t,i,r,o,s){this.authService=t,this.router=i,this.toast=r,this.usersService=o,this.fb=s,this.signUpForm=this.fb.group({name:["",bu.required],password:["",bu.required],confirmPassword:["",bu.required]},{validators:n=>{const e=n.get("password")?.value,t=n.get("confirmPassword")?.value;return e&&t&&e!==t?{passwordsDontMatch:!0}:null}})}ngOnInit(){}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}get name(){return this.signUpForm.get("name")}submit(){const{name:t,password:i}=this.signUpForm.value;if(!this.signUpForm.valid||!t||!i)return;const r=`${t}@example.com`;this.authService.signUp(r,i).pipe(qt(({user:{uid:s}})=>this.usersService.addUser({uid:s,email:r,displayName:t,color:"rgb(128, 128, 128)"})),this.toast.observe({success:"Congrats! You are all signed up",loading:"Signing up...",error:({message:s})=>`${s}`})).subscribe(()=>{this.router.navigate(["/home"])})}}return n.\u0275fac=function(t){return new(t||n)(_(bm),_(gn),_(O3),_(du),_(C3))},n.\u0275cmp=Ve({type:n,selectors:[["app-sign-up"]],decls:17,vars:5,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Username","formControlName","name"],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password"],["matInput","","type","password","placeholder","Confirm Password","formControlName","confirmPassword"],[1,"center","margin-top"],["type","submit","mat-raised-button","","color","primary"]],template:function(t,i){1&t&&(E(0,"div",0)(1,"h1"),I(2,"Sign Up Today!"),A(),E(3,"form",1),Ee("ngSubmit",function(){return i.submit()}),E(4,"mat-form-field"),le(5,"input",2),te(6,iAe,2,0,"mat-error",3),A(),E(7,"mat-form-field"),le(8,"input",4),te(9,rAe,2,0,"mat-error",3),A(),E(10,"mat-form-field"),le(11,"input",5),te(12,oAe,2,0,"mat-error",3),A(),te(13,sAe,2,0,"mat-error",3),E(14,"div",6)(15,"button",7),I(16,"Sign Up!"),A()()()()),2&t&&(N(3),O("formGroup",i.signUpForm),N(3),O("ngIf",null==i.name||null==i.name.errors?null:i.name.errors.required),N(3),O("ngIf",null==i.password||null==i.password.errors?null:i.password.errors.required),N(3),O("ngIf",null==i.confirmPassword||null==i.confirmPassword.errors?null:i.confirmPassword.errors.required),N(1),O("ngIf",null==i.signUpForm.errors?null:i.signUpForm.errors.passwordsDontMatch))},dependencies:[Fi,wp,hz,c2,u2,l2,ul,Pp,Yy,dl,Vp]}),n})();const cAe=Xp,dAe=Symbol("__destroy"),Iz=Symbol("__decoratorApplied");function Az(n){return"string"==typeof n?Symbol(`__destroy__${n}`):dAe}function Rz(n,e){n[e]||(n[e]=new ke)}function Pz(n,e){n[e]&&(n[e].next(),n[e].complete(),n[e]=null)}function Oz(n){n instanceof ct&&n.unsubscribe()}function Nz(n,e){return function(){if(n&&n.call(this),Pz(this,Az()),e.arrayName&&function pAe(n){Array.isArray(n)&&n.forEach(Oz)}(this[e.arrayName]),e.checkProperties)for(const t in this)e.blackList?.includes(t)||Oz(this[t])}}Symbol("CheckerHasBeenSet");const Bz="firebasestorage.googleapis.com",Hz="storageBucket";class St extends Li{constructor(e,t,i=0){super(F3(e),`Firebase Storage: ${t} (${F3(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return F3(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var lt=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(lt||(lt={})),lt))();function F3(n){return"storage/"+n}function L3(){return new St(lt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function V3(n){return new St(lt.INVALID_ARGUMENT,n)}function Uz(){return new St(lt.APP_DELETED,"The Firebase app was deleted.")}function Bp(n,e){return new St(lt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Hp(n){throw new St(lt.INTERNAL_ERROR,"Internal error: "+n)}class ui{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ui.makeFromUrl(e,t)}catch{return new ui(e,"")}if(""===i.path)return i;throw function RAe(n){return new St(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function c(C){C.path_=decodeURIComponent(C.path)}const d=t.replace(/[.]/g,"\\."),v=[{regex:a,indices:{bucket:1,path:3},postModify:function o(C){"/"===C.path.charAt(C.path.length-1)&&(C.path_=C.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===Bz?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<v.length;C++){const H=v[C],q=H.regex.exec(e);if(q){let Je=q[H.indices.path];Je||(Je=""),i=new ui(q[H.indices.bucket],Je),H.postModify(i);break}}if(null==i)throw function AAe(n){return new St(lt.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class VAe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function d2(n){return"string"==typeof n||n instanceof String}function $z(n){return B3()&&n instanceof Blob}function B3(){return typeof Blob<"u"&&!function r7(){var n;const e=null===(n=S1())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function H3(n,e,t,i){if(i<e)throw V3(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw V3(`Invalid value for '${n}'. Expected ${t} or less.`)}function Go(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function Gz(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Gs=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Gs||(Gs={})),Gs))();class UAe{constructor(e,t,i,r,o,s,a,l,c,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,f)=>{this.resolve_=p,this.reject_=f,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function jAe(n){return void 0!==n}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=L3();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(r.canceled?this.appDelete_?Uz():function zz(){return new St(lt.CANCELED,"User canceled the upload/download.")}():function jz(){return new St(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new h2(!1,null,!0)):this.backoffId_=function BAe(n,e,t){let i=1,r=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function d(y){r=setTimeout(()=>{r=null,n(p,l())},y)}function h(){o&&clearTimeout(o)}function p(y,...k){if(c)return void h();if(y)return h(),void u.call(null,y,...k);if(l()||s)return h(),void u.call(null,y,...k);let v;i<64&&(i*=2),1===a?(a=2,v=0):v=1e3*(i+Math.random()),d(v)}let f=!1;function m(y){f||(f=!0,h(),!c&&(null!==r?(y||(a=2),clearTimeout(r),d(0)):y||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},t),m}((i,r)=>{if(r)return void i(!1,new h2(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Gs.NO_ERROR,l=o.getStatus();if(!a||function Wz(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||r||o}(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===Gs.ABORT;return void i(!1,new h2(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);i(!0,new h2(c,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function HAe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class h2{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function QAe(...n){const e=function YAe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(B3())return new Blob(n);throw new St(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}class j3{constructor(e,t){this.data=e,this.contentType=t||null}}function Zz(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function Yz(n,e){switch(n){case"base64":{const r=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(r||o)throw Bp(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw Bp(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function JAe(n){if(typeof atob>"u")throw function FAe(n){return new St(lt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:Bp(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class Qz{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Bp("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function i6e(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Wo{constructor(e,t){let i=0,r="";$z(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if($z(this.data_)){const r=function XAe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Wo(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Wo(i,!0)}}static getBlob(...e){if(B3()){const t=e.map(i=>i instanceof Wo?i.data_:i);return new Wo(QAe.apply(null,t))}{const t=e.map(s=>d2(s)?function Kz(n,e){switch(n){case"raw":return new j3(Zz(e));case"base64":case"base64url":return new j3(Yz(n,e));case"data_url":return new j3(function t6e(n){const e=new Qz(n);return e.base64?Yz("base64",e.rest):function e6e(n){let e;try{e=decodeURIComponent(n)}catch{throw Bp("data_url","Malformed data URL.")}return Zz(e)}(e.rest)}(e),function n6e(n){return new Qz(n).contentType}(e))}throw L3()}("raw",s).data:s.data_);let i=0;t.forEach(s=>{i+=s.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new Wo(r,!0)}}uploadData(){return this.data_}}function z3(n){let e;try{e=JSON.parse(n)}catch{return null}return function qAe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Xz(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function s6e(n,e){return e}class di{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||s6e}}let p2=null;function jp(){if(p2)return p2;const n=[];n.push(new di("bucket")),n.push(new di("generation")),n.push(new di("metageneration")),n.push(new di("name","fullPath",!0));const t=new di("name");t.xform=function e(o,s){return function a6e(n){return!d2(n)||n.length<2?n:Xz(n)}(s)},n.push(t);const r=new di("size");return r.xform=function i(o,s){return void 0!==s?Number(s):s},n.push(r),n.push(new di("timeCreated")),n.push(new di("updated")),n.push(new di("md5Hash",null,!0)),n.push(new di("cacheControl",null,!0)),n.push(new di("contentDisposition",null,!0)),n.push(new di("contentEncoding",null,!0)),n.push(new di("contentLanguage",null,!0)),n.push(new di("contentType",null,!0)),n.push(new di("metadata","customMetadata",!0)),p2=n,p2}function Jz(n,e,t){const i=z3(e);return null===i?null:function c6e(n,e,t){const i={type:"file"},r=t.length;for(let o=0;o<r;o++){const s=t[o];i[s.local]=s.xform(i,e[s.server])}return function l6e(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new ui(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(i,n),i}(n,i,t)}class io{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ro(n){if(!n)throw L3()}function Mu(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function DAe(){return new St(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function SAe(){return new St(lt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function TAe(n){return new St(lt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function IAe(n){return new St(lt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function oq(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let v="";for(let C=0;C<2;C++)v+=Math.random().toString().slice(2);return v}();s["Content-Type"]="multipart/related; boundary="+l;const c=function rq(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function v6e(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),u=function q3(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(c,t),p=Wo.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+l+"--");if(null===p)throw function qz(){return new St(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const f={name:c.fullPath},m=Go(o,n.host,n._protocol),k=n.maxUploadRetryTime,w=new io(m,"POST",function f2(n,e){return function t(i,r){const o=Jz(n,r,e);return ro(null!==o),o}}(n,t),k);return w.urlParams=f,w.headers=s,w.body=p.uploadData(),w.errorHandler=Mu(e),w}class C6e extends class x6e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Hp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Dr(){return new C6e}class pl{constructor(e,t){this._service=e,this._location=t instanceof ui?t:ui.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new pl(e,t)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xz(this._location.path)}get storage(){return this._service}get parent(){const e=function r6e(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ui(this._location.bucket,e);return new pl(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function LAe(n){return new St(lt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function V6e(n){n._throwIfRoot("getDownloadURL");const e=function g6e(n,e,t){const r=Go(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new io(r,"GET",function f6e(n,e){return function t(i,r){const o=Jz(n,r,e);return ro(null!==o),function u6e(n,e,t,i){const r=z3(e);if(null===r||!d2(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const d=n.fullPath;return Go("/b/"+s(n.bucket)+"/o/"+s(d),t,i)+Gz({alt:"media",token:c})})[0]}(o,r,n.host,n._protocol)}}(n,t),s);return a.errorHandler=function zp(n){const e=Mu(n);return function t(i,r){let o=e(i,r);return 404===i.getStatus()&&(o=function EAe(n){return new St(lt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}(e),a}(n.storage,n._location,jp());return n.storage.makeRequestWithTokens(e,Dr).then(t=>{if(null===t)throw function NAe(){return new St(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function hq(n,e){if(n instanceof W3){const t=n;if(null==t._bucket)throw function PAe(){return new St(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Hz+"' property when initializing the app?")}();const i=new pl(t,t._bucket);return null!=e?hq(i,e):i}return void 0!==e?function dq(n,e){const t=function o6e(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new ui(n._location.bucket,t);return new pl(n.storage,i)}(n,e):n}function pq(n,e){const t=e?.[Hz];return null==t?null:ui.makeFromBucketSpec(t,n)}class W3{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Bz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ui.makeFromBucketSpec(r,this._host):pq(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ui.makeFromBucketSpec(this._url,e):pq(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){H3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){H3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pl(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new VAe(Uz());{const s=function ZAe(n,e,t,i,r,o,s=!0){const a=Gz(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function WAe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function $Ae(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function GAe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,o),function KAe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,i),new UAe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return g(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const fq="@firebase/storage",gq="storage";function U6e(n,e,t){return function lq(n,e,t){n._throwIfRoot("uploadBytes");const i=oq(n.storage,n._location,jp(),new Wo(e,!0),t);return n.storage.makeRequestWithTokens(i,Dr).then(r=>({metadata:r,ref:n}))}(n=ut(n),e,t)}function $6e(n){return V6e(n=ut(n))}function G6e(n,e){return function z6e(n,e){if(e&&function H6e(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof W3)return function j6e(n,e){return new pl(n,e)}(n,e);throw V3("To use ref(service, url), the first argument must be a Storage instance.")}return hq(n,e)}(n=ut(n),e)}function W6e(n=N1(),e){const i=_a(n=ut(n),gq).getImmediate({identifier:e}),r=J8("storage");return r&&function K6e(n,e,t,i={}){!function q6e(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:n7(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function Z6e(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new W3(t,i,r,e,us)}!function Y6e(){zn(new Cn(gq,Z6e,"PUBLIC").setMultipleInstances(!0)),dt(fq,"0.11.2",""),dt(fq,"0.11.2","esm2017")}();class g2{constructor(e){return e}}const yq="storage",K3=new P("angularfire2.storage-instances");function J6e(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new g2(i)}}const e8e={provide:class Q6e{constructor(){return G1(yq)}},deps:[[new vt,K3]]},t8e={provide:g2,useFactory:function X6e(n,e){const t=$1(yq,n,e);return t&&new g2(t)},deps:[[new vt,K3],Ca]};let n8e=(()=>{class n{constructor(){dt("angularfire",Id.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({providers:[t8e,e8e]}),n})();function i8e(n,...e){return{ngModule:n8e,providers:[{provide:K3,useFactory:J6e(n),multi:!0,deps:[oe,Rt,W1,K1,[new vt,kx],[new vt,nm],...e]}]}}const r8e=zt($6e,!0),o8e=zt(W6e,!0),s8e=zt(G6e,!0),a8e=zt(U6e,!0);let l8e=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,i){const r=s8e(this.storage,i);return We(a8e(r,t)).pipe(qt(s=>r8e(s.ref)))}}return n.\u0275fac=function(t){return new(t||n)(x(g2))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function c8e(n,e){if(1&n&&(E(0,"h1"),I(1," Update Profile: "),E(2,"span"),I(3),A()()),2&n){const t=e.ngIf;N(2),gi("color",t.color||"black"),N(1),kr(t.displayName)}}function u8e(n,e){if(1&n){const t=_o();gr(0),E(1,"button",13),Ee("click",function(){const o=Ln(t).$implicit;return Vn(ce(2).setColor(o))}),le(2,"div",14),A(),yr()}if(2&n){const t=e.$implicit;N(2),gi("background",t)}}function d8e(n,e){if(1&n){const t=_o();E(0,"div",1),te(1,c8e,4,3,"h1",2),dn(2,"async"),E(3,"div",3)(4,"mat-icon",4),Ee("mouseenter",function(){return Ln(t),Vn(ce().onMouseEnter())})("mouseleave",function(){return Ln(t),Vn(ce().onMouseLeave())}),I(5," face "),A()(),E(6,"mat-menu",5,6),te(8,u8e,3,2,"ng-container",7),A(),E(9,"form",8),Ee("ngSubmit",function(){return Ln(t),Vn(ce().saveProfile())}),E(10,"mat-form-field"),le(11,"input",9),A(),E(12,"mat-form-field"),le(13,"input",10),A(),E(14,"mat-form-field"),le(15,"textarea",11),A(),E(16,"button",12),I(17," Save Changes "),A()()()}if(2&n){const t=e.ngIf,i=yo(7),r=ce();N(1),O("ngIf",hn(2,12,r.user$)),N(2),O("matMenuTriggerFor",i),N(1),gi("color",t.color),N(2),O("hasBackdrop",!0)("overlapTrigger",!1),N(2),O("ngForOf",r.colorOptions),N(1),O("formGroup",r.profileForm),N(7),gi("background",t.color||"rgb(128, 128, 128)")("color","white")}}let fl=class{constructor(e,t,i,r){this.imageUploadService=e,this.toast=t,this.usersService=i,this.fb=r,this.user$=this.usersService.currentUserProfile$,this.profileForm=this.fb.group({uid:[""],displayName:[""],firstName:[""],lastName:[""],bio:[""],color:[""]}),this.colorOptions=["rgb(255, 154, 159)","rgb(255, 192, 203)","rgb(236, 157, 126)","rgb(233, 215, 135)","rgb(186, 232, 172)","rgb(82, 129, 206)","rgb(153, 140, 235)","rgb(128, 128, 128)","rgb(216, 171, 158)"]}ngOnInit(){this.usersService.currentUserProfile$.pipe(function bAe(n,e){return t=>{const i=Az(e);return"string"==typeof e?function kAe(n,e,t){const i=n[e];Rz(n,t),n[e]=function(){i.apply(this,arguments),Pz(this,t),n[e]=i}}(n,e,i):Rz(n,i),t.pipe(Mi(n[i]))}}(this),ht(console.log)).subscribe(e=>{this.profileForm.patchValue({...e})})}uploadFile(e,{uid:t}){this.imageUploadService.uploadImage(e.target.files[0],`images/profile/${t}`).pipe(this.toast.observe({loading:"Uploading profile image...",success:"Image uploaded successfully",error:"There was an error in uploading the image"}),qt(i=>this.usersService.updateUser({uid:t}))).subscribe()}setColor(e){this.profileForm.patchValue({color:e}),this.saveProfile()}saveProfile(){const{uid:e,...t}=this.profileForm.value;!e||this.usersService.updateUser({uid:e,...t}).pipe(this.toast.observe({loading:"Saving profile data...",success:"Profile updated successfully",error:"There was an error in updating the profile"})).subscribe()}onMouseEnter(){const e=document.querySelector(".larger-icon");e&&e.classList.add("hovered")}onMouseLeave(){const e=document.querySelector(".larger-icon");e&&e.classList.remove("hovered")}};fl.\u0275fac=function(e){return new(e||fl)(_(l8e),_(O3),_(du),_(C3))},fl.\u0275cmp=Ve({type:fl,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","form-container mat-elevation-z5 text-center",4,"ngIf"],[1,"form-container","mat-elevation-z5","text-center"],[4,"ngIf"],[1,"icon-container",3,"matMenuTriggerFor"],[1,"larger-icon",3,"mouseenter","mouseleave"],[1,"profile-menu",3,"hasBackdrop","overlapTrigger"],["colorMenu","matMenu"],[4,"ngFor","ngForOf"],[1,"margin-top",3,"formGroup","ngSubmit"],["type","text","matInput","","formControlName","firstName","placeholder","First Name"],["type","text","matInput","","formControlName","lastName","placeholder","Last Name"],["type","text","matInput","","formControlName","bio","placeholder","Bio/Mood","rows","1"],["type","submit","mat-raised-button","",1,"margin-top"],["mat-menu-item","",3,"click"],[1,"color-circle"]],template:function(e,t){1&e&&(te(0,d8e,18,14,"div",0),dn(1,"async")),2&e&&O("ngIf",hn(1,1,t.user$))},dependencies:[v1,Fi,k5,wp,c2,u2,l2,ul,Pp,Yy,dl,Vp,_H,Tp,bH,bd],styles:[".profile-image[_ngcontent-%COMP%]{position:relative;width:120px;margin:auto}.profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center}.form-container[_ngcontent-%COMP%]{max-width:400px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}.icon-container[_ngcontent-%COMP%]{width:165px;height:165px;display:flex;justify-content:center;align-items:center;margin:auto;position:relative}.larger-icon[_ngcontent-%COMP%]{font-size:165px;width:100%;height:100%;transition:filter .3s}.larger-icon[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(1.2)}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{align-self:flex-end;margin-bottom:10px;z-index:1}.color-circle[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;margin:4px}mat-button-toggle-group[_ngcontent-%COMP%]{display:flex}  .profile-menu{position:fixed;transform:translate(23.5%,-15%)!important}  .mat-menu-content{flex-wrap:wrap;justify-content:flex-start}  .mat-menu-content .color-circle{margin:4px auto}  .mat-menu-content .mat-button-wrapper{text-align:center}"]}),fl=function use(n,e,t,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}([function gAe(n={}){return e=>{!function uAe(n){return!!n[cAe]}(e)?function fAe(n,e){n.prototype.ngOnDestroy=Nz(n.prototype.ngOnDestroy,e)}(e,n):function mAe(n,e){const t=n.\u0275pipe;t.onDestroy=Nz(t.onDestroy,e)}(e,n),function hAe(n){n.prototype[Iz]=!0}(e)}}()],fl);const h8e=[{path:"",pathMatch:"full",component:pIe},{path:"login",component:nAe},{path:"sign-up",component:lAe},{path:"home",component:dIe},{path:"profile",component:fl}];let p8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[_O.forRoot(h8e),_O]}),n})();const _q_firebase={projectId:"chat-app-132a2",appId:"1:784045443083:web:d64407a29e978df5975f0e",storageBucket:"chat-app-132a2.appspot.com",apiKey:"AIzaSyBkBN7gCsLABcwNdHqhSiQoQnjIcoWrkPQ",authDomain:"chat-app-132a2.firebaseapp.com",messagingSenderId:"784045443083"};let k8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({imports:[nt,vp,nt]}),n})();const x8e={provide:new P("mat-tooltip-scroll-strategy"),deps:[ol],useFactory:function M8e(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let E8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n}),n.\u0275inj=me({providers:[x8e],imports:[jge,as,I5,nt,nt,Ep]}),n})(),T8e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge({type:n,bootstrap:[Z5e]}),n.\u0275inj=me({providers:[wv],imports:[U8,KTe,p8e,fye,Fye,zye,S3,MDe,x3,koe(()=>boe(_q_firebase)),cce(()=>hce()),Qme(()=>Jme()),i8e(()=>o8e()),eAe.forRoot(),q2e,k8e,E8e,G5e.pick({Ghost:wH}),LDe,QDe,wz]}),n})();(function sX(){Y6=!1})(),vee().bootstrapModule(T8e).catch(n=>console.error(n))}},Le=>{Le(Le.s=56)}]);