"use strict";(self.webpackChunkangular_sign_up=self.webpackChunkangular_sign_up||[]).push([[179],{594:()=>{function Re(n){return"function"==typeof n}function yu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Tf=yu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function sl(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class mt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Re(r))try{r()}catch(o){e=o instanceof Tf?o.errors:[o]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const o of i)try{vk(o)}catch(s){e=e??[],s instanceof Tf?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Tf(e)}}add(e){var t;if(e&&e!==this)if(this.closed)vk(e);else{if(e instanceof mt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&sl(t,e)}remove(e){const{_teardowns:t}=this;t&&sl(t,e),e instanceof mt&&e._removeParent(this)}}mt.EMPTY=(()=>{const n=new mt;return n.closed=!0,n})();const _k=mt.EMPTY;function yk(n){return n instanceof mt||n&&"closed"in n&&Re(n.remove)&&Re(n.add)&&Re(n.unsubscribe)}function vk(n){Re(n)?n():n.unsubscribe()}const Bs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Df={setTimeout(...n){const{delegate:e}=Df;return(e?.setTimeout||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=Df;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function bk(n){Df.setTimeout(()=>{const{onUnhandledError:e}=Bs;if(!e)throw n;e(n)})}function al(){}const L5=Qy("C",void 0,void 0);function Qy(n,e,t){return{kind:n,value:e,error:t}}let Us=null;function Sf(n){if(Bs.useDeprecatedSynchronousErrorHandling){const e=!Us;if(e&&(Us={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Us;if(Us=null,t)throw r}}else n()}class Xy extends mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yk(e)&&e.add(this)):this.destination=j5}static create(e,t,r){return new Zy(e,t,r)}next(e){this.isStopped?ev(function B5(n){return Qy("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ev(function V5(n){return Qy("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ev(L5,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Zy extends Xy{constructor(e,t,r){let i;if(super(),Re(e))i=e;else if(e){let o;({next:i,error:t,complete:r}=e),this&&Bs.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe()):o=e,i=i?.bind(o),t=t?.bind(o),r=r?.bind(o)}this.destination={next:i?Jy(i):al,error:Jy(t??wk),complete:r?Jy(r):al}}}function Jy(n,e){return(...t)=>{try{n(...t)}catch(r){Bs.useDeprecatedSynchronousErrorHandling?function U5(n){Bs.useDeprecatedSynchronousErrorHandling&&Us&&(Us.errorThrown=!0,Us.error=n)}(r):bk(r)}}}function wk(n){throw n}function ev(n,e){const{onStoppedNotification:t}=Bs;t&&Df.setTimeout(()=>t(n,e))}const j5={closed:!0,next:al,error:wk,complete:al},tv="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ho(n){return n}function Ek(n){return 0===n.length?Ho:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ve=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function z5(n){return n&&n instanceof Xy||function $5(n){return n&&Re(n.next)&&Re(n.error)&&Re(n.complete)}(n)&&yk(n)}(t)?t:new Zy(t,r,i);return Sf(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Ck(r))((i,o)=>{let s;s=this.subscribe(a=>{try{t(a)}catch(l){o(l),s?.unsubscribe()}},o,i)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[tv](){return this}pipe(...t){return Ek(t)(this)}toPromise(t){return new(t=Ck(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Ck(n){var e;return null!==(e=n??Bs.Promise)&&void 0!==e?e:Promise}const G5=yu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ve=(()=>{class n extends Ve{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Ik(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new G5}next(t){Sf(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){Sf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Sf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?_k:(o.push(t),new mt(()=>sl(o,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Ve;return t.source=this,t}}return n.create=(e,t)=>new Ik(e,t),n})();class Ik extends ve{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:_k}}function Tk(n){return Re(n?.lift)}function gt(n){return e=>{if(Tk(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Ze extends Xy{constructor(e,t,r,i,o){super(e),this.onFinalize=o,this._next=t?function(s){try{t(s)}catch(a){e.error(a)}}:super._next,this._error=i?function(s){try{i(s)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function re(n,e){return gt((t,r)=>{let i=0;t.subscribe(new Ze(r,o=>{r.next(n.call(e,o,i++))}))})}function js(n){return this instanceof js?(this.v=n,this):new js(n)}function K5(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof js?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(r[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Y5(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Ak(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const rv=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Mk(n){return Re(n?.then)}function xk(n){return Re(n[tv])}function kk(n){return Symbol.asyncIterator&&Re(n?.[Symbol.asyncIterator])}function Rk(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Pk=function X5(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ok(n){return Re(n?.[Pk])}function Nk(n){return K5(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield js(t.read());if(i)return yield js(void 0);yield yield js(r)}}finally{t.releaseLock()}})}function Fk(n){return Re(n?.getReader)}function jn(n){if(n instanceof Ve)return n;if(null!=n){if(xk(n))return function Z5(n){return new Ve(e=>{const t=n[tv]();if(Re(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(rv(n))return function J5(n){return new Ve(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Mk(n))return function e6(n){return new Ve(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,bk)})}(n);if(kk(n))return Lk(n);if(Ok(n))return function t6(n){return new Ve(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Fk(n))return function n6(n){return Lk(Nk(n))}(n)}throw Rk(n)}function Lk(n){return new Ve(e=>{(function r6(n,e){var t,r,i,o;return function q5(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Y5(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Qi(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ot(n,e,t=1/0){return Re(e)?Ot((r,i)=>re((o,s)=>e(r,o,i,s))(jn(n(r,i))),t):("number"==typeof e&&(t=e),gt((r,i)=>function o6(n,e,t,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{o&&e.next(m),c++;let _=!1;jn(t(m,u++)).subscribe(new Ze(e,b=>{i?.(b),o?f(b):e.next(b)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const b=l.shift();s?Qi(e,s,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(new Ze(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function ll(n=1/0){return Ot(Ho,n)}const Xr=new Ve(n=>n.complete());function Vk(n){return n&&Re(n.schedule)}function iv(n){return n[n.length-1]}function Bk(n){return Re(iv(n))?n.pop():void 0}function vu(n){return Vk(iv(n))?n.pop():void 0}function Af(n,e=0){return gt((t,r)=>{t.subscribe(new Ze(r,i=>Qi(r,n,()=>r.next(i),e),()=>Qi(r,n,()=>r.complete(),e),i=>Qi(r,n,()=>r.error(i),e)))})}function Mf(n,e=0){return gt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Uk(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ve(t=>{Qi(t,e,()=>{const r=n[Symbol.asyncIterator]();Qi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function je(n,e){return e?function f6(n,e){if(null!=n){if(xk(n))return function l6(n,e){return jn(n).pipe(Mf(e),Af(e))}(n,e);if(rv(n))return function u6(n,e){return new Ve(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Mk(n))return function c6(n,e){return jn(n).pipe(Mf(e),Af(e))}(n,e);if(kk(n))return Uk(n,e);if(Ok(n))return function d6(n,e){return new Ve(t=>{let r;return Qi(t,e,()=>{r=n[Pk](),Qi(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Re(r?.return)&&r.return()})}(n,e);if(Fk(n))return function h6(n,e){return Uk(Nk(n),e)}(n,e)}throw Rk(n)}(n,e):jn(n)}function cl(...n){const e=vu(n),t=function a6(n,e){return"number"==typeof iv(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?jn(r[0]):ll(t)(je(r,e)):Xr}function Hn(n){return n<=0?()=>Xr:gt((e,t)=>{let r=0;e.subscribe(new Ze(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function jk(n={}){const{connector:e=(()=>new ve),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s=null,a=null,l=null,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=null},f=()=>{h(),s=l=null,u=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return gt((m,_)=>{c++,!d&&!u&&h();const b=l=l??e();_.add(()=>{c--,0===c&&!d&&!u&&(a=ov(p,i))}),b.subscribe(_),s||(s=new Zy({next:E=>b.next(E),error:E=>{d=!0,h(),a=ov(f,t,E),b.error(E)},complete:()=>{u=!0,h(),a=ov(f,r),b.complete()}}),je(m).subscribe(s))})(o)}}function ov(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Hn(1)).subscribe(()=>n())}function Ye(n){for(let e in n)if(n[e]===Ye)return e;throw Error("Could not find renamed property on target object.")}function sv(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Qe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Qe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function av(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const p6=Ye({__forward_ref__:Ye});function Xe(n){return n.__forward_ref__=Xe,n.toString=function(){return Qe(this())},n}function ne(n){return lv(n)?n():n}function lv(n){return"function"==typeof n&&n.hasOwnProperty(p6)&&n.__forward_ref__===Xe}class D extends Error{constructor(e,t){super(function xf(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function ce(n){return"string"==typeof n?n:null==n?"":String(n)}function kf(n,e){throw new D(-201,!1)}function br(n,e){null==n&&function Be(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ce(n){return{providers:n.providers||[],imports:n.imports||[]}}function cv(n){return Hk(n,Rf)||Hk(n,zk)}function Hk(n,e){return n.hasOwnProperty(e)?n[e]:null}function $k(n){return n&&(n.hasOwnProperty(uv)||n.hasOwnProperty(E6))?n[uv]:null}const Rf=Ye({\u0275prov:Ye}),uv=Ye({\u0275inj:Ye}),zk=Ye({ngInjectableDef:Ye}),E6=Ye({ngInjectorDef:Ye});var J=(()=>((J=J||{})[J.Default=0]="Default",J[J.Host=1]="Host",J[J.Self=2]="Self",J[J.SkipSelf=4]="SkipSelf",J[J.Optional=8]="Optional",J))();let dv;function Fr(n){const e=dv;return dv=n,e}function Gk(n,e,t){const r=cv(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&J.Optional?null:void 0!==e?e:void kf(Qe(n))}function $o(n){return{toString:n}.toString()}var Zr=(()=>((Zr=Zr||{})[Zr.OnPush=0]="OnPush",Zr[Zr.Default=1]="Default",Zr))(),Jr=(()=>{return(n=Jr||(Jr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Jr;var n})();const He=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ul={},Fe=[],Pf=Ye({\u0275cmp:Ye}),hv=Ye({\u0275dir:Ye}),Of=Ye({\u0275pipe:Ye}),qk=Ye({\u0275mod:Ye}),Zi=Ye({\u0275fac:Ye}),bu=Ye({__NG_ELEMENT_ID__:Ye});let I6=0;function Je(n){return $o(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Zr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Fe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Jr.Emulated,id:"c"+I6++,styles:n.styles||Fe,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=Yk(n.inputs,r),i.outputs=Yk(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(Wk).filter(Kk):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(zn).filter(Kk):null,i})}function Wk(n){return $e(n)||$n(n)}function Kk(n){return null!==n}const D6={};function Te(n){return $o(()=>{const e={type:n.type,bootstrap:n.bootstrap||Fe,declarations:n.declarations||Fe,imports:n.imports||Fe,exports:n.exports||Fe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(D6[n.id]=n.type),e})}function Yk(n,e){if(null==n)return ul;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const K=Je;function ar(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function $e(n){return n[Pf]||null}function $n(n){return n[hv]||null}function zn(n){return n[Of]||null}function wr(n,e){const t=n[qk]||null;if(!t&&!0===e)throw new Error(`Type ${Qe(n)} does not have '\u0275mod' property.`);return t}function lr(n){return Array.isArray(n)&&"object"==typeof n[1]}function ti(n){return Array.isArray(n)&&!0===n[1]}function mv(n){return 0!=(8&n.flags)}function Vf(n){return 2==(2&n.flags)}function Bf(n){return 1==(1&n.flags)}function ni(n){return null!==n.template}function k6(n){return 0!=(256&n[2])}function qs(n,e){return n.hasOwnProperty(Zi)?n[Zi]:null}class O6{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function cr(){return Zk}function Zk(n){return n.type.prototype.ngOnChanges&&(n.setInput=F6),N6}function N6(){const n=eR(this),e=n?.current;if(e){const t=n.previous;if(t===ul)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function F6(n,e,t,r){const i=eR(n)||function L6(n,e){return n[Jk]=e}(n,{previous:ul,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],l=s[a];o[a]=new O6(l&&l.currentValue,e,s===ul),n[r]=e}cr.ngInherit=!0;const Jk="__ngSimpleChanges__";function eR(n){return n[Jk]||null}function Ut(n){for(;Array.isArray(n);)n=n[0];return n}function Uf(n,e){return Ut(e[n])}function Br(n,e){return Ut(e[n.index])}function bv(n,e){return n.data[e]}function ml(n,e){return n[e]}function Cr(n,e){const t=e[n];return lr(t)?t:t[0]}function tR(n){return 4==(4&n[2])}function wv(n){return 64==(64&n[2])}function zo(n,e){return null==e?null:n[e]}function nR(n){n[18]=0}function Ev(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const oe={lFrame:dR(null),bindingsEnabled:!0};function iR(){return oe.bindingsEnabled}function S(){return oe.lFrame.lView}function Me(){return oe.lFrame.tView}function Gn(n){return oe.lFrame.contextLView=n,n[8]}function qn(n){return oe.lFrame.contextLView=null,n}function Wt(){let n=oR();for(;null!==n&&64===n.type;)n=n.parent;return n}function oR(){return oe.lFrame.currentTNode}function vi(n,e){const t=oe.lFrame;t.currentTNode=n,t.isParent=e}function Cv(){return oe.lFrame.isParent}function Iv(){oe.lFrame.isParent=!1}function Wn(){const n=oe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function gl(){return oe.lFrame.bindingIndex++}function X6(n,e){const t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Tv(e)}function Tv(n){oe.lFrame.currentDirectiveIndex=n}function lR(){return oe.lFrame.currentQueryIndex}function Sv(n){oe.lFrame.currentQueryIndex=n}function J6(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function cR(n,e,t){if(t&J.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&J.Host||(i=J6(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=oe.lFrame=uR();return r.currentTNode=e,r.lView=n,!0}function Av(n){const e=uR(),t=n[1];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function uR(){const n=oe.lFrame,e=null===n?null:n.child;return null===e?dR(n):e}function dR(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function hR(){const n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const fR=hR;function Mv(){const n=hR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Kn(){return oe.lFrame.selectedIndex}function Go(n){oe.lFrame.selectedIndex=n}function St(){const n=oe.lFrame;return bv(n.tView,n.selectedIndex)}function Hf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function $f(n,e,t){mR(n,e,3,t)}function zf(n,e,t,r){(3&n[2])===t&&mR(n,e,t,r)}function xv(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function mR(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(aW(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function aW(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Tu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Gf(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];_R(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function gR(n){return 3===n||4===n||6===n}function _R(n){return 64===n.charCodeAt(0)}function qf(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||yR(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function yR(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function vR(n){return-1!==n}function _l(n){return 32767&n}function yl(n,e){let t=function hW(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Rv=!0;function Wf(n){const e=Rv;return Rv=n,e}let fW=0;const bi={};function Su(n,e){const t=Ov(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Pv(r.data,n),Pv(e,null),Pv(r.blueprint,null));const i=Kf(n,e),o=n.injectorIndex;if(vR(i)){const s=_l(i),a=yl(i,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Pv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ov(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Kf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=AR(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Yf(n,e,t){!function pW(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(bu)&&(r=t[bu]),null==r&&(r=t[bu]=fW++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function ER(n,e,t){if(t&J.Optional)return n;kf()}function CR(n,e,t,r){if(t&J.Optional&&void 0===r&&(r=null),0==(t&(J.Self|J.Host))){const i=n[9],o=Fr(void 0);try{return i?i.get(e,r,t&J.Optional):Gk(e,r,t&J.Optional)}finally{Fr(o)}}return ER(r,0,t)}function IR(n,e,t,r=J.Default,i){if(null!==n){if(1024&e[2]){const s=function vW(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=TR(o,s,t,r|J.Self,bi);if(a!==bi)return a;let l=o.parent;if(!l){const c=s[21];if(c){const u=c.get(t,bi,r);if(u!==bi)return u}l=AR(s),s=s[15]}o=l}return i}(n,e,t,r,bi);if(s!==bi)return s}const o=TR(n,e,t,r,bi);if(o!==bi)return o}return CR(e,t,r,i)}function TR(n,e,t,r,i){const o=function _W(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(bu)?n[bu]:void 0;return"number"==typeof e?e>=0?255&e:yW:e}(t);if("function"==typeof o){if(!cR(e,n,r))return r&J.Host?ER(i,0,r):CR(e,t,r,i);try{const s=o(r);if(null!=s||r&J.Optional)return s;kf()}finally{fR()}}else if("number"==typeof o){let s=null,a=Ov(n,e),l=-1,c=r&J.Host?e[16][6]:null;for((-1===a||r&J.SkipSelf)&&(l=-1===a?Kf(n,e):e[a+8],-1!==l&&SR(r,!1)?(s=e[1],a=_l(l),e=yl(l,e)):a=-1);-1!==a;){const u=e[1];if(DR(o,a,u.data)){const d=gW(a,e,t,s,r,c);if(d!==bi)return d}l=e[a+8],-1!==l&&SR(r,e[1].data[a+8]===c)&&DR(o,a,e)?(s=u,a=_l(l),e=yl(l,e)):a=-1}}return i}function gW(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],u=Qf(a,s,t,null==r?Vf(a)&&Rv:r!=s&&0!=(3&a.type),i&J.Host&&o===a);return null!==u?Au(e,s,u,a):bi}function Qf(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=s[l];if(f&&ni(f)&&f.type===t)return l}return null}function Au(n,e,t,r){let i=n[t];const o=e.data;if(function lW(n){return n instanceof Tu}(i)){const s=i;s.resolving&&function m6(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new D(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ne(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ce(n)}(o[t]));const a=Wf(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Fr(s.injectImpl):null;cR(n,r,J.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function sW(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Zk(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&Fr(l),Wf(a),s.resolving=!1,fR()}}return i}function DR(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function SR(n,e){return!(n&J.Self||n&J.Host&&e)}class vl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return IR(this._tNode,this._lView,e,r,t)}}function yW(){return new vl(Wt(),S())}function dn(n){return $o(()=>{const e=n.prototype.constructor,t=e[Zi]||Nv(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Zi]||Nv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Nv(n){return lv(n)?()=>{const e=Nv(ne(n));return e&&e()}:qs(n)}function AR(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Wo(n){return function mW(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(gR(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Wt(),n)}const wl="__parameters__";function Cl(n,e,t){return $o(()=>{const r=function Fv(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(wl)?l[wl]:Object.defineProperty(l,wl,{value:[]})[wl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class R{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ir(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Ir(r,e)):e!==n&&e.push(r)}return e}function to(n,e){n.forEach(t=>Array.isArray(t)?to(t,e):e(t))}function xR(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ku(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Tr(n,e,t){let r=Il(n,e);return r>=0?n[1|r]=t:(r=~r,function CW(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Vv(n,e){const t=Il(n,e);if(t>=0)return n[1|t]}function Il(n,e){return function PR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Ru={},Uv="__NG_DI_FLAG__",Jf="ngTempTokenPath",kW=/\n/gm,OR="__source";let Pu;function Tl(n){const e=Pu;return Pu=n,e}function PW(n,e=J.Default){if(void 0===Pu)throw new D(-203,!1);return null===Pu?Gk(n,void 0,e):Pu.get(n,e&J.Optional?null:void 0,e)}function I(n,e=J.Default){return(function C6(){return dv}()||PW)(ne(n),e)}function tt(n,e=J.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),I(n,e)}function jv(n){const e=[];for(let t=0;t<n.length;t++){const r=ne(n[t]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,o=J.Default;for(let s=0;s<r.length;s++){const a=r[s],l=OW(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(I(i,o))}else e.push(I(r))}return e}function Ou(n,e){return n[Uv]=e,n.prototype[Uv]=e,n}function OW(n){return n[Uv]}const _t=Ou(Cl("Optional"),8),Dl=Ou(Cl("SkipSelf"),4);let $v,np,rp;function Al(n){return function zv(){if(void 0===np&&(np=null,He.trustedTypes))try{np=He.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return np}()?.createHTML(n)||n}function zR(n){return function Gv(){if(void 0===rp&&(rp=null,He.trustedTypes))try{rp=He.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return rp}()?.createHTML(n)||n}class Ws{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class YW extends Ws{getTypeName(){return"HTML"}}class QW extends Ws{getTypeName(){return"Style"}}class XW extends Ws{getTypeName(){return"Script"}}class ZW extends Ws{getTypeName(){return"URL"}}class JW extends Ws{getTypeName(){return"ResourceURL"}}function Dr(n){return n instanceof Ws?n.changingThisBreaksApplicationSecurity:n}function wi(n,e){const t=function e8(n){return n instanceof Ws&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class s8{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Al(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class a8{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Al(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Al(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const s=t.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const c8=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,u8=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Lu(n){return(n=String(n)).match(c8)||n.match(u8)?n:"unsafe:"+n}function KR(n){return(n=String(n)).split(",").map(e=>Lu(e.trim())).join(", ")}function Ei(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Vu(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const YR=Ei("area,br,col,hr,img,wbr"),QR=Ei("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),XR=Ei("rp,rt"),qv=Vu(YR,Vu(QR,Ei("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vu(XR,Ei("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vu(XR,QR)),Wv=Ei("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kv=Ei("srcset"),ZR=Vu(Wv,Kv,Ei("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ei("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),d8=Ei("script,style,template");class h8{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!qv.hasOwnProperty(t))return this.sanitizedSomething=!0,!d8.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!ZR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Wv[a]&&(l=Lu(l)),Kv[a]&&(l=KR(l)),this.buf.push(" ",s,'="',JR(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();qv.hasOwnProperty(t)&&!YR.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(JR(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const f8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p8=/([^\#-~ |!])/g;function JR(n){return n.replace(/&/g,"&amp;").replace(f8,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(p8,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ip;function e1(n,e){let t=null;try{ip=ip||function WR(n){const e=new a8(n);return function l8(){try{return!!(new window.DOMParser).parseFromString(Al(""),"text/html")}catch{return!1}}()?new s8(e):e}(n);let r=e?String(e):"";t=ip.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=ip.getInertBodyElement(r)}while(r!==o);return Al((new h8).sanitizeChildren(Yv(t)||t))}finally{if(t){const r=Yv(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Yv(n){return"content"in n&&function m8(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Le=(()=>((Le=Le||{})[Le.NONE=0]="NONE",Le[Le.HTML=1]="HTML",Le[Le.STYLE=2]="STYLE",Le[Le.SCRIPT=3]="SCRIPT",Le[Le.URL=4]="URL",Le[Le.RESOURCE_URL=5]="RESOURCE_URL",Le))();function t1(n){const e=Bu();return e?zR(e.sanitize(Le.HTML,n)||""):wi(n,"HTML")?zR(Dr(n)):e1(function $R(){return void 0!==$v?$v:typeof document<"u"?document:void 0}(),ce(n))}function Qv(n){const e=Bu();return e?e.sanitize(Le.URL,n)||"":wi(n,"URL")?Dr(n):Lu(ce(n))}function Bu(){const n=S();return n&&n[12]}const Xv=new R("ENVIRONMENT_INITIALIZER"),r1=new R("INJECTOR",-1),o1=new R("INJECTOR_DEF_TYPES");class s1{get(e,t=Ru){if(t===Ru){const r=new Error(`NullInjectorError: No provider for ${Qe(e)}!`);throw r.name="NullInjectorError",r}return t}}function E8(...n){return{\u0275providers:a1(0,n)}}function a1(n,...e){const t=[],r=new Set;let i;return to(e,o=>{const s=o;Zv(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&l1(i,t),t}function l1(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];to(i,o=>{e.push(o)})}}function Zv(n,e,t,r){if(!(n=ne(n)))return!1;let i=null,o=$k(n);const s=!o&&$e(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=$k(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Zv(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{to(o.imports,u=>{Zv(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&l1(c,e)}if(!a){const c=qs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Fe},{provide:o1,useValue:i,multi:!0},{provide:Xv,useValue:()=>I(i),multi:!0})}const l=o.providers;null==l||a||to(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}const C8=Ye({provide:String,useValue:Ye});function Jv(n){return null!==n&&"object"==typeof n&&C8 in n}function Ks(n){return"function"==typeof n}const eb=new R("Set Injector scope."),op={},T8={};let tb;function sp(){return void 0===tb&&(tb=new s1),tb}class Ko{}class d1 extends Ko{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rb(e,s=>this.processProvider(s)),this.records.set(r1,Ml(void 0,this)),i.has("environment")&&this.records.set(Ko,Ml(void 0,this));const o=this.records.get(eb);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(o1.multi,Fe,J.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Tl(this),r=Fr(void 0);try{return e()}finally{Tl(t),Fr(r)}}get(e,t=Ru,r=J.Default){this.assertNotDestroyed();const i=Tl(this),o=Fr(void 0);try{if(!(r&J.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function x8(n){return"function"==typeof n||"object"==typeof n&&n instanceof R}(e)&&cv(e);a=l&&this.injectableDefInScope(l)?Ml(nb(e),op):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&J.Self?sp():this.parent).get(e,t=r&J.Optional&&t===Ru?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Jf]=s[Jf]||[]).unshift(Qe(e)),i)throw s;return function NW(n,e,t,r){const i=n[Jf];throw e[OR]&&i.unshift(e[OR]),n.message=function FW(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Qe(e);if(Array.isArray(e))i=e.map(Qe).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Qe(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(kW,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Jf]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Fr(o),Tl(i)}}resolveInjectorInitializers(){const e=Tl(this),t=Fr(void 0);try{const r=this.get(Xv.multi,Fe,J.Self);for(const i of r)i()}finally{Tl(e),Fr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Qe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let t=Ks(e=ne(e))?e:ne(e&&e.provide);const r=function S8(n){return Jv(n)?Ml(void 0,n.useValue):Ml(h1(n),op)}(e);if(Ks(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ml(void 0,op,!0),i.factory=()=>jv(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===op&&(t.value=T8,t.value=t.factory()),"object"==typeof t.value&&t.value&&function M8(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ne(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function nb(n){const e=cv(n),t=null!==e?e.factory:qs(n);if(null!==t)return t;if(n instanceof R)throw new D(204,!1);if(n instanceof Function)return function D8(n){const e=n.length;if(e>0)throw ku(e,"?"),new D(204,!1);const t=function b6(n){const e=n&&(n[Rf]||n[zk]);if(e){const t=function w6(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new D(204,!1)}function h1(n,e,t){let r;if(Ks(n)){const i=ne(n);return qs(i)||nb(i)}if(Jv(n))r=()=>ne(n.useValue);else if(function u1(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...jv(n.deps||[]));else if(function c1(n){return!(!n||!n.useExisting)}(n))r=()=>I(ne(n.useExisting));else{const i=ne(n&&(n.useClass||n.provide));if(!function A8(n){return!!n.deps}(n))return qs(i)||nb(i);r=()=>new i(...jv(n.deps))}return r}function Ml(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function k8(n){return!!n.\u0275providers}function rb(n,e){for(const t of n)Array.isArray(t)?rb(t,e):k8(t)?rb(t.\u0275providers,e):e(t)}class f1{}class O8{resolveComponentFactory(e){throw function P8(n){const e=Error(`No component factory found for ${Qe(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ys=(()=>{class n{}return n.NULL=new O8,n})();function N8(){return xl(Wt(),S())}function xl(n,e){return new ze(Br(n,e))}let ze=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=N8,n})();function F8(n){return n instanceof ze?n.nativeElement:n}class Uu{}let Ci=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function L8(){const n=S(),t=Cr(Wt().index,n);return(lr(t)?t:n)[11]}(),n})(),V8=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>null}),n})();class Yo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const m1=new Yo("14.1.1"),ib={};function cb(n){return n.ngOriginalError}class no{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&cb(e);for(;t&&cb(t);)t=cb(t);return t||null}}const ub=new Map;let Q8=0;const hb="__ngContext__";function Mn(n,e){lr(e)?(n[hb]=e[20],function Z8(n){ub.set(n[20],n)}(e)):n[hb]=e}function ju(n){const e=n[hb];return"number"==typeof e?function w1(n){return ub.get(n)||null}(e):e||null}function fb(n){const e=ju(n);return e?lr(e)?e:e.lView:null}const a9=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(He))();function ro(n){return n instanceof Function?n():n}var ur=(()=>((ur=ur||{})[ur.Important=1]="Important",ur[ur.DashCase=2]="DashCase",ur))();function mb(n,e){return undefined(n,e)}function Hu(n){const e=n[3];return ti(e)?e[3]:e}function gb(n){return M1(n[13])}function _b(n){return M1(n[4])}function M1(n){for(;null!==n&&!ti(n);)n=n[4];return n}function Rl(n,e,t,r,i){if(null!=r){let o,s=!1;ti(r)?o=r:lr(r)&&(s=!0,r=r[0]);const a=Ut(r);0===n&&null!==t?null==i?N1(e,t,a):Qs(e,t,a,i||null,!0):1===n&&null!==t?Qs(e,t,a,i||null,!0):2===n?function H1(n,e,t){const r=ap(n,e);r&&function T9(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function A9(n,e,t,r,i){const o=t[7];o!==Ut(t)&&Rl(e,n,r,o,i);for(let a=10;a<t.length;a++){const l=t[a];$u(l[1],l,n,e,r,o)}}(e,n,o,t,i)}}function vb(n,e,t){return n.createElement(e,t)}function k1(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Ev(i,-1)),t.splice(r,1)}function bb(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&k1(i,r),e>0&&(n[t-1][4]=r[4]);const o=Xf(n,10+e);!function _9(n,e){$u(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function R1(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&$u(n,e,t,3,null,null),function b9(n){let e=n[13];if(!e)return wb(n[1],n);for(;e;){let t=null;if(lr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)lr(e)&&wb(e[1],e),e=e[3];null===e&&(e=n),lr(e)&&wb(e[1],e),t=e&&e[4]}e=t}}(e)}}function wb(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function I9(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Tu)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function C9(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):Ut(e[s]),l=r[i=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&ti(e[3])){t!==e[3]&&k1(t,e);const r=e[19];null!==r&&r.detachView(n)}!function J8(n){ub.delete(n[20])}(e)}}function P1(n,e,t){return function O1(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Jr.None||i===Jr.Emulated)return null}return Br(r,t)}(n,e.parent,t)}function Qs(n,e,t,r,i){n.insertBefore(e,t,r,i)}function N1(n,e,t){n.appendChild(e,t)}function F1(n,e,t,r,i){null!==r?Qs(n,e,t,r,i):N1(n,e,t)}function ap(n,e){return n.parentNode(e)}function L1(n,e,t){return B1(n,e,t)}let B1=function V1(n,e,t){return 40&n.type?Br(n,t):null};function lp(n,e,t,r){const i=P1(n,r,e),o=e[11],a=L1(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)F1(o,i,t[l],a,!1);else F1(o,i,t,a,!1)}function cp(n,e){if(null!==e){const t=e.type;if(3&t)return Br(e,n);if(4&t)return Cb(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return cp(n,r);{const i=n[e.index];return ti(i)?Cb(-1,i):Ut(i)}}if(32&t)return mb(e,n)()||Ut(n[e.index]);{const r=j1(n,e);return null!==r?Array.isArray(r)?r[0]:cp(Hu(n[16]),r):cp(n,e.next)}}return null}function j1(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Cb(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return cp(r,i)}return e[7]}function Ib(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===e&&(a&&Mn(Ut(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Ib(n,e,t.child,r,i,o,!1),Rl(e,n,i,a,o);else if(32&l){const c=mb(t,r);let u;for(;u=c();)Rl(e,n,i,u,o);Rl(e,n,i,a,o)}else 16&l?$1(n,e,r,t,i,o):Rl(e,n,i,a,o);t=s?t.projectionNext:t.next}}function $u(n,e,t,r,i,o){Ib(t,r,n.firstChild,e,i,o,!1)}function $1(n,e,t,r,i,o){const s=t[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Rl(e,n,i,l[c],o);else Ib(n,e,l,s[3],i,o,!0)}function z1(n,e,t){n.setAttribute(e,"style",t)}function Tb(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function G1(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const q1="ng-template";function x9(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==G1(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function W1(n){return 4===n.type&&n.value!==q1}function k9(n,e,t){return e===(4!==n.type||t?n.value:q1)}function R9(n,e,t){let r=4;const i=n.attrs||[],o=function N9(n){for(let e=0;e<n.length;e++)if(gR(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!k9(n,l,t)||""===l&&1===e.length){if(ri(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!x9(n.attrs,c,t)){if(ri(r))return!1;s=!0}continue}const d=P9(8&r?"class":l,i,W1(n),t);if(-1===d){if(ri(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==G1(f,c,0)||2&r&&c!==h){if(ri(r))return!1;s=!0}}}}else{if(!s&&!ri(r)&&!ri(l))return!1;if(s&&ri(l))continue;s=!1,r=l|1&r}}return ri(r)||s}function ri(n){return 0==(1&n)}function P9(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function F9(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function K1(n,e,t=!1){for(let r=0;r<e.length;r++)if(R9(n,e[r],t))return!0;return!1}function L9(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function Y1(n,e){return n?":not("+e.trim()+")":e}function V9(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ri(s)&&(e+=Y1(o,i),i=""),r=s,o=o||!ri(r);t++}return""!==i&&(e+=Y1(o,i)),e}const ue={};function z(n){Q1(Me(),S(),Kn()+n,!1)}function Q1(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&$f(e,o,t)}else{const o=n.preOrderHooks;null!==o&&zf(e,o,0,t)}Go(t)}function eP(n,e=null,t=null,r){const i=tP(n,e,t,r);return i.resolveInjectorInitializers(),i}function tP(n,e=null,t=null,r,i=new Set){const o=[t||Fe,E8(n)];return r=r||("object"==typeof n?void 0:Qe(n)),new d1(o,e||sp(),r||null,i)}let At=(()=>{class n{static create(t,r){if(Array.isArray(t))return eP({name:""},r,t,"");{const i=t.name??"";return eP({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Ru,n.NULL=new s1,n.\u0275prov=V({token:n,providedIn:"any",factory:()=>I(r1)}),n.__NG_ELEMENT_ID__=-1,n})();function v(n,e=J.Default){const t=S();return null===t?I(n,e):IR(Wt(),t,ne(n),e)}function xb(){throw new Error("invalid")}function dp(n,e){return n<<17|e<<2}function ii(n){return n>>17&32767}function kb(n){return 2|n}function io(n){return(131068&n)>>2}function Rb(n,e){return-131069&n|e<<2}function Pb(n){return 1|n}function yP(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];Sv(i),s.contentQueries(2,e[o],o)}}}function pp(n,e,t,r,i,o,s,a,l,c,u){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),nR(d),d[3]=d[15]=n,d[8]=t,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=o,d[20]=function X8(){return Q8++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function Ol(n,e,t,r,i){let o=n.data[e];if(null===o)o=function Hb(n,e,t,r,i){const o=oR(),s=Cv(),l=n.data[e]=function E7(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,r,i),function Q6(){return oe.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Iu(){const n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return vi(o,!0),o}function Nl(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function mp(n,e,t){Av(e);try{const r=n.viewQuery;null!==r&&Xb(1,r,t);const i=n.template;null!==i&&vP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&yP(n,e),n.staticViewQueries&&Xb(2,n.viewQuery,t);const o=n.components;null!==o&&function y7(n,e){for(let t=0;t<e.length;t++)V7(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Mv()}}function zu(n,e,t,r){const i=e[2];if(128!=(128&i)){Av(e);try{nR(e),function sR(n){return oe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&vP(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&$f(e,c,null)}else{const c=n.preOrderHooks;null!==c&&zf(e,c,0,null),xv(e,0)}if(function F7(n){for(let e=gb(n);null!==e;e=_b(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(512&i[2])&&Ev(o,1),i[2]|=512}}}(e),function N7(n){for(let e=gb(n);null!==e;e=_b(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];wv(r)&&zu(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&yP(n,e),s){const c=n.contentCheckHooks;null!==c&&$f(e,c)}else{const c=n.contentHooks;null!==c&&zf(e,c,1),xv(e,1)}!function g7(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Go(~i);else{const o=i,s=t[++r],a=t[++r];X6(s,o),a(2,e[o])}}}finally{Go(-1)}}(n,e);const a=n.components;null!==a&&function _7(n,e){for(let t=0;t<e.length;t++)L7(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Xb(2,l,r),s){const c=n.viewCheckHooks;null!==c&&$f(e,c)}else{const c=n.viewHooks;null!==c&&zf(e,c,2),xv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Ev(e[3],-1))}finally{Mv()}}}function v7(n,e,t,r){const i=e[10],s=tR(e);try{!s&&i.begin&&i.begin(),s&&mp(n,e,r),zu(n,e,t,r)}finally{!s&&i.end&&i.end()}}function vP(n,e,t,r,i){const o=Kn(),s=2&r;try{Go(-1),s&&e.length>22&&Q1(n,e,22,!1),t(r,i)}finally{Go(o)}}function bP(n,e,t){if(mv(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function $b(n,e,t){!iR()||(function S7(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||Su(t,e),Mn(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],c=ni(l);c&&R7(e,t,l);const u=Au(e,n,a,t);Mn(u,e),null!==s&&P7(0,a-i,u,l,0,s),c&&(Cr(t.index,e)[8]=u)}}(n,e,t,Br(t,e)),128==(128&t.flags)&&function A7(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function Z6(){return oe.lFrame.currentDirectiveIndex}();try{Go(o);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];Tv(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&SP(l,c)}}finally{Go(-1),Tv(s)}}(n,e,t))}function zb(n,e,t=Br){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function wP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Gb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Gb(n,e,t,r,i,o,s,a,l,c){const u=22+r,d=u+i,h=function b7(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ue);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function EP(n,e,t,r){const i=OP(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&NP(n).push(r,i.length-1))}function CP(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function IP(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===o||W1(e)?null:O7(d,o);s.push(h),a=CP(d,c,a),l=CP(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}function Sr(n,e,t,r,i,o,s,a){const l=Br(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Zb(n,t,u,r,i),Vf(e)&&TP(t,e.index)):3&e.type&&(r=function C7(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}function TP(n,e){const t=Cr(e,n);16&t[2]||(t[2]|=32)}function qb(n,e,t,r){let i=!1;if(iR()){const o=function M7(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];K1(t,s.selectors,!1)&&(i||(i=[]),Yf(Su(t,e),n,s.type),ni(s)?(AP(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,MP(t,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Nl(n,e,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];t.mergedAttrs=qf(t.mergedAttrs,d.hostAttrs),xP(n,t,e,c,d),k7(c,d,s),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}IP(n,t)}s&&function x7(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new D(-301,!1);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=qf(t.mergedAttrs,t.attrs),i}function DP(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function D7(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function SP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function AP(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function k7(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ni(e)&&(t[""]=n)}}function MP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function xP(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=qs(i.type)),s=new Tu(o,ni(i),v);n.blueprint[r]=s,t[r]=s,DP(n,e,0,r,Nl(n,t,i.hostVars,ue),i)}function R7(n,e,t){const r=Br(e,n),i=wP(t),o=n[10],s=gp(n,pp(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}function Ii(n,e,t,r,i,o){const s=Br(n,e);!function Wb(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?ce(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],s,o,n.value,t,r,i)}function P7(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function O7(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function kP(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function L7(n,e){const t=Cr(e,n);if(wv(t)){const r=t[1];48&t[2]?zu(r,t,r.template,t[8]):t[5]>0&&Kb(t)}}function Kb(n){for(let r=gb(n);null!==r;r=_b(r))for(let i=10;i<r.length;i++){const o=r[i];if(512&o[2]){const s=o[1];zu(s,o,s.template,o[8])}else o[5]>0&&Kb(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Cr(t[r],n);wv(i)&&i[5]>0&&Kb(i)}}function V7(n,e){const t=Cr(e,n),r=t[1];(function B7(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),mp(r,t,t[8])}function gp(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Yb(n){for(;n;){n[2]|=32;const e=Hu(n);if(k6(n)&&!e)return n;n=e}return null}function PP(n){!function RP(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=fb(t);if(null!==r){const i=r[1];v7(i,r,i.template,t)}}}(n[8])}function Xb(n,e,t){Sv(0),e(n,t)}const j7=(()=>Promise.resolve(null))();function OP(n){return n[7]||(n[7]=[])}function NP(n){return n.cleanup||(n.cleanup=[])}function LP(n,e){const t=n[9],r=t?t.get(no,null):null;r&&r.handleError(e)}function Zb(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],c=n.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function _p(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=av(i,a):2==o&&(r=av(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function yp(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(Ut(o)),ti(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&yp(l[1],l,c,r)}const s=t.type;if(8&s)yp(n,e,t.child,r);else if(32&s){const a=mb(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=j1(e,t);if(Array.isArray(a))r.push(...a);else{const l=Hu(e[16]);yp(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Gu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return yp(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ti(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(bb(e,r),Xf(t,r))}this._attachedToViewContainer=!1}R1(this._lView[1],this._lView)}onDestroy(e){EP(this._lView[1],this._lView,null,e)}markForCheck(){Yb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Qb(n,e,t){const r=e[10];r.begin&&r.begin();try{zu(n,e,n.template,t)}catch(i){throw LP(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function v9(n,e){$u(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class H7 extends Gu{constructor(e){super(e),this._view=e}detectChanges(){PP(this._view)}checkNoChanges(){}get context(){return null}}class Jb extends Ys{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=$e(e);return new qu(t,this.ngModule)}}function VP(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class z7{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,ib,r);return i!==ib||t===ib?i:this.parentInjector.get(e,t,r)}}class qu extends f1{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function B9(n){return n.map(V9).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return VP(this.componentDef.inputs)}get outputs(){return VP(this.componentDef.outputs)}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Ko?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new z7(e,o):e,a=s.get(Uu,null);if(null===a)throw new D(407,!1);const l=s.get(V8,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function w7(n,e,t){return n.selectRootElement(e,t===Jr.ShadowDom)}(c,r,this.componentDef.encapsulation):vb(a.createRenderer(null,this.componentDef),u,function $7(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,f=function Y7(n,e){return{components:[],scheduler:n||a9,clean:j7,playerHandler:e||null,flags:0}}(),p=Gb(0,null,null,1,0,null,null,null,null,null),m=pp(null,p,f,h,null,null,a,c,l,s,null);let _,b;Av(m);try{const E=function W7(n,e,t,r,i,o){const s=t[1];t[22]=n;const l=Ol(s,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(_p(l,c,!0),null!==n&&(Gf(i,n,c),null!==l.classes&&Tb(i,n,l.classes),null!==l.styles&&z1(i,n,l.styles)));const u=r.createRenderer(n,e),d=pp(t,wP(e),null,e.onPush?32:16,t[22],l,r,u,o||null,null,null);return s.firstCreatePass&&(Yf(Su(l,t),s,e.type),AP(s,l),MP(l,t.length,1)),gp(t,d),t[22]=d}(d,this.componentDef,m,a,c);if(d)if(r)Gf(c,d,["ng-version",m1.full]);else{const{attrs:y,classes:T}=function U9(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!ri(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);y&&Gf(c,d,y),T&&T.length>0&&Tb(c,d,T.join(" "))}if(b=bv(p,22),void 0!==t){const y=b.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const L=t[T];y.push(null!=L?Array.from(L):null)}}_=function K7(n,e,t,r,i){const o=t[1],s=function T7(n,e,t){const r=Wt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),xP(n,r,e,Nl(n,e,1,null),t),IP(n,r));const i=Au(e,n,r.directiveStart,r);Mn(i,e);const o=Br(r,e);return o&&Mn(o,e),i}(o,t,e);if(r.components.push(s),n[8]=s,null!==i)for(const l of i)l(s,e);if(e.contentQueries){const l=Wt();e.contentQueries(1,s,l.directiveStart)}const a=Wt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Go(a.index),DP(t[1],a,0,a.directiveStart,a.directiveEnd,e),SP(e,s)),s}(E,this.componentDef,m,f,[Q7]),mp(p,m,null)}finally{Mv()}return new q7(this.componentType,_,xl(b,m),m,b)}}class q7 extends class R8{}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new H7(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;Zb(o[1],o,i,e,t),TP(o,this._tNode.index)}}get injector(){return new vl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Q7(){const n=Wt();Hf(S()[1],n)}function _e(n){let e=function BP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ni(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=ew(n.inputs),s.declaredInputs=ew(n.declaredInputs),s.outputs=ew(n.outputs);const a=i.hostBindings;a&&eK(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&Z7(n,l),c&&J7(n,c),sv(n.inputs,i.inputs),sv(n.declaredInputs,i.declaredInputs),sv(n.outputs,i.outputs),ni(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===_e&&(t=!1)}}e=Object.getPrototypeOf(e)}!function X7(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qf(i.hostAttrs,t=qf(t,i.hostAttrs))}}(r)}function ew(n){return n===ul?{}:n===Fe?[]:n}function Z7(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function J7(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function eK(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let vp=null;function Xs(){if(!vp){const n=He.Symbol;if(n&&n.iterator)vp=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(vp=r)}}}return vp}function Wu(n){return!!tw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Xs()in n)}function tw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ti(n,e,t){return n[e]=t}function xn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function yt(n,e,t,r){const i=S();return xn(i,gl(),e)&&(Me(),Ii(St(),i,n,e,t,r)),yt}function he(n,e,t,r,i,o,s,a){const l=S(),c=Me(),u=n+22,d=c.firstCreatePass?function cK(n,e,t,r,i,o,s,a,l){const c=e.consts,u=Ol(e,n,4,s||null,zo(c,a));qb(e,t,u,zo(c,l)),Hf(e,u);const d=u.tViews=Gb(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,o,s):c.data[u];vi(d,!1);const h=l[11].createComment("");lp(c,l,h,d),Mn(h,l),gp(l,l[u]=kP(h,l,h,d)),Bf(d)&&$b(c,l,d),null!=s&&zb(l,d,a)}function Js(n){return ml(function Y6(){return oe.lFrame.contextLView}(),22+n)}function $(n,e,t){const r=S();return xn(r,gl(),e)&&Sr(Me(),St(),r,n,e,r[11],t,!1),$}function nw(n,e,t,r,i){const s=i?"class":"style";Zb(n,t,e.inputs[s],s,r)}function k(n,e,t,r){const i=S(),o=Me(),s=22+n,a=i[11],l=i[s]=vb(a,e,function oW(){return oe.lFrame.currentNamespace}()),c=o.firstCreatePass?function dK(n,e,t,r,i,o,s){const a=e.consts,c=Ol(e,n,2,i,zo(a,o));return qb(e,t,c,zo(a,s)),null!==c.attrs&&_p(c,c.attrs,!1),null!==c.mergedAttrs&&_p(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,t,r):o.data[s];vi(c,!0);const u=c.mergedAttrs;null!==u&&Gf(a,l,u);const d=c.classes;null!==d&&Tb(a,l,d);const h=c.styles;return null!==h&&z1(a,l,h),64!=(64&c.flags)&&lp(o,i,l,c),0===function z6(){return oe.lFrame.elementDepthCount}()&&Mn(l,i),function G6(){oe.lFrame.elementDepthCount++}(),Bf(c)&&($b(o,i,c),bP(o,c,i)),null!==r&&zb(i,c),k}function P(){let n=Wt();Cv()?Iv():(n=n.parent,vi(n,!1));const e=n;!function q6(){oe.lFrame.elementDepthCount--}();const t=Me();return t.firstCreatePass&&(Hf(t,n),mv(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function uW(n){return 0!=(16&n.flags)}(e)&&nw(t,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function dW(n){return 0!=(32&n.flags)}(e)&&nw(t,e,S(),e.stylesWithoutHost,!1),P}function De(n,e,t,r){return k(n,e,t,r),P(),De}function so(n,e,t){const r=S(),i=Me(),o=n+22,s=i.firstCreatePass?function hK(n,e,t,r,i){const o=e.consts,s=zo(o,r),a=Ol(e,n,8,"ng-container",s);return null!==s&&_p(a,s,!0),qb(e,t,a,zo(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];vi(s,!0);const a=r[o]=r[11].createComment("");return lp(i,r,a,s),Mn(a,r),Bf(s)&&($b(i,r,s),bP(i,s,r)),null!=t&&zb(r,s),so}function ao(){let n=Wt();const e=Me();return Cv()?Iv():(n=n.parent,vi(n,!1)),e.firstCreatePass&&(Hf(e,n),mv(n)&&e.queries.elementEnd(n)),ao}function wp(n,e,t){return so(n,e,t),ao(),wp}function Zo(){return S()}function Yu(n){return!!n&&"function"==typeof n.then}function YP(n){return!!n&&"function"==typeof n.subscribe}const rw=YP;function Ue(n,e,t,r){const i=S(),o=Me(),s=Wt();return function XP(n,e,t,r,i,o,s,a){const l=Bf(r),u=n.firstCreatePass&&NP(n),d=e[8],h=OP(e);let f=!0;if(3&r.type||a){const _=Br(r,e),b=a?a(_):_,E=h.length,y=a?L=>a(Ut(L[r.index])):r.index;let T=null;if(!a&&l&&(T=function fK(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=o,T.__ngLastListenerFn__=o,f=!1;else{o=JP(r,e,d,o,!1);const L=t.listen(b,i,o);h.push(o,L),u&&u.push(i,y,E,E+1)}}else o=JP(r,e,d,o,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const _=m.length;if(_)for(let b=0;b<_;b+=2){const j=e[m[b]][m[b+1]].subscribe(o),le=h.length;h.push(o,j),u&&u.push(i,r.index,le,-(le+1))}}}(o,i,i[11],s,n,e,0,r),Ue}function ZP(n,e,t,r){try{return!1!==t(r)}catch(i){return LP(n,i),!1}}function JP(n,e,t,r,i){return function o(s){if(s===Function)return r;Yb(2&n.flags?Cr(n.index,e):e);let l=ZP(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)l=ZP(e,0,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function be(n=1){return function eW(n){return(oe.lFrame.contextLView=function tW(n,e){for(;n>0;)e=e[15],n--;return e}(n,oe.lFrame.contextLView))[8]}(n)}function pK(n,e){let t=null;const r=function O9(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?K1(n,o,!0):L9(r,o))return i}else t=i}return t}function lo(n){const e=S()[16][6];if(!e.projection){const r=e.projection=ku(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?pK(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function hn(n,e=0,t){const r=S(),i=Me(),o=Ol(i,22+n,16,null,t||null);null===o.projection&&(o.projection=e),Iv(),64!=(64&o.flags)&&function S9(n,e,t){$1(e[11],0,e,t,P1(n,t,e),L1(t.parent||e[6],t,e))}(i,r,o)}function cO(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?ii(o):io(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];_K(n[a],e)&&(l=!0,n[a+1]=r?Pb(u):kb(u)),a=r?ii(u):io(u)}l&&(n[t+1]=r?kb(o):Pb(o))}function _K(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Il(n,e)>=0}function dr(n,e,t){return oi(n,e,t,!1),dr}function kn(n,e){return oi(n,e,null,!0),kn}function oi(n,e,t,r){const i=S(),o=Me(),s=function eo(n){const e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function _O(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Kn()],s=function gO(n,e){return e>=n.expandoStartIndex}(n,t);(function wO(n,e){return 0!=(n.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function DK(n,e,t,r){const i=function Dv(n){const e=oe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Qu(t=ow(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=ow(i,n,e,t,r),null===o){let l=function SK(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==io(r))return n[ii(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=ow(null,n,e,l[1],r),l=Qu(l,e.attrs,r),function AK(n,e,t,r){n[ii(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function MK(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Qu(r,n[o].hostAttrs,t);return Qu(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function mK(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ii(s),l=io(s);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Il(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=ii(n[a+1]);n[r+1]=dp(h,a),0!==h&&(n[h+1]=Rb(n[h+1],r)),n[a+1]=function s7(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=dp(a,0),0!==a&&(n[a+1]=Rb(n[a+1],r)),a=r;else n[r+1]=dp(l,0),0===a?a=r:n[l+1]=Rb(n[l+1],r),l=r;c&&(n[r+1]=kb(n[r+1])),cO(n,u,r,!0),cO(n,u,r,!1),function gK(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Il(o,e)>=0&&(t[r+1]=Pb(t[r+1]))}(e,u,n,r,o),s=dp(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==ue&&xn(i,s,e)&&function vO(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];Ep(function uP(n){return 1==(1&n)}(c)?bO(l,e,t,i,io(c),s):void 0)||(Ep(o)||function cP(n){return 2==(2&n)}(c)&&(o=bO(l,null,t,i,a,s)),function M9(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:ur.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ur.Important),n.setStyle(t,r,i,o))}}(r,s,Uf(Kn(),t),i,o))}(o,o.data[Kn()],i,i[11],n,i[s+1]=function RK(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Qe(Dr(n)))),n}(e,t),r,s)}function ow(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Qu(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Qu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Tr(n,s,!!t||e[++o]))}return void 0===n?null:n}function bO(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===ue&&(h=d?Fe:void 0);let f=d?Vv(h,r):u===r?h:void 0;if(c&&!Ep(f)&&(f=Vv(l,r)),Ep(f)&&(a=f,s))return a;const p=n[i+1];i=s?ii(p):io(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=Vv(l,r))}return a}function Ep(n){return void 0!==n}function x(n,e=""){const t=S(),r=Me(),i=n+22,o=r.firstCreatePass?Ol(r,i,1,e,null):r.data[i],s=t[i]=function yb(n,e){return n.createText(e)}(t[11],e);lp(r,t,s,o),vi(o,!1)}function ea(n){return Cp("",n,""),ea}function Cp(n,e,t){const r=S(),i=function Ll(n,e,t,r){return xn(n,gl(),t)?e+ce(t)+r:ue}(r,n,e,t);return i!==ue&&function oo(n,e,t){const r=Uf(e,n);!function x1(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,Kn(),i),Cp}function sw(n,e,t){const r=S();return xn(r,gl(),e)&&Sr(Me(),St(),r,n,e,r[11],t,!0),sw}const Wl="en-US";let HO=Wl;function cw(n,e,t,r,i){if(n=ne(n),Array.isArray(n))for(let o=0;o<n.length;o++)cw(n[o],e,t,r,i);else{const o=Me(),s=S();let a=Ks(n)?n:ne(n.provide),l=h1(n);const c=Wt(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ks(n)||!n.multi){const f=new Tu(l,i,v),p=dw(a,e,i?u:u+h,d);-1===p?(Yf(Su(c,s),o,a),uw(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=dw(a,e,u+h,d),p=dw(a,e,u,u+h),m=f>=0&&t[f],_=p>=0&&t[p];if(i&&!_||!i&&!m){Yf(Su(c,s),o,a);const b=function QY(n,e,t,r,i){const o=new Tu(n,t,v);return o.multi=[],o.index=e,o.componentProviders=0,fN(o,i,r&&!t),o}(i?YY:KY,t.length,i,r,l);!i&&_&&(t[p].providerFactory=b),uw(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(b),s.push(b)}else uw(o,n,f>-1?f:p,fN(t[i?p:f],l,!i&&r));!i&&r&&_&&t[p].componentProviders++}}}function uw(n,e,t,r){const i=Ks(e),o=function I8(n){return!!n.useClass}(e);if(i||o){const l=(o?ne(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function fN(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function dw(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function KY(n,e,t,r){return hw(this.multi,[])}function YY(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Au(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),hw(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],hw(i,o);return o}function hw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ge(n,e=[]){return t=>{t.providersResolver=(r,i)=>function WY(n,e,t){const r=Me();if(r.firstCreatePass){const i=ni(n);cw(t,r.data,r.blueprint,i,!0),cw(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class na{}class pN{}class mN extends na{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jb(this);const r=wr(e);this._bootstrapComponents=ro(r.bootstrap),this._r3Injector=tP(e,t,[{provide:na,useValue:this},{provide:Ys,useValue:this.componentFactoryResolver}],Qe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class fw extends pN{constructor(e){super(),this.moduleType=e}create(e){return new mN(this.moduleType,e)}}class ZY extends na{constructor(e,t,r){super(),this.componentFactoryResolver=new Jb(this),this.instance=null;const i=new d1([...e,{provide:na,useValue:this},{provide:Ys,useValue:this.componentFactoryResolver}],t||sp(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ap(n,e,t=null){return new ZY(n,e,t).injector}function EN(n,e,t,r,i){return function IN(n,e,t,r,i,o,s){const a=e+t;return function Zs(n,e,t,r){const i=xn(n,e,t);return xn(n,e+1,r)||i}(n,a,i,o)?Ti(n,a+2,s?r.call(s,i,o):r(i,o)):td(n,a+2)}(S(),Wn(),n,e,t,r,i)}function td(n,e){const t=n[e];return t===ue?void 0:t}function Yl(n,e){const t=Me();let r;const i=n+22;t.firstCreatePass?(r=function yQ(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=qs(r.type)),s=Fr(v);try{const a=Wf(!1),l=o();return Wf(a),function uK(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,S(),i,l),l}finally{Fr(s)}}function Ql(n,e,t){const r=n+22,i=S(),o=ml(i,r);return function nd(n,e){return n[1].data[e].pure}(i,r)?function CN(n,e,t,r,i,o){const s=e+t;return xn(n,s,i)?Ti(n,s+1,o?r.call(o,i):r(i)):td(n,s+1)}(i,Wn(),e,o.transform,t,o):o.transform(t)}function mw(n){return e=>{setTimeout(n,void 0,e)}}const Pe=class CQ extends ve{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=mw(o),i&&(i=mw(i)),s&&(s=mw(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof mt&&e.add(a),a}};function IQ(){return this._results[Xs()]()}class Xl{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Xs(),r=Xl.prototype;r[t]||(r[t]=IQ)}get changes(){return this._changes||(this._changes=new Pe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Ir(e);(this._changesDetected=!function wW(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let jr=(()=>{class n{}return n.__NG_ELEMENT_ID__=SQ,n})();const TQ=jr,DQ=class extends TQ{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=pp(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),mp(r,i,e),new Gu(i)}};function SQ(){return Mp(Wt(),S())}function Mp(n,e){return 4&n.type?new DQ(e,n,xl(n,e)):null}let Ar=(()=>{class n{}return n.__NG_ELEMENT_ID__=AQ,n})();function AQ(){return xN(Wt(),S())}const MQ=Ar,AN=class extends MQ{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return xl(this._hostTNode,this._hostLView)}get injector(){return new vl(this._hostTNode,this._hostLView)}get parentInjector(){const e=Kf(this._hostTNode,this._hostLView);if(vR(e)){const t=yl(e,this._hostLView),r=_l(e);return new vl(t[1].data[r+8],t)}return new vl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=MN(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function xu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?e:new qu($e(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get(Ko,null);h&&(o=h)}const u=l.create(c,i,void 0,o);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function $6(n){return ti(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new AN(d,d[6],d[3]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function w9(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],xR(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function E9(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,s,o);const a=Cb(o,s),l=r[11],c=ap(l,s[7]);return null!==c&&function y9(n,e,t,r,i,o){r[0]=i,r[6]=e,$u(n,r,t,1,i,o)}(i,s[6],l,r,c,a),e.attachToViewContainerRef(),xR(gw(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=MN(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=bb(this._lContainer,t);r&&(Xf(gw(this._lContainer),t),R1(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=bb(this._lContainer,t);return r&&null!=Xf(gw(this._lContainer),t)?new Gu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function MN(n){return n[8]}function gw(n){return n[8]||(n[8]=[])}function xN(n,e){let t;const r=e[n.index];if(ti(r))t=r;else{let i;if(8&n.type)i=Ut(r);else{const o=e[11];i=o.createComment("");const s=Br(n,e);Qs(o,ap(o,s),i,function D9(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=kP(r,e,i,n),gp(e,t)}return new AN(t,n,e)}class _w{constructor(e){this.queryList=e,this.matches=null}clone(){return new _w(this.queryList)}setDirty(){this.queryList.setDirty()}}class yw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new yw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==NN(e,t).matches&&this.queries[t].setDirty()}}class kN{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class vw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new vw(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class bw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new bw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,RQ(t,o)),this.matchTNodeWithReadOption(e,t,Qf(t,e,o,!1,!1))}else r===jr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Qf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ze||i===Ar||i===jr&&4&t.type)this.addMatch(t.index,-2);else{const o=Qf(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function RQ(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function OQ(n,e,t,r){return-1===t?function PQ(n,e){return 11&n.type?xl(n,e):4&n.type?Mp(n,e):null}(e,n):-2===t?function NQ(n,e,t){return t===ze?xl(e,n):t===jr?Mp(e,n):t===Ar?xN(e,n):void 0}(n,e,r):Au(n,n[1],t,e)}function RN(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:OQ(e,o[c],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function ww(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=RN(n,e,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&ww(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];ww(f[1],f,c,r)}}}}}return r}function ot(n){const e=S(),t=Me(),r=lR();Sv(r+1);const i=NN(t,r);if(n.dirty&&tR(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?ww(t,e,r,[]):RN(t,e,i,r);n.reset(o,F8),n.notifyOnChanges()}return!0}return!1}function co(n,e,t){const r=Me();r.firstCreatePass&&(ON(r,new kN(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),PN(r,S(),e)}function fn(n,e,t,r){const i=Me();if(i.firstCreatePass){const o=Wt();ON(i,new kN(e,t,r),o.index),function LQ(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}PN(i,S(),t)}function st(){return function FQ(n,e){return n[19].queries[e].queryList}(S(),lR())}function PN(n,e,t){const r=new Xl(4==(4&t));EP(n,e,r,r.destroy),null===e[19]&&(e[19]=new yw),e[19].queries.push(new _w(r))}function ON(n,e,t){null===n.queries&&(n.queries=new vw),n.queries.track(new bw(e,t))}function NN(n,e){return n.queries.getByIndex(e)}function xp(n,e){return Mp(n,e)}function Rp(...n){}const Pp=new R("Application Initializer");let Op=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Rp,this.reject=Rp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Yu(o))t.push(o);else if(rw(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(I(Pp,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const id=new R("AppId",{providedIn:"root",factory:function eF(){return`${Dw()}${Dw()}${Dw()}`}});function Dw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tF=new R("Platform Initializer"),tc=new R("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nF=new R("appBootstrapListener"),nc=new R("AnimationModuleType");let rX=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ai=new R("LocaleId",{providedIn:"root",factory:()=>tt(Ai,J.Optional|J.SkipSelf)||function iX(){return typeof $localize<"u"&&$localize.locale||Wl}()});class sX{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Sw=(()=>{class n{compileModuleSync(t){return new fw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=ro(wr(t).declarations).reduce((s,a)=>{const l=$e(a);return l&&s.push(new qu(l)),s},[]);return new sX(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cX=(()=>Promise.resolve(0))();function Aw(n){typeof Zone>"u"?cX.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class se{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function uX(){let n=He.requestAnimationFrame,e=He.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function fX(n){const e=()=>{!function hX(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(He,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,xw(n),n.isCheckStableRunning=!0,Mw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),xw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return oF(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),sF(n)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return oF(n),t.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),sF(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,xw(n),Mw(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!se.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(se.isInAngularZone())throw new D(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,dX,Rp,Rp);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const dX={};function Mw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function xw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function oF(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sF(n){n._nesting--,Mw(n)}class pX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pe,this.onMicrotaskEmpty=new Pe,this.onStable=new Pe,this.onError=new Pe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const aF=new R(""),Np=new R("");let Pw,kw=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Pw||(function mX(n){Pw=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{se.assertNotInAngularZone(),Aw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Aw(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(I(se),I(Rw),I(Np))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),Rw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Pw?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Jo=null;const lF=new R("AllowMultipleToken"),Ow=new R("PlatformDestroyListeners");class cF{constructor(e,t){this.name=e,this.token=t}}function dF(n,e,t=[]){const r=`Platform: ${e}`,i=new R(r);return(o=[])=>{let s=Nw();if(!s||s.injector.get(lF,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function yX(n){if(Jo&&!Jo.get(lF,!1))throw new D(400,!1);Jo=n;const e=n.get(fF);(function uF(n){const e=n.get(tF,null);e&&e.forEach(t=>t())})(n)}(function hF(n=[],e){return At.create({name:e,providers:[{provide:eb,useValue:"platform"},{provide:Ow,useValue:new Set([()=>Jo=null])},...n]})}(a,r))}return function bX(n){const e=Nw();if(!e)throw new D(401,!1);return e}()}}function Nw(){return Jo?.get(fF)??null}let fF=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function wX(n,e){let t;return t="noop"===n?new pX:("zone.js"===n?void 0:n)||new se(e),t}(r?.ngZone,function pF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:se,useValue:i}];return i.run(()=>{const s=At.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),l=a.injector.get(no,null);if(!l)throw new D(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{Fp(this._modules,a),c.unsubscribe()})}),function mF(n,e,t){try{const r=t();return Yu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(Op);return c.runInitializers(),c.donePromise.then(()=>(function $O(n){br(n,"Expected localeId to be defined"),"string"==typeof n&&(HO=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ai,Wl)||Wl),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=gF({},r);return function gX(n,e,t){const r=new fw(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(ra);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new D(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Ow,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(I(At))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function gF(n,e){return Array.isArray(e)?e.reduce(gF,n):{...n,...e}}let ra=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ve(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Ve(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{se.assertNotInAngularZone(),Aw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{se.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=cl(o,s.pipe(jk()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof f1;if(!this._injector.get(Op).done)throw!i&&function Jl(n){const e=$e(n)||$n(n)||zn(n);return null!==e&&e.standalone}(t),new D(405,false);let s;s=i?t:this._injector.get(Ys).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function _X(n){return n.isBoundToModule}(s)?void 0:this._injector.get(na),c=s.create(At.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(aF,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Fp(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Fp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(nF,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(I(se),I(Ko),I(no))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let yF=!0,li=(()=>{class n{}return n.__NG_ELEMENT_ID__=IX,n})();function IX(n){return function TX(n,e,t){if(Vf(n)&&!t){const r=Cr(n.index,e);return new Gu(r,r)}return 47&n.type?new Gu(e[16],e):null}(Wt(),S(),16==(16&n))}class CF{constructor(){}supports(e){return Wu(e)}create(e){return new kX(e)}}const xX=(n,e)=>e;class kX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||xX}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<TF(r,i,o)?t:r,a=TF(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Wu(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function oK(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Xs()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new RX(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new IF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class RX{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class IF{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new PX,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TF(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class DF{constructor(){}supports(e){return e instanceof Map||tw(e)}create(){return new OX}}class OX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||tw(e)))throw new D(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new NX(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class NX{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SF(){return new Bp([new CF])}let Bp=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||SF()),deps:[[n,new Dl,new _t]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new D(901,!1)}}return n.\u0275prov=V({token:n,providedIn:"root",factory:SF}),n})();function AF(){return new od([new DF])}let od=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||AF()),deps:[[n,new Dl,new _t]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new D(901,!1)}}return n.\u0275prov=V({token:n,providedIn:"root",factory:AF}),n})();const VX=dF(null,"core",[]);let BX=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(I(ra))},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({}),n})();function ho(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Up=null;function Mi(){return Up}const we=new R("DocumentToken");let Uw=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return function $X(){return I(MF)}()},providedIn:"platform"}),n})();const zX=new R("Location Initialized");let MF=(()=>{class n extends Uw{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mi().getBaseHref(this._doc)}onPopState(t){const r=Mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){xF()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){xF()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(I(we))},n.\u0275prov=V({token:n,factory:function(){return function GX(){return new MF(I(we))}()},providedIn:"platform"}),n})();function xF(){return!!window.history.pushState}function jw(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function kF(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function fo(n){return n&&"?"!==n[0]?"?"+n:n}let oa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return tt(PF)},providedIn:"root"}),n})();const RF=new R("appBaseHref");let PF=(()=>{class n extends oa{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??tt(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return jw(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+fo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+fo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+fo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(I(Uw),I(RF,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qX=(()=>{class n extends oa{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=jw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+fo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+fo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(I(Uw),I(RF,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),jp=(()=>{class n{constructor(t){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=kF(OF(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+fo(r))}normalize(t){return n.stripTrailingSlash(function KX(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,OF(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=fo,n.joinWithSlash=jw,n.stripTrailingSlash=kF,n.\u0275fac=function(t){return new(t||n)(I(oa))},n.\u0275prov=V({token:n,factory:function(){return function WX(){return new jp(I(oa))}()},providedIn:"root"}),n})();function OF(n){return n.replace(/\/index.html$/,"")}let Xw=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Wu(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Qe(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(v(Bp),v(od),v(ze),v(Ci))},n.\u0275dir=K({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class PZ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zw=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new PZ(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),GF(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{GF(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(v(Ar),v(jr),v(Bp))},n.\u0275dir=K({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function GF(n,e){n.context.$implicit=e.item}let xi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new NZ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qF("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qF("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(v(Ar),v(jr))},n.\u0275dir=K({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class NZ{constructor(){this.$implicit=null,this.ngIf=null}}function qF(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Qe(e)}'.`)}class Jw{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ld=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),eE=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Jw(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(v(Ar),v(jr),v(ld,9))},n.\u0275dir=K({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),tE=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:ur.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(v(ze),v(od),v(Ci))},n.\u0275dir=K({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class BZ{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class UZ{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const jZ=new UZ,HZ=new BZ;let Xp=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Yu(t))return jZ;if(YP(t))return HZ;throw function ui(n,e){return new D(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(v(li,16))},n.\u0275pipe=ar({name:"async",type:n,pure:!1,standalone:!0}),n})(),cd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({}),n})();const YF="browser";let uJ=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>new dJ(I(we),window)}),n})();class dJ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function hJ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=QF(this.window.history)||QF(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function QF(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class iE extends class pJ extends class HX{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function jX(n){Up||(Up=n)}(new iE)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function mJ(){return ud=ud||document.querySelector("base"),ud?ud.getAttribute("href"):null}();return null==t?null:function gJ(n){Zp=Zp||document.createElement("a"),Zp.setAttribute("href",n);const e=Zp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ud=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function kZ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Zp,ud=null;const XF=new R("TRANSITION_ID"),yJ=[{provide:Pp,useFactory:function _J(n,e,t){return()=>{t.get(Op).donePromise.then(()=>{const r=Mi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[XF,we,At],multi:!0}];let bJ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const Jp=new R("EventManagerPlugins");let em=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(I(Jp),I(se))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class ZF{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Mi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let JF=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),dd=(()=>{class n extends JF{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(eL),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(eL))}}return n.\u0275fac=function(t){return new(t||n)(I(we))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();function eL(n){Mi().remove(n)}const oE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sE=/%COMP%/g;function tm(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?tm(n,i,t):(i=i.replace(sE,n),t.push(i))}return t}function rL(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let nm=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new aE(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Jr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new DJ(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Jr.ShadowDom:return new SJ(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=tm(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(I(em),I(dd),I(id))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class aE{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(oE[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(oL(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(oL(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=oE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=oE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ur.DashCase|ur.Important)?e.style.setProperty(t,r,i&ur.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ur.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,rL(r)):this.eventManager.addEventListener(e,t,rL(r))}}function oL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class DJ extends aE{constructor(e,t,r,i){super(e),this.component=r;const o=tm(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function CJ(n){return"_ngcontent-%COMP%".replace(sE,n)}(i+"-"+r.id),this.hostAttr=function IJ(n){return"_nghost-%COMP%".replace(sE,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class SJ extends aE{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=tm(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let AJ=(()=>{class n extends ZF{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(I(we))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const sL=["alt","control","meta","shift"],xJ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aL={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kJ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let RJ=(()=>{class n extends ZF{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="";if(sL.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(t){let r="",i=function PJ(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&aL.hasOwnProperty(e)&&(e=aL[e]))}return xJ[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),sL.forEach(o=>{o!=i&&(0,kJ[o])(t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(I(we))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const lL=[{provide:tc,useValue:YF},{provide:tF,useValue:function OJ(){iE.makeCurrent()},multi:!0},{provide:we,useFactory:function FJ(){return function qW(n){$v=n}(document),document},deps:[]}],LJ=dF(VX,"browser",lL),cL=new R(""),uL=[{provide:Np,useClass:class vJ{addToWindow(e){He.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},He.getAllAngularTestabilities=()=>e.getAllTestabilities(),He.getAllAngularRootElements=()=>e.getAllRootElements(),He.frameworkStabilizers||(He.frameworkStabilizers=[]),He.frameworkStabilizers.push(r=>{const i=He.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Mi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:aF,useClass:kw,deps:[se,Rw,Np]},{provide:kw,useClass:kw,deps:[se,Rw,Np]}],dL=[{provide:eb,useValue:"root"},{provide:no,useFactory:function NJ(){return new no},deps:[]},{provide:Jp,useClass:AJ,multi:!0,deps:[we,se,tc]},{provide:Jp,useClass:RJ,multi:!0,deps:[we]},{provide:nm,useClass:nm,deps:[em,dd,id]},{provide:Uu,useExisting:nm},{provide:JF,useExisting:dd},{provide:dd,useClass:dd,deps:[we]},{provide:em,useClass:em,deps:[Jp,se]},{provide:class fJ{},useClass:bJ,deps:[]},[]];let hL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:id,useValue:t.appId},{provide:XF,useExisting:id},yJ]}}}return n.\u0275fac=function(t){return new(t||n)(I(cL,12))},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({providers:[...dL,...uL],imports:[cd,BX]}),n})(),fL=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(I(we))},n.\u0275prov=V({token:n,factory:function(t){let r=null;return r=t?new t:function BJ(){return new fL(I(we))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let uE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(t){let r=null;return r=t?new(t||n):I(gL),r},providedIn:"root"}),n})(),gL=(()=>{class n extends uE{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Le.NONE:return r;case Le.HTML:return wi(r,"HTML")?Dr(r):e1(this._doc,String(r)).toString();case Le.STYLE:return wi(r,"Style")?Dr(r):r;case Le.SCRIPT:if(wi(r,"Script"))return Dr(r);throw new Error("unsafe value used in a script context");case Le.URL:return wi(r,"URL")?Dr(r):Lu(String(r));case Le.RESOURCE_URL:if(wi(r,"ResourceURL"))return Dr(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function t8(n){return new YW(n)}(t)}bypassSecurityTrustStyle(t){return function n8(n){return new QW(n)}(t)}bypassSecurityTrustScript(t){return function r8(n){return new XW(n)}(t)}bypassSecurityTrustUrl(t){return function i8(n){return new ZW(n)}(t)}bypassSecurityTrustResourceUrl(t){return function o8(n){return new JW(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(I(we))},n.\u0275prov=V({token:n,factory:function(t){let r=null;return r=t?new t:function qJ(n){return new gL(n.get(we))}(I(At)),r},providedIn:"root"}),n})();function _L(n,e,t,r,i,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(l){_L(o,r,i,s,a,"next",l)}function a(l){_L(o,r,i,s,a,"throw",l)}s(void 0)})}}const yL=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,s||(h=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yL(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new QJ;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rm=function(n){return function(n){const e=yL(n);return hE.encodeByteArray(e,!0)}(n).replace(/\./g,"")},im=function(n){try{return hE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},om=()=>{try{return function JJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&im(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},bL=n=>{var e,t;return null===(t=null===(e=om())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},wL=n=>{const e=bL(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},EL=()=>{var n;return null===(n=om())||void 0===n?void 0:n.config},CL=n=>{var e;return null===(e=om())||void 0===e?void 0:e[`_${n}`]};class sm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function IL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rm(JSON.stringify({alg:"none",type:"JWT"})),rm(JSON.stringify(s)),""].join(".")}function en(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fE(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function sa(){try{return"object"==typeof indexedDB}catch{return!1}}function hd(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function pE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Mr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ki.prototype.create)}}class ki{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function aee(n,e){return n.replace(lee,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Mr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const lee=/\{\$([^}]+)}/g;function cee(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function lm(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(SL(o)&&SL(s)){if(!lm(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function SL(n){return null!==n&&"object"==typeof n}function cm(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function pd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class dee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function hee(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=mE),void 0===i.error&&(i.error=mE),void 0===i.complete&&(i.complete=mE);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mE(){}function _E(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function bt(n){return n&&n._delegate?n._delegate:n}class pn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const aa="[DEFAULT]";class yee{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new sm;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function bee(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===aa?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class wee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yee(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const yE=[];var Se=(()=>{return(n=Se||(Se={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Se;var n})();const AL={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},Eee=Se.INFO,Cee={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},Iee=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Cee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class rc{constructor(e){this.name=e,this._logLevel=Eee,this._logHandler=Iee,this._userLogHandler=null,yE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?AL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}let ML,xL;const kL=new WeakMap,vE=new WeakMap,RL=new WeakMap,bE=new WeakMap,wE=new WeakMap;let EE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return vE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||RL.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ts(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Ree(n){return"function"==typeof n?function kee(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function See(){return xL||(xL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(CE(this),e),ts(kL.get(this))}:function(...e){return ts(n.apply(CE(this),e))}:function(e,...t){const r=n.call(CE(this),e,...t);return RL.set(r,e.sort?e.sort():[e]),ts(r)}}(n):(n instanceof IDBTransaction&&function Mee(n){if(vE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});vE.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Dee(){return ML||(ML=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,EE):n)}function ts(n){if(n instanceof IDBRequest)return function Aee(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ts(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&kL.set(t,n)}).catch(()=>{}),wE.set(e,n),e}(n);if(bE.has(n))return bE.get(n);const e=Ree(n);return e!==n&&(bE.set(n,e),wE.set(e,n)),e}const CE=n=>wE.get(n),Oee=["get","getKey","getAll","getAllKeys","count"],Nee=["put","add","delete","clear"],IE=new Map;function PL(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(IE.get(e))return IE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Nee.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Oee.includes(t))return;const o=function(){var s=g(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return IE.set(e,o),o}!function xee(n){EE=n(EE)}(n=>({...n,get:(e,t,r)=>PL(e,t)||n.get(e,t,r),has:(e,t)=>!!PL(e,t)||n.has(e,t)}));class Fee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Lee(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const TE="@firebase/app",la=new rc("@firebase/app"),um="[DEFAULT]",cte={[TE]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ca=new Map,dm=new Map;function ute(n,e){try{n.container.addComponent(e)}catch(t){la.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rn(n){const e=n.name;if(dm.has(e))return la.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,n);for(const t of ca.values())ute(t,n);return!0}function ua(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const mo=new ki("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hte{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mo.create("app-deleted",{appName:this._name})}}const ns="9.23.0";function NL(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:um,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw mo.create("bad-app-name",{appName:String(i)});if(t||(t=EL()),!t)throw mo.create("no-options");const o=ca.get(i);if(o){if(lm(t,o.options)&&lm(r,o.config))return o;throw mo.create("duplicate-app",{appName:i})}const s=new wee(i);for(const l of dm.values())s.addComponent(l);const a=new hte(t,r,s);return ca.set(i,a),a}function hm(n=um){const e=ca.get(n);if(!e&&n===um&&EL())return NL();if(!e)throw mo.create("no-app",{appName:n});return e}function FL(){return Array.from(ca.values())}function at(n,e,t){var r;let i=null!==(r=cte[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void la.warn(a.join(" "))}Rn(new pn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const md="firebase-heartbeat-store";let HL,$L,SE=null;function LL(){return SE||(SE=function Pee(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=ts(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ts(s.result),l.oldVersion,l.newVersion,ts(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(md)}}).catch(n=>{throw mo.create("idb-open",{originalErrorMessage:n.message})})),SE}function AE(){return(AE=g(function*(n){try{return yield(yield LL()).transaction(md).objectStore(md).get(BL(n))}catch(e){if(e instanceof Mr)la.warn(e.message);else{const t=mo.create("idb-get",{originalErrorMessage:e?.message});la.warn(t.message)}}})).apply(this,arguments)}function VL(n,e){return ME.apply(this,arguments)}function ME(){return(ME=g(function*(n,e){try{const r=(yield LL()).transaction(md,"readwrite");yield r.objectStore(md).put(e,BL(n)),yield r.done}catch(t){if(t instanceof Mr)la.warn(t.message);else{const r=mo.create("idb-set",{originalErrorMessage:t?.message});la.warn(r.message)}}})).apply(this,arguments)}function BL(n){return`${n.name}!${n.options.appId}`}class yte{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bte(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=UL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=UL(),{heartbeatsToSend:r,unsentEntries:i}=function vte(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jL(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),jL(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=rm(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function UL(){return(new Date).toISOString().substring(0,10)}class bte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!sa()&&hd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function mte(n){return AE.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return VL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return VL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function jL(n){return rm(JSON.stringify({version:2,heartbeats:n})).length}!function wte(n){Rn(new pn("platform-logger",e=>new Fee(e),"PRIVATE")),Rn(new pn("heartbeat",e=>new yte(e),"PRIVATE")),at(TE,"0.9.13",n),at(TE,"0.9.13","esm2017"),at("fire-js","")}(""),at("firebase","9.23.0","app");const zL=new WeakMap,xE=new WeakMap,GL=new WeakMap,kE=new WeakMap,RE=new WeakMap;let PE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return xE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||GL.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function kte(n){return"function"==typeof n?function xte(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Dte(){return $L||($L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(OE(this),e),rs(zL.get(this))}:function(...e){return rs(n.apply(OE(this),e))}:function(e,...t){const r=n.call(OE(this),e,...t);return GL.set(r,e.sort?e.sort():[e]),rs(r)}}(n):(n instanceof IDBTransaction&&function Ate(n){if(xE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});xE.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Tte(){return HL||(HL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,PE):n)}function rs(n){if(n instanceof IDBRequest)return function Ste(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(rs(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&zL.set(t,n)}).catch(()=>{}),RE.set(e,n),e}(n);if(kE.has(n))return kE.get(n);const e=kte(n);return e!==n&&(kE.set(n,e),RE.set(e,n)),e}const OE=n=>RE.get(n),Pte=["get","getKey","getAll","getAllKeys","count"],Ote=["put","add","delete","clear"],NE=new Map;function qL(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(NE.get(e))return NE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Ote.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Pte.includes(t))return;const o=function(){var s=g(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return NE.set(e,o),o}!function Mte(n){PE=n(PE)}(n=>({...n,get:(e,t,r)=>qL(e,t)||n.get(e,t,r),has:(e,t)=>!!qL(e,t)||n.has(e,t)}));const WL="@firebase/installations",YL="w:0.6.4",QL="FIS_v2",go=new ki("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function XL(n){return n instanceof Mr&&n.code.includes("request-failed")}function LE({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function ZL(n){return{token:n.token,requestStatus:2,expiresIn:Ute(n.expiresIn),creationTime:Date.now()}}function VE(n,e){return BE.apply(this,arguments)}function BE(){return(BE=g(function*(n,e){const r=(yield e.json()).error;return go.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function JL({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function eV(n,{refreshToken:e}){const t=JL(n);return t.append("Authorization",function jte(n){return`${QL} ${n}`}(e)),t}function UE(n){return jE.apply(this,arguments)}function jE(){return(jE=g(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Ute(n){return Number(n.replace("s","000"))}function Hte(n,e){return HE.apply(this,arguments)}function HE(){return(HE=g(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=LE(n),i=JL(n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:QL,appId:n.appId,sdkVersion:YL})},l=yield UE(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:ZL(c.authToken)}}throw yield VE("Create Installation",l)})).apply(this,arguments)}function tV(n){return new Promise(e=>{setTimeout(e,n)})}const zte=/^[cdef][\w-]{21}$/;function Gte(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function qte(n){return function $te(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return zte.test(t)?t:""}catch{return""}}function ic(n){return`${n.appName}!${n.appId}`}const oc=new Map;function nV(n,e){const t=ic(n);rV(t,e),function Yte(n,e){const t=function iV(){return!da&&"BroadcastChannel"in self&&(da=new BroadcastChannel("[Firebase] FID Change"),da.onmessage=n=>{rV(n.data.key,n.data.fid)}),da}();t&&t.postMessage({key:n,fid:e}),function oV(){0===oc.size&&da&&(da.close(),da=null)}()}(t,e)}function rV(n,e){const t=oc.get(n);if(t)for(const r of t)r(e)}let da=null;const ha="firebase-installations-store";let zE=null;function GE(){return zE||(zE=function Rte(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=rs(s);return r&&s.addEventListener("upgradeneeded",l=>{r(rs(s.result),l.oldVersion,l.newVersion,rs(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ha)}})),zE}function fm(n,e){return qE.apply(this,arguments)}function qE(){return(qE=g(function*(n,e){const t=ic(n),i=(yield GE()).transaction(ha,"readwrite"),o=i.objectStore(ha),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&nV(n,e.fid),e})).apply(this,arguments)}function WE(n){return KE.apply(this,arguments)}function KE(){return(KE=g(function*(n){const e=ic(n),r=(yield GE()).transaction(ha,"readwrite");yield r.objectStore(ha).delete(e),yield r.done})).apply(this,arguments)}function gd(n,e){return YE.apply(this,arguments)}function YE(){return(YE=g(function*(n,e){const t=ic(n),i=(yield GE()).transaction(ha,"readwrite"),o=i.objectStore(ha),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&nV(n,a.fid),a})).apply(this,arguments)}function QE(n){return XE.apply(this,arguments)}function XE(){return(XE=g(function*(n){let e;const t=yield gd(n.appConfig,r=>{const i=Zte(r),o=Jte(n,i);return e=o.registrationPromise,o.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function Zte(n){return aV(n||{fid:Gte(),registrationStatus:0})}function Jte(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(go.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function ene(n,e){return ZE.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:tne(n)}:{installationEntry:e}}function ZE(){return(ZE=g(function*(n,e){try{const t=yield Hte(n,e);return fm(n.appConfig,t)}catch(t){throw XL(t)&&409===t.customData.serverCode?yield WE(n.appConfig):yield fm(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function tne(n){return JE.apply(this,arguments)}function JE(){return(JE=g(function*(n){let e=yield sV(n.appConfig);for(;1===e.registrationStatus;)yield tV(100),e=yield sV(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield QE(n);return r||t}return e})).apply(this,arguments)}function sV(n){return gd(n,e=>{if(!e)throw go.create("installation-not-found");return aV(e)})}function aV(n){return function nne(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function rne(n,e){return eC.apply(this,arguments)}function eC(){return(eC=g(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=ine(n,t),i=eV(n,t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:YL,appId:n.appId}})},l=yield UE(()=>fetch(r,a));if(l.ok)return ZL(yield l.json());throw yield VE("Generate Auth Token",l)})).apply(this,arguments)}function ine(n,{fid:e}){return`${LE(n)}/${e}/authTokens:generate`}function tC(n){return nC.apply(this,arguments)}function nC(){return(nC=g(function*(n,e=!1){let t;const r=yield gd(n.appConfig,o=>{if(!cV(o))throw go.create("not-registered");const s=o.authToken;if(!e&&ane(s))return o;if(1===s.requestStatus)return t=one(n,e),o;{if(!navigator.onLine)throw go.create("app-offline");const a=cne(o);return t=sne(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function one(n,e){return rC.apply(this,arguments)}function rC(){return(rC=g(function*(n,e){let t=yield lV(n.appConfig);for(;1===t.authToken.requestStatus;)yield tV(100),t=yield lV(n.appConfig);const r=t.authToken;return 0===r.requestStatus?tC(n,e):r})).apply(this,arguments)}function lV(n){return gd(n,e=>{if(!cV(e))throw go.create("not-registered");return function une(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function sne(n,e){return iC.apply(this,arguments)}function iC(){return(iC=g(function*(n,e){try{const t=yield rne(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield fm(n.appConfig,r),t}catch(t){if(!XL(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield fm(n.appConfig,r)}else yield WE(n.appConfig);throw t}})).apply(this,arguments)}function cV(n){return void 0!==n&&2===n.registrationStatus}function ane(n){return 2===n.requestStatus&&!function lne(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function cne(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function oC(){return(oC=g(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield QE(e);return r?r.catch(console.error):tC(e).catch(console.error),t.fid})).apply(this,arguments)}function sC(){return(sC=g(function*(n,e=!1){const t=n;return yield fne(t),(yield tC(t,e)).token})).apply(this,arguments)}function fne(n){return aC.apply(this,arguments)}function aC(){return(aC=g(function*(n){const{registrationPromise:e}=yield QE(n);e&&(yield e)})).apply(this,arguments)}function uC(n){return go.create("missing-app-config-values",{valueName:n})}const uV="installations",yne=n=>{const e=n.getProvider("app").getImmediate(),t=function gne(n){if(!n||!n.options)throw uC("App Configuration");if(!n.name)throw uC("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw uC(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:ua(e,"heartbeat"),_delete:()=>Promise.resolve()}},vne=n=>{const t=ua(n.getProvider("app").getImmediate(),uV).getImmediate();return{getId:()=>function dne(n){return oC.apply(this,arguments)}(t),getToken:i=>function hne(n){return sC.apply(this,arguments)}(t,i)}};(function bne(){Rn(new pn(uV,yne,"PUBLIC")),Rn(new pn("installations-internal",vne,"PRIVATE"))})(),at(WL,"0.6.4"),at(WL,"0.6.4","esm2017");const dC="@firebase/remote-config",fr=new ki("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class kne{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function Rne(n=navigator){return n.languages&&n.languages[0]||n.language}class Pne{constructor(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var t=this;return g(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Rne()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(s,c),d=new Promise((b,E)=>{e.signal.addEventListener(()=>{const y=new Error("The operation was aborted.");y.name="AbortError",E(y)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(b){let E="fetch-client-network";throw"AbortError"===b?.name&&(E="fetch-timeout"),fr.create(E,{originalErrorMessage:b?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,_;if(200===h.status){let b;try{b=yield h.json()}catch(E){throw fr.create("fetch-client-parse",{originalErrorMessage:E?.message})}m=b.entries,_=b.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(m={}),304!==f&&200!==f)throw fr.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class Fne{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return g(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return g(function*(){yield function One(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(fr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function Nne(n){if(!(n instanceof Mr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+_E(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class Bne{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mm(n,e){const t=n.target.error||void 0;return fr.create(e,{originalErrorMessage:t&&t?.message})}const fa="app_namespace_store";class $ne{constructor(e,t,r,i=function Hne(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(mm(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(fa,{keyPath:"compositeKey"})}}catch(t){e(fr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([fa],"readonly").objectStore(fa),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{o(mm(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){o(fr.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const l=i.transaction([fa],"readwrite").objectStore(fa),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{s(mm(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(fr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return g(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([fa],"readwrite").objectStore(fa),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{o(mm(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){o(fr.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class zne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function qne(){return gC.apply(this,arguments)}function gC(){return(gC=g(function*(){if(!sa())return!1;try{return yield hd()}catch{return!1}})).apply(this,arguments)}let pV,mV;!function Gne(){Rn(new pn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw fr.create("registration-window");if(!sa())throw fr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw fr.create("registration-project-id");if(!s)throw fr.create("registration-api-key");if(!a)throw fr.create("registration-app-id");const l=new $ne(a,r.name,t=t||"firebase"),c=new zne(l),u=new rc(dC);u.logLevel=Se.ERROR;const d=new Pne(i,ns,t,o,s,a),h=new Fne(d,l),f=new kne(h,l,c,u),p=new Bne(r,f,c,l,u);return function Ane(n){const e=bt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),at(dC,"0.4.4"),at(dC,"0.4.4","esm2017")}();const gV=new WeakMap,_C=new WeakMap,_V=new WeakMap,yC=new WeakMap,vC=new WeakMap;let bC={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return _C.get(n);if("objectStoreNames"===e)return n.objectStoreNames||_V.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _o(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function ere(n){return"function"==typeof n?function Jne(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Yne(){return mV||(mV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(wC(this),e),_o(gV.get(this))}:function(...e){return _o(n.apply(wC(this),e))}:function(e,...t){const r=n.call(wC(this),e,...t);return _V.set(r,e.sort?e.sort():[e]),_o(r)}}(n):(n instanceof IDBTransaction&&function Xne(n){if(_C.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});_C.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Kne(){return pV||(pV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,bC):n)}function _o(n){if(n instanceof IDBRequest)return function Qne(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(_o(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&gV.set(t,n)}).catch(()=>{}),vC.set(e,n),e}(n);if(yC.has(n))return yC.get(n);const e=ere(n);return e!==n&&(yC.set(n,e),vC.set(e,n)),e}const wC=n=>vC.get(n);function yV(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=_o(s);return r&&s.addEventListener("upgradeneeded",l=>{r(_o(s.result),l.oldVersion,l.newVersion,_o(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function EC(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),_o(t).then(()=>{})}const tre=["get","getKey","getAll","getAllKeys","count"],nre=["put","add","delete","clear"],CC=new Map;function vV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(CC.get(e))return CC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=nre.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!tre.includes(t))return;const o=function(){var s=g(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return CC.set(e,o),o}!function Zne(n){bC=n(bC)}(n=>({...n,get:(e,t,r)=>vV(e,t)||n.get(e,t,r),has:(e,t)=>!!vV(e,t)||n.has(e,t)}));const rre="/firebase-messaging-sw.js",ire="/firebase-cloud-messaging-push-scope",bV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wV="google.c.a.c_id",sre="google.c.a.c_l",are="google.c.a.ts",lre="google.c.a.e";var sc=(()=>{return(n=sc||(sc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",sc;var n})();function yo(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cre(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const IC="fcm_token_details_db",EV="fcm_token_object_Store";function dre(n){return TC.apply(this,arguments)}function TC(){return TC=g(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(IC))return null;let e=null;return(yield yV(IC,5,{upgrade:(r=g(function*(i,o,s,a){var l;if(o<2||!i.objectStoreNames.contains(EV))return;const c=a.objectStore(EV),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:yo(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:yo(d.auth),p256dh:yo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:yo(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:yo(d.auth),p256dh:yo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:yo(d.vapidKey)}}}}),function(o,s,a,l){return r.apply(this,arguments)})})).close(),yield EC(IC),yield EC("fcm_vapid_details_db"),yield EC("undefined"),hre(e)?e:null;var r}),TC.apply(this,arguments)}function hre(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const pa="firebase-messaging-store";let DC=null;function SC(){return DC||(DC=yV("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(pa)}})),DC}function CV(n){return AC.apply(this,arguments)}function AC(){return(AC=g(function*(n){const e=RC(n),r=yield(yield SC()).transaction(pa).objectStore(pa).get(e);if(r)return r;{const i=yield dre(n.appConfig.senderId);if(i)return yield MC(n,i),i}})).apply(this,arguments)}function MC(n,e){return xC.apply(this,arguments)}function xC(){return(xC=g(function*(n,e){const t=RC(n),i=(yield SC()).transaction(pa,"readwrite");return yield i.objectStore(pa).put(e,t),yield i.done,e})).apply(this,arguments)}function mre(n){return kC.apply(this,arguments)}function kC(){return(kC=g(function*(n){const e=RC(n),r=(yield SC()).transaction(pa,"readwrite");yield r.objectStore(pa).delete(e),yield r.done})).apply(this,arguments)}function RC({appConfig:n}){return n.appId}const mn=new ki("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _re(n,e){return PC.apply(this,arguments)}function PC(){return(PC=g(function*(n,e){const t=yield LC(n),r=TV(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(FC(n.appConfig),i)).json()}catch(s){throw mn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw mn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw mn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function yre(n,e){return OC.apply(this,arguments)}function OC(){return(OC=g(function*(n,e){const t=yield LC(n),r=TV(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${FC(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw mn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw mn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw mn.create("token-update-no-token");return o.token})).apply(this,arguments)}function IV(n,e){return NC.apply(this,arguments)}function NC(){return(NC=g(function*(n,e){const r={method:"DELETE",headers:yield LC(n)};try{const o=yield(yield fetch(`${FC(n.appConfig)}/${e}`,r)).json();if(o.error)throw mn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw mn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function FC({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function LC(n){return VC.apply(this,arguments)}function VC(){return(VC=g(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function TV({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==bV&&(i.web.applicationPubKey=r),i}function bre(n){return BC.apply(this,arguments)}function BC(){return(BC=g(function*(n){const e=yield Ere(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:yo(e.getKey("auth")),p256dh:yo(e.getKey("p256dh"))},r=yield CV(n.firebaseDependencies);if(r){if(Cre(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?wre(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield IV(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return SV(n.firebaseDependencies,t)}return SV(n.firebaseDependencies,t)})).apply(this,arguments)}function DV(n){return UC.apply(this,arguments)}function UC(){return(UC=g(function*(n){const e=yield CV(n.firebaseDependencies);e&&(yield IV(n.firebaseDependencies,e.token),yield mre(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function wre(n,e){return jC.apply(this,arguments)}function jC(){return(jC=g(function*(n,e){try{const t=yield yre(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield MC(n.firebaseDependencies,r),t}catch(t){throw yield DV(n),t}})).apply(this,arguments)}function SV(n,e){return HC.apply(this,arguments)}function HC(){return(HC=g(function*(n,e){const r={token:yield _re(n,e),createTime:Date.now(),subscriptionOptions:e};return yield MC(n,r),r.token})).apply(this,arguments)}function Ere(n,e){return $C.apply(this,arguments)}function $C(){return($C=g(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cre(e)})})).apply(this,arguments)}function Cre(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function AV(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Ire(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function Tre(n,e){!e.data||(n.data=e.data)}(e,n),function Dre(n,e){var t,r,i,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const l=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function Sre(n){return"object"==typeof n&&!!n&&wV in n}function MV(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function zC(n){return mn.create("missing-app-config-values",{valueName:n})}MV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),MV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mre{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Are(n){if(!n||!n.options)throw zC("App Configuration Object");if(!n.name)throw zC("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw zC(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function xV(n){return GC.apply(this,arguments)}function GC(){return(GC=g(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(rre,{scope:ire}),n.swRegistration.update().catch(()=>{})}catch(e){throw mn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function xre(n,e){return qC.apply(this,arguments)}function qC(){return(qC=g(function*(n,e){if(!e&&!n.swRegistration&&(yield xV(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function kre(n,e){return WC.apply(this,arguments)}function WC(){return(WC=g(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=bV)})).apply(this,arguments)}function KC(){return(KC=g(function*(n,e){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield kre(n,e?.vapidKey),yield xre(n,e?.serviceWorkerRegistration),bre(n)})).apply(this,arguments)}function Rre(n,e,t){return YC.apply(this,arguments)}function YC(){return(YC=g(function*(n,e,t){const r=Pre(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[wV],message_name:t[sre],message_time:t[are],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Pre(n){switch(n){case sc.NOTIFICATION_CLICKED:return"notification_open";case sc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function QC(){return(QC=g(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===sc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(AV(t)):n.onMessageHandler.next(AV(t)));const r=t.data;Sre(r)&&"1"===r[lre]&&(yield Rre(n,t.messageType,r))})).apply(this,arguments)}const RV="@firebase/messaging",Nre=n=>{const e=new Mre(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Ore(n,e){return QC.apply(this,arguments)}(e,t)),e},Fre=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function kV(n,e){return KC.apply(this,arguments)}(e,r)}};function OV(){return XC.apply(this,arguments)}function XC(){return(XC=g(function*(){try{yield hd()}catch{return!1}return typeof window<"u"&&sa()&&pE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Lre(){Rn(new pn("messaging",Nre,"PUBLIC")),Rn(new pn("messaging-internal",Fre,"PRIVATE")),at(RV,"0.12.4"),at(RV,"0.12.4","esm2017")}();const gm="analytics",Ure="firebase_id",$re="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",e0="https://www.googletagmanager.com/gtag/js",tn=new rc("@firebase/analytics"),Xn=new ki("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Gre(n){if(!n.startsWith(e0)){const e=Xn.create("invalid-gtag-resource",{gtagURL:n});return tn.warn(e.message),""}return n}function NV(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Wre(n,e){const t=function qre(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Gre}),r=document.createElement("script"),i=`${e0}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Yre(n,e,t,r,i,o){return t0.apply(this,arguments)}function t0(){return(t0=g(function*(n,e,t,r,i,o){const s=r[i];try{if(s)yield e[s];else{const l=(yield NV(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){tn.error(a)}n("config",i,o)})).apply(this,arguments)}function Qre(n,e,t,r,i){return n0.apply(this,arguments)}function n0(){return(n0=g(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield NV(t);for(const l of s){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){tn.error(o)}})).apply(this,arguments)}function Jre(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(e0)&&t.src.includes(n))return t;return null}const FV=new class nie{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function rie(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function iie(n){return r0.apply(this,arguments)}function r0(){return(r0=g(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:rie(r)},o=$re.replace("{app-id}",t),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const l=yield s.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function oie(n){return o0.apply(this,arguments)}function o0(){return(o0=g(function*(n,e=FV,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Xn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Xn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new lie;return setTimeout(g(function*(){a.abort()}),void 0!==t?t:6e4),LV({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function LV(n,e,t){return s0.apply(this,arguments)}function s0(){return(s0=g(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=FV){var o;const{appId:s,measurementId:a}=n;try{yield sie(r,e)}catch(l){if(a)return tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw l}try{const l=yield iie(n);return i.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!aie(c)){if(i.deleteThrottleMetadata(s),a)return tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw l}const u=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?_E(t,i.intervalMillis,30):_E(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(s,d),tn.debug(`Calling attemptFetch again in ${u} millis`),LV(n,d,r,i)}})).apply(this,arguments)}function sie(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function aie(n){if(!(n instanceof Mr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class lie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let a0,p0;function l0(){return(l0=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function VV(n){p0=n}function BV(n){a0=n}function mie(){return m0.apply(this,arguments)}function m0(){return(m0=g(function*(){if(!sa())return tn.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield hd()}catch(n){return tn.warn(Xn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function g0(){return(g0=g(function*(n,e,t,r,i,o,s){var a;const l=oie(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&tn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>tn.error(f)),e.push(l);const c=mie().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);Jre(o)||Wre(o,u.measurementId),p0&&(i("consent","default",p0),VV(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Ure]=d),i("config",u.measurementId,h),a0&&(i("set",a0),BV(void 0)),u.measurementId})).apply(this,arguments)}class _ie{constructor(e){this.app=e}_delete(){return delete Ri[this.app.options.appId],Promise.resolve()}}let Ri={},UV=[];const jV={};let $V,Pi,_m="dataLayer",_0=!1;function vie(n,e,t){!function yie(){const n=[];if(fE()&&n.push("This is a browser extension environment."),pE()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Xn.create("invalid-analytics-context",{errorInfo:e});tn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Xn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Xn.create("no-api-key");tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ri[r])throw Xn.create("already-exists",{id:r});if(!_0){!function Kre(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(_m);const{wrappedGtag:o,gtagCore:s}=function Zre(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Xre(n,e,t,r){function o(){return(o=g(function*(s,...a){try{if("event"===s){const[l,c]=a;yield Qre(n,e,t,l,c)}else if("config"===s){const[l,c]=a;yield Yre(n,e,t,r,l,c)}else if("consent"===s){const[l]=a;n("consent","update",l)}else if("get"===s){const[l,c,u]=a;n("get",l,c,u)}else if("set"===s){const[l]=a;n("set",l)}else n(s,...a)}catch(l){tn.error(l)}})).apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(Ri,UV,jV,_m,"gtag");Pi=o,$V=s,_0=!0}return Ri[r]=function gie(n,e,t,r,i,o,s){return g0.apply(this,arguments)}(n,UV,jV,e,$V,_m,t),new _ie(n)}function wie(){return y0.apply(this,arguments)}function y0(){return(y0=g(function*(){if(fE()||!pE()||!sa())return!1;try{return yield hd()}catch{return!1}})).apply(this,arguments)}const zV="@firebase/analytics";!function Cie(){Rn(new pn(gm,(e,{options:t})=>vie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Rn(new pn("analytics-internal",function n(e){try{const t=e.getProvider(gm).getImmediate();return{logEvent:(r,i,o)=>function Eie(n,e,t,r){n=bt(n),function cie(n,e,t,r,i){return l0.apply(this,arguments)}(Pi,Ri[n.app.options.appId],e,t,r).catch(i=>tn.error(i))}(t,r,i,o)}}catch(t){throw Xn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),at(zV,"0.10.0"),at(zV,"0.10.0","esm2017")}();class Iie extends mt{constructor(e,t){super()}schedule(e,t=0){return this}}const ym={setInterval(...n){const{delegate:e}=ym;return(e?.setInterval||setInterval)(...n)},clearInterval(n){const{delegate:e}=ym;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class vm extends Iie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return ym.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;ym.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,sl(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const qV={now:()=>(qV.delegate||Date).now(),delegate:void 0};class _d{constructor(e,t=_d.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}_d.now=qV.now;class bm extends _d{constructor(e,t=_d.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Sie=new class Die extends bm{}(class Tie extends vm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),wm=new bm(vm),WV=wm;function wt(n,e,t){const r=Re(n)||e||t?{next:n,error:e,complete:t}:n;return r?gt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(new Ze(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ho}const yd=new Yo("7.6.1"),b0="__angularfire_symbol__analyticsIsSupportedValue",w0="__angularfire_symbol__analyticsIsSupported",E0="__angularfire_symbol__remoteConfigIsSupportedValue",C0="__angularfire_symbol__remoteConfigIsSupported",I0="__angularfire_symbol__messagingIsSupportedValue",T0="__angularfire_symbol__messagingIsSupported";function Em(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[w0]||(globalThis[w0]=wie().then(n=>globalThis[b0]=n).catch(()=>globalThis[b0]=!1)),globalThis[T0]||(globalThis[T0]=OV().then(n=>globalThis[I0]=n).catch(()=>globalThis[I0]=!1)),globalThis[C0]||(globalThis[C0]=qne().then(n=>globalThis[E0]=n).catch(()=>globalThis[E0]=!1));const Cm=(n,e)=>{const t=e?[e]:FL(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function ac(){}class KV{constructor(e,t=Sie){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class Aie{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ac,{},ac,ac)),t.pipe(wt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Im=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new KV(Zone.current)),this.insideAngular=t.run(()=>new KV(Zone.current,wm)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(I(se))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ma(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Mie(n){return ma().ngZone.runOutsideAngular(()=>n())}function ga(n){return ma().ngZone.run(()=>n())}function xie(n){return ma(),function kie(n){return function(t){return(t=t.lift(new Aie(n.ngZone))).pipe(Mf(n.outsideAngular),Af(n.insideAngular))}}(ma())(n)}const Rie=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ga(()=>n.apply(void 0,r))},Zn=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=ga(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ac,{},ac,ac)))),r[o]=Rie(r[o],t));const i=Mie(()=>n.apply(this,r));if(!e){if(i instanceof Ve){const o=ma();return i.pipe(Mf(o.outsideAngular),Af(o.insideAngular))}return ga(()=>i)}return i instanceof Ve?i.pipe(xie):i instanceof Promise?ga(()=>new Promise((o,s)=>i.then(a=>ga(()=>o(a)),a=>ga(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:ga(()=>i)};class _a{constructor(e){return e}}class Tm{constructor(){return FL()}}const S0=new R("angularfire2._apps"),Oie={provide:_a,useFactory:function Pie(n){return n&&1===n.length?n[0]:new _a(hm())},deps:[[new _t,S0]]},Nie={provide:Tm,deps:[[new _t,S0]]};function Fie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new _a(r)}}let Lie=(()=>{class n{constructor(t){at("angularfire",yd.full,"core"),at("angularfire",yd.full,"app"),at("angular",m1.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(I(tc))},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({providers:[Oie,Nie]}),n})();function Vie(n,...e){return{ngModule:Lie,providers:[{provide:S0,useFactory:Fie(n),multi:!0,deps:[se,At,Im,...e]}]}}const Bie=Zn(NL,!0),A0=new Map,YV={activated:!1,tokenObservers:[]},Uie={initialized:!1,enabled:!1};function xt(n){return A0.get(n)||Object.assign({},YV)}function Dm(){return Uie}class qie{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return g(function*(){t.stop();try{t.pending=new sm,yield function Wie(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new sm,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const gn=new ki("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function x0(n){if(!xt(n).activated)throw gn.create("use-before-activation",{appName:n.name})}function Mm(n,e){return R0.apply(this,arguments)}function R0(){return(R0=g(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(n,o)}catch(d){throw gn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw gn.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw gn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw gn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function XV(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const vd="firebase-app-check-store";let xm=null;function JV(){return xm||(xm=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(gn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(vd,{keyPath:"compositeKey"})}}catch(t){e(gn.create("storage-open",{originalErrorMessage:t?.message}))}}),xm)}function P0(){return(P0=g(function*(n,e){const r=(yield JV()).transaction(vd,"readwrite"),o=r.objectStore(vd).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(gn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const bd=new rc("@firebase/app-check");function F0(n,e){return sa()?function eoe(n,e){return function e2(n,e){return P0.apply(this,arguments)}(function n2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{bd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function V0(){return Dm().enabled}function B0(){return U0.apply(this,arguments)}function U0(){return(U0=g(function*(){const n=Dm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const soe={error:"UNKNOWN_ERROR"};function aoe(n){return hE.encodeString(JSON.stringify(n),!1)}function km(n){return j0.apply(this,arguments)}function j0(){return(j0=g(function*(n,e=!1){const t=n.app;x0(t);const r=xt(t);let o,i=r.token;if(i&&!lc(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(lc(l)?i=l:yield F0(t,void 0))}if(!e&&i&&lc(i))return{token:i.token};let a,s=!1;if(V0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Mm(XV(t,yield B0()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const l=yield r.exchangeTokenPromise;return yield F0(t,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield xt(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?bd.warn(l.message):bd.error(l),o=l}return i?o?a=lc(i)?{token:i.token,internalError:o}:a2(o):(a={token:i.token},r.token=i,yield F0(t,i)):a=a2(o),s&&s2(t,a),a})).apply(this,arguments)}function H0(){return(H0=g(function*(n){const e=n.app;x0(e);const{provider:t}=xt(e);if(V0()){const r=yield B0(),{token:i}=yield Mm(XV(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function z0(n,e){const t=xt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function o2(n){const{app:e}=n,t=xt(e);let r=t.tokenRefresher;r||(r=function loe(n){const{app:e}=n;return new qie(g(function*(){let r;if(r=xt(e).token?yield km(n,!0):yield km(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=xt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function s2(n,e){const t=xt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function lc(n){return n.expireTimeMillis-Date.now()>0}function a2(n){return{token:aoe(soe),error:n}}class coe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=xt(this.app);for(const t of e)z0(this.app,t.next);return Promise.resolve()}}const m2="app-check-internal";!function Coe(){Rn(new pn("app-check",n=>function uoe(n,e){return new coe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(m2).initialize()})),Rn(new pn(m2,n=>function doe(n){return{getToken:e=>km(n,e),getLimitedUseToken:()=>function r2(n){return H0.apply(this,arguments)}(n),addTokenListener:e=>function $0(n,e,t,r){const{app:i}=n,o=xt(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&lc(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),o2(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>o2(n))}(n,"INTERNAL",e),removeTokenListener:e=>z0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),at("@firebase/app-check","0.8.0")}();class Pm{constructor(){return Cm("app-check")}}function y2(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}typeof window<"u"&&window;const koe=function w2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},E2=new ki("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nm=new rc("@firebase/auth");function Fm(n,...e){Nm.logLevel<=Se.ERROR&&Nm.error(`Auth (${ns}): ${n}`,...e)}function pr(n,...e){throw Q0(n,...e)}function Oi(n,...e){return Q0(n,...e)}function C2(n,e,t){const r=Object.assign(Object.assign({},koe()),{[e]:t});return new ki("auth","Firebase",r).create(e,{appName:n.name})}function Q0(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return E2.create(n,...e)}function O(n,e,...t){if(!n)throw Q0(e,...t)}function Ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fm(e),new Error(e)}function is(n,e){n||Ni(e)}function wd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function I2(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Ed{constructor(e,t){this.shortDelay=e,this.longDelay=t,is(t>e,"Short delay should be less than long delay!"),this.isMobile=function ree(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}()||function iee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Poe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function X0(){return"http:"===I2()||"https:"===I2()}()||fE()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Z0(n,e){is(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class T2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Noe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Foe=new Ed(3e4,6e4);function Et(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function kt(n,e,t,r){return J0.apply(this,arguments)}function J0(){return(J0=g(function*(n,e,t,r,i={}){return D2(n,i,g(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=cm(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),T2.fetch()(S2(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function D2(n,e,t){return eI.apply(this,arguments)}function eI(){return(eI=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Noe),e);try{const i=new Loe(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Cd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Cd(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw Cd(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw Cd(n,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw C2(n,u,c);pr(n,u)}}catch(i){if(i instanceof Mr)throw i;pr(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function vo(n,e,t,r){return tI.apply(this,arguments)}function tI(){return(tI=g(function*(n,e,t,r,i={}){const o=yield kt(n,e,t,r,i);return"mfaPendingCredential"in o&&pr(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function S2(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Z0(n.config,i):`${n.config.apiScheme}://${i}`}class Loe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),Foe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Oi(n,e,r);return i.customData._tokenResponse=t,i}function nI(){return(nI=g(function*(n,e){return kt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Uoe(n,e){return iI.apply(this,arguments)}function iI(){return(iI=g(function*(n,e){return kt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Id(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function oI(){return(oI=g(function*(n,e=!1){const t=bt(n),r=yield t.getIdToken(e),i=Lm(r);O(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Id(sI(i.auth_time)),issuedAtTime:Id(sI(i.iat)),expirationTime:Id(sI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function sI(n){return 1e3*Number(n)}function Lm(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Fm("JWT malformed, contained fewer than 3 sections"),null;try{const i=im(t);return i?JSON.parse(i):(Fm("Failed to decode base64 JWT payload"),null)}catch(i){return Fm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function bo(n,e){return aI.apply(this,arguments)}function aI(){return(aI=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Mr&&$oe(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function $oe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class zoe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class A2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Id(this.lastLoginAt),this.creationTime=Id(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Td(n){return lI.apply(this,arguments)}function lI(){return(lI=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield bo(n,Uoe(t,{idToken:r}));O(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?Woe(o.providerUserInfo):[],a=qoe(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new A2(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function cI(){return(cI=g(function*(n){const e=bt(n);yield Td(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function qoe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Woe(n){return n.map(e=>{var{providerId:t}=e,r=y2(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function uI(){return(uI=g(function*(n,e){const t=yield D2(n,{},g(function*(){const r=cm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=S2(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",T2.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Dd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Hoe(n){const e=Lm(n);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return O(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Koe(n,e){return uI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Dd;return r&&(O("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(O("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(O("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dd,this.toJSON())}_performRefresh(){return Ni("not implemented")}}function os(n,e){O("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ya{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=y2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zoe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new A2(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield bo(t,t.stsTokenManager.getToken(t.auth,e));return O(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function joe(n){return oI.apply(this,arguments)}(this,e)}reload(){return function Goe(n){return cI.apply(this,arguments)}(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ya(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Td(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield bo(e,function Voe(n,e){return nI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,b=null!==(c=t.createdAt)&&void 0!==c?c:void 0,E=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:T,isAnonymous:L,providerData:j,stsTokenManager:le}=t;O(y&&le,e,"internal-error");const Ke=Dd.fromJSON(this.name,le);O("string"==typeof y,e,"internal-error"),os(d,e.name),os(h,e.name),O("boolean"==typeof T,e,"internal-error"),O("boolean"==typeof L,e,"internal-error"),os(f,e.name),os(p,e.name),os(m,e.name),os(_,e.name),os(b,e.name),os(E,e.name);const pt=new ya({uid:y,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Ke,createdAt:b,lastLoginAt:E});return j&&Array.isArray(j)&&(pt.providerData=j.map(sr=>Object.assign({},sr))),_&&(pt._redirectEventId=_),pt}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new Dd;i.updateFromServerResponse(t);const o=new ya({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Td(o),o})()}}const M2=new Map;function wo(n){is(n instanceof Function,"Expected a class definition");let e=M2.get(n);return e?(is(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,M2.set(n,e),e)}const x2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Vm(n,e,t){return`firebase:${n}:${e}:${t}`}class uc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Vm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Vm("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ya._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new uc(wo(x2),e,r);const i=(yield Promise.all(t.map(function(){var c=g(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||wo(x2);const s=Vm(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(s);if(u){const d=ya._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return c.apply(this,arguments)}}())),new uc(o,e,r)):new uc(o,e,r)})()}}function k2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F2(e))return"Blackberry";if(L2(e))return"Webos";if(dI(e))return"Safari";if((e.includes("chrome/")||P2(e))&&!e.includes("edge/"))return"Chrome";if(N2(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function R2(n=en()){return/firefox\//i.test(n)}function dI(n=en()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P2(n=en()){return/crios\//i.test(n)}function O2(n=en()){return/iemobile/i.test(n)}function N2(n=en()){return/android/i.test(n)}function F2(n=en()){return/blackberry/i.test(n)}function L2(n=en()){return/webos/i.test(n)}function Bm(n=en()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function V2(n=en()){return Bm(n)||N2(n)||L2(n)||F2(n)||/windows phone/i.test(n)||O2(n)}function B2(n,e=[]){let t;switch(n){case"Browser":t=k2(en());break;case"Worker":t=`${k2(en())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ns}/${r}`}function U2(n,e){return fI.apply(this,arguments)}function fI(){return(fI=g(function*(n,e){return kt(n,"GET","/v2/recaptchaConfig",Et(n,e))})).apply(this,arguments)}function H2(n){return void 0!==n&&void 0!==n.enterprise}class $2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function pI(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Oi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function Joe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function z2(n){return`__${n}${Math.floor(1e6*Math.random())}`}class G2{constructor(e){this.type="recaptcha-enterprise",this.auth=nn(e)}verify(e="verify",t=!1){var r=this;return g(function*(){function o(){return o=g(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=g(function*(c,u){U2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new $2(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,l,c){const u=window.grecaptcha;H2(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!t&&H2(window.grecaptcha))s(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));pI("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function ss(n,e,t){return mI.apply(this,arguments)}function mI(){return(mI=g(function*(n,e,t,r=!1){const i=new G2(n);let o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class rse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class ise{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q2(this),this.idTokenSubscription=new q2(this),this.beforeStateQueue=new rse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=wo(t)),this._initializationPromise=this.queue(g(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield uc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return O(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield Td(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ooe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){const r=e?bt(e):null;return r&&O(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&O(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(g(function*(){yield t.assertedPersistence.setPersistence(wo(e))}))}initializeRecaptchaConfig(){var e=this;return g(function*(){const t=yield U2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new $2(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new G2(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ki("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&wo(e)||t._popupRedirectResolver;O(r,t,"argument-error"),t.redirectPersistenceManager=yield uc.create(t,[wo(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return O(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return g(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Roe(n,...e){Nm.logLevel<=Se.WARN&&Nm.warn(`Auth (${ns}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function nn(n){return bt(n)}class q2{constructor(e){this.auth=e,this.observer=null,this.addObserver=function uee(n,e){const t=new dee(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function W2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function K2(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Y2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}function _I(){return(_I=g(function*(n,e){return kt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function vI(n,e){return bI.apply(this,arguments)}function bI(){return(bI=g(function*(n,e){return vo(n,"POST","/v1/accounts:signInWithPassword",Et(n,e))})).apply(this,arguments)}function AI(){return(AI=g(function*(n,e){return vo(n,"POST","/v1/accounts:signInWithEmailLink",Et(n,e))})).apply(this,arguments)}function MI(){return(MI=g(function*(n,e){return vo(n,"POST","/v1/accounts:signInWithEmailLink",Et(n,e))})).apply(this,arguments)}class Sd extends Y2{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Sd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Sd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return g(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield ss(e,i,"signInWithPassword");return vI(e,o)}return vI(e,i).catch(function(){var o=g(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield ss(e,i,"signInWithPassword");return vI(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function fse(n,e){return AI.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:pr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return g(function*(){switch(r.signInMethod){case"password":return function X2(n,e){return _I.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function pse(n,e){return MI.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:pr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Eo(n,e){return xI.apply(this,arguments)}function xI(){return(xI=g(function*(n,e){return vo(n,"POST","/v1/accounts:signInWithIdp",Et(n,e))})).apply(this,arguments)}class xd{constructor(e){var t,r,i,o,s,a;const l=fd(pd(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function wse(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);O(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Ese(n){const e=fd(pd(n)).link,t=e?fd(pd(e)).deep_link_id:null,r=fd(pd(n)).deep_link_id;return(r?fd(pd(r)).link:null)||r||t||e||n}(e);try{return new xd(t)}catch{return null}}}let Z2=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Sd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=xd.parseLink(r);return O(i,"argument-error"),Sd._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class as{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Cse extends as{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Hm(n,e){return FI.apply(this,arguments)}function FI(){return(FI=g(function*(n,e){return vo(n,"POST","/v1/accounts:signUp",Et(n,e))})).apply(this,arguments)}class zr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const o=yield ya._fromIdTokenResponse(e,r,i),s=J2(r);return new zr({user:o,providerId:s,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=J2(r);return new zr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function J2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class $m extends Mr{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$m.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new $m(e,t,r,i)}}function eB(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?$m._fromErrorAndOperation(n,o,e,r):o})}function BI(n,e){return UI.apply(this,arguments)}function UI(){return(UI=g(function*(n,e,t=!1){const r=yield bo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return zr._forOperation(n,"link",r)})).apply(this,arguments)}function HI(){return(HI=g(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const o=yield bo(n,eB(r,i,e,n),t);O(o.idToken,r,"internal-error");const s=Lm(o.idToken);O(s,r,"internal-error");const{sub:a}=s;return O(n.uid===a,r,"user-mismatch"),zr._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&pr(r,"user-mismatch"),o}})).apply(this,arguments)}function rB(n,e){return $I.apply(this,arguments)}function $I(){return($I=g(function*(n,e,t=!1){const r="signIn",i=yield eB(n,r,e),o=yield zr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function GI(){return(GI=g(function*(n,e){return rB(nn(n),e)})).apply(this,arguments)}function xse(n,e,t){return iT.apply(this,arguments)}function iT(){return iT=g(function*(n,e,t){var r;const i=nn(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield ss(i,o,"signUpPassword");s=Hm(i,c)}else s=Hm(i,o).catch(function(){var c=g(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield ss(i,o,"signUpPassword");return Hm(i,d)}return Promise.reject(u)});return function(u){return c.apply(this,arguments)}}());const a=yield s.catch(c=>Promise.reject(c)),l=yield zr._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l}),iT.apply(this,arguments)}function kse(n,e,t){return function zI(n,e){return GI.apply(this,arguments)}(bt(n),Z2.credential(e,t))}function Pse(n,e){return dT.apply(this,arguments)}function dT(){return(dT=g(function*(n,e){return kt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Ose(n,e){return hT.apply(this,arguments)}function hT(){return(hT=g(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=bt(n),o={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},s=yield bo(r,Pse(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>"password"===l);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(s)})).apply(this,arguments)}const Gm="__sak";class oB{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gm,"1"),this.storage.removeItem(Gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qse=(()=>{class n extends oB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wse(){const n=en();return dI(n)||Bm(n)}()&&function Xoe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=V2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function Qoe(){return function oee(){const n=en();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return g(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),sB=(()=>{class n extends oB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Zse=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,l=r.handlersMap[s];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(l).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Xse(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function vT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Jse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=vT("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function $t(){return window}function bT(){return typeof $t().WorkerGlobalScope<"u"&&"function"==typeof $t().importScripts}function wT(){return(wT=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const aB="firebaseLocalStorageDb",qm="firebaseLocalStorage",lB="fbase_key";class Rd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wm(n,e){return n.transaction([qm],e?"readwrite":"readonly").objectStore(qm)}function ET(){const n=indexedDB.open(aB,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(qm,{keyPath:lB})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(qm)?e(r):(r.close(),yield function oae(){const n=indexedDB.deleteDatabase(aB);return new Rd(n).toPromise()}(),e(yield ET()))}))})}function cB(n,e,t){return CT.apply(this,arguments)}function CT(){return(CT=g(function*(n,e,t){const r=Wm(n,!0).put({[lB]:e,value:t});return new Rd(r).toPromise()})).apply(this,arguments)}function IT(){return(IT=g(function*(n,e){const t=Wm(n,!1).get(e),r=yield new Rd(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function uB(n,e){const t=Wm(n,!0).delete(e);return new Rd(t).toPromise()}const cae=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield ET()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return bT()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=Zse._getInstance(function rae(){return bT()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function tae(){return wT.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Jse(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);!o||(null===(r=o[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=o[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function nae(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield ET();return yield cB(t,Gm,"1"),yield uB(t,Gm),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(o=>cB(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(o=>function sae(n,e){return IT.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>uB(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(s=>{const a=Wm(s,!1).getAll();return new Rd(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function ba(n,e){return e?wo(e):(O(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}z2("rcb"),new Ed(3e4,6e4);class PT extends Y2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Eo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Tae(n){return rB(n.auth,new PT(n),n.bypassAuthState)}function Dae(n){const{auth:e,user:t}=n;return O(t,e,"internal-error"),function nB(n,e){return HI.apply(this,arguments)}(t,new PT(n),n.bypassAuthState)}function Sae(n){return OT.apply(this,arguments)}function OT(){return(OT=g(function*(n){const{auth:e,user:t}=n;return O(t,e,"internal-error"),BI(t,new PT(n),n.bypassAuthState)})).apply(this,arguments)}new Ed(2e3,1e4);const Pd=new Map;class xae extends class Aae{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tae;case"linkViaPopup":case"linkViaRedirect":return Sae;case"reauthViaPopup":case"reauthViaRedirect":return Dae;default:pr(this.auth,"internal-error")}}resolve(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=Pd.get(t.auth._key());if(!r){try{const o=(yield function kae(n,e){return BT.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Pd.set(t.auth._key(),r)}return t.bypassAuthState||Pd.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function BT(){return(BT=g(function*(n,e){const t=fB(e),r=hB(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Rae(n,e){Pd.set(n._key(),e)}function hB(n){return wo(n._redirectPersistence)}function fB(n){return Vm("pendingRedirect",n.config.apiKey,n.name)}function pB(n,e){return qT.apply(this,arguments)}function qT(){return(qT=g(function*(n,e,t=!1){const r=nn(n),i=ba(r,e),s=yield new xae(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class Lae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Vae(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _B(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!_B(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Oi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gB(e))}saveEventToCache(e){this.cachedEventUids.add(gB(e)),this.lastProcessedEventTime=Date.now()}}function gB(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _B({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function Bae(n){return KT.apply(this,arguments)}function KT(){return(KT=g(function*(n,e={}){return kt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Uae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jae=/^https?/;function YT(){return(YT=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Bae(n);for(const t of e)try{if($ae(t))return}catch{}pr(n,"unauthorized-domain")})).apply(this,arguments)}function $ae(n){const e=wd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!jae.test(t))return!1;if(Uae.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zae=new Ed(3e4,6e4);function yB(){const n=$t().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Ym=null;function qae(n){return Ym=Ym||function Gae(n){return new Promise((e,t)=>{var r,i,o;function s(){yB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yB(),t(Oi(n,"network-request-failed"))},timeout:zae.get()})}if(null!==(i=null===(r=$t().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=$t().gapi)||void 0===o||!o.load){const a=z2("iframefcb");return $t()[a]=()=>{gapi.load?s():t(Oi(n,"network-request-failed"))},pI(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}s()}}).catch(e=>{throw Ym=null,e})}(n),Ym}const Wae=new Ed(5e3,15e3),Qae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zae(n){const e=n.config;O(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Z0(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:ns},i=Xae.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${cm(r).slice(1)}`}function QT(){return QT=g(function*(n){const e=yield qae(n),t=$t().gapi;return O(t,n,"internal-error"),e.open({where:document.body,url:Zae(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qae,dontclear:!0},r=>new Promise(function(){var i=g(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Oi(n,"network-request-failed"),l=$t().setTimeout(()=>{s(a)},Wae.get());function c(){$t().clearTimeout(l),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),QT.apply(this,arguments)}const ele={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const cle=encodeURIComponent("fac");function bB(n,e,t,r,i,o){return XT.apply(this,arguments)}function XT(){return(XT=g(function*(n,e,t,r,i,o){O(n.config.authDomain,n,"auth-domain-config-required"),O(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ns,eventId:i};if(e instanceof as){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",cee(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Cse){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${cle}=${encodeURIComponent(l)}`:"";return`${ule(n)}?${cm(a).slice(1)}${c}`})).apply(this,arguments)}function ule({config:n}){return n.emulator?Z0(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const ZT="webStorageSupport",hle=class dle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sB,this._completeRedirectFn=pB,this._overrideRedirectResult=Rae}_openPopup(e,t,r,i){var o=this;return g(function*(){var s;is(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield bB(e,t,r,wd(),i);return function ole(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ele),{width:r.toString(),height:i.toString(),top:o,left:s}),c=en().toLowerCase();t&&(a=P2(c)?"_blank":t),R2(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Yoe(n=en()){var e;return Bm(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function sle(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new vB(null);const d=window.open(e||"",a,u);O(d,n,"popup-blocked");try{d.focus()}catch{}return new vB(d)}(e,a,vT())})()}_openRedirect(e,t,r,i){var o=this;return g(function*(){return yield o._originValidation(e),function eae(n){$t().location.href=n}(yield bB(e,t,r,wd(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(is(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function Jae(n){return QT.apply(this,arguments)}(e),i=new Lae(e);return r.register("authEvent",o=>(O(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ZT,{type:ZT},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[ZT];void 0!==s&&t(!!s),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Hae(n){return YT.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return V2()||dI()||Bm()}};var CB="@firebase/auth";class fle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _le=CL("authIdTokenMaxAge")||300;let TB=null;const yle=n=>function(){var e=g(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>_le)return;const o=r?.token;TB!==o&&(TB=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function vle(n=hm()){const e=ua(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function ose(n,e){const t=ua(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(lm(t.getOptions(),e??{}))return i;pr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:hle,persistence:[cae,Qse,sB]}),r=CL("authTokenSyncURL");if(r){const o=yle(r);(function jse(n,e,t){bt(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function Use(n,e,t,r){bt(n).onIdTokenChanged(e,t,r)}(t,s=>o(s))}const i=bL("auth");return i&&function ase(n,e,t){const r=nn(n);O(r._canInitEmulator,r,"emulator-config-failed"),O(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=W2(e),{host:s,port:a}=function lse(n){const e=W2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:K2(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:K2(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function cse(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function ble(n){return new Ve(function(e){var t=function Hse(n,e,t,r){return bt(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function mle(n){Rn(new pn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;O(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B2(n)},c=new ise(r,i,o,l);return function sse(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(wo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Rn(new pn("auth-internal",e=>{const t=nn(e.getProvider("auth").getImmediate());return new fle(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),at(CB,"0.23.2",function ple(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),at(CB,"0.23.2","esm2017")}("Browser");class Xm{constructor(e){return e}}class eD{constructor(){return Cm("auth")}}const tD=new R("angularfire2.auth-instances");function Cle(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Xm(r)}}const Ile={provide:eD,deps:[[new _t,tD]]},Tle={provide:Xm,useFactory:function Ele(n,e){const t=Em("auth",n,e);return t&&new Xm(t)},deps:[[new _t,tD],_a]};let Dle=(()=>{class n{constructor(){at("angularfire",yd.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({providers:[Tle,Ile]}),n})();function Sle(n,...e){return{ngModule:Dle,providers:[{provide:tD,useFactory:Cle(n),multi:!0,deps:[se,At,Im,Tm,[new _t,Pm],...e]}]}}const Ale=Zn(ble,!0),Mle=Zn(xse,!0),xle=Zn(vle,!0),kle=Zn(kse,!0),Rle=Zn(Ose,!0);function W(...n){return je(n,vu(n))}let Zm=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=Ale(this.auth)}addUser(t){throw new Error("Method not implemented.")}updateUser(t){throw new Error("Method not implemented.")}signUp(t,r){return je(Mle(this.auth,t,r))}login(t,r){return je(kle(this.auth,t,r))}updateProfileData(t){const r=this.auth.currentUser;return r?je(Rle(r,t)):W()}logout(){return je(this.auth.signOut())}}return n.\u0275fac=function(t){return new(t||n)(I(Xm))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Gr extends ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Ple}=Array,{getPrototypeOf:Ole,prototype:Nle,keys:Fle}=Object;function SB(n){if(1===n.length){const e=n[0];if(Ple(e))return{args:e,keys:null};if(function Lle(n){return n&&"object"==typeof n&&Ole(n)===Nle}(e)){const t=Fle(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Vle}=Array;function nD(n){return re(e=>function Ble(n,e){return Vle(e)?n(...e):n(e)}(n,e))}function AB(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function rD(...n){const e=vu(n),t=Bk(n),{args:r,keys:i}=SB(n);if(0===r.length)return je([],e);const o=new Ve(function Ule(n,e,t=Ho){return r=>{MB(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)MB(e,()=>{const c=je(n[l],e);let u=!1;c.subscribe(new Ze(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>AB(i,s):Ho));return t?o.pipe(nD(t)):o}function MB(n,e,t){n?Qi(t,n,e):e()}function Od(...n){return function jle(){return ll(1)}()(je(n,vu(n)))}function iD(n){return new Ve(e=>{jn(n()).subscribe(e)})}function hc(n,e){const t=Re(n)?n:()=>n,r=i=>i.error(t());return new Ve(e?i=>e.schedule(r,0,i):r)}const fc=yu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function oD(){return gt((n,e)=>{let t=null;n._refCount++;const r=new Ze(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class xB extends Ve{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Tk(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mt;const t=this.getSubject();e.add(this.source.subscribe(new Ze(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mt.EMPTY)}return e}refCount(){return oD()(this)}}function Pn(n,e){return gt((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(new Ze(r,l=>{i?.unsubscribe();let c=0;const u=o++;jn(n(l,u)).subscribe(i=new Ze(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ls(...n){const e=vu(n);return gt((t,r)=>{(e?Od(n,t,e):Od(n,t)).subscribe(r)})}function _n(n,e){return gt((t,r)=>{let i=0;t.subscribe(new Ze(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Jm(n){return gt((e,t)=>{let r=!1;e.subscribe(new Ze(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function kB(n=Hle){return gt((e,t)=>{let r=!1;e.subscribe(new Ze(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Hle(){return new fc}function cs(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_n((i,o)=>n(i,o,r)):Ho,Hn(1),t?Jm(e):kB(()=>new fc))}function us(n,e){return Re(e)?Ot(n,e,1):Ot(n,1)}function Co(n){return gt((e,t)=>{let o,r=null,i=!1;r=e.subscribe(new Ze(t,void 0,void 0,s=>{o=jn(n(s,Co(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function $le(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(new Ze(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function RB(n,e){return gt($le(n,e,arguments.length>=2,!0))}function sD(n){return n<=0?()=>Xr:gt((e,t)=>{let r=[];e.subscribe(new Ze(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function PB(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_n((i,o)=>n(i,o,r)):Ho,sD(1),t?Jm(e):kB(()=>new fc))}function OB(n){return re(()=>n)}function eg(n){return gt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ge="primary";class Gle{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function pc(n){return new Gle(n)}function qle(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Fi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!NB(n[i],e[i]))return!1;return!0}function NB(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function FB(n){return Array.prototype.concat.apply([],n)}function LB(n){return n.length>0?n[n.length-1]:null}function yn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Io(n){return rw(n)?n:Yu(n)?je(Promise.resolve(n)):W(n)}const Yle={exact:function UB(n,e,t){if(!Ea(n.segments,e.segments)||!tg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!UB(n.children[r],e.children[r],t))return!1;return!0},subset:jB},VB={exact:function Qle(n,e){return Fi(n,e)},subset:function Xle(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>NB(n[t],e[t]))},ignored:()=>!0};function BB(n,e,t){return Yle[t.paths](n.root,e.root,t.matrixParams)&&VB[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function jB(n,e,t){return HB(n,e,e.segments,t)}function HB(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ea(i,t)||e.hasChildren()||!tg(i,t,r))}if(n.segments.length===t.length){if(!Ea(n.segments,t)||!tg(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!jB(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Ea(n.segments,i)&&tg(n.segments,i,r)&&n.children[ge])&&HB(n.children[ge],e,o,r)}}function tg(n,e,t){return e.every((r,i)=>VB[t](n[i].parameters,r.parameters))}class wa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pc(this.queryParams)),this._queryParamMap}toString(){return ece.serialize(this)}}class ye{constructor(e,t){this.segments=e,this.children=t,this.parent=null,yn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ng(this)}}class Nd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=pc(this.parameters)),this._parameterMap}toString(){return WB(this)}}function Ea(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class $B{}class zB{parse(e){const t=new cce(e);return new wa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Fd(e.root,!0)}`,r=function rce(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${rg(t)}=${rg(i)}`).join("&"):`${rg(t)}=${rg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function tce(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ece=new zB;function ng(n){return n.segments.map(e=>WB(e)).join("/")}function Fd(n,e){if(!n.hasChildren())return ng(n);if(e){const t=n.children[ge]?Fd(n.children[ge],!1):"",r=[];return yn(n.children,(i,o)=>{o!==ge&&r.push(`${o}:${Fd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Jle(n,e){let t=[];return yn(n.children,(r,i)=>{i===ge&&(t=t.concat(e(r,i)))}),yn(n.children,(r,i)=>{i!==ge&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ge?[Fd(n.children[ge],!1)]:[`${i}:${Fd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ge]?`${ng(n)}/${t[0]}`:`${ng(n)}/(${t.join("//")})`}}function GB(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rg(n){return GB(n).replace(/%3B/gi,";")}function lD(n){return GB(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ig(n){return decodeURIComponent(n)}function qB(n){return ig(n.replace(/\+/g,"%20"))}function WB(n){return`${lD(n.path)}${function nce(n){return Object.keys(n).map(e=>`;${lD(e)}=${lD(n[e])}`).join("")}(n.parameters)}`}const ice=/^[^\/()?;=#]+/;function og(n){const e=n.match(ice);return e?e[0]:""}const oce=/^[^=?&#]+/,ace=/^[^&#]+/;class cce{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ge]=new ye(e,t)),r}parseSegment(){const e=og(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new Nd(ig(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=og(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=og(this.remaining);i&&(r=i,this.capture(r))}e[ig(t)]=ig(r)}parseQueryParam(e){const t=function sce(n){const e=n.match(oce);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function lce(n){const e=n.match(ace);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=qB(t),o=qB(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=og(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ge);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ge]:new ye([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}}function cD(n){return n.segments.length>0?new ye([],{[ge]:n}):n}function sg(n){const e={};for(const r of Object.keys(n.children)){const o=sg(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function uce(n){if(1===n.numberOfChildren&&n.children[ge]){const e=n.children[ge];return new ye(n.segments.concat(e.segments),e.children)}return n}(new ye(n.segments,e))}function Ca(n){return n instanceof wa}function fce(n,e,t,r,i){if(0===t.length)return mc(e.root,e.root,e.root,r,i);const o=function QB(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new YB(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return yn(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new YB(t,e,r)}(t);return o.toRoot()?mc(e.root,e.root,new ye([],{}),r,i):function s(l){const c=function mce(n,e,t,r){if(n.isAbsolute)return new gc(e.root,!0,0);if(-1===r)return new gc(t,t===e.root,0);return function XB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new gc(r,!1,i-o)}(t,r+(Ld(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,l),u=c.processChildren?Bd(c.segmentGroup,c.index,o.commands):dD(c.segmentGroup,c.index,o.commands);return mc(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Ld(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vd(n){return"object"==typeof n&&null!=n&&n.outlets}function mc(n,e,t,r,i){let s,o={};r&&yn(r,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:KB(n,e,t);const a=cD(sg(s));return new wa(a,o,i)}function KB(n,e,t){const r={};return yn(n.children,(i,o)=>{r[o]=i===e?t:KB(i,e,t)}),new ye(n.segments,r)}class YB{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ld(r[0]))throw new D(4003,!1);const i=r.find(Vd);if(i&&i!==LB(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function dD(n,e,t){if(n||(n=new ye([],{})),0===n.segments.length&&n.hasChildren())return Bd(n,e,t);const r=function _ce(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Vd(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!JB(l,c,s))return o;r+=2}else{if(!JB(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new ye(n.segments.slice(0,r.pathIndex),{});return o.children[ge]=new ye(n.segments.slice(r.pathIndex),n.children),Bd(o,0,i)}return r.match&&0===i.length?new ye(n.segments,{}):r.match&&!n.hasChildren()?hD(n,e,t):r.match?Bd(n,0,i):hD(n,e,t)}function Bd(n,e,t){if(0===t.length)return new ye(n.segments,{});{const r=function gce(n){return Vd(n[0])?n[0].outlets:{[ge]:n}}(t),i={};return yn(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=dD(n.children[s],e,o))}),yn(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new ye(n.segments,i)}}function hD(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Vd(o)){const l=yce(o.outlets);return new ye(r,l)}if(0===i&&Ld(t[0])){r.push(new Nd(n.segments[e].path,ZB(t[0]))),i++;continue}const s=Vd(o)?o.outlets[ge]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ld(a)?(r.push(new Nd(s,ZB(a))),i+=2):(r.push(new Nd(s,{})),i++)}return new ye(r,{})}function yce(n){const e={};return yn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=hD(new ye([],{}),0,t))}),e}function ZB(n){const e={};return yn(n,(t,r)=>e[r]=`${t}`),e}function JB(n,e,t){return n==t.path&&Fi(e,t.parameters)}class To{constructor(e,t){this.id=e,this.url=t}}class fD extends To{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ia extends To{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ag extends To{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eU extends To{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vce extends To{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bce extends To{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wce extends To{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ece extends To{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cce extends To{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ice{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tce{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dce{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sce{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ace{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mce{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tU{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=pD(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=pD(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=mD(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mD(e,this._root).map(t=>t.value)}}function pD(n,e){if(n===e.value)return e;for(const t of e.children){const r=pD(n,t);if(r)return r}return null}function mD(n,e){if(n===e.value)return[e];for(const t of e.children){const r=mD(n,t);if(r.length)return r.unshift(e),r}return[]}class Do{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function _c(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class rU extends nU{constructor(e,t){super(e),this.snapshot=t,gD(this,e)}toString(){return this.snapshot.toString()}}function iU(n,e){const t=function kce(n,e){const s=new lg([],{},{},"",{},ge,e,null,n.root,-1,{});return new sU("",new Do(s,[]))}(n,e),r=new Gr([new Nd("",{})]),i=new Gr({}),o=new Gr({}),s=new Gr({}),a=new Gr(""),l=new yc(r,i,s,a,o,ge,e,t.root);return l.snapshot=t.root,new rU(new Do(l,[]),t)}class yc{constructor(e,t,r,i,o,s,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>pc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>pc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oU(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Rce(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class lg{constructor(e,t,r,i,o,s,a,l,c,u,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sU extends nU{constructor(e,t){super(t),this.url=e,gD(this,t)}toString(){return aU(this._root)}}function gD(n,e){e.value._routerState=n,e.children.forEach(t=>gD(n,t))}function aU(n){const e=n.children.length>0?` { ${n.children.map(aU).join(", ")} } `:"";return`${n.value}${e}`}function _D(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Fi(e.params,t.params)||n.params.next(t.params),function Wle(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Fi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function yD(n,e){const t=Fi(n.params,e.params)&&function Zle(n,e){return Ea(n,e)&&n.every((t,r)=>Fi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||yD(n.parent,e.parent))}function Ud(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Oce(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ud(n,r,i);return Ud(n,r)})}(n,e,t);return new Do(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ud(n,a)),s}}const r=function Nce(n){return new yc(new Gr(n.url),new Gr(n.params),new Gr(n.queryParams),new Gr(n.fragment),new Gr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Ud(n,o));return new Do(r,i)}}const vD="ngNavigationCancelingError";function lU(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ca(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cU(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function cU(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[vD]=!0,r.cancellationCode=e,t&&(r.url=t),r}function uU(n){return dU(n)&&Ca(n.url)}function dU(n){return n&&n[vD]}class Fce{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new jd,this.attachRef=null}}class jd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Fce,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}const cg=!1;let bD=(()=>{class n{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.name=i||ge,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,cg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,cg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,cg);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,cg);this._activatedRoute=t;const i=this.location,s=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Lce(t,a,i.injector);if(r&&function Vce(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(v(jd),v(Ar),Wo("name"),v(li),v(Ko))},n.\u0275dir=K({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Lce{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===yc?this.route:e===jd?this.childContexts:this.parent.get(e,t)}}let hU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Je({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&De(0,"router-outlet")},dependencies:[bD],encapsulation:2}),n})();function fU(n,e){return n.providers&&!n._injector&&(n._injector=Ap(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ED(n){const e=n.children&&n.children.map(ED),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ge&&(t.component=hU),t}function qr(n){return n.outlet||ge}function pU(n,e){const t=n.filter(r=>qr(r)===e);return t.push(...n.filter(r=>qr(r)!==e)),t}function mU(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class $ce{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),_D(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=_c(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),yn(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=_c(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=_c(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=_c(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Mce(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Sce(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(_D(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),_D(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=mU(i.snapshot),l=a?.get(Ys)??null;s.attachRef=null,s.route=i,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class gU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ug{constructor(e,t){this.component=e,this.route=t}}function zce(n,e,t){const r=n._root;return Hd(r,e?e._root:null,t,[r.value])}function dg(n,e,t){return(mU(e)??t).get(n)}function Hd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=_c(e);return n.children.forEach(s=>{(function qce(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Wce(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ea(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ea(n.url,e.url)||!Fi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yD(n,e)||!Fi(n.queryParams,e.queryParams);default:return!yD(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new gU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Hd(n,e,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ug(a.outlet.component,s))}else s&&$d(e,a,i),i.canActivateChecks.push(new gU(r)),Hd(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),yn(o,(s,a)=>$d(s,t.getContext(a),i)),i}function $d(n,e,t){const r=_c(n),i=n.value;yn(r,(o,s)=>{$d(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new ug(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zd(n){return"function"==typeof n}const hg=Symbol("INITIAL_VALUE");function vc(){return Pn(n=>rD(n.map(e=>e.pipe(Hn(1),ls(hg)))).pipe(re(e=>{for(const t of e)if(!0!==t){if(t===hg)return hg;if(!1===t||t instanceof wa)return t}return!0}),_n(e=>e!==hg),Hn(1)))}function _U(n){return function H5(...n){return Ek(n)}(wt(e=>{if(Ca(e))throw lU(0,e)}),re(e=>!0===e))}const CD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yU(n,e,t,r,i){const o=ID(n,e,t);return o.matched?function uue(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(s=>{const a=n.get(s),l=function Jce(n){return n&&zd(n.canMatch)}(a)?a.canMatch(e,t):a(e,t);return Io(l)})).pipe(vc(),_U()):W(!0)}(r=fU(e,r),e,t).pipe(re(s=>!0===s?o:{...CD})):W(o)}function ID(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...CD}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qle)(t,n,e);if(!i)return{...CD};const o={};yn(i.posParams,(a,l)=>{o[l]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function fg(n,e,t,r,i="corrected"){if(t.length>0&&function fue(n,e,t){return t.some(r=>pg(n,e,r)&&qr(r)!==ge)}(n,t,r)){const s=new ye(e,function hue(n,e,t,r){const i={};i[ge]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&qr(o)!==ge){const s=new ye([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[qr(o)]=s}return i}(n,e,r,new ye(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function pue(n,e,t){return t.some(r=>pg(n,e,r))}(n,t,r)){const s=new ye(n.segments,function due(n,e,t,r,i,o){const s={};for(const a of r)if(pg(n,t,a)&&!i[qr(a)]){const l=new ye([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[qr(a)]=l}return{...i,...s}}(n,e,t,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new ye(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function pg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function vU(n,e,t,r){return!!(qr(n)===r||r!==ge&&pg(e,t,n))&&("**"===n.path||ID(e,n,t).matched)}function bU(n,e,t){return 0===e.length&&!n.children[t]}const mg=!1;class gg{constructor(e){this.segmentGroup=e||null}}class wU{constructor(e){this.urlTree=e}}function Gd(n){return hc(new gg(n))}function EU(n){return hc(new wU(n))}class yue{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=fg(this.urlTree.root,[],[],this.config).segmentGroup,t=new ye(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ge).pipe(re(o=>this.createUrlTree(sg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Co(o=>{if(o instanceof wU)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof gg?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ge).pipe(re(i=>this.createUrlTree(sg(i),e.queryParams,e.fragment))).pipe(Co(i=>{throw i instanceof gg?this.noMatchError(i):i}))}noMatchError(e){return new D(4002,mg)}createUrlTree(e,t,r){const i=cD(e);return new wa(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(re(o=>new ye([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return je(i).pipe(us(o=>{const s=r.children[o],a=pU(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(re(l=>({segment:l,outlet:o})))}),RB((o,s)=>(o[s.outlet]=s.segment,o),{}),PB())}expandSegment(e,t,r,i,o,s){return je(r).pipe(us(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(Co(c=>{if(c instanceof gg)return W(null);throw c}))),cs(a=>!!a),Co((a,l)=>{if(a instanceof fc||"EmptyError"===a.name)return bU(t,i,o)?W(new ye([],{})):Gd(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return vU(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):Gd(t):Gd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?EU(o):this.lineralizeSegments(r,o).pipe(Ot(s=>{const a=new ye(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=ID(t,i,o);if(!a)return Gd(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?EU(d):this.lineralizeSegments(i,d).pipe(Ot(h=>this.expandSegment(e,t,r,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=fU(r,e),r.loadChildren?(r._loadedRoutes?W({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(re(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ye(i,{})))):W(new ye(i,{}))):yU(t,r,i,e).pipe(Pn(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(Ot(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:f,slicedSegments:p}=fg(t,a,l,h),m=new ye(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(re(y=>new ye(a,y)));if(0===h.length&&0===p.length)return W(new ye(a,{}));const _=qr(r)===o;return this.expandSegment(d,m,h,p,_?ge:o,!0).pipe(re(E=>new ye(a.concat(E.segments),E.children)))})):Gd(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function cue(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(s=>{const a=n.get(s),l=function Yce(n){return n&&zd(n.canLoad)}(a)?a.canLoad(e,t):a(e,t);return Io(l)})).pipe(vc(),_U())}(e,t,r).pipe(Ot(i=>i?this.configLoader.loadChildren(e,t).pipe(wt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function gue(n){return hc(cU(mg,3))}())):W({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[ge])return hc(new D(4e3,mg));i=i.children[ge]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new wa(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return yn(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return yn(t.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,r,i)}),new ye(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new D(4001,mg);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class bue{}class Cue{constructor(e,t,r,i,o,s,a,l){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const e=fg(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ge).pipe(re(t=>{if(null===t)return null;const r=new lg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ge,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Do(r,t),o=new sU(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=oU(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return je(Object.keys(r.children)).pipe(us(i=>{const o=r.children[i],s=pU(t,i);return this.processSegmentGroup(e,s,o,i)}),RB((i,o)=>i&&o?(i.push(...o),i):null),function zle(n,e=!1){return gt((t,r)=>{let i=0;t.subscribe(new Ze(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),Jm(null),PB(),re(i=>{if(null===i)return null;const o=CU(i);return function Iue(n){n.sort((e,t)=>e.value.outlet===ge?-1:t.value.outlet===ge?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return je(t).pipe(us(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),cs(s=>!!s),Co(s=>{if(s instanceof fc)return bU(r,i,o)?W([]):W(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!vU(t,r,i,o))return W(null);let s;if("**"===t.path){const a=i.length>0?LB(i).parameters:{},l=TU(r)+i.length;s=W({snapshot:new lg(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,SU(t),qr(t),t.component??t._loadedComponent??null,t,IU(r),l,AU(t),l),consumedSegments:[],remainingSegments:[]})}else s=yU(r,t,i,e).pipe(re(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=TU(r)+l.length;return{snapshot:new lg(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,SU(t),qr(t),t.component??t._loadedComponent??null,t,IU(r),d,AU(t),d),consumedSegments:l,remainingSegments:c}}));return s.pipe(Pn(a=>{if(null===a)return W(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function Tue(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=fg(r,c,u,h.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(re(_=>null===_?null:[new Do(l,_)]));if(0===h.length&&0===p.length)return W([new Do(l,[])]);const m=qr(t)===o;return this.processSegment(d,h,f,p,m?ge:o).pipe(re(_=>null===_?null:[new Do(l,_)]))}))}}function Due(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function CU(n){const e=[],t=new Set;for(const r of n){if(!Due(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=CU(r.children);e.push(new Do(r.value,i))}return e.filter(r=>!t.has(r))}function IU(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function TU(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function SU(n){return n.data||{}}function AU(n){return n.resolve||{}}const TD=Symbol("RouteTitle");function MU(n){return"string"==typeof n.title||null===n.title}function DD(n){return Pn(e=>{const t=n(e);return t?je(t).pipe(re(()=>e)):W(e)})}let xU=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ge);return r}getResolvedTitleForRoute(t){return t.data[TD]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return tt(kU)},providedIn:"root"}),n})(),kU=(()=>{class n extends xU{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(I(fL))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Oue{}class Fue extends class Nue{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const SD=new R("",{providedIn:"root",factory:()=>({})}),AD=new R("ROUTES");let MD=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Io(t.loadComponent()).pipe(wt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),eg(()=>{this.componentLoaders.delete(t)})),i=new xB(r,()=>new ve).pipe(oD());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(re(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=FB(l.get(AD,[],J.Self|J.Optional)));return{routes:c.map(ED),injector:l}}),eg(()=>{this.childrenLoaders.delete(r)})),s=new xB(o,()=>new ve).pipe(oD());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Io(t()).pipe(Ot(r=>r instanceof pN||Array.isArray(r)?W(r):je(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(I(At),I(Sw))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class Vue{}class Bue{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Uue(n){throw n}function jue(n,e,t){return e.parse("/")}const Hue={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$ue={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function PU(){const n=tt($B),e=tt(jd),t=tt(jp),r=tt(At),i=tt(Sw),o=tt(AD,{optional:!0})??[],s=tt(SD,{optional:!0})??{},a=tt(kU),l=tt(xU,{optional:!0}),c=tt(Vue,{optional:!0}),u=tt(Oue,{optional:!0}),d=new rn(null,n,e,t,r,i,FB(o));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function zue(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d}let rn=(()=>{class n{constructor(t,r,i,o,s,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ve,this.errorHandler=Uue,this.malformedUriErrorHandler=jue,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>W(void 0),this.urlHandlingStrategy=new Bue,this.routeReuseStrategy=new Fue,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(MD),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new Tce(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new Ice(h)),this.ngModule=s.get(na),this.console=s.get(rX);const d=s.get(se);this.isNgZoneEnabled=d instanceof se&&se.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function Kle(){return new wa(new ye([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=iU(this.currentUrlTree,this.rootComponentType),this.transitions=new Gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(_n(i=>0!==i.id),re(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Pn(i=>{let o=!1,s=!1;return W(i).pipe(wt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pn(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return OU(a.source)&&(this.browserUrlTree=a.extractedUrl),W(a).pipe(Pn(d=>{const h=this.transitions.getValue();return r.next(new fD(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Xr:Promise.resolve(d)}),function vue(n,e,t,r){return Pn(i=>function _ue(n,e,t,r,i){return new yue(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(re(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),wt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function Aue(n,e,t,r,i,o){return Ot(s=>function Eue(n,e,t,r,i,o,s="emptyOnly",a="legacy"){return new Cue(n,e,t,r,i,s,a,o).recognize().pipe(Pn(l=>null===l?function wue(n){return new Ve(e=>e.error(n))}(new bue):W(l)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(re(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),wt(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new vce(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:_}=a,b=new fD(h,this.serializeUrl(f),p,m);r.next(b);const E=iU(f,this.rootComponentType).snapshot;return W(i={...a,targetSnapshot:E,urlAfterRedirects:f,extras:{..._,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Xr}),wt(a=>{const l=new bce(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),re(a=>i={...a,guards:zce(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function tue(n,e){return Ot(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?W({...t,guardsResult:!0}):function nue(n,e,t,r){return je(n).pipe(Ot(i=>function lue(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?W(o.map(a=>{const l=dg(a,e,i);return Io(function Zce(n){return n&&zd(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):l(n,e,t,r)).pipe(cs())})).pipe(vc()):W(!0)}(i.component,i.route,t,e,r)),cs(i=>!0!==i,!0))}(s,r,i,n).pipe(Ot(a=>a&&function Kce(n){return"boolean"==typeof n}(a)?function rue(n,e,t,r){return je(e).pipe(us(i=>Od(function oue(n,e){return null!==n&&e&&e(new Dce(n)),W(!0)}(i.route.parent,r),function iue(n,e){return null!==n&&e&&e(new Ace(n)),W(!0)}(i.route,r),function aue(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Gce(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>iD(()=>W(s.guards.map(l=>{const c=dg(l,s.node,t);return Io(function Xce(n){return n&&zd(n.canActivateChild)}(c)?c.canActivateChild(r,n):c(r,n)).pipe(cs())})).pipe(vc())));return W(o).pipe(vc())}(n,i.path,t),function sue(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(o=>iD(()=>{const s=dg(o,e,t);return Io(function Qce(n){return n&&zd(n.canActivate)}(s)?s.canActivate(e,n):s(e,n)).pipe(cs())}));return W(i).pipe(vc())}(n,i.route,t))),cs(i=>!0!==i,!0))}(r,o,n,e):W(a)),re(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),wt(a=>{if(i.guardsResult=a.guardsResult,Ca(a.guardsResult))throw lU(0,a.guardsResult);const l=new wce(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),_n(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),DD(a=>{if(a.guards.canActivateChecks.length)return W(a).pipe(wt(l=>{const c=new Ece(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Pn(l=>{let c=!1;return W(l).pipe(function Mue(n,e){return Ot(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=0;return je(i).pipe(us(s=>function xue(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!MU(i)&&(o[TD]=i.title),function kue(n,e,t,r){const i=function Rue(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return W({});const o={};return je(i).pipe(Ot(s=>function Pue(n,e,t,r){const i=dg(n,e,r);return Io(i.resolve?i.resolve(e,t):i(e,t))}(n[s],e,t,r).pipe(cs(),wt(a=>{o[s]=a}))),sD(1),OB(o),Co(s=>s instanceof fc?Xr:hc(s)))}(o,n,e,r).pipe(re(s=>(n._resolvedData=s,n.data=oU(n,t).resolve,i&&MU(i)&&(n.data[TD]=i.title),null)))}(s.route,r,n,e)),wt(()=>o++),sD(1),Ot(s=>o===i.length?W(t):Xr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),wt({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),wt(l=>{const c=new Cce(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),DD(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(wt(d=>{c.component=d}),re(()=>{})));for(const d of c.children)u.push(...l(d));return u};return rD(l(a.targetSnapshot.root)).pipe(Jm(),Hn(1))}),DD(()=>this.afterPreactivation()),re(a=>{const l=function Pce(n,e,t){const r=Ud(n,e._root,t?t._root:void 0);return new rU(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),wt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>re(r=>(new $ce(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),wt({next(){o=!0},complete(){o=!0}}),eg(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Co(a=>{if(s=!0,dU(a)){uU(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new ag(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),uU(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||OU(i.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new eU(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Xr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const s=this.parseUrl(t.url);this.scheduleNavigation(s,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(ED),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),fce(c,this.currentUrlTree,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ca(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Gue(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new D(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Hue}:!1===r?{...$ue}:r,Ca(t))return BB(this.currentUrlTree,t,i);const o=this.parseUrl(t);return BB(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ia(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,f)=>{a=h,l=f});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const o=new ag(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){xb()},n.\u0275prov=V({token:n,factory:function(){return PU()},providedIn:"root"}),n})();function OU(n){return"imperative"!==n}let vg=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.commands=null,this.onChanges=new ve,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:ho(this.skipLocationChange),replaceUrl:ho(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ho(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(v(rn),v(yc),Wo("tabindex"),v(Ci),v(ze))},n.\u0275dir=K({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&Ue("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[cr]}),n})(),bg=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new ve,this.subscription=t.events.subscribe(o=>{o instanceof Ia&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,o,s){if(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:ho(this.skipLocationChange),replaceUrl:ho(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ho(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(v(rn),v(yc),v(oa))},n.\u0275dir=K({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&Ue("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&yt("target",r.target)("href",r.href,Qv)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[cr]}),n})();class NU{}let FU=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(_n(t=>t instanceof Ia),us(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Ap(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return je(i).pipe(ll())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):W(null);const o=i.pipe(Ot(s=>null===s?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?je([o,this.loader.loadComponent(r)]).pipe(ll()):o})}}return n.\u0275fac=function(t){return new(t||n)(I(rn),I(Sw),I(Ko),I(NU),I(MD))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const LU=new R("");let Kue=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ia&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tU&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new tU(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){xb()},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const VU=new R("ROUTER_FORROOT_GUARD"),BU=new R(""),Yue=[jp,{provide:$B,useClass:zB},{provide:rn,useFactory:PU},jd,{provide:yc,useFactory:function Que(n){return n.routerState.root},deps:[rn]},MD];function Xue(){return new cF("Router",rn)}let UU=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Yue,[],jU(t),{provide:VU,useFactory:tde,deps:[[rn,new _t,new Dl]]},{provide:SD,useValue:r||{}},r?.useHash?{provide:oa,useClass:qX}:{provide:oa,useClass:PF},{provide:LU,useFactory:()=>{const n=tt(rn),e=tt(uJ),t=tt(SD);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Kue(n,e,t)}},r?.preloadingStrategy?lde(r.preloadingStrategy):[],{provide:cF,multi:!0,useFactory:Xue},r?.initialNavigation?rde(r):[],[{provide:HU,useFactory:nde},{provide:nF,multi:!0,useExisting:HU}]]}}static forChild(t){return{ngModule:n,providers:[jU(t)]}}}return n.\u0275fac=function(t){return new(t||n)(I(VU,8))},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({}),n})();function tde(n){return"guarded"}function jU(n){return[{provide:AD,multi:!0,useValue:n}]}function nde(){const n=tt(At);return e=>{const t=n.get(ra);if(e!==t.components[0])return;const r=n.get(rn),i=n.get($U);1===n.get(xD)&&r.initialNavigation(),n.get(BU,null,J.Optional)?.setUpPreloading(),n.get(LU,null,J.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const HU=new R("");function rde(n){return["disabled"===n.initialNavigation?[{provide:Pp,multi:!0,useFactory:()=>{const n=tt(rn);return()=>{n.setUpLocationChangeListener()}}},{provide:xD,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:xD,useValue:0},{provide:Pp,multi:!0,deps:[At],useFactory:n=>{const e=n.get(zX,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(i=>{const o=n.get(rn),s=n.get($U);(function r(i){n.get(rn).events.pipe(_n(s=>s instanceof Ia||s instanceof ag||s instanceof eU),re(s=>s instanceof Ia||s instanceof ag&&(0===s.code||1===s.code)&&null),_n(s=>null!==s),Hn(1)).subscribe(()=>{i()})})(()=>{i(!0),t=!0}),o.afterPreactivation=()=>(i(!0),t||s.closed?W(void 0):s),o.initialNavigation()}))}}]:[]]}const $U=new R("",{factory:()=>new ve}),xD=new R("",{providedIn:"root",factory:()=>1});function lde(n){return[FU,{provide:BU,useExisting:FU},{provide:NU,useExisting:n}]}var B,cde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},di={},kD=kD||{},ae=cde||self;function wg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function qd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var RD="closure_uid_"+(1e9*Math.random()>>>0),dde=0;function hde(n,e,t){return n.call.apply(n.bind,arguments)}function fde(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function On(n,e,t){return(On=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hde:fde).apply(null,arguments)}function Eg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function on(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function hs(){this.s=this.s,this.o=this.o}hs.prototype.s=!1,hs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ude(n){Object.prototype.hasOwnProperty.call(n,RD)&&n[RD]||(n[RD]=++dde)}(this)},hs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zU=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function PD(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function GU(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(wg(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let s=0;s<o;s++)n[i+s]=r[s]}else n.push(r)}}function Nn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Nn.prototype.h=function(){this.defaultPrevented=!0};var mde=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ae.addEventListener("test",()=>{},e),ae.removeEventListener("test",()=>{},e)}catch{}return n}();function Wd(n){return/^[\s\xa0]*$/.test(n)}function Cg(){var n=ae.navigator;return n&&(n=n.userAgent)?n:""}function Li(n){return-1!=Cg().indexOf(n)}function OD(n){return OD[" "](n),n}OD[" "]=function(){};var FD,n,_de=Li("Opera"),bc=Li("Trident")||Li("MSIE"),qU=Li("Edge"),ND=qU||bc,WU=Li("Gecko")&&!(-1!=Cg().toLowerCase().indexOf("webkit")&&!Li("Edge"))&&!(Li("Trident")||Li("MSIE"))&&!Li("Edge"),yde=-1!=Cg().toLowerCase().indexOf("webkit")&&!Li("Edge");function KU(){var n=ae.document;return n?n.documentMode:void 0}e:{var LD="",VD=(n=Cg(),WU?/rv:([^\);]+)(\)|;)/.exec(n):qU?/Edge\/([\d\.]+)/.exec(n):bc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):yde?/WebKit\/(\S+)/.exec(n):_de?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(VD&&(LD=VD?VD[1]:""),bc){var BD=KU();if(null!=BD&&BD>parseFloat(LD)){FD=String(BD);break e}}FD=LD}var vde=ae.document&&bc&&(KU()||parseInt(FD,10))||void 0;function Kd(n,e){if(Nn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(WU){e:{try{OD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:bde[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Kd.$.h.call(this)}}on(Kd,Nn);var bde={2:"touch",3:"pen",4:"mouse"};Kd.prototype.h=function(){Kd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yd="closure_listenable_"+(1e6*Math.random()|0),wde=0;function Ede(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++wde,this.fa=this.ia=!1}function Ig(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function jD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function QU(n){const e={};for(const t in n)e[t]=n[t];return e}const XU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZU(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<XU.length;o++)t=XU[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Tg(n){this.src=n,this.g={},this.h=0}function HD(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=zU(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Ig(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function $D(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}Tg.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=$D(n,e,r,i);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new Ede(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var zD="closure_lm_"+(1e6*Math.random()|0),GD={};function JU(n,e,t,r,i){if(r&&r.once)return tj(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)JU(n,e[o],t,r,i);return null}return t=YD(t),n&&n[Yd]?n.O(e,t,qd(r)?!!r.capture:!!r,i):ej(n,e,t,!1,r,i)}function ej(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=qd(i)?!!i.capture:!!i,a=WD(n);if(a||(n[zD]=a=new Tg(n)),(t=a.add(e,t,r,s,o)).proxy)return t;if(r=function Ide(){const e=Tde;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)mde||(i=s),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(rj(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function tj(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)tj(n,e[o],t,r,i);return null}return t=YD(t),n&&n[Yd]?n.P(e,t,qd(r)?!!r.capture:!!r,i):ej(n,e,t,!0,r,i)}function nj(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)nj(n,e[o],t,r,i);else r=qd(r)?!!r.capture:!!r,t=YD(t),n&&n[Yd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=$D(o=n.g[e],t,r,i))&&(Ig(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=WD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=$D(e,t,r,i)),(t=-1<n?e[n]:null)&&qD(t))}function qD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Yd])HD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(rj(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=WD(e))?(HD(t,n),0==t.h&&(t.src=null,e[zD]=null)):Ig(n)}}}function rj(n){return n in GD?GD[n]:GD[n]="on"+n}function Tde(n,e){if(n.fa)n=!0;else{e=new Kd(e,this);var t=n.listener,r=n.la||n.src;n.ia&&qD(n),n=t.call(r,e)}return n}function WD(n){return(n=n[zD])instanceof Tg?n:null}var KD="__closure_events_fn_"+(1e9*Math.random()>>>0);function YD(n){return"function"==typeof n?n:(n[KD]||(n[KD]=function(e){return n.handleEvent(e)}),n[KD])}function sn(){hs.call(this),this.i=new Tg(this),this.S=this,this.J=null}function vn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Nn(e,n);else if(e instanceof Nn)e.target=e.target||n;else{var i=e;ZU(e=new Nn(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=Dg(s,r,!0,e)&&i}if(i=Dg(s=e.g=n,r,!0,e)&&i,i=Dg(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Dg(s=e.g=t[o],r,!1,e)&&i}function Dg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&HD(n.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}on(sn,hs),sn.prototype[Yd]=!0,sn.prototype.removeEventListener=function(n,e,t,r){nj(this,n,e,t,r)},sn.prototype.N=function(){if(sn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ig(t[r]);delete n.g[e],n.h--}}this.J=null},sn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},sn.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var QD=ae.JSON.stringify;function Sde(){var n=XD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ij=new class Dde{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Mde,n=>n.reset());class Mde{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function xde(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function kde(n){ae.setTimeout(()=>{throw n},0)}let Qd,Xd=!1,XD=new class Ade{constructor(){this.h=this.g=null}add(e,t){const r=ij.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},oj=()=>{const n=ae.Promise.resolve(void 0);Qd=()=>{n.then(Rde)}};var Rde=()=>{for(var n;n=Sde();){try{n.h.call(n.g)}catch(t){kde(t)}var e=ij;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Xd=!1};function Sg(n,e){sn.call(this),this.h=n||1,this.g=e||ae,this.j=On(this.qb,this),this.l=Date.now()}function ZD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function JD(n,e,t){if("function"==typeof n)t&&(n=On(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=On(n.handleEvent,n)}return 2147483647<Number(e)?-1:ae.setTimeout(n,e||0)}function sj(n){n.g=JD(()=>{n.g=null,n.i&&(n.i=!1,sj(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}on(Sg,sn),(B=Sg.prototype).ga=!1,B.T=null,B.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vn(this,"tick"),this.ga&&(ZD(this),this.start()))}},B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},B.N=function(){Sg.$.N.call(this),ZD(this),delete this.g};class Pde extends hs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sj(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zd(n){hs.call(this),this.h=n,this.g={}}on(Zd,hs);var aj=[];function lj(n,e,t,r){Array.isArray(t)||(t&&(aj[0]=t.toString()),t=aj);for(var i=0;i<t.length;i++){var o=JU(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function cj(n){jD(n.g,function(e,t){this.g.hasOwnProperty(t)&&qD(e)},n),n.g={}}function Ag(){this.g=!0}function wc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Lde(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return QD(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Zd.prototype.N=function(){Zd.$.N.call(this),cj(this)},Zd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ag.prototype.Ea=function(){this.g=!1},Ag.prototype.info=function(){};var Ta={},uj=null;function Mg(){return uj=uj||new sn}function dj(n){Nn.call(this,Ta.Ta,n)}function Jd(n){const e=Mg();vn(e,new dj(e))}function hj(n,e){Nn.call(this,Ta.STAT_EVENT,n),this.stat=e}function Jn(n){const e=Mg();vn(e,new hj(e,n))}function fj(n,e){Nn.call(this,Ta.Ua,n),this.size=e}function eh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){n()},e)}Ta.Ta="serverreachability",on(dj,Nn),Ta.STAT_EVENT="statevent",on(hj,Nn),Ta.Ua="timingevent",on(fj,Nn);var xg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pj={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function eS(){}function gj(){}eS.prototype.h=null;var rS,th={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tS(){Nn.call(this,"d")}function nS(){Nn.call(this,"c")}function kg(){}function nh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Zd(this),this.P=Vde,this.V=new Sg(n=ND?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _j}function _j(){this.i=null,this.g="",this.h=!1}on(tS,Nn),on(nS,Nn),on(kg,eS),kg.prototype.g=function(){return new XMLHttpRequest},kg.prototype.i=function(){return{}},rS=new kg;var Vde=45e3,iS={},Rg={};function oS(n,e,t){n.L=1,n.v=Fg(So(e)),n.s=t,n.S=!0,yj(n,null)}function yj(n,e){n.G=Date.now(),rh(n),n.A=So(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Aj(t.i,"t",r),n.C=0,t=n.l.J,n.h=new _j,n.g=Zj(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Pde(On(n.Pa,n,n.g),n.O)),lj(n.U,n.g,"readystatechange",n.nb),e=n.I?QU(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Jd(),function Ode(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function vj(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function bj(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Bde(n,t),i==Rg){4==e&&(n.o=4,Jn(14),r=!1),wc(n.j,n.m,null,"[Incomplete Response]");break}if(i==iS){n.o=4,Jn(15),wc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}wc(n.j,n.m,i,null),sS(n,i)}vj(n)&&i!=Rg&&i!=iS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Jn(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),fS(e),e.M=!0,Jn(11))):(wc(n.j,n.m,t,"[Invalid Chunked Response]"),Da(n),ih(n))}function Bde(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Rg:(t=Number(e.substring(t,r)),isNaN(t)?iS:(r+=1)+t>e.length?Rg:(e=e.slice(r,r+t),n.C=r+t,e))}function rh(n){n.Y=Date.now()+n.P,wj(n,n.P)}function wj(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=eh(On(n.lb,n),e)}function Pg(n){n.B&&(ae.clearTimeout(n.B),n.B=null)}function ih(n){0==n.l.H||n.J||Kj(n.l,n)}function Da(n){Pg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,ZD(n.V),cj(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function sS(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||aS(t.i,n)))if(!n.K&&aS(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Hg(t),Ug(t)}hS(t),Jn(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=eh(On(t.ib,t),6e3));if(1>=kj(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Aa(t,11)}else if((n.K||t.g==n)&&Hg(t),!Wd(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(lS(o,o.h),o.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,lt(r.I,r.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((r=t).wa=Xj(r,r.J?r.pa:null,r.Y),s.K){Rj(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(Pg(a),rh(a)),r.g=s}else qj(r);0<t.j.length&&jg(t)}else"stop"!=c[0]&&"close"!=c[0]||Aa(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Aa(t,7):dS(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Jd()}catch{}}function Ej(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(wg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function jde(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(wg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Ude(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(wg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(B=nh.prototype).setTimeout=function(n){this.P=n},B.nb=function(n){n=n.target;const e=this.M;e&&3==Vi(n)?e.l():this.Pa(n)},B.Pa=function(n){try{if(n==this.g)e:{const u=Vi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||ND||this.g&&(this.h.h||this.g.ja()||Uj(this.g)))){this.J||4!=u||7==e||Jd(),Pg(this);var t=this.g.da();this.ca=t;t:if(vj(this)){var r=Uj(this.g);n="";var i=r.length,o=4==Vi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Da(this),ih(this);var s="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function Nde(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wd(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,Jn(12),Da(this),ih(this);break e}wc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sS(this,t)}this.S?(bj(this,u,s),ND&&this.i&&3==u&&(lj(this.U,this.V,"tick",this.mb),this.V.start())):(wc(this.j,this.m,s,null),sS(this,s)),4==u&&Da(this),this.i&&!this.J&&(4==u?Kj(this.l,this):(this.i=!1,rh(this)))}else(function ohe(n){const e={};n=(n.g&&2<=Vi(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Wd(n[r]))continue;var t=xde(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function Cde(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,Jn(12)):(this.o=0,Jn(13)),Da(this),ih(this)}}}catch{}},B.mb=function(){if(this.g){var n=Vi(this.g),e=this.g.ja();this.C<e.length&&(Pg(this),bj(this,n,e),this.i&&4!=n&&rh(this))}},B.cancel=function(){this.J=!0,Da(this)},B.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Fde(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Jd(),Jn(17)),Da(this),this.o=2,ih(this)):wj(this,this.Y-n)};var Cj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Sa){this.h=n.h,Og(this,n.j),this.s=n.s,this.g=n.g,Ng(this,n.m),this.l=n.l;var e=n.i,t=new ah;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ij(this,t),this.o=n.o}else n&&(e=String(n).match(Cj))?(this.h=!1,Og(this,e[1]||"",!0),this.s=oh(e[2]||""),this.g=oh(e[3]||"",!0),Ng(this,e[4]),this.l=oh(e[5]||"",!0),Ij(this,e[6]||"",!0),this.o=oh(e[7]||"")):(this.h=!1,this.i=new ah(null,this.h))}function So(n){return new Sa(n)}function Og(n,e,t){n.j=t?oh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ng(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ij(n,e,t){e instanceof ah?(n.i=e,function Kde(n,e){e&&!n.j&&(fs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Dj(this,r),Aj(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=sh(e,qde)),n.i=new ah(e,n.h))}function lt(n,e,t){n.i.set(e,t)}function Fg(n){return lt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function oh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,$de),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function $de(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Sa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(sh(e,Tj,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(sh(e,Tj,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(sh(t,"/"==t.charAt(0)?Gde:zde,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",sh(t,Wde)),n.join("")};var Tj=/[#\/\?@]/g,zde=/[#\?:]/g,Gde=/[#\?]/g,qde=/[#\?@]/g,Wde=/#/g;function ah(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fs(n){n.g||(n.g=new Map,n.h=0,n.i&&function Hde(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Dj(n,e){fs(n),e=Ec(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Sj(n,e){return fs(n),e=Ec(n,e),n.g.has(e)}function Aj(n,e,t){Dj(n,e),0<t.length&&(n.i=null,n.g.set(Ec(n,e),PD(t)),n.h+=t.length)}function Ec(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Mj(n){this.l=n||Qde,n=ae.PerformanceNavigationTiming?0<(n=ae.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(B=ah.prototype).add=function(n,e){fs(this),this.i=null,n=Ec(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},B.forEach=function(n,e){fs(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},B.ta=function(){fs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},B.Z=function(n){fs(this);let e=[];if("string"==typeof n)Sj(this,n)&&(e=e.concat(this.g.get(Ec(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},B.set=function(n,e){return fs(this),this.i=null,Sj(this,n=Ec(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},B.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),n.push(i)}}return this.i=n.join("&")};var Qde=10;function xj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function kj(n){return n.h?1:n.g?n.g.size:0}function aS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function lS(n,e){n.g?n.g.add(e):n.h=e}function Rj(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Pj(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return PD(n.i)}function Zde(){this.g=new class{stringify(n){return ae.JSON.stringify(n,void 0)}parse(n){return ae.JSON.parse(n,void 0)}}}function Jde(n,e,t){const r=t||"";try{Ej(n,function(i,o){let s=i;qd(i)&&(s=QD(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lg(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lh(n){this.l=n.fc||null,this.j=n.ob||!1}function Vg(n,e){sn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=cS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mj.prototype.cancel=function(){if(this.i=Pj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},on(lh,eS),lh.prototype.g=function(){return new Vg(this.l,this.j)},lh.prototype.i=function(n){return function(){return n}}({}),on(Vg,sn);var cS=0;function Oj(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ch(n){n.readyState=4,n.l=null,n.j=null,n.A=null,uh(n)}function uh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(B=Vg.prototype).open=function(n,e){if(this.readyState!=cS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,uh(this)},B.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ch(this)),this.readyState=cS},B.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,uh(this)),this.g&&(this.readyState=3,uh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Oj(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},B.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ch(this):uh(this),3==this.readyState&&Oj(this)}},B.Za=function(n){this.g&&(this.response=this.responseText=n,ch(this))},B.Ya=function(n){this.g&&(this.response=n,ch(this))},B.ka=function(){this.g&&ch(this)},B.setRequestHeader=function(n,e){this.v.append(n,e)},B.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},B.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Vg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var the=ae.JSON.parse;function Rt(n){sn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Nj,this.L=this.M=!1}on(Rt,sn);var Nj="",nhe=/^https?$/i,rhe=["POST","PUT"];function Fj(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Lj(n),Bg(n)}function Lj(n){n.F||(n.F=!0,vn(n,"complete"),vn(n,"error"))}function Vj(n){if(n.h&&typeof kD<"u"&&(!n.C[1]||4!=Vi(n)||2!=n.da()))if(n.v&&4==Vi(n))JD(n.La,0,n);else if(vn(n,"readystatechange"),4==Vi(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===s){var i=String(n.I).match(Cj)[1]||null;!i&&ae.self&&ae.self.location&&(i=ae.self.location.protocol.slice(0,-1)),r=!nhe.test(i?i.toLowerCase():"")}t=r}if(t)vn(n,"complete"),vn(n,"success");else{n.m=6;try{var o=2<Vi(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",Lj(n)}}finally{Bg(n)}}}function Bg(n,e){if(n.g){Bj(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||vn(n,"ready");try{t.onreadystatechange=r}catch{}}}function Bj(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ae.clearTimeout(n.A),n.A=null)}function Vi(n){return n.g?n.g.readyState:0}function Uj(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Nj:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function jj(n){let e="";return jD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function uS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=jj(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):lt(n,e,t))}function dh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Hj(n){this.Ga=0,this.j=[],this.l=new Ag,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dh("baseRetryDelayMs",5e3,n),this.hb=dh("retryDelaySeedMs",1e4,n),this.eb=dh("forwardChannelMaxRetries",2,n),this.xa=dh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Mj(n&&n.concurrentRequestLimit),this.Ja=new Zde,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function dS(n){if($j(n),3==n.H){var e=n.W++,t=So(n.I);if(lt(t,"SID",n.K),lt(t,"RID",e),lt(t,"TYPE","terminate"),hh(n,t),(e=new nh(n,n.l,e)).L=2,e.v=Fg(So(t)),t=!1,ae.navigator&&ae.navigator.sendBeacon)try{t=ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ae.Image&&((new Image).src=e.v,t=!0),t||(e.g=Zj(e.l,null),e.g.ha(e.v)),e.G=Date.now(),rh(e)}Qj(n)}function Ug(n){n.g&&(fS(n),n.g.cancel(),n.g=null)}function $j(n){Ug(n),n.u&&(ae.clearTimeout(n.u),n.u=null),Hg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ae.clearTimeout(n.m),n.m=null)}function jg(n){if(!xj(n.i)&&!n.m){n.m=!0;var e=n.Na;Qd||oj(),Xd||(Qd(),Xd=!0),XD.add(e,n),n.C=0}}function zj(n,e){var t;t=e?e.m:n.W++;const r=So(n.I);lt(r,"SID",n.K),lt(r,"RID",t),lt(r,"AID",n.V),hh(n,r),n.o&&n.s&&uS(r,n.o,n.s),t=new nh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Gj(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),lS(n.i,t),oS(t,r,e)}function hh(n,e){n.na&&jD(n.na,function(t,r){lt(e,r,t)}),n.h&&Ej({},function(t,r){lt(e,r,t)})}function Gj(n,e,t){t=Math.min(n.j.length,t);var r=n.h?On(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const u=i[l].map;if(c-=o,0>c)o=Math.max(0,i[l].g-100),a=!1;else try{Jde(u,s,"req"+c+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function qj(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Qd||oj(),Xd||(Qd(),Xd=!0),XD.add(e,n),n.A=0}}function hS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=eh(On(n.Ma,n),Yj(n,n.A)),n.A++,0))}function fS(n){null!=n.B&&(ae.clearTimeout(n.B),n.B=null)}function Wj(n){n.g=new nh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=So(n.wa);lt(e,"RID","rpc"),lt(e,"SID",n.K),lt(e,"AID",n.V),lt(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&lt(e,"TO",n.qa),lt(e,"TYPE","xmlhttp"),hh(n,e),n.o&&n.s&&uS(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Fg(So(e)),t.s=null,t.S=!0,yj(t,n)}function Hg(n){null!=n.v&&(ae.clearTimeout(n.v),n.v=null)}function Kj(n,e){var t=null;if(n.g==e){Hg(n),fS(n),n.g=null;var r=2}else{if(!aS(n.i,e))return;t=e.F,Rj(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;vn(r=Mg(),new fj(r,t)),jg(n)}else qj(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function she(n,e){return!(kj(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=eh(On(n.Na,n,e),Yj(n,n.C)),n.C++,0)))}(n,e)||2==r&&hS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Aa(n,5);break;case 4:Aa(n,10);break;case 3:Aa(n,6);break;default:Aa(n,2)}}function Yj(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Aa(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=On(n.pb,n);t||(t=new Sa("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||Og(t,"https"),Fg(t)),function ehe(n,e){const t=new Ag;if(ae.Image){const r=new Image;r.onload=Eg(Lg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Eg(Lg,t,r,"TestLoadImage: error",!1,e),r.onabort=Eg(Lg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Eg(Lg,t,r,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Jn(2);n.H=0,n.h&&n.h.za(e),Qj(n),$j(n)}function Qj(n){if(n.H=0,n.ma=[],n.h){const e=Pj(n.i);(0!=e.length||0!=n.j.length)&&(GU(n.ma,e),GU(n.ma,n.j),n.i.i.length=0,PD(n.j),n.j.length=0),n.h.ya()}}function Xj(n,e,t){var r=t instanceof Sa?So(t):new Sa(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Ng(r,r.m);else{var i=ae.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Sa(null);r&&Og(o,r),e&&(o.g=e),i&&Ng(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&lt(r,t,e),lt(r,"VER",n.ra),hh(n,r),r}function Zj(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rt(t&&n.Ha&&!n.va?new lh({ob:!0}):n.va)).Oa(n.J),e}function Jj(){}function $g(){if(bc&&!(10<=Number(vde)))throw Error("Environmental error: no available transport.")}function xr(n,e){sn.call(this),this.g=new Hj(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Wd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Cc(this)}function eH(n){tS.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function tH(){nS.call(this),this.status=1}function Cc(n){this.g=n}function hi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function pS(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;s=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function qe(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(B=Rt.prototype).Oa=function(n){this.M=n},B.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rS.g(),this.C=function mj(n){return n.h||(n.h=n.i())}(this.u?this.u:rS),this.g.onreadystatechange=On(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void Fj(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=ae.FormData&&n instanceof ae.FormData,!(0<=zU(rhe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Bj(this),0<this.B&&((this.L=function ihe(n){return bc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=On(this.ua,this)):this.A=JD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){Fj(this,o)}},B.ua=function(){typeof kD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vn(this,"timeout"),this.abort(8))},B.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vn(this,"complete"),vn(this,"abort"),Bg(this))},B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bg(this,!0)),Rt.$.N.call(this)},B.La=function(){this.s||(this.G||this.v||this.l?Vj(this):this.kb())},B.kb=function(){Vj(this)},B.isActive=function(){return!!this.g},B.da=function(){try{return 2<Vi(this)?this.g.status:-1}catch{return-1}},B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},B.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),the(e)}},B.Ia=function(){return this.m},B.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(B=Hj.prototype).ra=8,B.H=1,B.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new nh(this,this.l,n);let o=this.s;if(this.U&&(o?(o=QU(o),ZU(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Gj(this,i,e),lt(t=So(this.I),"RID",n),lt(t,"CVER",22),this.F&&lt(t,"X-HTTP-Session-Id",this.F),hh(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(jj(o)))+"&"+e:this.o&&uS(t,this.o,o)),lS(this.i,i),this.bb&&lt(t,"TYPE","init"),this.P?(lt(t,"$req",e),lt(t,"SID","null"),i.aa=!0,oS(i,t,null)):oS(i,t,e),this.H=2}}else 3==this.H&&(n?zj(this,n):0==this.j.length||xj(this.i)||zj(this))},B.Ma=function(){if(this.u=null,Wj(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=eh(On(this.jb,this),n)}},B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Jn(10),Ug(this),Wj(this))},B.ib=function(){null!=this.v&&(this.v=null,Ug(this),hS(this),Jn(19))},B.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Jn(2)):(this.l.info("Failed to ping google.com"),Jn(1))},B.isActive=function(){return!!this.h&&this.h.isActive(this)},(B=Jj.prototype).Ba=function(){},B.Aa=function(){},B.za=function(){},B.ya=function(){},B.isActive=function(){return!0},B.Va=function(){},$g.prototype.g=function(n,e){return new xr(n,e)},on(xr,sn),xr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Jn(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Xj(n,null,n.Y),jg(n)},xr.prototype.close=function(){dS(this.g)},xr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=QD(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&jg(e)},xr.prototype.N=function(){this.g.h=null,delete this.j,dS(this.g),delete this.g,xr.$.N.call(this)},on(eH,tS),on(tH,nS),on(Cc,Jj),Cc.prototype.Ba=function(){vn(this.g,"a")},Cc.prototype.Aa=function(n){vn(this.g,new eH(n))},Cc.prototype.za=function(n){vn(this.g,new tH)},Cc.prototype.ya=function(){vn(this.g,"b")},on(hi,function ahe(){this.blockSize=-1}),hi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hi.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)pS(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){pS(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){pS(this,r),i=0;break}}this.h=i,this.i+=e},hi.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var lhe={};function mS(n){return-128<=n&&128>n?function gde(n,e){var t=lhe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new qe([0|e],0>e?-1:0)}):new qe([0|n],0>n?-1:0)}function Bi(n){if(isNaN(n)||!isFinite(n))return Ic;if(0>n)return bn(Bi(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=gS;return new qe(e,0)}var gS=4294967296,Ic=mS(0),_S=mS(1),rH=mS(16777216);function Ao(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Wr(n){return-1==n.h}function bn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new qe(t,~n.h).add(_S)}function zg(n,e){return n.add(bn(e))}function Gg(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function fh(n,e){this.g=n,this.h=e}function qg(n,e){if(Ao(e))throw Error("division by zero");if(Ao(n))return new fh(Ic,Ic);if(Wr(n))return e=qg(bn(n),e),new fh(bn(e.g),bn(e.h));if(Wr(e))return e=qg(n,bn(e)),new fh(bn(e.g),e.h);if(30<n.g.length){if(Wr(n)||Wr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=_S,r=e;0>=r.X(n);)t=iH(t),r=iH(r);var i=Tc(t,1),o=Tc(r,1);for(r=Tc(r,2),t=Tc(t,2);!Ao(r);){var s=o.add(r);0>=s.X(n)&&(i=i.add(t),o=s),r=Tc(r,1),t=Tc(t,1)}return e=zg(n,i.R(e)),new fh(i,e)}for(i=Ic;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Bi(t)).R(e);Wr(s)||0<s.X(n);)s=(o=Bi(t-=r)).R(e);Ao(o)&&(o=_S),i=i.add(o),n=zg(n,s)}return new fh(i,n)}function iH(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new qe(t,n.h)}function Tc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new qe(i,n.h)}(B=qe.prototype).ea=function(){if(Wr(this))return-bn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:gS+r)*e,e*=gS}return n},B.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ao(this))return"0";if(Wr(this))return"-"+bn(this).toString(n);for(var e=Bi(Math.pow(n,6)),t=this,r="";;){var i=qg(t,e).g,o=((0<(t=zg(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ao(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},B.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},B.X=function(n){return Wr(n=zg(this,n))?-1:Ao(n)?0:1},B.abs=function(){return Wr(this)?bn(this):this},B.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=s>>>16,t[i]=(s&=65535)<<16|(o&=65535)}return new qe(t,-2147483648&t[t.length-1]?-1:0)},B.R=function(n){if(Ao(this)||Ao(n))return Ic;if(Wr(this))return Wr(n)?bn(this).R(bn(n)):bn(bn(this).R(n));if(Wr(n))return bn(this.R(bn(n)));if(0>this.X(rH)&&0>n.X(rH))return Bi(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=s*l,Gg(t,2*r+2*i),t[2*r+2*i+1]+=o*l,Gg(t,2*r+2*i+1),t[2*r+2*i+1]+=s*a,Gg(t,2*r+2*i+1),t[2*r+2*i+2]+=o*a,Gg(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new qe(t,0)},B.gb=function(n){return qg(this,n).h},B.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new qe(t,this.h&n.h)},B.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new qe(t,this.h|n.h)},B.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new qe(t,this.h^n.h)},$g.prototype.createWebChannel=$g.prototype.g,xr.prototype.send=xr.prototype.u,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,xg.NO_ERROR=0,xg.TIMEOUT=8,xg.HTTP_ERROR=6,pj.COMPLETE="complete",gj.EventType=th,th.OPEN="a",th.CLOSE="b",th.ERROR="c",th.MESSAGE="d",sn.prototype.listen=sn.prototype.O,Rt.prototype.listenOnce=Rt.prototype.P,Rt.prototype.getLastError=Rt.prototype.Sa,Rt.prototype.getLastErrorCode=Rt.prototype.Ia,Rt.prototype.getStatus=Rt.prototype.da,Rt.prototype.getResponseJson=Rt.prototype.Wa,Rt.prototype.getResponseText=Rt.prototype.ja,Rt.prototype.send=Rt.prototype.ha,Rt.prototype.setWithCredentials=Rt.prototype.Oa,hi.prototype.digest=hi.prototype.l,hi.prototype.reset=hi.prototype.reset,hi.prototype.update=hi.prototype.j,qe.prototype.add=qe.prototype.add,qe.prototype.multiply=qe.prototype.R,qe.prototype.modulo=qe.prototype.gb,qe.prototype.compare=qe.prototype.X,qe.prototype.toNumber=qe.prototype.ea,qe.prototype.toString=qe.prototype.toString,qe.prototype.getBits=qe.prototype.D,qe.fromNumber=Bi,qe.fromString=function nH(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return bn(nH(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Bi(Math.pow(e,8)),r=Ic,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),s=parseInt(n.substring(i,i+o),e);8>o?(o=Bi(Math.pow(e,o)),r=r.R(o).add(Bi(s))):r=(r=r.R(t)).add(Bi(s))}return r};var che=di.createWebChannelTransport=function(){return new $g},uhe=di.getStatEventTarget=function(){return Mg()},yS=di.ErrorCode=xg,dhe=di.EventType=pj,hhe=di.Event=Ta,oH=di.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fhe=di.FetchXmlHttpFactory=lh,Wg=di.WebChannel=gj,phe=di.XhrIo=Rt,mhe=di.Md5=hi,Dc=di.Integer=qe;const sH="@firebase/firestore";class an{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let Sc="9.23.0";const ps=new rc("@firebase/firestore");function vS(){return ps.logLevel}function M(n,...e){if(ps.logLevel<=Se.DEBUG){const t=e.map(bS);ps.debug(`Firestore (${Sc}): ${n}`,...t)}}function Ft(n,...e){if(ps.logLevel<=Se.ERROR){const t=e.map(bS);ps.error(`Firestore (${Sc}): ${n}`,...t)}}function fi(n,...e){if(ps.logLevel<=Se.WARN){const t=e.map(bS);ps.warn(`Firestore (${Sc}): ${n}`,...t)}}function bS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function G(n="Unexpected state"){const e=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: `+n;throw Ft(e),new Error(e)}function Y(n,e){n||G()}function F(n,e){return n}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends Mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class aH{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ghe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}}class _he{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yhe{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new Xt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(g(function*(){yield c.promise,yield o(r.currentUser)}))},l=c=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Y("string"==typeof r.accessToken),new aH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(null===e||"string"==typeof e),new an(e)}}class vhe{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class bhe{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new vhe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class whe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=o=>{null!=o.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,M("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Y("string"==typeof t.token),this.T=t.token,new lH(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ehe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class cH{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Ehe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function ie(n,e){return n<e?-1:n>e?1:0}function Ac(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Ct{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new A(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new A(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new A(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ct(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new Ct(0,0))}static max(){return new Q(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ph{constructor(e,t,r){void 0===t?t=0:t>e.length&&G(),void 0===r?r=e.length-t:r>e.length-t&&G(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ph.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ph?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xe extends ph{construct(e,t,r){return new xe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new A(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new xe(t)}static emptyPath(){return new xe([])}}const Che=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends ph{construct(e,t,r){return new Lt(e,t,r)}static isValidIdentifier(e){return Che.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new A(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new A(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new A(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new A(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(t)}static emptyPath(){return new Lt([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(xe.fromString(e))}static fromName(e){return new N(xe.fromString(e).popFirst(5))}static empty(){return new N(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new xe(e.slice()))}}function hH(n){return new kr(n.readTime,n.key,-1)}class kr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new kr(Q.min(),N.empty(),-1)}static max(){return new kr(Q.max(),N.empty(),-1)}}function ES(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=N.comparator(n.documentKey,e.documentKey),0!==t?t:ie(n.largestBatchId,e.largestBatchId))}const fH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function ms(n){return CS.apply(this,arguments)}function CS(){return CS=g(function*(n){if(n.code!==C.FAILED_PRECONDITION||n.message!==fH)throw n;M("LocalStore","Unexpectedly lost primary lease")}),CS.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new w((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function gs(n){return"IndexedDbTransactionError"===n.name}let Rr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function _h(n){return null==n}function yh(n){return 0===n&&1/n==-1/0}function EH(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _s(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function CH(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rt{constructor(e,t){this.comparator=e,this.root=t||wn.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zg(this.root,e,this.comparator,!0)}}class Zg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??wn.RED,this.left=i??wn.EMPTY,this.right=o??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new wn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1,wn.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(n,e,t,r,i){return this}insert(n,e,t){return new wn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ct{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new IH(this.data.getIterator())}getIteratorFrom(e){return new IH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ct(this.comparator);return t.data=e,t}}class IH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mr{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new mr([])}unionWith(e){let t=new ct(Lt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ac(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class TH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new TH("Invalid base64 string: "+i):i}}(e);return new Zt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const Yhe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(n){if(Y(!!n),"string"==typeof n){let e=0;const t=Yhe.exec(n);if(Y(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(n.seconds),nanos:Pt(n.nanos)}}function Pt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Mo(n){return"string"==typeof n?Zt.fromBase64String(n):Zt.fromUint8Array(n)}function Jg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function e_(n){const e=n.mapValue.fields.__previous_value__;return Jg(e)?e_(e):e}function vh(n){const e=ys(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}class Qhe{constructor(e,t,r,i,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ka{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ka("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ka&&e.projectId===this.projectId&&e.database===this.database}}const vs_mapValue={fields:{__type__:{stringValue:"__max__"}}};function bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jg(n)?4:MH(n)?9007199254740991:10:G()}function ji(n,e){if(n===e)return!0;const t=bs(n);if(t!==bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vh(n).isEqual(vh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ys(r.timestampValue),s=ys(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Mo(n.bytesValue).isEqual(Mo(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Pt(r.geoPointValue.latitude)===Pt(i.geoPointValue.latitude)&&Pt(r.geoPointValue.longitude)===Pt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pt(r.integerValue)===Pt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Pt(r.doubleValue),s=Pt(i.doubleValue);return o===s?yh(o)===yh(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return Ac(n.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(EH(o)!==EH(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!ji(o[a],s[a])))return!1;return!0}(n,e);default:return G()}var i}function bh(n,e){return void 0!==(n.values||[]).find(t=>ji(t,e))}function ws(n,e){if(n===e)return 0;const t=bs(n),r=bs(e);if(t!==r)return ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ie(n.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Pt(i.integerValue||i.doubleValue),a=Pt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return DH(n.timestampValue,e.timestampValue);case 4:return DH(vh(n),vh(e));case 5:return ie(n.stringValue,e.stringValue);case 6:return function(i,o){const s=Mo(i),a=Mo(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const c=ie(s[l],a[l]);if(0!==c)return c}return ie(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const s=ie(Pt(i.latitude),Pt(o.latitude));return 0!==s?s:ie(Pt(i.longitude),Pt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const c=ws(s[l],a[l]);if(c)return c}return ie(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===vs_mapValue&&o===vs_mapValue)return 0;if(i===vs_mapValue)return 1;if(o===vs_mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=ie(a[u],c[u]);if(0!==d)return d;const h=ws(s[a[u]],l[c[u]]);if(0!==h)return h}return ie(a.length,c.length)}(n.mapValue,e.mapValue);default:throw G()}}function DH(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ie(n,e);const t=ys(n),r=ys(e),i=ie(t.seconds,r.seconds);return 0!==i?i:ie(t.nanos,r.nanos)}function xc(n){return DS(n)}function DS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ys(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Mo(n.bytesValue).toBase64():"referenceValue"in n?N.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=DS(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${DS(r.fields[a])}`;return o+"}"}(n.mapValue):G();var e}function SS(n){return!!n&&"integerValue"in n}function wh(n){return!!n&&"arrayValue"in n}function SH(n){return!!n&&"nullValue"in n}function AH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function r_(n){return!!n&&"mapValue"in n}function Eh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return _s(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Eh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function MH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!r_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eh(t)}setAll(e){let t=Lt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Eh(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());r_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];r_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){_s(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new En(Eh(this.value))}}function RH(n){const e=[];return _s(n.fields,(t,r)=>{const i=new Lt([t]);if(r_(r)){const o=RH(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new mr(e)}class ut{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ut(e,0,Q.min(),Q.min(),Q.min(),En.empty(),0)}static newFoundDocument(e,t,r,i){return new ut(e,1,t,Q.min(),r,i,0)}static newNoDocument(e,t){return new ut(e,2,t,Q.min(),Q.min(),En.empty(),0)}static newUnknownDocument(e,t){return new ut(e,3,t,Q.min(),Q.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Es{constructor(e,t){this.position=e,this.inclusive=t}}function PH(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?N.comparator(N.fromName(s.referenceValue),t.key):ws(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function OH(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ji(n.position[t],e.position[t]))return!1;return!0}class kc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Jhe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class NH{}class Ie extends NH{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new efe(e,t,r):"array-contains"===t?new rfe(e,r):"in"===t?new jH(e,r):"not-in"===t?new ife(e,r):"array-contains-any"===t?new ofe(e,r):new Ie(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new tfe(e,r):new nfe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ws(t,this.value)):null!==t&&bs(this.value)===bs(t)&&this.matchesComparison(ws(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class We extends NH{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new We(e,t)}matches(e){return Rc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Rc(n){return"and"===n.op}function MS(n){return function FH(n){for(const e of n.filters)if(e instanceof We)return!1;return!0}(n)&&Rc(n)}function xS(n){if(n instanceof Ie)return n.field.canonicalString()+n.op.toString()+xc(n.value);if(MS(n))return n.filters.map(e=>xS(e)).join(",");{const e=n.filters.map(t=>xS(t)).join(",");return`${n.op}(${e})`}}function LH(n,e){return n instanceof Ie?(t=n,(r=e)instanceof Ie&&t.op===r.op&&t.field.isEqual(r.field)&&ji(t.value,r.value)):n instanceof We?function(t,r){return r instanceof We&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,s)=>i&&LH(o,r.filters[s]),!0)}(n,e):void G();var t,r}function BH(n){return n instanceof Ie?`${(e=n).field.canonicalString()} ${e.op} ${xc(e.value)}`:n instanceof We?function(e){return e.op.toString()+" {"+e.getFilters().map(BH).join(" ,")+"}"}(n):"Filter";var e}class efe extends Ie{constructor(e,t,r){super(e,t,r),this.key=N.fromName(r.referenceValue)}matches(e){const t=N.comparator(e.key,this.key);return this.matchesComparison(t)}}class tfe extends Ie{constructor(e,t){super(e,"in",t),this.keys=UH(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nfe extends Ie{constructor(e,t){super(e,"not-in",t),this.keys=UH(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function UH(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>N.fromName(r.referenceValue))}class rfe extends Ie{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wh(t)&&bh(t.arrayValue,this.value)}}class jH extends Ie{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&bh(this.value.arrayValue,t)}}class ife extends Ie{constructor(e,t){super(e,"not-in",t)}matches(e){if(bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!bh(this.value.arrayValue,t)}}class ofe extends Ie{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bh(this.value.arrayValue,r))}}class sfe{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function kS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new sfe(n,e,t,r,i,o,s)}function Pa(n){const e=F(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>xS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),_h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>xc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>xc(r)).join(",")),e.dt=t}return e.dt}function Ch(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Jhe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!LH(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OH(n.startAt,e.startAt)&&OH(n.endAt,e.endAt)}function i_(n){return N.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class xo{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.wt=null,this._t=null}}function Pc(n){return new xo(n)}function GH(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Oa(n){const e=F(n);if(null===e.wt){e.wt=[];const t=function s_(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function RS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new kc(t)),e.wt.push(new kc(Lt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new kc(Lt.keyField(),o))}}}return e.wt}function er(n){const e=F(n);if(!e._t)if("F"===e.limitType)e._t=kS(e.path,e.collectionGroup,Oa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Oa(e))t.push(new kc(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new Es(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Es(e.startAt.position,e.startAt.inclusive):null;e._t=kS(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function a_(n,e,t){return new xo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ih(n,e){return Ch(er(n),er(e))&&n.limitType===e.limitType}function qH(n){return`${Pa(er(n))}|lt:${n.limitType}`}function NS(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>BH(r)).join(", ")}]`),_h(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>xc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>xc(r)).join(",")),`Target(${t})`}(er(n))}; limitType=${n.limitType})`}function Th(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):N.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Oa(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,s){const a=PH(i,o,s);return i.inclusive?a<=0:a<0}(t.startAt,Oa(t),r)||t.endAt&&!function(i,o,s){const a=PH(i,o,s);return i.inclusive?a>=0:a>0}(t.endAt,Oa(t),r)));var t,r}function KH(n){return(e,t)=>{let r=!1;for(const i of Oa(n)){const o=afe(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function afe(n,e,t){const r=n.field.isKeyField()?N.comparator(e.key,t.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return null!==a&&null!==l?ws(a,l):G()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}class ko{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return CH(this.inner)}size(){return this.innerSize}}const lfe=new rt(N.comparator);function gr(){return lfe}const YH=new rt(N.comparator);function Dh(...n){let e=YH;for(const t of n)e=e.insert(t.key,t);return e}function QH(n){let e=YH;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hi(){return Sh()}function XH(){return Sh()}function Sh(){return new ko(n=>n.toString(),(n,e)=>n.isEqual(e))}const cfe=new rt(N.comparator),ufe=new ct(N.comparator);function fe(...n){let e=ufe;for(const t of n)e=e.add(t);return e}const dfe=new ct(ie);function ZH(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function JH(n){return{integerValue:""+n}}function e$(n,e){return function mH(n){return"number"==typeof n&&Number.isInteger(n)&&!yh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?JH(e):ZH(n,e)}class l_{constructor(){this._=void 0}}function hfe(n,e,t){return n instanceof Oc?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Jg(i)&&(i=e_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof Na?n$(n,e):n instanceof Fa?r$(n,e):function(r,i){const o=t$(r,i),s=i$(o)+i$(r.gt);return SS(o)&&SS(r.gt)?JH(s):ZH(r.serializer,s)}(n,e)}function ffe(n,e,t){return n instanceof Na?n$(n,e):n instanceof Fa?r$(n,e):t}function t$(n,e){return n instanceof Nc?SS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Oc extends l_{}class Na extends l_{constructor(e){super(),this.elements=e}}function n$(n,e){const t=o$(e);for(const r of n.elements)t.some(i=>ji(i,r))||t.push(r);return{arrayValue:{values:t}}}class Fa extends l_{constructor(e){super(),this.elements=e}}function r$(n,e){let t=o$(e);for(const r of n.elements)t=t.filter(i=>!ji(i,r));return{arrayValue:{values:t}}}class Nc extends l_{constructor(e,t){super(),this.serializer=e,this.gt=t}}function i$(n){return Pt(n.integerValue||n.doubleValue)}function o$(n){return wh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mfe{constructor(e,t){this.version=e,this.transformResults=t}}class ft{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ft}static exists(e){return new ft(void 0,e)}static updateTime(e){return new ft(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function c_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class u_{}function s$(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Lc(n.key,ft.none()):new Fc(n.key,n.data,ft.none());{const t=n.data,r=En.empty();let i=new ct(Lt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ro(n.key,r,new mr(i.toArray()),ft.none())}}function gfe(n,e,t){n instanceof Fc?function(r,i,o){const s=r.value.clone(),a=c$(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof Ro?function(r,i,o){if(!c_(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=c$(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(l$(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Mh(n,e,t,r){return n instanceof Fc?function(i,o,s,a){if(!c_(i.precondition,o))return s;const l=i.value.clone(),c=u$(i.fieldTransforms,a,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ro?function(i,o,s,a){if(!c_(i.precondition,o))return s;const l=u$(i.fieldTransforms,a,o),c=o.data;return c.setAll(l$(i)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(s=t,c_(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function _fe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=t$(r.transform,i||null);null!=o&&(null===t&&(t=En.empty()),t.set(r.field,o))}return t||null}function a$(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ac(t,r,(i,o)=>function pfe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Na&&r instanceof Na||t instanceof Fa&&r instanceof Fa?Ac(t.elements,r.elements,ji):t instanceof Nc&&r instanceof Nc?ji(t.gt,r.gt):t instanceof Oc&&r instanceof Oc);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Fc extends u_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ro extends u_{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function l$(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function c$(n,e,t){const r=new Map;Y(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,ffe(s,a,t[i]))}return r}function u$(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,hfe(o,s,e))}return r}class Lc extends u_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LS extends u_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&gfe(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Mh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Mh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XH();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const l=s$(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fe())}isEqual(e){return this.batchId===e.batchId&&Ac(this.mutations,e.mutations,(t,r)=>a$(t,r))&&Ac(this.baseMutations,e.baseMutations,(t,r)=>a$(t,r))}}class BS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Y(e.mutations.length===r.length);let i=cfe;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new BS(e,t,r,i)}}class US{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vfe{constructor(e,t){this.count=e,this.unchangedNames=t}}var zt,ke;function d$(n){switch(n){default:return G();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function h$(n){if(void 0===n)return Ft("GRPC error has no .code"),C.UNKNOWN;switch(n){case zt.OK:return C.OK;case zt.CANCELLED:return C.CANCELLED;case zt.UNKNOWN:return C.UNKNOWN;case zt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case zt.INTERNAL:return C.INTERNAL;case zt.UNAVAILABLE:return C.UNAVAILABLE;case zt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case zt.NOT_FOUND:return C.NOT_FOUND;case zt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case zt.ABORTED:return C.ABORTED;case zt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case zt.DATA_LOSS:return C.DATA_LOSS;default:return G()}}(ke=zt||(zt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";class jS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return d_}static getOrCreateInstance(){return null===d_&&(d_=new jS),d_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let d_=null;const bfe=new Dc([4294967295,4294967295],0);function p$(n){const e=function f$(){return new TextEncoder}().encode(n),t=new mhe;return t.update(e),new Uint8Array(t.digest())}function m$(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Dc([t,r],0),new Dc([i,o],0)]}class HS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xh(`Invalid padding: ${t}`);if(r<0)throw new xh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new xh(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new xh(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Dc.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Dc.fromNumber(r)));return 1===i.compare(bfe)&&(i=new Dc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=p$(e),[r,i]=m$(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new HS(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=p$(e),[r,i]=m$(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class xh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kh{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Rh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kh(Q.min(),i,new rt(ie),gr(),fe())}}class Rh{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Rh(r,t,fe(),fe(),fe())}}class h_{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class g${constructor(e,t){this.targetId=e,this.Vt=t}}class _${constructor(e,t,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class y${constructor(){this.St=0,this.Dt=b$(),this.Ct=Zt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=fe(),t=fe(),r=fe();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Rh(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=b$()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class wfe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=gr(),this.zt=v$(),this.Wt=new rt(ie)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:G()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(i_(s))if(0===i){const a=new N(s.path);this.Yt(r,a,ut.newNoDocument(a,Q.min()))}else Y(1===i);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);0!==l&&(this.ee(r),this.Wt=this.Wt.insert(r,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=jS.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,u,d){var h,f,p,m,_,b;const E={localCacheCount:u,existenceFilterCount:d.count},y=d.unchangedNames;return y&&(E.bloomFilter={applied:0===c,hashCount:null!==(h=y?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=y?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(b=null===(_=y?.bits)||void 0===_?void 0:_.padding)&&void 0!==b?b:0}),E}(l,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,c;try{l=Mo(o).toUint8Array()}catch(u){if(u instanceof TH)return fi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new HS(l,s,a)}catch(u){return fi(u instanceof xh?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&i_(a.target)){const l=new N(a.target.path);null!==this.jt.get(l)||this.ae(s,l)||this.Yt(s,l,ut.newNoDocument(l,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let r=fe();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.se(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new kh(e,t,this.Wt,this.jt,r);return this.jt=gr(),this.zt=v$(),this.Wt=new rt(ie),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new y$,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ct(ie),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||M("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new y$),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function v$(){return new rt(N.comparator)}function b$(){return new rt(N.comparator)}const Efe={asc:"ASCENDING",desc:"DESCENDING"},Cfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ife={and:"AND",or:"OR"};class Tfe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $S(n,e){return n.useProto3Json||_h(e)?e:{value:e}}function Vc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w$(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Dfe(n,e){return Vc(n,e.toTimestamp())}function Vt(n){return Y(!!n),Q.fromTimestamp(function(e){const t=ys(e);return new Ct(t.seconds,t.nanos)}(n))}function zS(n,e){return(t=n,new xe(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function E$(n){const e=xe.fromString(n);return Y(k$(e)),e}function Ph(n,e){return zS(n.databaseId,e.path)}function $i(n,e){const t=E$(e);if(t.get(1)!==n.databaseId.projectId)throw new A(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new A(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new N(I$(t))}function GS(n,e){return zS(n.databaseId,e)}function Oh(n){return new xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function I$(n){return Y(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function T$(n,e,t){return{name:Ph(n,e),fields:t.value.mapValue.fields}}function S$(n,e){return{documents:[GS(n,e.path)]}}function WS(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=GS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=GS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return x$(We.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:Cs((u=c).field),direction:kfe(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=$S(n,e.limit);var a,l;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function A$(n){let e=function C$(n){const e=E$(n);return 4===e.length?xe.emptyPath():I$(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Y(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=M$(u);return d instanceof We&&MS(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new kc(Bc((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,_h(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new Es((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new Es(u.values||[],!u.before)}(t.endAt)),function zH(n,e,t,r,i,o,s,a){return new xo(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",l,c)}function M$(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Bc(e.unaryFilter.field);return Ie.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Bc(e.unaryFilter.field);return Ie.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bc(e.unaryFilter.field);return Ie.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bc(e.unaryFilter.field);return Ie.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(n):void 0!==n.fieldFilter?Ie.create(Bc((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return We.create(e.compositeFilter.filters.map(t=>M$(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return G()}}(e.compositeFilter.op))}(n):G();var e}function kfe(n){return Efe[n]}function Rfe(n){return Cfe[n]}function Pfe(n){return Ife[n]}function Cs(n){return{fieldPath:n.canonicalString()}}function Bc(n){return Lt.fromServerFormat(n.fieldPath)}function x$(n){return n instanceof Ie?function(e){if("=="===e.op){if(AH(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NAN"}};if(SH(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(AH(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NOT_NAN"}};if(SH(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(e.field),op:Rfe(e.op),value:e.value}}}(n):n instanceof We?function(e){const t=e.getFilters().map(r=>x$(r));return 1===t.length?t[0]:{compositeFilter:{op:Pfe(e.op),filters:t}}}(n):G()}function Ofe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function k$(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Po{constructor(e,t,r,i,o=Q.min(),s=Q.min(),a=Zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class R${constructor(e){this.fe=e}}function KS(n){const e=A$({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?a_(e,e.limit,"L"):e}class Ua{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Pt(e.integerValue));else if("doubleValue"in e){const r=Pt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),yh(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Mo(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?MH(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):G()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),N.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Ua.Ve=new Ua;class $fe{constructor(){this.rn=new eA}addToCollectionParentIndex(e,t){return this.rn.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(kr.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class eA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ct(xe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(xe.comparator)).toArray()}}new Uint8Array(0);class Ln{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(41943040,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Ha{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ha(0)}static Mn(){return new Ha(-1)}}class Zfe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class iz{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Mh(r.mutation,i,mr.empty(),Ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fe()){const i=Hi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Dh();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Hi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=gr();const s=Sh(),a=Sh();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof Ro)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),Mh(u.mutation,c,u.mutation.getFieldMask(),Ct.now())):s.set(c.key,mr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new Zfe(u,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Sh();let i=new rt((s,a)=>s-a),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||mr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||fe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=XH();u.forEach(h=>{if(!o.has(h)){const f=s$(t.get(h),r.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return N.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function PS(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):w.resolve(Hi());let a=-1,l=o;return s.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?w.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,fe())).next(u=>({batchId:a,changes:QH(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new N(t)).next(r=>{let i=Dh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=Dh();return this.indexManager.getCollectionParents(e,i).next(s=>w.forEach(s,a=>{const l=(c=t,u=a.child(i),new xo(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((a,l)=>{const c=l.getKey();null===o.get(c)&&(o=o.insert(c,ut.newInvalidDocument(c)))});let s=Dh();return o.forEach((a,l)=>{const c=i.get(a);void 0!==c&&Mh(c.mutation,l,mr.empty(),Ct.now()),Th(t,l)&&(s=s.insert(a,l))}),s})}}class Jfe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return w.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Vt(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:KS(r.bundledQuery),readTime:Vt(r.readTime)}),w.resolve();var r}}class epe{constructor(){this.overlays=new rt(N.comparator),this.ls=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hi();return w.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.we(e,t,o)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=Hi(),o=t.length+1,s=new N(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new rt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=o.get(c.largestBatchId);null===u&&(u=Hi(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Hi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return w.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new US(t,r));let o=this.ls.get(t);void 0===o&&(o=fe(),this.ls.set(t,o)),this.ls.set(t,o.add(r.key))}}class tA{constructor(){this.fs=new ct(cn.ds),this.ws=new ct(cn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new cn(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new cn(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new N(new xe([])),r=new cn(t,e),i=new cn(t,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new N(new xe([])),r=new cn(t,e),i=new cn(t,e+1);let o=fe();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new cn(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class cn{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return N.comparator(e.key,t.key)||ie(e.As,t.As)}static _s(e,t){return ie(e.As,t.As)||N.comparator(e.key,t.key)}}class tpe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ct(cn.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.vs;this.vs++;const s=new VS(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new cn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(s)}lookupMutationBatch(e,t){return w.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),o=i<0?0:i;return w.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new cn(t,0),i=new cn(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),w.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ct(ie);return t.forEach(i=>{const o=new cn(i,0),s=new cn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;N.isDocumentKey(o)||(o=o.child(""));const s=new cn(new N(o),0);let a=new ct(ie);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},s),w.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Y(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(t.mutations,i=>{const o=new cn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new cn(t,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class npe{constructor(e){this.Ds=e,this.docs=new rt(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():ut.newInvalidDocument(t))}getEntries(e,t){let r=gr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ut.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=gr();const s=t.path,a=new N(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||ES(hH(u),r)<=0||(i.has(u.key)||Th(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return w.resolve(o)}getAllFromCollectionGroup(e,t,r,i){G()}Cs(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new rpe(this)}getSize(e){return w.resolve(this.size)}}class rpe extends class Yfe{constructor(){this.changes=new ko(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class ipe{constructor(e){this.persistence=e,this.xs=new ko(t=>Pa(t),Ch),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Ns=0,this.ks=new tA,this.targetCount=0,this.Ms=Ha.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),w.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ha(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Fn(t),w.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(o).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),w.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.ks.containsKey(t))}}class nA{constructor(e,t){this.$s={},this.overlays={},this.Os=new Rr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new ipe(this),this.indexManager=new $fe,this.remoteDocumentCache=new npe(r=>this.referenceDelegate.Ls(r)),this.serializer=new R$(t),this.qs=new Jfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new epe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new tpe(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){M("MemoryPersistence","Starting transaction:",e);const i=new ope(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,t){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class ope extends class Dhe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class w_{constructor(e){this.persistence=e,this.Qs=new tA,this.js=null}static zs(e){return new w_(e)}get Ws(){if(this.js)return this.js;throw G()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),w.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=N.fromPath(r);return this.Hs(e,i).next(o=>{o||t.removeEntry(i,Q.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return w.or([()=>w.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class sA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=fe(),i=fe();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new sA(e,t.fromCache,r,i)}}class sz{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(o=>o||this.Gi(e,t,i,r)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(GH(t))return w.resolve(null);let r=er(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=a_(t,null,"F"),r=er(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=fe(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(t,a);return this.zi(t,c,s,l.readTime)?this.Ki(e,a_(t,null,"F")):this.Wi(e,c,t,l)}))})))}Gi(e,t,r,i){return GH(t)||i.isEqual(Q.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(t,o);return this.zi(t,s,r,i)?this.Qi(e,t):(vS()<=Se.DEBUG&&M("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),NS(t)),this.Wi(e,s,t,function dH(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Q.fromTimestamp(1e9===r?new Ct(t+1,0):new Ct(t,r));return new kr(i,N.empty(),e)}(i,-1)))})}ji(e,t){let r=new ct(KH(e));return t.forEach((i,o)=>{Th(e,o)&&(r=r.add(o))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,t){return vS()<=Se.DEBUG&&M("QueryEngine","Using full collection scan to execute query:",NS(t)),this.Ui.getDocumentsMatchingQuery(e,t,kr.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class ape{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new rt(ie),this.Yi=new ko(o=>Pa(o),Ch),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function lz(n,e){return aA.apply(this,arguments)}function aA(){return aA=g(function*(n,e){const t=F(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=fe();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}),aA.apply(this,arguments)}function lpe(n,e){const t=F(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,c){const u=l.batch,d=u.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);Y(null!==m),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=fe();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function cz(n){const e=F(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function cpe(n,e){const t=F(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var p,m,_;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Zt.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),m=f,_=u,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,f))});let l=gr(),c=fe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function uz(n,e,t){let r=fe(),i=fe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=gr();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):M("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(Q.min())){const u=t.Bs.getLastRemoteSnapshotVersion(o).next(d=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return w.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.Ji=i,o))}function upe(n,e){const t=F(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hc(n,e){const t=F(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(o=>o?(i=o,w.resolve(i)):t.Bs.allocateTargetId(r).next(s=>(i=new Po(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function $c(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=g(function*(n,e,t){const r=F(n),i=r.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!gs(s))throw s;M("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),lA.apply(this,arguments)}function I_(n,e,t){const r=F(n);let i=Q.min(),o=fe();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,c){const u=F(a),d=u.Yi.get(c);return void 0!==d?w.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(r,s,er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,t?i:Q.min(),t?o:fe())).next(a=>(function fz(n,e,t){let r=n.Xi.get(e)||Q.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Xi.set(e,r)}(r,function WH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class fA{constructor(){this.activeTargetIds=function FS(){return dfe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gz{constructor(){this.Hr=new fA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new fA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fpe{Yr(e){}shutdown(){}}class _z{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){M("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){M("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let S_=null;function mA(){return null===S_?S_=268435456+Math.round(2147483648*Math.random()):S_++,"0x"+S_.toString(16)}const ppe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mpe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Vn="WebChannelConnection";class gpe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,o){const s=mA(),a=this.To(e,t);M("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const l={};return this.Eo(l,i,o),this.Ao(e,a,l,r).then(c=>(M("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw fi("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,o,s){return this.Io(e,t,r,i,o)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,t){return`${this.mo}/v1/${t}:${ppe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const o=mA();return new Promise((s,a)=>{const l=new phe;l.setWithCredentials(!0),l.listenOnce(dhe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yS.NO_ERROR:const u=l.getResponseJson();M(Vn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case yS.TIMEOUT:M(Vn,`RPC '${e}' ${o} timed out`),a(new A(C.DEADLINE_EXCEEDED,"Request time out"));break;case yS.HTTP_ERROR:const d=l.getStatus();if(M(Vn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(_)>=0?_:C.UNKNOWN}(f.status);a(new A(p,f.message))}else a(new A(C.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new A(C.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{M(Vn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);M(Vn,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=mA(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=che(),a=uhe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new fhe({})),this.Eo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=o.join("");M(Vn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,f=!1;const p=new mpe({ro:_=>{f?M(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(M(Vn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),M(Vn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},oo:()=>d.close()}),m=(_,b,E)=>{_.listen(b,y=>{try{E(y)}catch(T){setTimeout(()=>{throw T},0)}})};return m(d,Wg.EventType.OPEN,()=>{f||M(Vn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Wg.EventType.CLOSE,()=>{f||(f=!0,M(Vn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Wg.EventType.ERROR,_=>{f||(f=!0,fi(Vn,`RPC '${e}' stream ${i} transport errored:`,_),p.wo(new A(C.UNAVAILABLE,"The operation could not be completed")))}),m(d,Wg.EventType.MESSAGE,_=>{var b;if(!f){const E=_.data[0];Y(!!E);const y=E,T=y.error||(null===(b=y[0])||void 0===b?void 0:b.error);if(T){M(Vn,`RPC '${e}' stream ${i} received error:`,T);const L=T.status;let j=function(Ke){const pt=zt[Ke];if(void 0!==pt)return h$(pt)}(L),le=T.message;void 0===j&&(j=C.INTERNAL,le="Unknown error status: "+L+" with message "+T.message),f=!0,p.wo(new A(j,le)),d.close()}else M(Vn,`RPC '${e}' stream ${i} received:`,E),p._o(E)}}),m(a,hhe.STAT_EVENT,_=>{_.stat===oH.PROXY?M(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===oH.NOPROXY&&M(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function A_(){return typeof document<"u"?document:null}function zh(n){return new Tfe(n,!0)}class gA{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class vz{constructor(e,t,r,i,o,s,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new gA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===C.RESOURCE_EXHAUSTED?(Ft(t.toString()),Ft("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new A(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return M("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(M("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _pe extends vz{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Afe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:G(),i=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(Y(void 0===c||"string"==typeof c),Zt.fromBase64String(c||"")):(Y(void 0===c||c instanceof Uint8Array),Zt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=void 0===l.code?C.UNKNOWN:h$(l.code);return new A(c,l.message||"")}(s);t=new _$(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=$i(n,r.document.name),o=Vt(r.document.updateTime),s=r.document.createTime?Vt(r.document.createTime):Q.min(),a=new En({mapValue:{fields:r.document.fields}}),l=ut.newFoundDocument(i,o,s,a);t=new h_(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=$i(n,r.document),o=r.readTime?Vt(r.readTime):Q.min(),s=ut.newNoDocument(i,o);t=new h_([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=$i(n,r.document);t=new h_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return G();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new vfe(i,o);t=new g$(r.targetId,s)}}var l;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Q.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?Vt(o.readTime):Q.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Oh(this.serializer),t.addTarget=function(i,o){let s;const a=o.target;if(s=i_(a)?{documents:S$(i,a)}:{query:WS(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=w$(i,o.resumeToken);const l=$S(i,o.expectedCount);null!==l&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(Q.min())>0){s.readTime=Vc(i,o.snapshotVersion.toTimestamp());const l=$S(i,o.expectedCount);null!==l&&(s.expectedCount=l)}return s}(this.serializer,e);const r=function xfe(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Oh(this.serializer),t.removeTarget=e,this.Wo(t)}}class ype extends vz{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Mfe(n,e){return n&&n.length>0?(Y(void 0!==e),n.map(t=>function(r,i){let o=Vt(r.updateTime?r.updateTime:i);return o.isEqual(Q.min())&&(o=Vt(i)),new mfe(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Vt(e.commitTime);return this.listener.cu(r,t)}return Y(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Oh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Nh(n,e){let t;if(e instanceof Fc)t={update:T$(n,e.key,e.value)};else if(e instanceof Lc)t={delete:Ph(n,e.key)};else if(e instanceof Ro)t={update:T$(n,e.key,e.data),updateMask:Ofe(e.fieldMask)};else{if(!(e instanceof LS))return G();t={verify:Ph(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Na)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Fa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Nc)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw G()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Dfe(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:G()),t;var i}(this.serializer,r))};this.Wo(t)}}class vpe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new A(C.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new A(C.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new A(C.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class wpe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ft(t),this.mu=!1):M("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Epe{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var l;Ss(s)&&(M("RemoteStore","Restarting streams for network reachability change."),yield(l=g(function*(c){const u=F(c);u.vu.add(4),yield zc(u),u.bu.set("Unknown"),u.vu.delete(4),yield Gh(u)}),function(c){return l.apply(this,arguments)})(s))}))}),this.bu=new wpe(r,i)}}function Gh(n){return yA.apply(this,arguments)}function yA(){return yA=g(function*(n){if(Ss(n))for(const e of n.Ru)yield e(!0)}),yA.apply(this,arguments)}function zc(n){return vA.apply(this,arguments)}function vA(){return vA=g(function*(n){for(const e of n.Ru)yield e(!1)}),vA.apply(this,arguments)}function M_(n,e){const t=F(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),EA(t)?wA(t):qc(t).Ko()&&bA(t,e))}function qh(n,e){const t=F(n),r=qc(t);t.Au.delete(e),r.Ko()&&bz(t,e),0===t.Au.size&&(r.Ko()?r.jo():Ss(t)&&t.bu.set("Unknown"))}function bA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qc(n).su(e)}function bz(n,e){n.Vu.qt(e),qc(n).iu(e)}function wA(n){n.Vu=new wfe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),qc(n).start(),n.bu.gu()}function EA(n){return Ss(n)&&!qc(n).Uo()&&n.Au.size>0}function Ss(n){return 0===F(n).vu.size}function wz(n){n.Vu=void 0}function Cpe(n){return CA.apply(this,arguments)}function CA(){return CA=g(function*(n){n.Au.forEach((e,t)=>{bA(n,e)})}),CA.apply(this,arguments)}function Ipe(n,e){return IA.apply(this,arguments)}function IA(){return IA=g(function*(n,e){wz(n),EA(n)?(n.bu.Iu(e),wA(n)):n.bu.set("Unknown")}),IA.apply(this,arguments)}function Tpe(n,e,t){return TA.apply(this,arguments)}function TA(){return TA=g(function*(n,e,t){if(n.bu.set("Online"),e instanceof _$&&2===e.state&&e.cause)try{yield(r=g(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){M("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield x_(n,r)}else if(e instanceof h_?n.Vu.Ht(e):e instanceof g$?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Q.min()))try{const r=yield cz(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Zt.EMPTY_BYTE_STRING,c.snapshotVersion)),bz(i,a);const u=new Po(c.target,a,l,c.sequenceNumber);bA(i,u)}),i.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(r){M("RemoteStore","Failed to raise snapshot:",r),yield x_(n,r)}var r}),TA.apply(this,arguments)}function x_(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=g(function*(n,e,t){if(!gs(e))throw e;n.vu.add(1),yield zc(n),n.bu.set("Offline"),t||(t=()=>cz(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){M("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Gh(n)}))}),DA.apply(this,arguments)}function Ez(n,e){return e().catch(t=>x_(n,t,e))}function Gc(n){return SA.apply(this,arguments)}function SA(){return SA=g(function*(n){const e=F(n),t=As(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Dpe(e);)try{const i=yield upe(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,Spe(e,i)}catch(i){yield x_(e,i)}Cz(e)&&Iz(e)}),SA.apply(this,arguments)}function Dpe(n){return Ss(n)&&n.Eu.length<10}function Spe(n,e){n.Eu.push(e);const t=As(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Cz(n){return Ss(n)&&!As(n).Uo()&&n.Eu.length>0}function Iz(n){As(n).start()}function Ape(n){return AA.apply(this,arguments)}function AA(){return AA=g(function*(n){As(n).hu()}),AA.apply(this,arguments)}function Mpe(n){return MA.apply(this,arguments)}function MA(){return MA=g(function*(n){const e=As(n);for(const t of n.Eu)e.uu(t.mutations)}),MA.apply(this,arguments)}function xpe(n,e,t){return xA.apply(this,arguments)}function xA(){return xA=g(function*(n,e,t){const r=n.Eu.shift(),i=BS.from(r,e,t);yield Ez(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Gc(n)}),xA.apply(this,arguments)}function kpe(n,e){return kA.apply(this,arguments)}function kA(){return kA=g(function*(n,e){var t;e&&As(n).ou&&(yield(t=g(function*(r,i){if(d$(o=i.code)&&o!==C.ABORTED){const s=r.Eu.shift();As(r).Qo(),yield Ez(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Gc(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),Cz(n)&&Iz(n)}),kA.apply(this,arguments)}function Tz(n,e){return RA.apply(this,arguments)}function RA(){return RA=g(function*(n,e){const t=F(n);t.asyncQueue.verifyOperationInProgress(),M("RemoteStore","RemoteStore received new credentials");const r=Ss(t);t.vu.add(3),yield zc(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Gh(t)}),RA.apply(this,arguments)}function OA(){return OA=g(function*(n,e){const t=F(n);e?(t.vu.delete(2),yield Gh(t)):e||(t.vu.add(2),yield zc(t),t.bu.set("Unknown"))}),OA.apply(this,arguments)}function qc(n){return n.Su||(n.Su=function(e,t,r){const i=F(e);return i.fu(),new _pe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Cpe.bind(null,n),ao:Ipe.bind(null,n),nu:Tpe.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Su.Qo(),EA(n)?wA(n):n.bu.set("Unknown")):(yield n.Su.stop(),wz(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function As(n){return n.Du||(n.Du=function(e,t,r){const i=F(e);return i.fu(),new ype(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Ape.bind(null,n),ao:kpe.bind(null,n),au:Mpe.bind(null,n),cu:xpe.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Du.Qo(),yield Gc(n)):(yield n.Du.stop(),n.Eu.length>0&&(M("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class NA{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new NA(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new A(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wc(n,e){if(Ft("AsyncQueue",`${e}: ${n}`),gs(n))return new A(C.UNAVAILABLE,`${e}: ${n}`);throw n}class Kc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||N.comparator(t.key,r.key):(t,r)=>N.comparator(t.key,r.key),this.keyedMap=Dh(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new Kc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Kc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Dz{constructor(){this.Cu=new rt(N.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):G():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Yc{constructor(e,t,r,i,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Yc(e,t,Kc.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Rpe{constructor(){this.Nu=void 0,this.listeners=[]}}class Ppe{constructor(){this.queries=new ko(e=>qH(e),Ih),this.onlineState="Unknown",this.ku=new Set}}function LA(){return LA=g(function*(n,e){const t=F(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new Rpe),i)try{o.Nu=yield t.onListen(r)}catch(s){const a=Wc(s,`Initialization of query '${NS(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&UA(t)}),LA.apply(this,arguments)}function BA(){return BA=g(function*(n,e){const t=F(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),BA.apply(this,arguments)}function Ope(n,e){const t=F(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&UA(t)}function Npe(n,e,t){const r=F(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function UA(n){n.ku.forEach(e=>{e.next()})}class jA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Mz{constructor(e){this.key=e}}class xz{constructor(e){this.key=e}}class kz{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=fe(),this.mutatedKeys=fe(),this.tc=KH(e),this.ec=new Kc(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Dz,i=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=Th(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.rc(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.tc(f,l)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(s=s.add(f),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return f(d)-f(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,0!==o.length||l?{snapshot:new Yc(this.query,e.ec,i,o,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Dz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=fe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new xz(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new Mz(r))}),t}hc(e){this.Yu=e.ir,this.Zu=fe();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Yc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Vpe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Bpe{constructor(e){this.key=e,this.fc=!1}}class Upe{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new ko(a=>qH(a),Ih),this._c=new Map,this.mc=new Set,this.gc=new rt(N.comparator),this.yc=new Map,this.Ic=new tA,this.Tc={},this.Ec=new Map,this.Ac=Ha.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function jpe(n,e){return HA.apply(this,arguments)}function HA(){return HA=g(function*(n,e){const t=dM(n);let r,i;const o=t.wc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield Hc(t.localStore,er(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield $A(t,e,r,"current"===a,s.resumeToken),t.isPrimaryClient&&M_(t.remoteStore,s)}return i}),HA.apply(this,arguments)}function $A(n,e,t,r,i){return zA.apply(this,arguments)}function zA(){return zA=g(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=g(function*(m,_,b,E){let y=_.view.sc(b);y.zi&&(y=yield I_(m.localStore,_.query,!1).then(({documents:j})=>_.view.sc(j,y)));const T=E&&E.targetChanges.get(_.targetId),L=_.view.applyChanges(y,m.isPrimaryClient,T);return eM(m,_.targetId,L.cc),L.snapshot}),function(m,_,b,E){return p.apply(this,arguments)})(n,d,h,f);var p};const o=yield I_(n.localStore,e,!0),s=new kz(e,o.ir),a=s.sc(o.documents),l=Rh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=s.applyChanges(a,n.isPrimaryClient,l);eM(n,t,c.cc);const u=new Vpe(e,t,s);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),zA.apply(this,arguments)}function Hpe(n,e){return GA.apply(this,arguments)}function GA(){return GA=g(function*(n,e){const t=F(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(o=>!Ih(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $c(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),qh(t.remoteStore,r.targetId),Qc(t,r.targetId)}).catch(ms))):(Qc(t,r.targetId),yield $c(t.localStore,r.targetId,!0))}),GA.apply(this,arguments)}function qA(){return qA=g(function*(n,e,t){const r=hM(n);try{const i=yield function(o,s){const a=F(o),l=Ct.now(),c=s.reduce((h,f)=>h.add(f.key),fe());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=gr(),p=fe();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((_,b)=>{b.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const _=[];for(const b of s){const E=_fe(b,u.get(b.key).overlayedDocument);null!=E&&_.push(new Ro(b.key,E,RH(E.value.mapValue),ft.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,s)}).next(m=>{d=m;const _=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,_)})}).then(()=>({batchId:d.batchId,changes:QH(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new rt(ie)),l=l.insert(s,a),o.Tc[o.currentUser.toKey()]=l}(r,i.batchId,t),yield Oo(r,i.changes),yield Gc(r.remoteStore)}catch(i){const o=Wc(i,"Failed to persist write");t.reject(o)}}),qA.apply(this,arguments)}function Rz(n,e){return WA.apply(this,arguments)}function WA(){return WA=g(function*(n,e){const t=F(n);try{const r=yield cpe(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.yc.get(o);s&&(Y(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?Y(s.fc):i.removedDocuments.size>0&&(Y(s.fc),s.fc=!1))}),yield Oo(t,r,e)}catch(r){yield ms(r)}}),WA.apply(this,arguments)}function Pz(n,e,t){const r=F(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=F(o);a.onlineState=s;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(s)&&(l=!0)}),l&&UA(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zpe(n,e,t){return KA.apply(this,arguments)}function KA(){return KA=g(function*(n,e,t){const r=F(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new rt(N.comparator);s=s.insert(o,ut.newNoDocument(o,Q.min()));const a=fe().add(o),l=new kh(Q.min(),new Map,new rt(ie),s,a);yield Rz(r,l),r.gc=r.gc.remove(o),r.yc.delete(e),tM(r)}else yield $c(r.localStore,e,!1).then(()=>Qc(r,e,t)).catch(ms)}),KA.apply(this,arguments)}function Gpe(n,e){return YA.apply(this,arguments)}function YA(){return YA=g(function*(n,e){const t=F(n),r=e.batch.batchId;try{const i=yield lpe(t.localStore,e);JA(t,r,null),ZA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Oo(t,i)}catch(i){yield ms(i)}}),YA.apply(this,arguments)}function qpe(n,e,t){return QA.apply(this,arguments)}function QA(){return QA=g(function*(n,e,t){const r=F(n);try{const i=yield function(o,s){const a=F(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,s).next(u=>(Y(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);JA(r,e,t),ZA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Oo(r,i)}catch(i){yield ms(i)}}),QA.apply(this,arguments)}function ZA(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function JA(n,e,t){const r=F(n);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Qc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Oz(n,r)})}function Oz(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(qh(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),tM(n))}function eM(n,e,t){for(const r of t)r instanceof Mz?(n.Ic.addReference(r.key,e),Kpe(n,r)):r instanceof xz?(M("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Oz(n,r.key)):G()}function Kpe(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(M("SyncEngine","New document in limbo: "+t),n.mc.add(r),tM(n))}function tM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new N(xe.fromString(e)),r=n.Ac.next();n.yc.set(r,new Bpe(t)),n.gc=n.gc.insert(t,r),M_(n.remoteStore,new Po(er(Pc(t.path)),r,"TargetPurposeLimboResolution",Rr.ct))}}function Oo(n,e,t){return nM.apply(this,arguments)}function nM(){return nM=g(function*(n,e,t){const r=F(n),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,l)=>{s.push(r.Rc(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=sA.Li(l.targetId,c);o.push(u)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=g(function*(l,c){const u=F(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!gs(d))throw d;M("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,o))}),nM.apply(this,arguments)}function Ype(n,e){return rM.apply(this,arguments)}function rM(){return rM=g(function*(n,e){const t=F(n);if(!t.currentUser.isEqual(e)){M("SyncEngine","User change. New user:",e.toKey());const r=yield lz(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new A(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oo(t,r.er)}var i}),rM.apply(this,arguments)}function Qpe(n,e){const t=F(n),r=t.yc.get(e);if(r&&r.fc)return fe().add(r.key);{let i=fe();const o=t._c.get(e);if(!o)return i;for(const s of o){const a=t.wc.get(s);i=i.unionWith(a.view.nc)}return i}}function dM(n){const e=F(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qpe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zpe.bind(null,e),e.dc.nu=Ope.bind(null,e.eventManager),e.dc.Pc=Npe.bind(null,e.eventManager),e}function hM(n){const e=F(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qpe.bind(null,e),e}class k_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.serializer=zh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function az(n,e,t,r){return new ape(n,e,t,r)}(this.persistence,new sz,e.initialUser,this.serializer)}createPersistence(e){return new nA(w_.zs,this.serializer)}createSharedClientState(e){return new gz}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xc{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Pz(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ype.bind(null,r.syncEngine),yield function PA(n,e){return OA.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ppe}createDatastore(e){const t=zh(e.databaseInfo.databaseId),r=new gpe(e.databaseInfo);return new vpe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>Pz(this.syncEngine,a,0),s=_z.D()?new _z:new fpe,new Epe(t,r,i,o,s);var t,r,i,o,s}createSyncEngine(e,t){return function(r,i,o,s,a,l,c){const u=new Upe(r,i,o,s,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=g(function*(t){const r=F(t);M("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield zc(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class R_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ft("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cme{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=cH.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=g(function*(a){M("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(M("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Wc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function P_(n,e){return fM.apply(this,arguments)}function fM(){return fM=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),M("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(o){r.isEqual(o)||(yield lz(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),fM.apply(this,arguments)}function pM(n,e){return mM.apply(this,arguments)}function mM(){return mM=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield gM(n);M("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Tz(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Tz(e.remoteStore,o)),n._onlineComponents=e}),mM.apply(this,arguments)}function Uz(n){return"FirebaseError"===n.name?n.code===C.FAILED_PRECONDITION||n.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function gM(n){return _M.apply(this,arguments)}function _M(){return _M=g(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){M("FirestoreClient","Using user provided OfflineComponentProvider");try{yield P_(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Uz(t))throw t;fi("Error using user provided cache. Falling back to memory cache: "+t),yield P_(n,new k_)}}else M("FirestoreClient","Using default OfflineComponentProvider"),yield P_(n,new k_);return n._offlineComponents}),_M.apply(this,arguments)}function O_(n){return yM.apply(this,arguments)}function yM(){return yM=g(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(M("FirestoreClient","Using user provided OnlineComponentProvider"),yield pM(n,n._uninitializedComponentsProvider._online)):(M("FirestoreClient","Using default OnlineComponentProvider"),yield pM(n,new Xc))),n._onlineComponents}),yM.apply(this,arguments)}function Zc(n){return bM.apply(this,arguments)}function bM(){return bM=g(function*(n){const e=yield O_(n),t=e.eventManager;return t.onListen=jpe.bind(null,e.syncEngine),t.onUnlisten=Hpe.bind(null,e.syncEngine),t}),bM.apply(this,arguments)}function qz(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Wz=new Map;function wM(n,e,t){if(!t)throw new A(C.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Kz(n){if(!N.isDocumentKey(n))throw new A(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function F_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":G()}function Ae(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new A(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=F_(n);throw new A(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Xz{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new A(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new A(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function yme(n,e,t,r){if(!0===e&&!0===r)throw new A(C.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=qz(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new A(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new A(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new A(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new A(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xz(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ghe;switch(t.type){case"firstParty":return new bhe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new A(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Wz.get(e);t&&(M("ComponentProvider","Removing Datastore"),Wz.delete(e),t.terminate())}(this),Promise.resolve()}}class Bt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class Cn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cn(this.firestore,e,this._query)}}class zi extends Cn{constructor(e,t,r){super(e,t,Pc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new N(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function Zz(n,e,...t){if(n=bt(n),1===arguments.length&&(e=cH.A()),wM("doc","path",e),n instanceof Wh){const r=xe.fromString(e,...t);return Kz(r),new Bt(n,null,new N(r))}{if(!(n instanceof Bt||n instanceof zi))throw new A(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xe.fromString(e,...t));return Kz(r),new Bt(n.firestore,n instanceof zi?n.converter:null,new N(r))}}class bme{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new gA(this,"async_queue_retry"),this.Xc=()=>{const t=A_();t&&M("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=A_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=A_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Xt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!gs(t))throw t;M("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ft("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=NA.createAndSchedule(this,e,t,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&G()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function EM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class dt extends Wh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new bme,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||e4(this),this._firestoreClient.terminate()}}function Eme(n,e){const r="string"==typeof n?n:e||"(default)",i=ua("object"==typeof n?n:hm(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=wL("firestore");o&&function vme(n,e,t,r={}){var i;const o=(n=Ae(n,Wh))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&fi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=an.MOCK_USER;else{a=IL(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new A(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(c)}n._authCredentials=new _he(new aH(a,l))}}(i,...o)}return i}function Gt(n){return n._firestoreClient||e4(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function e4(n){var e,t,r;const i=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Qhe(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,qz(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new cme(n._authCredentials,n._appCheckCredentials,n._queue,o),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new za(Zt.fromBase64String(e))}catch(t){throw new A(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new za(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new A(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class CM{constructor(e){this._methodName=e}}class IM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new A(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new A(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}const Ime=/^__.*__$/;class Tme{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ro(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fc(e,this.data,t,this.fieldTransforms)}}class r4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ro(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function o4(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class L_{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new L_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return B_(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(o4(this.ca)&&Ime.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Dme{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||zh(e)}ya(e,t,r,i=!1){return new L_({ca:e,methodName:t,ga:r,path:Lt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eu(n){const e=n._freezeSettings(),t=zh(n._databaseId);return new Dme(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TM(n,e,t,r,i,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,i);SM("Data must be an object, but it was:",s,r);const a=u4(r,s);let l,c;if(o.merge)l=new mr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=Qh(e,d,t);if(!s.contains(h))throw new A(C.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);h4(u,h)||u.push(h)}l=new mr(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new Tme(new En(a),l,c)}class Yh extends CM{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function Ga(n,e){if(d4(n=bt(n)))return SM("Unsupported field value:",e,n),u4(n,e);if(n instanceof CM)return function(t,r){if(!o4(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const s of t){let a=Ga(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=bt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return e$(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ct.fromDate(t);return{timestampValue:Vc(r.serializer,i)}}if(t instanceof Ct){const i=new Ct(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Vc(r.serializer,i)}}if(t instanceof IM)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof za)return{bytesValue:w$(r.serializer,t._byteString)};if(t instanceof Bt){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${F_(t)}`)}(n,e)}function u4(n,e){const t={};return CH(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(n,(r,i)=>{const o=Ga(i,e.ha(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function d4(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof IM||n instanceof za||n instanceof Bt||n instanceof CM)}function SM(n,e,t){if(!d4(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=F_(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Qh(n,e,t){if((e=bt(e))instanceof Jc)return e._internalPath;if("string"==typeof e)return V_(n,e);throw B_("Field path arguments must be of type string or ",n,!1,void 0,t)}const xme=new RegExp("[~\\*/\\[\\]]");function V_(n,e,t){if(e.search(xme)>=0)throw B_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jc(...e.split("."))._internalPath}catch{throw B_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function B_(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new A(C.INVALID_ARGUMENT,a+n+l)}function h4(n,e){return n.some(t=>t.isEqual(e))}class AM{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kme(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(U_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kme extends AM{data(){return super.data()}}function U_(n,e){return"string"==typeof e?V_(n,e):e instanceof Jc?e._internalPath:e._delegate._internalPath}class qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nu extends AM{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new z_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(U_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class z_ extends nu{data(e={}){return super.data(e)}}class ru{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new qa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new z_(this._firestore,this._userDataWriter,r.key,r,new qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new A(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new z_(r._firestore,r._userDataWriter,s.doc.key,s.doc,new qa(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new z_(r._firestore,r._userDataWriter,s.doc.key,s.doc,new qa(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==s.type&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:Nme(s.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Nme(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}class Ms extends class Pme{convertValue(e,t="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw G()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return _s(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new IM(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=e_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(vh(e));default:return null}}convertTimestamp(e){const t=ys(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=xe.fromString(e);Y(k$(r));const i=new ka(r.get(1),r.get(3)),o=new N(r.popFirst(5));return i.isEqual(t)||Ft(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,t)}}function Fme(n,e,t){n=Ae(n,Bt);const r=Ae(n.firestore,dt),i=function xM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return Zh(r,[TM(eu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ft.none())])}function Lme(n,e,t,...r){n=Ae(n,Bt);const i=Ae(n.firestore,dt),o=eu(i);let s;return s="string"==typeof(e=bt(e))||e instanceof Jc?function l4(n,e,t,r,i,o){const s=n.ya(1,e,t),a=[Qh(e,r,t)],l=[i];if(o.length%2!=0)throw new A(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Qh(e,o[h])),l.push(o[h+1]);const c=[],u=En.empty();for(let h=a.length-1;h>=0;--h)if(!h4(c,a[h])){const f=a[h];let p=l[h];p=bt(p);const m=s.da(f);if(p instanceof Yh)c.push(f);else{const _=Ga(p,m);null!=_&&(c.push(f),u.set(f,_))}}const d=new mr(c);return new r4(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,r):function a4(n,e,t,r){const i=n.ya(1,e,t);SM("Data must be an object, but it was:",i,r);const o=[],s=En.empty();_s(r,(l,c)=>{const u=V_(e,l,t);c=bt(c);const d=i.da(u);if(c instanceof Yh)o.push(u);else{const h=Ga(c,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new mr(o);return new r4(s,a,i.fieldTransforms)}(o,"updateDoc",n._key,e),Zh(i,[s.toMutation(n._key,ft.exists(!0))])}function Zh(n,e){return function(t,r){const i=new Xt;return t.asyncQueue.enqueueAndForget(g(function*(){return function $pe(n,e,t){return qA.apply(this,arguments)}(yield function vM(n){return O_(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Gt(n),e)}!function(n,e=!0){Sc="9.23.0",Rn(new pn("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),s=new dt(new yhe(t.getProvider("auth-internal")),new whe(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new A(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),at(sH,"3.13.0",n),at(sH,"3.13.0","esm2017")}();var Qme={includeMetadataChanges:!1};function RM(n,e){return void 0===e&&(e=Qme),new Ve(function(t){var r=function Vme(n,...e){var t,r,i;n=bt(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||EM(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(EM(e[s])){const d=e[s];e[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof Bt)c=Ae(n.firestore,dt),u=Pc(n._key.path),l={next:d=>{e[s]&&e[s](function kM(n,e,t){const r=t.docs.get(e._key),i=new Ms(n);return new nu(n,i,e._key,r,new qa(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[s+1],complete:e[s+2]};else{const d=Ae(n,Cn);c=Ae(d.firestore,dt),u=d._query;const h=new Ms(c);l={next:f=>{e[s]&&e[s](new ru(c,h,d,f))},error:e[s+1],complete:e[s+2]},function f4(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new A(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,f,p){const m=new R_(p),_=new jA(h,m,f);return d.asyncQueue.enqueueAndForget(g(function*(){return function FA(n,e){return LA.apply(this,arguments)}(yield Zc(d),_)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(g(function*(){return function VA(n,e){return BA.apply(this,arguments)}(yield Zc(d),_)}))}}(Gt(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Zme(n,e){return void 0===e&&(e={}),function Xme(n){return RM(n,{includeMetadataChanges:!0})}(n).pipe(re(function(t){return function w4(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(t,e)}))}class q_{constructor(e){return e}}const T4="firestore",NM=new R("angularfire2.firestore-instances");function sge(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new q_(r)}}const age={provide:class ige{constructor(){return Cm(T4)}},deps:[[new _t,NM]]},lge={provide:q_,useFactory:function oge(n,e){const t=Em(T4,n,e);return t&&new q_(t)},deps:[[new _t,NM],_a]};let cge=(()=>{class n{constructor(){at("angularfire",yd.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({providers:[lge,age]}),n})();function uge(n,...e){return{ngModule:cge,providers:[{provide:NM,useFactory:sge(n),multi:!0,deps:[se,At,Im,Tm,[new _t,eD],[new _t,Pm],...e]}]}}const dge=Zn(Zme,!0),FM=Zn(Zz,!0),hge=Zn(Eme,!0),fge=Zn(Fme,!0),pge=Zn(Lme,!0);let LM,W_=(()=>{class n{constructor(t,r){this.firestore=t,this.authService=r}get currentUserProfile$(){return this.authService.currentUser$.pipe(Pn(t=>{if(!t?.uid)return W(null);const r=FM(this.firestore,"users",t?.uid);return dge(r)}))}addUser(t){const r=FM(this.firestore,"users",t.uid);return je(fge(r,t))}updateUser(t){const r=FM(this.firestore,"users",t.uid);return je(pge(r,{...t}))}}return n.\u0275fac=function(t){return new(t||n)(I(q_),I(Zm))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{LM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{LM=!1}let iu,_r=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function lJ(n){return n===YF}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!LM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(I(tc))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D4=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function S4(){if(iu)return iu;if("object"!=typeof document||!document)return iu=new Set(D4),iu;let n=document.createElement("input");return iu=new Set(D4.filter(e=>(n.setAttribute("type",e),n.type===e))),iu}let Jh,Wa,VM;function ou(n){return function mge(){if(null==Jh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Jh=!0}))}finally{Jh=Jh||!1}return Jh}()?n:!!n.capture}function gge(){if(null==Wa){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Wa=!1,Wa;if("scrollBehavior"in document.documentElement.style)Wa=!0;else{const n=Element.prototype.scrollTo;Wa=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Wa}function Ka(n){return n.composedPath?n.composedPath()[0]:n.target}function BM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function x4(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function HM(n,e=wm){return gt((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=o;o=null,r.next(c)}};function l(){const c=s+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(new Ze(r,c=>{o=c,s=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function k4(n){return _n((e,t)=>n<=t)}function Nge(n,e){return n===e}function Gi(n){return gt((e,t)=>{jn(n).subscribe(new Ze(t,()=>t.complete(),al)),!t.closed&&e.subscribe(t)})}function tr(n){return null!=n&&"false"!=`${n}`}function Y_(n){return Array.isArray(n)?n:[n]}function qt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function No(n){return n instanceof ze?n.nativeElement:n}let R4=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vge=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=No(t);return new Ve(i=>{const s=this._observeElement(r).subscribe(i);return()=>{s.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new ve,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(I(R4))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bge=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new Pe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=tr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function Fge(n,e=0){return function Lge(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(HM(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(v(Vge),v(ze),v(se))},n.\u0275dir=K({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),P4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({providers:[R4]}),n})();const O4=new Set;let su,Uge=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Hge}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function jge(n){if(!O4.has(n))try{su||(su=document.createElement("style"),su.setAttribute("type","text/css"),document.head.appendChild(su)),su.sheet&&(su.sheet.insertRule(`@media ${n} {body{ }}`,0),O4.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(I(_r))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hge(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let $ge=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new ve}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return N4(Y_(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=rD(N4(Y_(t)).map(s=>this._registerQuery(s).observable));return o=Od(o.pipe(Hn(1)),o.pipe(k4(1),HM(0))),o.pipe(re(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new Ve(s=>{const a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(ls(r),re(({matches:s})=>({query:t,matches:s})),Gi(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(I(Uge),I(se))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function N4(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class Wge extends class qge{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ve,this._typeaheadSubscription=mt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new ve,this.change=new ve,e instanceof Xl&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(wt(t=>this._pressedLetters.push(t)),HM(e),_n(()=>this._pressedLetters.length>0),re(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,s=r[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||x4(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Xl?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function $M(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function zM(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Jge=new R("cdk-input-modality-detector-options"),e_e={ignoreKeys:[18,17,224,91,16]},au=ou({passive:!0,capture:!0});let t_e=(()=>{class n{constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Gr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ka(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next($M(s)?"keyboard":"mouse"),this._mostRecentTarget=Ka(s))},this._onTouchstart=s=>{zM(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ka(s))},this._options={...e_e,...o},this.modalityDetected=this._modality.pipe(k4(1)),this.modalityChanged=this.modalityDetected.pipe(function Oge(n,e=Ho){return n=n??Nge,gt((t,r)=>{let i,o=!0;t.subscribe(new Ze(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,au),i.addEventListener("mousedown",this._onMousedown,au),i.addEventListener("touchstart",this._onTouchstart,au)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,au),document.removeEventListener("mousedown",this._onMousedown,au),document.removeEventListener("touchstart",this._onTouchstart,au))}}return n.\u0275fac=function(t){return new(t||n)(I(_r),I(se),I(we),I(Jge,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const r_e=new R("cdk-focus-monitor-default-options"),Q_=ou({passive:!0,capture:!0});let X_=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ve,this._rootNodeFocusAndBlurListener=a=>{for(let c=Ka(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,r=!1){const i=No(t);if(!this._platform.isBrowser||1!==i.nodeType)return W(null);const o=function yge(n){if(function _ge(){if(null==VM){const n=typeof document<"u"?document.head:null;VM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return VM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new ve,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=No(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=No(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Ka(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Q_),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Q_)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Gi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Q_),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Q_),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(I(se),I(_r),I(t_e),I(we,8),I(r_e,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U4="cdk-high-contrast-black-on-white",j4="cdk-high-contrast-white-on-black",GM="cdk-high-contrast-active";let H4=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=tt($ge).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(GM,U4,j4),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(GM,U4):2===r&&t.add(GM,j4)}}}return n.\u0275fac=function(t){return new(t||n)(I(_r),I(we))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i_e=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(I(H4))},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({imports:[P4]}),n})();const o_e=new R("cdk-dir-doc",{providedIn:"root",factory:function s_e(){return tt(we)}}),a_e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let qM=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Pe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function l_e(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?a_e.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(I(o_e,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ef=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({}),n})();const u_e=new R("mat-sanity-checks",{providedIn:"root",factory:function c_e(){return!0}});let In=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!BM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(I(H4),I(u_e,8),I(we))},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({imports:[ef,ef]}),n})();function G4(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=tr(e)}}}function Z_(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function WM(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=tr(e)}}}function d_e(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}let q4=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class f_e{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const W4={enterDuration:225,exitDuration:150},KM=ou({passive:!0}),K4=["mousedown","touchstart"],Y4=["mouseup","mouseleave","touchend","touchcancel"];class m_e{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=No(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...W4,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=r.radius||function g_e(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f,m=new f_e(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,r.persistent||(this._mostRecentTransientRipple=m);let _=null;return!p&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const b=()=>this._finishRippleTransition(m),E=()=>this._destroyRipple(m);u.addEventListener("transitionend",b),u.addEventListener("transitioncancel",E),_={onTransitionEnd:b,onTransitionCancel:E}}),this._activeRipples.set(m,_),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...W4,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=No(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(K4))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Y4),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=$M(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!zM(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,KM)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(K4.forEach(e=>{this._triggerElement.removeEventListener(e,this,KM)}),this._pointerUpEventsRegistered&&Y4.forEach(e=>{this._triggerElement.removeEventListener(e,this,KM)}))}}const __e=new R("mat-ripple-global-options");let J_=(()=>{class n{constructor(t,r,i,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new m_e(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(v(ze),v(se),v(_r),v(__e,8),v(nc,8))},n.\u0275dir=K({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&kn("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),YM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({imports:[In,In]}),n})();const y_e=["*",[["mat-toolbar-row"]]],v_e=["*","mat-toolbar-row"],b_e=Z_(class{constructor(n){this._elementRef=n}});let w_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),E_e=(()=>{class n extends b_e{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(v(ze),v(_r),v(we))},n.\u0275cmp=Je({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&fn(i,w_e,5),2&t){let o;ot(o=st())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&kn("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[_e],ngContentSelectors:v_e,decls:2,vars:0,template:function(t,r){1&t&&(lo(y_e),hn(0),hn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),C_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({imports:[In,In]}),n})();function Q4(...n){const e=Bk(n),{args:t,keys:r}=SB(n),i=new Ve(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;jn(t[u]).subscribe(new Ze(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?AB(r,a):a),o.complete())}))}});return e?i.pipe(nD(e)):i}class I_e{}class xs{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof xs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new xs;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof xs?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class T_e{encodeKey(e){return X4(e)}encodeValue(e){return X4(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const S_e=/%(\d[a-f0-9])/gi,A_e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function X4(n){return encodeURIComponent(n).replace(S_e,(e,t)=>A_e[t]??e)}function ey(n){return`${n}`}class ks{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new T_e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function D_e(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(ey):[ey(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ks({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ey(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ey(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class M_e{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Z4(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function J4(n){return typeof Blob<"u"&&n instanceof Blob}function e3(n){return typeof FormData<"u"&&n instanceof FormData}class nf{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function x_e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new xs),this.context||(this.context=new M_e),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new ks,this.urlWithParams=t}serializeBody(){return null===this.body?null:Z4(this.body)||J4(this.body)||e3(this.body)||function k_e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ks?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||e3(this.body)?null:J4(this.body)?this.body.type||null:Z4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ks?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new nf(t,r,o,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var Tn=(()=>((Tn=Tn||{})[Tn.Sent=0]="Sent",Tn[Tn.UploadProgress=1]="UploadProgress",Tn[Tn.ResponseHeader=2]="ResponseHeader",Tn[Tn.DownloadProgress=3]="DownloadProgress",Tn[Tn.Response=4]="Response",Tn[Tn.User=5]="User",Tn))();class QM extends class R_e{constructor(e,t=200,r="OK"){this.headers=e.headers||new xs,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Tn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new QM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function XM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let n3=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof nf)o=t;else{let l,c;l=i.headers instanceof xs?i.headers:new xs(i.headers),i.params&&(c=i.params instanceof ks?i.params:new ks({fromObject:i.params})),o=new nf(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=W(o).pipe(us(l=>this.handler.handle(l)));if(t instanceof nf||"events"===i.observe)return s;const a=s.pipe(_n(l=>l instanceof QM));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(re(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(re(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(re(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(re(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ks).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,XM(i,r))}post(t,r,i={}){return this.request("POST",t,XM(i,r))}put(t,r,i={}){return this.request("PUT",t,XM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(I(I_e))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const O_e=["*"];let ty;function rf(n){return function N_e(){if(void 0===ty&&(ty=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(ty=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return ty}()?.createHTML(n)||n}function r3(n){return Error(`Unable to find icon with the name "${n}"`)}function o3(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function s3(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ya{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let ny=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Ya(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const s=this._sanitizer.sanitize(Le.HTML,i);if(!s)throw s3(i);const a=rf(s);return this._addSvgIconConfig(t,r,new Ya("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Ya(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(Le.HTML,r);if(!o)throw s3(r);const s=rf(o);return this._addSvgIconSetConfig(t,new Ya("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Le.RESOURCE_URL,t);if(!r)throw o3(t);const i=this._cachedIconsByUrl.get(r);return i?W(ry(i)):this._loadSvgIconFromConfig(new Ya(t,null)).pipe(wt(o=>this._cachedIconsByUrl.set(r,o)),re(o=>ry(o)))}getNamedSvgIcon(t,r=""){const i=a3(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):hc(r3(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?W(ry(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(re(r=>ry(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?W(i):Q4(r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Co(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Le.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),W(null)})))).pipe(re(()=>{const s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw r3(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(wt(r=>t.svgText=r),re(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?W(null):this._fetchIcon(t).pipe(wt(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,i);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),i);const a=this._svgElementFromString(rf("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(rf("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:s,value:a}=i[o];"id"!==s&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw function F_e(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const s=this._sanitizer.sanitize(Le.RESOURCE_URL,r);if(!s)throw o3(r);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(re(c=>rf(c)),eg(()=>this._inProgressUrlFetches.delete(s)),jk());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(a3(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return V_e(o)?new Ya(o.url,null,o.options):new Ya(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(I(n3,8),I(uE),I(we,8),I(no))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ry(n){return n.cloneNode(!0)}function a3(n,e){return n+":"+e}function V_e(n){return!(!n.url||!n.options)}const B_e=Z_(class{constructor(n){this._elementRef=n}}),U_e=new R("MAT_ICON_DEFAULT_OPTIONS"),j_e=new R("mat-icon-location",{providedIn:"root",factory:function H_e(){const n=tt(we),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),l3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$_e=l3.map(n=>`[${n}]`).join(", "),z_e=/^url\(['"]?#(.*?)['"]?\)$/;let c3=(()=>{class n extends B_e{constructor(t,r,i,o,s,a){super(t),this._iconRegistry=r,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=mt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=tr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll($_e),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)l3.forEach(s=>{const a=r[o],l=a.getAttribute(s),c=l?l.match(z_e):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Hn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(v(ze),v(ny),Wo("aria-hidden"),v(j_e),v(no),v(U_e,8))},n.\u0275cmp=Je({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(yt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),kn("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[_e],ngContentSelectors:O_e,decls:1,vars:0,template:function(t,r){1&t&&(lo(),hn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),G_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({imports:[In,In]}),n})();const q_e=["mat-button",""],W_e=["*"],Y_e=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Q_e=Z_(G4(WM(class{constructor(n){this._elementRef=n}})));let ZM,iy=(()=>{class n extends Q_e{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of Y_e)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(v(ze),v(X_),v(nc,8))},n.\u0275cmp=Je({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&co(J_,5),2&t){let i;ot(i=st())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(yt("disabled",r.disabled||null),kn("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[_e],attrs:q_e,ngContentSelectors:W_e,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(lo(),k(0,"span",0),hn(1),P(),De(2,"span",1)(3,"span",2)),2&t&&(z(2),kn("mat-button-ripple-round",r.isRoundButton||r.isIconButton),$("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[J_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),X_e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({imports:[YM,In,In]}),n})(),Z_e=1;const oy={};function u3(n){return n in oy&&(delete oy[n],!0)}const J_e={setImmediate(n){const e=Z_e++;return oy[e]=!0,ZM||(ZM=Promise.resolve()),ZM.then(()=>u3(e)&&n()),e},clearImmediate(n){u3(n)}},{setImmediate:eye,clearImmediate:tye}=J_e,sy={setImmediate(...n){const{delegate:e}=sy;return(e?.setImmediate||eye)(...n)},clearImmediate(n){const{delegate:e}=sy;return(e?.clearImmediate||tye)(n)},delegate:void 0},JM=new class rye extends bm{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const o=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<o&&(e=t.shift()));if(this._active=!1,r){for(;++i<o&&(e=t.shift());)e.unsubscribe();throw r}}}(class nye extends vm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=sy.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(sy.clearImmediate(t),e._scheduled=void 0)}});function d3(n,e){return e?t=>Od(e.pipe(Hn(1),function iye(){return gt((n,e)=>{n.subscribe(new Ze(e,al))})}()),t.pipe(d3(n))):Ot((t,r)=>n(t,r).pipe(Hn(1),OB(t)))}function h3(n=0,e,t=WV){let r=-1;return null!=e&&(Vk(e)?t=e:r=e),new Ve(i=>{let o=function oye(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function f3(n,e=wm){const t=h3(n,e);return d3(()=>t)}class p3{}const Fo="*";function ay(n,e){return{type:7,name:n,definitions:e,options:{}}}function lu(n,e=null){return{type:4,styles:e,timings:n}}function m3(n,e=null){return{type:2,steps:n,options:e}}function nr(n){return{type:6,styles:n,offset:null}}function sf(n,e,t){return{type:0,name:n,styles:e,options:t}}function cu(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function g3(n){Promise.resolve(null).then(n)}class af{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){g3(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class _3{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?g3(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class tx{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class lye extends tx{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class y3 extends tx{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class cye extends tx{constructor(e){super(),this.element=e instanceof ze?e.nativeElement:e}}class dye extends class uye{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof lye?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof y3?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof cye?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||At.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let hye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({}),n})();const fye=["addListener","removeListener"],pye=["addEventListener","removeEventListener"],mye=["on","off"];function ly(n,e,t,r){if(Re(t)&&(r=t,t=void 0),r)return ly(n,e,t).pipe(nD(r));const[i,o]=function yye(n){return Re(n.addEventListener)&&Re(n.removeEventListener)}(n)?pye.map(s=>a=>n[s](e,a,t)):function gye(n){return Re(n.addListener)&&Re(n.removeListener)}(n)?fye.map(v3(n,e)):function _ye(n){return Re(n.on)&&Re(n.off)}(n)?mye.map(v3(n,e)):[];if(!i&&rv(n))return Ot(s=>ly(s,e,t))(jn(n));if(!i)throw new TypeError("Invalid event target");return new Ve(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function v3(n,e){return t=>r=>n[t](e,r)}const lf={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=lf;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new mt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=lf;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=lf;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class bye extends bm{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const o=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<o&&(e=t.shift()));if(this._active=!1,r){for(;++i<o&&(e=t.shift());)e.unsubscribe();throw r}}}(class vye extends vm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=lf.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(lf.cancelAnimationFrame(t),e._scheduled=void 0)}});function b3(n,e=WV){return function Eye(n){return gt((e,t)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const c=i;i=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(new Ze(t,c=>{r=!0,i=c,o||jn(n(c)).subscribe(o=new Ze(t,a,l))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>h3(n,e))}let Iye=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new ve,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ve(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(b3(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):W()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(_n(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=No(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ly(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(I(se),I(_r),I(we,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w3=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new ve,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(b3(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(I(_r),I(se),I(we,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({}),n})(),E3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({imports:[ef,cy,ef,cy]}),n})();const C3=gge();class Dye{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=qt(-this._previousScrollPosition.left),e.style.top=qt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),C3&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),C3&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Sye{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class I3{enable(){}disable(){}attach(){}}function nx(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function T3(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Aye{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();nx(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Mye=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new I3,this.close=s=>new Sye(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Dye(this._viewportRuler,this._document),this.reposition=s=>new Aye(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(I(Iye),I(w3),I(se),I(we))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class D3{constructor(e){if(this.scrollStrategy=new I3,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class xye{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let S3=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(I(we))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kye=(()=>{class n extends S3{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(I(we),I(se,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rye=(()=>{class n extends S3{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ka(o)},this._clickListener=o=>{const s=Ka(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(I(we),I(_r),I(se,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A3=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||BM()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),BM()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(I(we),I(_r))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Pye{constructor(e,t,r,i,o,s,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new ve,this._attachments=new ve,this._detachments=new ve,this._locationChanges=mt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new ve,this._outsidePointerEvents=new ve,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Hn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=qt(this._config.width),e.height=qt(this._config.height),e.minWidth=qt(this._config.minWidth),e.minHeight=qt(this._config.minHeight),e.maxWidth=qt(this._config.maxWidth),e.maxHeight=qt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Y_(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Gi(cl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const M3="cdk-overlay-connected-position-bounding-box",Oye=/([A-Za-z%]+)$/;class Nye{constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ve,this._resizeSubscription=mt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(M3),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qa(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(M3),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?s:a}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=k3(t);let{x:s,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(s+=l),c&&(a+=c);let h=0-a,f=a+o.height-r.height,p=this._subtractOverflows(o.width,0-s,s+o.width-r.width),m=this._subtractOverflows(o.height,h,f),_=p*m;return{visibleArea:_,isCompletelyWithinViewport:o.width*o.height===_,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,s=x3(this._overlayRef.getConfig().minHeight),a=x3(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=o;return(e.fitsInViewportVertically||null!=s&&s<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=k3(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),l=Math.max(o.top-r.top-e.y,0),c=Math.max(o.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-r.left-e.x:0,d=i.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new xye(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=r.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;o=2*f,s=e.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=qt(r.height),i.top=qt(r.top),i.bottom=qt(r.bottom),i.width=qt(r.width),i.left=qt(r.left),i.right=qt(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=qt(o)),s&&(i.maxWidth=qt(s))}this._lastBoundingBoxSize=r,Qa(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Qa(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qa(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Qa(r,this._getExactOverlayY(t,e,u)),Qa(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=qt(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=qt(s.maxWidth):o&&(r.maxWidth="")),Qa(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=qt(o.y),i}_getExactOverlayX(e,t,r){let s,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=qt(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:T3(e,r),isOriginOutsideView:nx(e,r),isOverlayClipped:T3(t,r),isOverlayOutsideView:nx(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Y_(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ze)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Qa(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function x3(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Oye);return t&&"px"!==t?null:parseFloat(e)}return n||null}function k3(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const R3="cdk-global-overlay-wrapper";class Fye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(R3),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",m="";l?m="flex-start":"center"===u?(m="center",h?p=d:f=d):h?"left"===u||"end"===u?(m="flex-end",f=d):("right"===u||"start"===u)&&(m="flex-start",p=d):"left"===u||"start"===u?(m="flex-start",f=d):("right"===u||"end"===u)&&(m="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=m,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(R3),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Lye=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new Fye}flexibleConnectedTo(t){return new Nye(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(I(w3),I(we),I(_r),I(A3))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vye=0,cf=(()=>{class n{constructor(t,r,i,o,s,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new D3(t);return s.direction=s.direction||this._directionality.value,new Pye(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Vye++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ra)),new dye(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(I(Mye),I(A3),I(Ys),I(Lye),I(kye),I(At),I(se),I(we),I(qM),I(jp),I(Rye),I(nc,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const jye={provide:new R("cdk-connected-overlay-scroll-strategy"),deps:[cf],useFactory:function Uye(n){return()=>n.scrollStrategies.reposition()}};let P3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({providers:[cf,jye],imports:[ef,hye,E3,E3]}),n})();const Hye=["mat-menu-item",""];function $ye(n,e){1&n&&(function pR(){oe.lFrame.currentNamespace="svg"}(),k(0,"svg",2),De(1,"polygon",3),P())}const O3=["*"];function zye(n,e){if(1&n){const t=Zo();k(0,"div",0),Ue("keydown",function(i){return Gn(t),qn(be()._handleKeydown(i))})("click",function(){return Gn(t),qn(be().closed.emit("click"))})("@transformMenu.start",function(i){return Gn(t),qn(be()._onAnimationStart(i))})("@transformMenu.done",function(i){return Gn(t),qn(be()._onAnimationDone(i))}),k(1,"div",1),hn(2),P()()}if(2&n){const t=be();$("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),yt("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const uy={transformMenu:ay("transformMenu",[sf("void",nr({opacity:0,transform:"scale(0.8)"})),cu("void => enter",lu("120ms cubic-bezier(0, 0, 0.2, 1)",nr({opacity:1,transform:"scale(1)"}))),cu("* => void",lu("100ms 25ms linear",nr({opacity:0})))]),fadeInItems:ay("fadeInItems",[sf("showing",nr({opacity:1})),cu("void => *",[nr({opacity:0}),lu("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Gye=new R("MatMenuContent"),rx=new R("MAT_MENU_PANEL"),qye=WM(G4(class{}));let uf=(()=>{class n extends qye{constructor(t,r,i,o,s){super(),this._elementRef=t,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new ve,this._focused=new ve,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),r=t.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(v(ze),v(we),v(X_),v(rx,8),v(li))},n.\u0275cmp=Je({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,r){1&t&&Ue("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(yt("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),kn("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[_e],attrs:Hye,ngContentSelectors:O3,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(lo(),hn(0),De(1,"div",0),he(2,$ye,2,0,"svg",1)),2&t&&(z(1),$("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),z(1),$("ngIf",r._triggersSubmenu))},dependencies:[xi,J_],encapsulation:2,changeDetection:0}),n})();const N3=new R("mat-menu-default-options",{providedIn:"root",factory:function Wye(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Kye=0,df=(()=>{class n{constructor(t,r,i,o){this._elementRef=t,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Xl,this._tabSubscription=mt.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ve,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Pe,this.close=this.closed,this.panelId="mat-menu-panel-"+Kye++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=tr(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=tr(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Wge(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ls(this._directDescendantItems),Pn(t=>cl(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=t.toArray(),o=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[o]&&!i[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(ls(this._directDescendantItems),Pn(r=>cl(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,i=this._keyManager;switch(r){case 27:x4(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(Hn(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(t=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===t,i["mat-menu-after"]="after"===t,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(ls(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(v(ze),v(se),v(N3),v(li))},n.\u0275dir=K({type:n,contentQueries:function(t,r,i){if(1&t&&(fn(i,Gye,5),fn(i,uf,5),fn(i,uf,4)),2&t){let o;ot(o=st())&&(r.lazyContent=o.first),ot(o=st())&&(r._allItems=o),ot(o=st())&&(r.items=o)}},viewQuery:function(t,r){if(1&t&&co(jr,5),2&t){let i;ot(i=st())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),F3=(()=>{class n extends df{constructor(t,r,i,o){super(t,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(v(ze),v(se),v(N3),v(li))},n.\u0275cmp=Je({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&yt("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Ge([{provide:rx,useExisting:n}]),_e],ngContentSelectors:O3,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,r){1&t&&(lo(),he(0,zye,3,6,"ng-template"))},dependencies:[Xw],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[uy.transformMenu,uy.fadeInItems]},changeDetection:0}),n})();const L3=new R("mat-menu-scroll-strategy"),Qye={provide:L3,deps:[cf],useFactory:function Yye(n){return()=>n.scrollStrategies.reposition()}},V3=ou({passive:!0});let Xye=(()=>{class n{constructor(t,r,i,o,s,a,l,c,u){this._overlay=t,this._element=r,this._viewContainerRef=i,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._ngZone=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=mt.EMPTY,this._hoverSubscription=mt.EMPTY,this._menuCloseSubscription=mt.EMPTY,this._handleTouchStart=d=>{zM(d)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Pe,this.onMenuOpen=this.menuOpened,this.menuClosed=new Pe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof df?s:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,V3),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,V3),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const r=this._createOverlay(t),i=r.getConfig(),o=i.positionStrategy;this._setPosition(t,o),i.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),r.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof df&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Gi(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof df?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(_n(i=>"void"===i.toState),Hn(1),Gi(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let r=0,i=t.parentMenu;for(;i;)r++,i=i.parentMenu;t.setElevation(r)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const r=this._getOverlayConfig(t);this._subscribeToPositions(t,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new D3({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,r){t.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",s="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,s)):t.setPositionClasses(o,s)})}_setPosition(t,r){let[i,o]="before"===t.xPosition?["end","start"]:["start","end"],[s,a]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[u,d]=[i,o],h=0;if(this.triggersSubmenu()){if(d=i="before"===t.xPosition?"start":"end",o=u="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const f=this._parentMaterialMenu.items.first;this._parentInnerPadding=f?f._getHostElement().offsetTop:0}h="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(l="top"===s?"bottom":"top",c="top"===a?"bottom":"top");r.withPositions([{originX:i,originY:l,overlayX:u,overlayY:s,offsetY:h},{originX:o,originY:l,overlayX:d,overlayY:s,offsetY:h},{originX:i,originY:c,overlayX:u,overlayY:a,offsetY:-h},{originX:o,originY:c,overlayX:d,overlayY:a,offsetY:-h}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return cl(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:W(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(_n(s=>s!==this._menuItemInstance),_n(()=>this._menuOpen)):W(),r)}_handleMousedown(t){$M(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(_n(t=>t===this._menuItemInstance&&!t.disabled),f3(0,JM)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof df&&this.menu._isAnimating?this.menu._animationDone.pipe(Hn(1),f3(0,JM),Gi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new y3(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(v(cf),v(ze),v(Ar),v(L3),v(rx,8),v(uf,10),v(qM,8),v(X_),v(se))},n.\u0275dir=K({type:n,hostVars:3,hostBindings:function(t,r){1&t&&Ue("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&t&&yt("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen||null)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),B3=(()=>{class n extends Xye{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=dn(n)))(r||n)}}(),n.\u0275dir=K({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[_e]}),n})(),Zye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({providers:[Qye],imports:[cd,In,YM,P3,cy,In]}),n})();function Jye(n,e){if(1&n&&(so(0),k(1,"button",6)(2,"mat-icon"),x(3,"face"),P(),x(4),k(5,"mat-icon"),x(6,"expand_more"),P()(),ao()),2&n){const t=e.ngIf;be();const r=Js(11);z(1),$("matMenuTriggerFor",r),z(3),Cp(" ",t.displayName," ")}}function eve(n,e){1&n&&(k(0,"button",7)(1,"mat-icon"),x(2,"login"),P(),x(3," Login "),P())}let tve=(()=>{class n{constructor(t,r,i){this.authService=t,this.router=r,this.usersService=i,this.user$=this.usersService.currentUserProfile$,this.toolbarColor="primary"}ngOnInit(){this.user$.subscribe(t=>{this.toolbarColor=t?.color||"primary"})}logout(){this.authService.logout().subscribe(()=>{this.router.navigate([""]),window.location.reload()})}}return n.\u0275fac=function(t){return new(t||n)(v(Zm),v(rn),v(W_))},n.\u0275cmp=Je({type:n,selectors:[["app-root"]],decls:20,vars:8,consts:[[4,"ngIf","ngIfElse"],["loginButton",""],[1,"content"],["userMenu","matMenu"],["mat-menu-item","","routerLink","/profile"],["mat-menu-item","",3,"click"],["mat-button","",3,"matMenuTriggerFor"],["mat-button","","routerLink","login"]],template:function(t,r){if(1&t&&(k(0,"mat-toolbar"),Yl(1,"async"),k(2,"h1"),x(3,"Chatsper \u{1f47b}"),P(),he(4,Jye,7,2,"ng-container",0),Yl(5,"async"),he(6,eve,4,0,"ng-template",null,1,xp),P(),k(8,"div",2),De(9,"router-outlet"),P(),k(10,"mat-menu",null,3)(12,"button",4)(13,"mat-icon"),x(14,"account_circle"),P(),x(15," Profile "),P(),k(16,"button",5),Ue("click",function(){return r.logout()}),k(17,"mat-icon"),x(18,"logout"),P(),x(19," Logout "),P()()),2&t){const i=Js(7);let o;dr("background",(null==(o=Ql(1,4,r.user$))?null:o.color)||"primary"),z(4),$("ngIf",Ql(5,6,r.user$))("ngIfElse",i)}},dependencies:[xi,bD,vg,E_e,c3,iy,F3,uf,B3,Xp],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between}.content[_ngcontent-%COMP%]{padding:32px}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px}"]}),n})();function U3(n){return new D(3e3,!1)}function Fve(){return typeof window<"u"&&typeof window.document<"u"}function ix(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Rs(n){switch(n.length){case 0:return new af;case 1:return n[0];default:return new _3(n)}}function j3(n,e,t,r,i=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,f=h&&c||new Map;u.forEach((p,m)=>{let _=m,b=p;if("offset"!==m)switch(_=e.normalizePropertyName(_,s),b){case"!":b=i.get(m);break;case Fo:b=o.get(m);break;default:b=e.normalizeStyleValue(m,_,b,s)}f.set(_,b)}),h||a.push(f),c=f,l=d}),s.length)throw function Ive(n){return new D(3502,!1)}();return a}function ox(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&sx(t,"start",n)));break;case"done":n.onDone(()=>r(t&&sx(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&sx(t,"destroy",n)))}}function sx(n,e,t){const o=ax(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function ax(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Pr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function H3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let lx=(n,e)=>!1,$3=(n,e,t)=>[],z3=null;function cx(n){const e=n.parentNode||n.host;return e===z3?null:e}(ix()||typeof Element<"u")&&(Fve()?(z3=(()=>document.documentElement)(),lx=(n,e)=>{for(;e;){if(e===n)return!0;e=cx(e)}return!1}):lx=(n,e)=>n.contains(e),$3=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Xa=null,G3=!1;const q3=lx,W3=$3;let K3=(()=>{class n{validateStyleProperty(t){return function Vve(n){Xa||(Xa=function Bve(){return typeof document<"u"?document.body:null}()||{},G3=!!Xa.style&&"WebkitAppearance"in Xa.style);let e=!0;return Xa.style&&!function Lve(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Xa.style,!e&&G3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Xa.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return q3(t,r)}getParentElement(t){return cx(t)}query(t,r,i){return W3(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new af(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),ux=(()=>{class n{}return n.NOOP=new K3,n})();const dx="ng-enter",dy="ng-leave",hy="ng-trigger",fy=".ng-trigger",Q3="ng-animating",hx=".ng-animating";function Ps(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fx(parseFloat(e[1]),e[2])}function fx(n,e){return"s"===e?1e3*n:n}function py(n,e,t){return n.hasOwnProperty("duration")?n:function Hve(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(U3()),{duration:0,delay:0,easing:""};i=fx(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=fx(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function nve(){return new D(3100,!1)}()),a=!0),o<0&&(e.push(function rve(){return new D(3101,!1)}()),a=!0),a&&e.splice(l,0,U3())}return{duration:i,delay:o,easing:s}}(n,e,t)}function hf(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function X3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Os(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function J3(n,e,t){return t?e+":"+t+";":""}function eG(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=J3(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=J3(0,qve(t),n.style[t]));n.setAttribute("style",e)}function qi(n,e,t){n.style&&(e.forEach((r,i)=>{const o=mx(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),ix()&&eG(n))}function Za(n,e){n.style&&(e.forEach((t,r)=>{const i=mx(r);n.style[i]=""}),ix()&&eG(n))}function ff(n){return Array.isArray(n)?1==n.length?n[0]:m3(n):n}const px=new RegExp("{{\\s*(.+?)\\s*}}","g");function tG(n){let e=[];if("string"==typeof n){let t;for(;t=px.exec(n);)e.push(t[1]);px.lastIndex=0}return e}function my(n,e,t){const r=n.toString(),i=r.replace(px,(o,s)=>{let a=e[s];return null==a&&(t.push(function ove(n){return new D(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function gy(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Gve=/-+([a-z0-9])/g;function mx(n){return n.replace(Gve,(...e)=>e[1].toUpperCase())}function qve(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Or(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function sve(n){return new D(3004,!1)}()}}function nG(n,e){return window.getComputedStyle(n)[e]}function Zve(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Jve(n,e,t){if(":"==n[0]){const l=function ebe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function bve(n){return new D(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function vve(n){return new D(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(rG(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&e.push(rG(s,i))}(r,t,e)):t.push(n),t}const by=new Set(["true","1"]),wy=new Set(["false","0"]);function rG(n,e){const t=by.has(n)||wy.has(n),r=by.has(e)||wy.has(e);return(i,o)=>{let s="*"==n||n==i,a="*"==e||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?by.has(n):wy.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?by.has(e):wy.has(e)),s&&a}}const tbe=new RegExp("s*:selfs*,?","g");function gx(n,e,t,r){return new nbe(n).build(e,t,r)}class nbe{constructor(e){this._driver=e}build(e,t,r){const i=new obe(t);return this._resetContextStyleTimingState(i),Or(this,ff(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function lve(){return new D(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(function cve(){return new D(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{tG(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(gy(o.values()),t.errors.push(function uve(n,e){return new D(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Or(this,ff(e.animation),t);return{type:1,matchers:Zve(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ja(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Or(this,r,t)),options:Ja(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=Or(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:Ja(e.options)}}visitAnimate(e,t){const r=function abe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return _x(py(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=_x(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=py(t,e);return _x(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:nr({});if(5==o.type)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=nr(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Fo?r.push(a):t.errors.push(new D(3002,!1)):r.push(X3(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(function hve(n,e,t,r,i){return new D(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:i}),t.options&&function zve(n,e,t){const r=e.params||{},i=tG(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function ive(n){return new D(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function fve(){return new D(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,c=0;const u=e.steps.map(b=>{const E=this._makeStyleAst(b,t);let y=null!=E.offset?E.offset:function sbe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(E.styles),T=0;return null!=y&&(o++,T=E.offset=y),l=l||T<0||T>1,a=a||T<c,c=T,s.push(T),E});l&&t.errors.push(function pve(){return new D(3012,!1)}()),a&&t.errors.push(function mve(){return new D(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function gve(){return new D(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,_=m.duration;return u.forEach((b,E)=>{const y=h>0?E==f?1:h*E:s[E],T=y*_;t.currentTime=p+m.delay+T,m.duration=T,this._validateStyleAst(b,t),b.offset=y,r.styles.push(b)}),r}visitReference(e,t){return{type:8,animation:Or(this,ff(e.animation),t),options:Ja(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ja(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ja(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function rbe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(tbe,"")),n=n.replace(/@\*/g,fy).replace(/@\w+/g,t=>fy+"-"+t.slice(1)).replace(/:animating/g,hx),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Pr(t.collectedStyles,t.currentQuerySelector,new Map);const a=Or(this,ff(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ja(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function _ve(){return new D(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:py(e.timings,t.errors,!0);return{type:12,animation:Or(this,ff(e.animation),t),timings:r,options:null}}}class obe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ja(n){return n?(n=hf(n)).params&&(n.params=function ibe(n){return n?hf(n):null}(n.params)):n={},n}function _x(n,e,t){return{duration:n,delay:e,easing:t}}function yx(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Ey{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ube=new RegExp(":enter","g"),hbe=new RegExp(":leave","g");function vx(n,e,t,r,i,o=new Map,s=new Map,a,l,c=[]){return(new fbe).buildKeyframes(n,e,t,r,i,o,s,a,l,c)}class fbe{buildKeyframes(e,t,r,i,o,s,a,l,c,u=[]){c=c||new Ey;const d=new bx(e,t,c,i,o,u,[]);d.options=l;const h=l.delay?Ps(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),Or(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const _=f[m];if(_.element===t){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[yx(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?Ps(r.duration):null,a=null!=r.delay?Ps(r.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Or(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Cy);const s=Ps(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Or(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ps(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Or(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return py(t.params?my(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Ps(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Cy);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),Or(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Or(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Cy={};class bx{constructor(e,t,r,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Iy(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ps(r.duration)),null!=r.delay&&(i.delay=Ps(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=my(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new bx(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Cy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new pbe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(ube,"."+this._enterClassName)).replace(hbe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function yve(n){return new D(3014,!1)}()),a}}class Iy{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Iy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Fo),this._currentKeyframe.set(t,Fo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},s=function mbe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,Fo)}else Os(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=my(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Fo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Os(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===Fo&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const o=e.size?gy(e.values()):[],s=t.size?gy(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return yx(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class pbe extends Iy{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,l=Os(e[0]);l.set("offset",0),o.push(l);const c=Os(e[0]);c.set("offset",sG(a)),o.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Os(e[d]);const f=h.get("offset");h.set("offset",sG((t+f*r)/s)),o.push(h)}r=s,t=0,i="",e=o}return yx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function sG(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class wx{}const gbe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _be extends wx{normalizePropertyName(e,t){return mx(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(gbe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function ave(n,e){return new D(3005,!1)}())}return s+o}}function aG(n,e,t,r,i,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Ex={};class lG{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function ybe(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Ex,p=this.buildStyles(r,a&&a.params||Ex,d),m=l&&l.params||Ex,_=this.buildStyles(i,m,d),b=new Set,E=new Map,y=new Map,T="void"===i,L={params:vbe(m,h),delay:this.ast.options?.delay},j=u?[]:vx(e,t,this.ast.animation,o,s,p,_,L,c,d);let le=0;if(j.forEach(pt=>{le=Math.max(pt.duration+pt.delay,le)}),d.length)return aG(t,this._triggerName,r,i,T,p,_,[],[],E,y,le,d);j.forEach(pt=>{const sr=pt.element,mu=Pr(E,sr,new Set);pt.preStyleProps.forEach(yi=>mu.add(yi));const jo=Pr(y,sr,new Set);pt.postStyleProps.forEach(yi=>jo.add(yi)),sr!==t&&b.add(sr)});const Ke=gy(b.values());return aG(t,this._triggerName,r,i,T,p,_,j,Ke,E,y,le)}}function vbe(n,e){const t=hf(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class bbe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=hf(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=my(s,i,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),r.set(l,s)})}),r}}class Ebe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new bbe(i.style,i.options&&i.options.params||{},r))}),cG(this.states,"true","1"),cG(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new lG(e,i,this.states))}),this.fallbackTransition=function Cbe(n,e,t){return new lG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function cG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Ibe=new Ey;class Tbe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=gx(this._driver,t,r,[]);if(r.length)throw function Tve(n){return new D(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=j3(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=vx(this._driver,t,o,dx,dy,new Map,new Map,r,Ibe,i),s.forEach(u=>{const d=Pr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function Dve(){return new D(3300,!1)}()),s=[]),i.length)throw function Sve(n){return new D(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Fo))})});const c=Rs(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Ave(n){return new D(3301,!1)}();return t}listen(e,t,r,i){const o=ax(t,"","","");return ox(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const uG="ng-animate-queued",Cx="ng-animate-disabled",xbe=[],dG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kbe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Kr="__ng_removed";class Ix{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Nbe(n){return n??null}(r?e.value:e),r){const o=hf(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const pf="void",Tx=new Ix(pf);class Rbe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Yr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Mve(n,e){return new D(3302,!1)}();if(null==r||0==r.length)throw function xve(n){return new D(3303,!1)}();if(!function Fbe(n){return"start"==n||"done"==n}(r))throw function kve(n,e){return new D(3400,!1)}();const o=Pr(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=Pr(this._engine.statesByElement,e,new Map);return a.has(t)||(Yr(e,hy),Yr(e,hy+"-"+t),a.set(t,Tx)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Rve(n){return new D(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new Dx(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Yr(e,hy),Yr(e,hy+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new Ix(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=Tx),c.value!==pf&&l.value===c.value){if(!function Bbe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const m=[],_=o.matchStyles(l.value,l.params,m),b=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Za(e,_),qi(e,b)})}return}const h=Pr(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=o.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(Yr(e,uG),s.onStart(()=>{uu(e,uG)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const _=this._engine.playersByElement.get(e);if(_){let b=_.indexOf(s);b>=0&&_.splice(b,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,fy,!0);r.forEach(i=>{if(i[Kr])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,pf,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Rs(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,c=r.get(s)||Tx,u=new Ix(pf),d=new Dx(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Kr];(!o||o===dG)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Yr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=ax(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,ox(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Pbe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Rbe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(Ty(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ty(t))return;const o=t[Kr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Yr(e,Cx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),uu(e,Cx))}removeNode(e,t,r,i){if(Ty(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Kr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Ty(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,fy,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,hx,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Rs(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Kr];if(t&&t.setForRemoval){if(e[Kr]=dG,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Cx)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Yr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Rs(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Pve(n){return new D(3402,!1)}()}_flushAnimations(e,t){const r=new Ey,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(q=>{u.add(q);const X=this.driver.query(q,".ng-animate-queued",!0);for(let te=0;te<X.length;te++)u.add(X[te])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=pG(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((q,X)=>{const te=dx+m++;p.set(X,te),q.forEach(Oe=>Yr(Oe,te))});const _=[],b=new Set,E=new Set;for(let q=0;q<this.collectedLeaveElements.length;q++){const X=this.collectedLeaveElements[q],te=X[Kr];te&&te.setForRemoval&&(_.push(X),b.add(X),te.hasAnimation?this.driver.query(X,".ng-star-inserted",!0).forEach(Oe=>b.add(Oe)):E.add(X))}const y=new Map,T=pG(h,Array.from(b));T.forEach((q,X)=>{const te=dy+m++;y.set(X,te),q.forEach(Oe=>Yr(Oe,te))}),e.push(()=>{f.forEach((q,X)=>{const te=p.get(X);q.forEach(Oe=>uu(Oe,te))}),T.forEach((q,X)=>{const te=y.get(X);q.forEach(Oe=>uu(Oe,te))}),_.forEach(q=>{this.processLeaveNode(q)})});const L=[],j=[];for(let q=this._namespaceList.length-1;q>=0;q--)this._namespaceList[q].drainQueuedTransitions(t).forEach(te=>{const Oe=te.player,un=te.element;if(L.push(Oe),this.collectedEnterElements.length){const Un=un[Kr];if(Un&&Un.setForMove){if(Un.previousTriggersValues&&Un.previousTriggersValues.has(te.triggerName)){const ol=Un.previousTriggersValues.get(te.triggerName),Qr=this.statesByElement.get(te.element);if(Qr&&Qr.has(te.triggerName)){const Yy=Qr.get(te.triggerName);Yy.value=ol,Qr.set(te.triggerName,Yy)}}return void Oe.destroy()}}const Yi=!d||!this.driver.containsElement(d,un),Nr=y.get(un),Vs=p.get(un),Tt=this._buildInstruction(te,r,Vs,Nr,Yi);if(Tt.errors&&Tt.errors.length)return void j.push(Tt);if(Yi)return Oe.onStart(()=>Za(un,Tt.fromStyles)),Oe.onDestroy(()=>qi(un,Tt.toStyles)),void i.push(Oe);if(te.isFallbackTransition)return Oe.onStart(()=>Za(un,Tt.fromStyles)),Oe.onDestroy(()=>qi(un,Tt.toStyles)),void i.push(Oe);const F5=[];Tt.timelines.forEach(Un=>{Un.stretchStartingKeyframe=!0,this.disabledNodes.has(Un.element)||F5.push(Un)}),Tt.timelines=F5,r.append(un,Tt.timelines),s.push({instruction:Tt,player:Oe,element:un}),Tt.queriedElements.forEach(Un=>Pr(a,Un,[]).push(Oe)),Tt.preStyleProps.forEach((Un,ol)=>{if(Un.size){let Qr=l.get(ol);Qr||l.set(ol,Qr=new Set),Un.forEach((Yy,gk)=>Qr.add(gk))}}),Tt.postStyleProps.forEach((Un,ol)=>{let Qr=c.get(ol);Qr||c.set(ol,Qr=new Set),Un.forEach((Yy,gk)=>Qr.add(gk))})});if(j.length){const q=[];j.forEach(X=>{q.push(function Ove(n,e){return new D(3505,!1)}())}),L.forEach(X=>X.destroy()),this.reportError(q)}const le=new Map,Ke=new Map;s.forEach(q=>{const X=q.element;r.has(X)&&(Ke.set(X,X),this._beforeAnimationBuild(q.player.namespaceId,q.instruction,le))}),i.forEach(q=>{const X=q.element;this._getPreviousPlayers(X,!1,q.namespaceId,q.triggerName,null).forEach(Oe=>{Pr(le,X,[]).push(Oe),Oe.destroy()})});const pt=_.filter(q=>gG(q,l,c)),sr=new Map;fG(sr,this.driver,E,c,Fo).forEach(q=>{gG(q,l,c)&&pt.push(q)});const jo=new Map;f.forEach((q,X)=>{fG(jo,this.driver,new Set(q),l,"!")}),pt.forEach(q=>{const X=sr.get(q),te=jo.get(q);sr.set(q,new Map([...Array.from(X?.entries()??[]),...Array.from(te?.entries()??[])]))});const yi=[],gu=[],_u={};s.forEach(q=>{const{element:X,player:te,instruction:Oe}=q;if(r.has(X)){if(u.has(X))return te.onDestroy(()=>qi(X,Oe.toStyles)),te.disabled=!0,te.overrideTotalTime(Oe.totalTime),void i.push(te);let un=_u;if(Ke.size>1){let Nr=X;const Vs=[];for(;Nr=Nr.parentNode;){const Tt=Ke.get(Nr);if(Tt){un=Tt;break}Vs.push(Nr)}Vs.forEach(Tt=>Ke.set(Tt,un))}const Yi=this._buildAnimation(te.namespaceId,Oe,le,o,jo,sr);if(te.setRealPlayer(Yi),un===_u)yi.push(te);else{const Nr=this.playersByElement.get(un);Nr&&Nr.length&&(te.parentPlayer=Rs(Nr)),i.push(te)}}else Za(X,Oe.fromStyles),te.onDestroy(()=>qi(X,Oe.toStyles)),gu.push(te),u.has(X)&&i.push(te)}),gu.forEach(q=>{const X=o.get(q.element);if(X&&X.length){const te=Rs(X);q.setRealPlayer(te)}}),i.forEach(q=>{q.parentPlayer?q.syncPlayerEvents(q.parentPlayer):q.destroy()});for(let q=0;q<_.length;q++){const X=_[q],te=X[Kr];if(uu(X,dy),te&&te.hasAnimation)continue;let Oe=[];if(a.size){let Yi=a.get(X);Yi&&Yi.length&&Oe.push(...Yi);let Nr=this.driver.query(X,hx,!0);for(let Vs=0;Vs<Nr.length;Vs++){let Tt=a.get(Nr[Vs]);Tt&&Tt.length&&Oe.push(...Tt)}}const un=Oe.filter(Yi=>!Yi.destroyed);un.length?Lbe(this,X,un):this.processLeaveNode(X)}return _.length=0,yi.forEach(q=>{this.players.push(q),q.onDone(()=>{q.destroy();const X=this.players.indexOf(q);this.players.splice(X,1)}),q.play()}),yi}elementContainsData(e,t){let r=!1;const i=t[Kr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==pf;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,d=Pr(r,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Za(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const _=m[Kr];if(_&&_.removedBeforeQueried)return new af(p.duration,p.delay);const b=m!==l,E=function Vbe(n){const e=[];return mG(n,e),e}((r.get(m)||xbe).map(le=>le.getRealPlayer())).filter(le=>!!le.element&&le.element===m),y=o.get(m),T=s.get(m),L=j3(0,this._normalizer,0,p.keyframes,y,T),j=this._buildPlayer(p,L,E);if(p.subTimeline&&i&&d.add(m),b){const le=new Dx(e,a,m);le.setRealPlayer(j),c.push(le)}return j});c.forEach(p=>{Pr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Obe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Yr(p,Q3));const f=Rs(h);return f.onDestroy(()=>{u.forEach(p=>uu(p,Q3)),qi(l,t.toStyles)}),d.forEach(p=>{Pr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new af(e.duration,e.delay)}}class Dx{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new af,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>ox(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Pr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ty(n){return n&&1===n.nodeType}function hG(n,e){const t=n.style.display;return n.style.display=e??"none",t}function fG(n,e,t,r,i){const o=[];t.forEach(l=>o.push(hG(l)));const s=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[Kr]=kbe,s.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>hG(l,o[a++])),s}function pG(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function Yr(n,e){n.classList?.add(e)}function uu(n,e){n.classList?.remove(e)}function Lbe(n,e,t){Rs(t).onDone(()=>n.processLeaveNode(e))}function mG(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof _3?mG(r.players,e):e.push(r)}}function gG(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class Dy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new Pbe(e,t,r),this._timelineEngine=new Tbe(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],u=gx(this._driver,o,l,[]);if(l.length)throw function Cve(n,e){return new D(3404,!1)}();a=function wbe(n,e,t){return new Ebe(n,e,t)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=H3(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=H3(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let jbe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&qi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qi(this._element,this._initialStyles),this._endStyles&&(qi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Za(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Za(this._element,this._endStyles),this._endStyles=null),qi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Sx(n){let e=null;return n.forEach((t,r)=>{(function Hbe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class _G{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:nG(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $be{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return q3(e,t)}getParentElement(e){return cx(e)}query(e,t,r){return W3(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(f=>f instanceof _G);(function Wve(n,e){return 0===n||0===e})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function $ve(n){return n.length?n[0]instanceof Map?n:n.map(e=>X3(e)):[]}(t).map(f=>Os(f));d=function Kve(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,nG(n,a)))}}return e}(e,d,c);const h=function Ube(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Sx(e[0]),e.length>1&&(r=Sx(e[e.length-1]))):e instanceof Map&&(t=Sx(e)),t||r?new jbe(n,t,r):null}(e,d);return new _G(e,d,l,h)}}let zbe=(()=>{class n extends p3{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Jr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?m3(t):t;return yG(this._renderer,null,r,"register",[i]),new Gbe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(I(Uu),I(we))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class Gbe extends class sye{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new qbe(this._id,e,t||{},this._renderer)}}class qbe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return yG(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function yG(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const vG="@.disabled";let Wbe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(o);return u||(u=new bG("",o,this.engine),this._rendererCache.set(o,u)),u}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,t,u.name,u)};return r.data.animation.forEach(l),new Kbe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(I(Uu),I(Dy),I(se))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class bG{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==vG?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Kbe extends bG{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==vG?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Ybe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Qbe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Xbe=(()=>{class n extends Dy{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(I(we),I(ux),I(wx),I(ra))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const wG=[{provide:p3,useClass:zbe},{provide:wx,useFactory:function Zbe(){return new _be}},{provide:Dy,useClass:Xbe},{provide:Uu,useFactory:function Jbe(n,e,t){return new Wbe(n,e,t)},deps:[nm,Dy,se]}],Ax=[{provide:ux,useFactory:()=>new $be},{provide:nc,useValue:"BrowserAnimations"},...wG],EG=[{provide:ux,useClass:K3},{provide:nc,useValue:"NoopAnimations"},...wG];let ewe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?EG:Ax}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({providers:Ax,imports:[hL]}),n})();function twe(n,e){if(1&n&&(k(0,"h1"),x(1," Welcome! "),k(2,"span"),x(3),P()()),2&n){const t=e.ngIf;z(2),dr("color",t.color||"black"),z(1),ea(t.displayName)}}let nwe=(()=>{class n{constructor(t){this.usersService=t,this.user$=this.usersService.currentUserProfile$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(v(W_))},n.\u0275cmp=Je({type:n,selectors:[["app-home"]],decls:2,vars:3,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(he(0,twe,4,3,"h1",0),Yl(1,"async")),2&t&&$("ngIf",Ql(1,1,r.user$))},dependencies:[xi,Xp]}),n})(),rwe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Je({type:n,selectors:[["app-landing"]],decls:2,vars:0,template:function(t,r){1&t&&(k(0,"p"),x(1,"landing works!"),P())}}),n})(),CG=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(v(Ci),v(ze))},n.\u0275dir=K({type:n}),n})(),el=(()=>{class n extends CG{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=dn(n)))(r||n)}}(),n.\u0275dir=K({type:n,features:[_e]}),n})();const mi=new R("NgValueAccessor"),owe={provide:mi,useExisting:Xe(()=>du),multi:!0},awe=new R("CompositionEventMode");let du=(()=>{class n extends CG{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function swe(){const n=Mi()?Mi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(v(Ci),v(ze),v(awe,8))},n.\u0275dir=K({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Ue("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ge([owe]),_e]}),n})();function Ns(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function TG(n){return null!=n&&"number"==typeof n.length}const Bn=new R("NgValidators"),Fs=new R("NgAsyncValidators"),cwe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Lo{static min(e){return function DG(n){return e=>{if(Ns(e.value)||Ns(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function SG(n){return e=>{if(Ns(e.value)||Ns(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function AG(n){return Ns(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function MG(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function xG(n){return Ns(n.value)||cwe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function kG(n){return e=>Ns(e.value)||!TG(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function RG(n){return e=>TG(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function PG(n){if(!n)return Ay;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ns(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return BG(e)}static composeAsync(e){return UG(e)}}function Ay(n){return null}function OG(n){return null!=n}function NG(n){return Yu(n)?je(n):n}function FG(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function LG(n,e){return e.map(t=>t(n))}function VG(n){return n.map(e=>function uwe(n){return!n.validate}(e)?e:t=>e.validate(t))}function BG(n){if(!n)return null;const e=n.filter(OG);return 0==e.length?null:function(t){return FG(LG(t,e))}}function Mx(n){return null!=n?BG(VG(n)):null}function UG(n){if(!n)return null;const e=n.filter(OG);return 0==e.length?null:function(t){return Q4(LG(t,e).map(NG)).pipe(re(FG))}}function xx(n){return null!=n?UG(VG(n)):null}function jG(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function HG(n){return n._rawValidators}function $G(n){return n._rawAsyncValidators}function kx(n){return n?Array.isArray(n)?n:[n]:[]}function My(n,e){return Array.isArray(n)?n.includes(e):n===e}function zG(n,e){const t=kx(e);return kx(n).forEach(i=>{My(t,i)||t.push(i)}),t}function GG(n,e){return kx(e).filter(t=>!My(n,t))}class qG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class rr extends qG{get formDirective(){return null}get path(){return null}}class Vo extends qG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class WG{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let xy=(()=>{class n extends WG{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(v(Vo,2))},n.\u0275dir=K({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&kn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[_e]}),n})(),ky=(()=>{class n extends WG{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(v(rr,10))},n.\u0275dir=K({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&kn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[_e]}),n})();const mf="VALID",Py="INVALID",hu="PENDING",gf="DISABLED";function Nx(n){return(Oy(n)?n.validators:n)||null}function YG(n){return Array.isArray(n)?Mx(n):n||null}function Fx(n,e){return(Oy(e)?e.asyncValidators:n)||null}function QG(n){return Array.isArray(n)?xx(n):n||null}function Oy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function XG(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[t])throw new D(1001,"")}function ZG(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new D(1002,"")})}class Ny{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=YG(this._rawValidators),this._composedAsyncValidatorFn=QG(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mf}get invalid(){return this.status===Py}get pending(){return this.status==hu}get disabled(){return this.status===gf}get enabled(){return this.status!==gf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=YG(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=QG(e)}addValidators(e){this.setValidators(zG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GG(e,this._rawAsyncValidators))}hasValidator(e){return My(this._rawValidators,e)}hasAsyncValidator(e){return My(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mf||this.status===hu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gf:mf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hu,this._hasOwnPendingAsyncValidator=!0;const t=NG(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?gf:this.errors?Py:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hu)?hu:this._anyControlsHaveStatus(Py)?Py:mf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Oy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Fy extends Ny{constructor(e,t,r){super(Nx(t),Fx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ZG(this,0,e),Object.keys(e).forEach(r=>{XG(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function _f(n,e){Lx(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function vwe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&JG(n,e)})}(n,e),function wwe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function bwe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&JG(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ywe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Vy(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Uy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function By(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Lx(n,e){const t=HG(n);null!==e.validator?n.setValidators(jG(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=$G(n);null!==e.asyncValidator?n.setAsyncValidators(jG(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();By(e._rawValidators,i),By(e._rawAsyncValidators,i)}function Uy(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=HG(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=$G(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return By(e._rawValidators,r),By(e._rawAsyncValidators,r),t}function JG(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function eq(n,e){Lx(n,e)}function nq(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const Dwe={provide:rr,useExisting:Xe(()=>jy)},yf=(()=>Promise.resolve(null))();let jy=(()=>{class n extends rr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pe,this.form=new Fy({},Mx(t),xx(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){yf.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),_f(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){yf.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){yf.then(()=>{const r=this._findContainer(t.path),i=new Fy({});eq(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){yf.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){yf.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,nq(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(v(Bn,10),v(Fs,10))},n.\u0275dir=K({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Ue("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([Dwe]),_e]}),n})();function rq(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function iq(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vf=class extends Ny{constructor(e=null,t,r){super(Nx(t),Fx(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Oy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=iq(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rq(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rq(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){iq(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Hy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),uq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({}),n})();const Ux=new R("NgModelWithFormControlWarning"),Nwe={provide:rr,useExisting:Xe(()=>tl)};let tl=(()=>{class n extends rr{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Uy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return _f(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Vy(t.control||null,t,!1),function Twe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,nq(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Vy(r||null,t),(n=>n instanceof vf)(i)&&(_f(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);eq(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Ewe(n,e){return Uy(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lx(this.form,this),this._oldForm&&Uy(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(v(Bn,10),v(Fs,10))},n.\u0275dir=K({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&Ue("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([Nwe]),_e,cr]}),n})();const Vwe={provide:Vo,useExisting:Xe(()=>bf)};let bf=(()=>{class n extends Vo{constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Pe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Bx(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===du?t=o:function Iwe(n){return Object.getPrototypeOf(n.constructor)===el}(o)?r=o:i=o}),i||r||t||null}(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Vx(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Ly(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(v(rr,13),v(Bn,10),v(Fs,10),v(mi,10),v(Ux,8))},n.\u0275dir=K({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ge([Vwe]),_e,cr]}),n})(),Jwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({imports:[uq]}),n})(),qx=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ux,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({imports:[Jwe]}),n})();class Dq extends Ny{constructor(e,t,r){super(Nx(t),Fx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ZG(this,0,e),e.forEach((r,i)=>{XG(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Sq(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let eEe=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return Sq(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Fy(i,o)}control(t,r,i){let o={};return this.useNonNullable?(Sq(r)?o=r:(o.validators=r,o.asyncValidators=i),new vf(t,{...o,nonNullable:!0})):new vf(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new Dq(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof vf||t instanceof Ny?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:qx}),n})(),Wx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return tt(eEe).nonNullable},providedIn:qx}),n})();function Kx(n){return n instanceof jr}function Yx(n){return"function"==typeof n}function Aq(n){return"string"==typeof n}let tEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Je({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,r){1&t&&De(0,"div",0),2&t&&$("innerHTML",r.content,t1)},encapsulation:2}),n})();class nEe{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class rEe{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class iEe{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let Mq=(()=>{class n{constructor(t,r,i){this.resolver=t,this.injector=r,this.appRef=i}createComponent(t,r={}){return new iEe({component:t,vcr:r.vcr,injector:r.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,r={}){return new nEe({vcr:r.vcr,appRef:this.appRef,tpl:t,context:r.context})}createView(t,r={}){if(Kx(t))return this.createTemplate(t,r);if(Yx(t))return this.createComponent(t,r);if(Aq(t))return new rEe(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(I(Ys),I(At),I(ra))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oEe=(()=>{class n{constructor(t,r,i){this.defaultTpl=t,this.vcr=r,this.viewService=i}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),Aq(this.view)?(this.viewRef=this.viewService.createComponent(tEe,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(v(jr),v(Ar),v(Mq))},n.\u0275dir=K({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[cr]}),n})(),sEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({}),n})();const{isArray:aEe}=Array;const dEe=["*"],hEe=function(n,e){return{"border-color":n,"border-right-color":e}};function fEe(n,e){if(1&n&&(k(0,"div"),x(1,"\n        "),De(2,"hot-toast-error",2),x(3,"\n      "),P()),2&n){const t=be(3);z(2),$("theme",t.theme)}}function pEe(n,e){if(1&n&&(k(0,"div"),x(1,"\n        "),De(2,"hot-toast-checkmark",2),x(3,"\n      "),P()),2&n){const t=be(3);z(2),$("theme",t.theme)}}function mEe(n,e){if(1&n&&(k(0,"div"),x(1,"\n        "),De(2,"hot-toast-warning",2),x(3,"\n      "),P()),2&n){const t=be(3);z(2),$("theme",t.theme)}}function gEe(n,e){if(1&n&&(k(0,"div"),x(1,"\n        "),De(2,"hot-toast-info",2),x(3,"\n      "),P()),2&n){const t=be(3);z(2),$("theme",t.theme)}}function _Ee(n,e){if(1&n&&(k(0,"div",4),x(1,"\n    "),k(2,"div",5),x(3,"\n      "),he(4,fEe,4,1,"div",6),x(5,"\n      "),he(6,pEe,4,1,"div",6),x(7,"\n      "),he(8,mEe,4,1,"div",6),x(9,"\n      "),he(10,gEe,4,1,"div",6),x(11,"\n    "),P(),x(12,"\n  "),P()),2&n){const t=be(2);z(2),$("ngSwitch",t.type),z(2),$("ngSwitchCase","error"),z(2),$("ngSwitchCase","success"),z(2),$("ngSwitchCase","warning"),z(2),$("ngSwitchCase","info")}}function yEe(n,e){if(1&n&&(k(0,"div",1),x(1,"\n  "),De(2,"hot-toast-loader",2),x(3,"\n  "),he(4,_Ee,13,5,"div",3),x(5,"\n"),P()),2&n){const t=be();z(2),$("theme",t.theme),z(2),$("ngIf","loading"!==t.type)}}const vEe=["hotToastBarBase"];function bEe(n,e){if(1&n&&(so(0),x(1,"\n          "),k(2,"hot-toast-animated-icon",10),x(3),P(),x(4,"\n        "),ao()),2&n){const t=be(2);z(2),$("iconTheme",t.toast.iconTheme),z(1),ea(t.toast.icon)}}function wEe(n,e){if(1&n&&(x(0,"\n          "),k(1,"div"),x(2,"\n            "),wp(3,11),x(4,"\n          "),P(),x(5,"\n        ")),2&n){const t=be(2);z(3),$("dynamicView",t.toast.icon)}}function EEe(n,e){if(1&n&&(so(0),x(1,"\n        "),he(2,bEe,5,2,"ng-container",4),x(3,"\n        "),he(4,wEe,6,1,"ng-template",null,9,xp),x(6,"\n      "),ao()),2&n){const t=Js(5),r=be();z(2),$("ngIf",r.isIconString)("ngIfElse",t)}}function CEe(n,e){if(1&n&&(x(0,"\n        "),De(1,"hot-toast-indicator",12),x(2,"\n      ")),2&n){const t=be();z(1),$("theme",t.toast.iconTheme)("type",t.toast.type)}}function IEe(n,e){1&n&&wp(0)}function TEe(n,e){if(1&n){const t=Zo();k(0,"button",13),Ue("click",function(){return Gn(t),qn(be().close())}),P()}2&n&&$("ngStyle",be().toast.closeStyle)}function DEe(n,e){if(1&n){const t=Zo();k(0,"hot-toast",3),Ue("height",function(i){const s=Gn(t).$implicit;return qn(be().updateHeight(i,s))})("beforeClosed",function(){const o=Gn(t).$implicit;return qn(be().beforeClosed(o))})("afterClosed",function(i){return Gn(t),qn(be().afterClosed(i))}),P()}if(2&n){const t=e.$implicit,r=e.index,i=be();$("toast",t)("offset",i.calculateOffset(t.id,t.position))("toastRef",i.toastRefs[r])}}const xq={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class Rq{constructor(e){this.toast=e,this._onClosed=new ve}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:r,updateToast:i,afterClosed:o}=e.addToast(this);return this.dispose=t,this.updateMessage=r,this.updateToast=i,this.afterClosed=function cEe(...n){return 1===(n=function lEe(n){return 1===n.length&&aEe(n[0])?n[0]:n}(n)).length?jn(n[0]):new Ve(function uEe(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(jn(n[r]).subscribe(new Ze(e,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}e.next(i)})))}}(n))}(this._onClosed.asObservable(),o),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let xEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Je({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:dEe,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,r){1&t&&(lo(),k(0,"div",0),x(1,"\n  "),hn(2),x(3,"\n"),P(),x(4,"\n")),2&t&&dr("color",null==r.iconTheme?null:r.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),kEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Je({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,r){1&t&&(De(0,"div",0),x(1,"\n")),2&t&&$("ngStyle",EN(1,hEe,null==r.theme?null:r.theme.primary,null==r.theme?null:r.theme.secondary))},dependencies:[tE],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),REe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Je({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,r){1&t&&(De(0,"div",0),x(1,"\n")),2&t&&dr("--error-primary",null==r.theme?null:r.theme.primary)("--error-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),PEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Je({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,r){1&t&&(De(0,"div",0),x(1,"\n")),2&t&&dr("--check-primary",null==r.theme?null:r.theme.primary)("--check-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),OEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Je({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,r){1&t&&(De(0,"div",0),x(1,"\n")),2&t&&dr("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),NEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Je({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,r){1&t&&(De(0,"div",0),x(1,"\n")),2&t&&dr("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),FEe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Je({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,r){1&t&&(he(0,yEe,6,2,"div",0),x(1,"\n")),2&t&&$("ngIf","blank"!==r.type)},dependencies:[kEe,REe,PEe,OEe,NEe,xi,ld,eE],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),Pq=(()=>{class n{constructor(t,r,i){this.injector=t,this.renderer=r,this.ngZone=i,this.offset=0,this.height=new Pe,this.beforeClosed=new Pe,this.afterClosed=new Pe,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){Kx(this.toast.message)&&(this.context={$implicit:this.toastRef}),Yx(this.toast.message)&&(this.toastComponentInjector=At.create({providers:[{provide:Rq,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),r=t?{top:0}:{bottom:0},i=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...r,...i}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),r=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${r}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:r}}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[r,i]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,r,i)}}return n.\u0275fac=function(t){return new(t||n)(v(At),v(Ci),v(se))},n.\u0275cmp=Je({type:n,selectors:[["hot-toast"]],viewQuery:function(t,r){if(1&t&&co(vEe,5),2&t){let i;ot(i=st())&&(r.toastBarBase=i.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,r){if(1&t&&(k(0,"div",0),x(1,"\n  "),k(2,"div",1,2),x(4,"\n    "),k(5,"div",3),x(6,"\n      "),he(7,EEe,7,2,"ng-container",4),x(8,"\n\n      "),he(9,CEe,3,2,"ng-template",null,5,xp),x(11,"\n    "),P(),x(12,"\n\n    "),k(13,"div",6),x(14,"\n      "),k(15,"div"),x(16,"\n        "),he(17,IEe,1,0,"ng-container",7),x(18,"\n      "),P(),x(19,"\n    "),P(),x(20,"\n\n    "),he(21,TEe,1,1,"button",8),x(22,"\n  "),P(),x(23,"\n"),P(),x(24,"\n")),2&t){const i=Js(10);$("ngStyle",r.containerPositionStyle)("ngClass","hot-toast-theme-"+r.toast.theme),z(2),dr("--hot-toast-animation-state",r.isManualClose?"running":"paused"),$("ngStyle",r.toastBarBaseStyles)("ngClass",r.toast.className),yt("aria-live",r.toast.ariaLive)("role",r.toast.role),z(5),$("ngIf",void 0!==r.toast.icon)("ngIfElse",i),z(10),$("dynamicView",r.toast.message)("dynamicViewContext",r.context)("dynamicViewInjector",r.toastComponentInjector),z(4),$("ngIf",r.toast.dismissible)}},dependencies:[xEe,FEe,tE,Xw,xi,oEe],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),LEe=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new ve,this.onClosed$=this._onClosed.asObservable()}trackById(t,r){return r.id}calculateOffset(t,r){const i=this.toasts.filter(a=>a.visible&&a.position===r),o=i.findIndex(a=>a.id===t);return-1!==o?i.slice(...this.defaultConfig.reverseOrder?[o+1]:[0,o]).reduce((a,l)=>a+(l.height||0)+8,0):0}updateHeight(t,r){r.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const r=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(r.id)},updateMessage:i=>{r.message=i,this.cdr.detectChanges()},updateToast:i=>{this.updateToasts(r,i),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(r)}}closeToast(t){if(t){const r=this.hotToastComponentList.find(i=>i.toast.id===t);r&&r.close()}else this.hotToastComponentList.forEach(r=>r.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(i=>i.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(i=>i.id!==t.id),this.toastRefs=this.toastRefs.filter(i=>i.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(r=>r.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(_n(r=>r.id===t.id))}updateToasts(t,r){this.toasts=this.toasts.map(i=>({...i,...i.id===t.id&&{...t,...r}}))}}return n.\u0275fac=function(t){return new(t||n)(v(li))},n.\u0275cmp=Je({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,r){if(1&t&&co(Pq,5),2&t){let i;ot(i=st())&&(r.hotToastComponentList=i)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,r){1&t&&(k(0,"div",0),x(1,"\n  "),k(2,"div",1),x(3,"\n    "),he(4,DEe,1,3,"hot-toast",2),x(5,"\n  "),P(),x(6,"\n"),P(),x(7,"\n")),2&t&&(z(4),$("ngForOf",r.toasts)("ngForTrackBy",r.trackById))},dependencies:[Pq,Zw],encapsulation:2,changeDetection:0}),n})();class Qx{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class UEe{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let Xx=(()=>{class n{constructor(t,r,i){this._viewService=t,this.platformId=r,this._isInitialized=!1,this._defaultConfig=new Qx,this._defaultPersistConfig=new UEe,i&&(this._defaultConfig={...this._defaultConfig,...i})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,r){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...r})}error(t,r){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...r})}success(t,r){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...r})}loading(t,r){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...r})}warning(t,r){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...r})}info(t,r){return this.createToast(t||this._defaultConfig.warning.content,"info",{...this._defaultConfig,...this._defaultConfig?.warning,...r})}observe(t){return r=>{let i,o=0;const s=t.loading||this._defaultConfig.loading?.content,a=t.error||this._defaultConfig.error?.content;return iD(()=>(s&&(i=this.createLoadingToast(s),o=Date.now()),r.pipe(wt({next:l=>{i=this.createOrUpdateToast(t,l,i,"success",0===o?o:Date.now()-o)},...a&&{error:l=>{i=this.createOrUpdateToast(t,l,i,"error",0===o?o:Date.now()-o)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){(function cJ(n){return"server"===n})(this.platformId)||(this._componentRef=this._viewService.createComponent(LEe).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,r,i,o,s){let a=null,l={};if(({content:a,options:l}=this.getContentAndOptions(o,t[o]||(this._defaultConfig[o]?this._defaultConfig[o].content:""))),a=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(a,r),i){i.updateMessage(a);const c={type:o,duration:s+xq[o],...l,...l.duration&&{duration:s+l.duration}};i.updateToast(c)}else this.createToast(a,o,l);return i}createToast(t,r,i,o){this._isInitialized||(this._isInitialized=!0,this.init());const s=Date.now(),a=i?.id??s.toString();if(!this.isDuplicate(a)&&(!i.persist?.enabled||i.persist?.enabled&&this.handleStorageValue(a,i))){const l={ariaLive:i?.ariaLive??"polite",createdAt:s,duration:i?.duration??xq[r],id:a,message:t,role:i?.role??"status",type:r,visible:!0,observableMessages:o??void 0,...i};return new Rq(l).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,r){let i=1;const o={...this._defaultPersistConfig,...r.persist},s="local"===o.storage?localStorage:sessionStorage,a=o.key.replace(/\${id}/g,t);let l=s.getItem(a);return l?(l=parseInt(l,10),i=l>0?l-1:l):i=o.count,s.setItem(a,i.toString()),i}getContentAndOptions(t,r){let i,o={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof r||Kx(r)||Yx(r))i=r;else{let s;({content:i,...s}=r),o={...o,...s}}return{content:i,options:o}}createLoadingToast(t){let r=null,i={};return({content:r,options:i}=this.getContentAndOptions("loading",t)),this.loading(r,i)}}return n.\u0275fac=function(t){return new(t||n)(I(Mq),I(tc),I(Qx,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jEe=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Qx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({imports:[[cd,sEe]]}),n})();const HEe=["connectionContainer"],$Ee=["inputContainer"],zEe=["label"];function GEe(n,e){1&n&&(so(0),k(1,"div",14),De(2,"div",15)(3,"div",16)(4,"div",17),P(),k(5,"div",18),De(6,"div",15)(7,"div",16)(8,"div",17),P(),ao())}function qEe(n,e){if(1&n){const t=Zo();k(0,"div",19),Ue("cdkObserveContent",function(){return Gn(t),qn(be().updateOutlineGap())}),hn(1,1),P()}2&n&&$("cdkObserveContentDisabled","outline"!=be().appearance)}function WEe(n,e){if(1&n&&(so(0),hn(1,2),k(2,"span"),x(3),P(),ao()),2&n){const t=be(2);z(3),ea(t._control.placeholder)}}function KEe(n,e){1&n&&hn(0,3,["*ngSwitchCase","true"])}function YEe(n,e){1&n&&(k(0,"span",23),x(1," *"),P())}function QEe(n,e){if(1&n){const t=Zo();k(0,"label",20,21),Ue("cdkObserveContent",function(){return Gn(t),qn(be().updateOutlineGap())}),he(2,WEe,4,1,"ng-container",12),he(3,KEe,1,0,"ng-content",12),he(4,YEe,2,0,"span",22),P()}if(2&n){const t=be();kn("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),$("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),yt("for",t._control.id)("aria-owns",t._control.id),z(2),$("ngSwitchCase",!1),z(1),$("ngSwitchCase",!0),z(1),$("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function XEe(n,e){1&n&&(k(0,"div",24),hn(1,4),P())}function ZEe(n,e){if(1&n&&(k(0,"div",25),De(1,"span",26),P()),2&n){const t=be();z(1),kn("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function JEe(n,e){1&n&&(k(0,"div"),hn(1,5),P()),2&n&&$("@transitionMessages",be()._subscriptAnimationState)}function eCe(n,e){if(1&n&&(k(0,"div",30),x(1),P()),2&n){const t=be(2);$("id",t._hintLabelId),z(1),ea(t.hintLabel)}}function tCe(n,e){if(1&n&&(k(0,"div",27),he(1,eCe,2,2,"div",28),hn(2,6),De(3,"div",29),hn(4,7),P()),2&n){const t=be();$("@transitionMessages",t._subscriptAnimationState),z(1),$("ngIf",t.hintLabel)}}const nCe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],rCe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let iCe=0;const Oq=new R("MatError");let Nq=(()=>{class n{constructor(t,r){this.id="mat-error-"+iCe++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(Wo("aria-live"),v(ze))},n.\u0275dir=K({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&yt("id",r.id)},inputs:{id:"id"},features:[Ge([{provide:Oq,useExisting:n}])]}),n})();const oCe={transitionMessages:ay("transitionMessages",[sf("enter",nr({opacity:1,transform:"translateY(0%)"})),cu("void => enter",[nr({opacity:0,transform:"translateY(-5px)"}),lu("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Zx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n}),n})();const sCe=new R("MatHint");let Fq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["mat-label"]]}),n})(),aCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["mat-placeholder"]]}),n})();const lCe=new R("MatPrefix"),cCe=new R("MatSuffix");let Lq=0;const dCe=Z_(class{constructor(n){this._elementRef=n}},"primary"),hCe=new R("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Bq=new R("MatFormField");let Jx=(()=>{class n extends dCe{constructor(t,r,i,o,s,a,l){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=o,this._platform=s,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ve,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Lq++,this._labelId="mat-form-field-label-"+Lq++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=tr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ls(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Gi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Gi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),cl(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ls(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ls(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Gi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ly(this._label.nativeElement,"transitionend").pipe(Hn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const u=r.querySelectorAll(`${i}, ${o}`);for(let d=0;d<u.length;d++)u[d].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,a=0;const l=r.querySelectorAll(i),c=r.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const u=r.getBoundingClientRect();if(0===u.width&&0===u.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const d=this._getStartEnd(u),h=t.children,f=this._getStartEnd(h[0].getBoundingClientRect());let p=0;for(let m=0;m<h.length;m++)p+=h[m].offsetWidth;s=Math.abs(f-d)-5,a=p>0?.75*p+10:0}for(let u=0;u<l.length;u++)l[u].style.width=`${s}px`;for(let u=0;u<c.length;u++)c[u].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(v(ze),v(li),v(qM,8),v(hCe,8),v(_r),v(se),v(nc,8))},n.\u0275cmp=Je({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(fn(i,Zx,5),fn(i,Zx,7),fn(i,Fq,5),fn(i,Fq,7),fn(i,aCe,5),fn(i,Oq,5),fn(i,sCe,5),fn(i,lCe,5),fn(i,cCe,5)),2&t){let o;ot(o=st())&&(r._controlNonStatic=o.first),ot(o=st())&&(r._controlStatic=o.first),ot(o=st())&&(r._labelChildNonStatic=o.first),ot(o=st())&&(r._labelChildStatic=o.first),ot(o=st())&&(r._placeholderChild=o.first),ot(o=st())&&(r._errorChildren=o),ot(o=st())&&(r._hintChildren=o),ot(o=st())&&(r._prefixChildren=o),ot(o=st())&&(r._suffixChildren=o)}},viewQuery:function(t,r){if(1&t&&(co(HEe,7),co($Ee,5),co(zEe,5)),2&t){let i;ot(i=st())&&(r._connectionContainerRef=i.first),ot(i=st())&&(r._inputContainerRef=i.first),ot(i=st())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&kn("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Ge([{provide:Bq,useExisting:n}]),_e],ngContentSelectors:rCe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(lo(nCe),k(0,"div",0)(1,"div",1,2),Ue("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),he(3,GEe,9,0,"ng-container",3),he(4,qEe,2,1,"div",4),k(5,"div",5,6),hn(7),k(8,"span",7),he(9,QEe,5,16,"label",8),P()(),he(10,XEe,2,0,"div",9),P(),he(11,ZEe,2,4,"div",10),k(12,"div",11),he(13,JEe,2,1,"div",12),he(14,tCe,5,2,"div",13),P()()),2&t&&(z(3),$("ngIf","outline"==r.appearance),z(1),$("ngIf",r._prefixChildren.length),z(5),$("ngIf",r._hasFloatingLabel()),z(1),$("ngIf",r._suffixChildren.length),z(1),$("ngIf","outline"!=r.appearance),z(1),$("ngSwitch",r._getDisplayedMessages()),z(1),$("ngSwitchCase","error"),z(1),$("ngSwitchCase","hint"))},dependencies:[xi,ld,eE,Bge],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[oCe.transitionMessages]},changeDetection:0}),n})(),ek=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({imports:[cd,In,P4,In]}),n})();const Uq=ou({passive:!0});let fCe=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Xr;const r=No(t),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new ve,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||r.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&r.classList.contains(s)&&(r.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(r.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",a,Uq),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",a,Uq)}}),o}stopMonitoring(t){const r=No(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(I(_r),I(se))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({}),n})();const pCe=new R("MAT_INPUT_VALUE_ACCESSOR"),mCe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let gCe=0;const _Ce=d_e(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new ve}});let tk=(()=>{class n extends _Ce{constructor(t,r,i,o,s,a,l,c,u,d){super(a,o,s,i),this._elementRef=t,this._platform=r,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+gCe++,this.focused=!1,this.stateChanges=new ve,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>S4().has(p)),this._iOSKeyupListener=p=>{const m=p.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=tr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Lo.required)??!1}set required(t){this._required=tr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&S4().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=tr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,r=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=r,r?i.setAttribute("placeholder",r):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){mCe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(v(ze),v(_r),v(Vo,10),v(jy,8),v(tl,8),v(q4),v(pCe,10),v(fCe),v(se),v(Bq,8))},n.\u0275dir=K({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&Ue("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(sw("disabled",r.disabled)("required",r.required),yt("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),kn("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ge([{provide:Zx,useExisting:n}]),_e,cr]}),n})(),yCe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({providers:[q4],imports:[jq,ek,In,jq,ek]}),n})();function vCe(n,e){1&n&&(k(0,"mat-error"),x(1," Email address is required "),P())}function bCe(n,e){1&n&&(k(0,"mat-error"),x(1," Please enter a valid email address "),P())}function wCe(n,e){1&n&&(k(0,"mat-error"),x(1," Password is required "),P())}let ECe=(()=>{class n{constructor(t,r,i,o){this.authService=t,this.toast=r,this.router=i,this.fb=o,this.loginForm=this.fb.group({email:["",[Lo.required,Lo.email]],password:["",Lo.required]})}ngOnInit(){}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){const{email:t,password:r}=this.loginForm.value;!this.loginForm.valid||!t||!r||this.authService.login(t,r).pipe(this.toast.observe({success:"Logged in successfully",loading:"Logging in...",error:({message:i})=>`There was an error: ${i} `})).subscribe(()=>{this.router.navigate(["/home"])})}}return n.\u0275fac=function(t){return new(t||n)(v(Zm),v(Xx),v(rn),v(Wx))},n.\u0275cmp=Je({type:n,selectors:[["app-login"]],decls:18,vars:4,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Email address","formControlName","email"],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password"],[1,"center","margin-top"],["type","submit","mat-raised-button","","color","primary"],["routerLink","/sign-up",1,"sign-up-link"]],template:function(t,r){1&t&&(k(0,"div",0)(1,"h1"),x(2,"Login"),P(),k(3,"form",1),Ue("ngSubmit",function(){return r.submit()}),k(4,"mat-form-field"),De(5,"input",2),he(6,vCe,2,0,"mat-error",3),he(7,bCe,2,0,"mat-error",3),P(),k(8,"mat-form-field"),De(9,"input",4),he(10,wCe,2,0,"mat-error",3),P(),k(11,"div",5)(12,"button",6),x(13,"Login"),P()(),k(14,"span",5),x(15,"New to our platform? "),k(16,"a",7),x(17,"Sign up!"),P()()()()),2&t&&(z(3),$("formGroup",r.loginForm),z(3),$("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),z(1),$("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),z(3),$("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required))},dependencies:[xi,bg,iy,Nq,Jx,tk,Hy,du,xy,ky,tl,bf],styles:[".sign-up-link[_ngcontent-%COMP%]{font-size:1.2rem;margin-left:8px}"]}),n})();function CCe(n,e){1&n&&(k(0,"mat-error"),x(1," Name is required "),P())}function ICe(n,e){1&n&&(k(0,"mat-error"),x(1," Email address is required "),P())}function TCe(n,e){1&n&&(k(0,"mat-error"),x(1," Please enter a valid email address "),P())}function DCe(n,e){1&n&&(k(0,"mat-error"),x(1," Password is required "),P())}function SCe(n,e){1&n&&(k(0,"mat-error"),x(1," Confirm Password is required "),P())}function ACe(n,e){1&n&&(k(0,"mat-error"),x(1," Passwords should match "),P())}let xCe=(()=>{class n{constructor(t,r,i,o,s){this.authService=t,this.router=r,this.toast=i,this.usersService=o,this.fb=s,this.signUpForm=this.fb.group({name:["",Lo.required],email:["",[Lo.required,Lo.email]],password:["",Lo.required],confirmPassword:["",Lo.required]},{validators:n=>{const e=n.get("password")?.value,t=n.get("confirmPassword")?.value;return e&&t&&e!==t?{passwordsDontMatch:!0}:null}})}ngOnInit(){}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}get name(){return this.signUpForm.get("name")}submit(){const{name:t,email:r,password:i}=this.signUpForm.value;!this.signUpForm.valid||!t||!i||!r||this.authService.signUp(r,i).pipe(Pn(({user:{uid:o}})=>this.usersService.addUser({uid:o,email:r,displayName:t})),this.toast.observe({success:"Congrats! You are all signed up",loading:"Signing up...",error:({message:o})=>`${o}`})).subscribe(()=>{this.router.navigate(["/home"])})}}return n.\u0275fac=function(t){return new(t||n)(v(Zm),v(rn),v(Xx),v(W_),v(Wx))},n.\u0275cmp=Je({type:n,selectors:[["app-sign-up"]],decls:21,vars:7,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Name","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Email address","formControlName","email"],["matInput","","type","password","placeholder","Password","formControlName","password"],["matInput","","type","password","placeholder","Confirm Password","formControlName","confirmPassword"],[1,"center","margin-top"],["type","submit","mat-raised-button","","color","primary"]],template:function(t,r){1&t&&(k(0,"div",0)(1,"h1"),x(2,"Sign Up a New User!"),P(),k(3,"form",1),Ue("ngSubmit",function(){return r.submit()}),k(4,"mat-form-field"),De(5,"input",2),he(6,CCe,2,0,"mat-error",3),P(),k(7,"mat-form-field"),De(8,"input",4),he(9,ICe,2,0,"mat-error",3),he(10,TCe,2,0,"mat-error",3),P(),k(11,"mat-form-field"),De(12,"input",5),he(13,DCe,2,0,"mat-error",3),P(),k(14,"mat-form-field"),De(15,"input",6),he(16,SCe,2,0,"mat-error",3),P(),he(17,ACe,2,0,"mat-error",3),k(18,"div",7)(19,"button",8),x(20,"Sign Up!"),P()()()()),2&t&&(z(3),$("formGroup",r.signUpForm),z(3),$("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),z(3),$("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),z(1),$("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),z(3),$("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),z(3),$("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),z(1),$("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch))},dependencies:[xi,iy,Nq,Jx,tk,Hy,du,xy,ky,tl,bf]}),n})();const kCe=Of,PCe=Symbol("__destroy"),Hq=Symbol("__decoratorApplied");function $q(n){return"string"==typeof n?Symbol(`__destroy__${n}`):PCe}function zq(n,e){n[e]||(n[e]=new ve)}function Gq(n,e){n[e]&&(n[e].next(),n[e].complete(),n[e]=null)}function qq(n){n instanceof mt&&n.unsubscribe()}function Wq(n,e){return function(){if(n&&n.call(this),Gq(this,$q()),e.arrayName&&function NCe(n){Array.isArray(n)&&n.forEach(qq)}(this[e.arrayName]),e.checkProperties)for(const t in this)e.blackList?.includes(t)||qq(this[t])}}Symbol("CheckerHasBeenSet");const Xq="firebasestorage.googleapis.com",Zq="storageBucket";class It extends Mr{constructor(e,t,r=0){super(rk(e),`Firebase Storage: ${t} (${rk(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var it=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(it||(it={})),it))();function rk(n){return"storage/"+n}function ik(){return new It(it.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ok(n){return new It(it.INVALID_ARGUMENT,n)}function n5(){return new It(it.APP_DELETED,"The Firebase app was deleted.")}function wf(n,e){return new It(it.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ef(n){throw new It(it.INTERNAL_ERROR,"Internal error: "+n)}class ir{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ir.makeFromUrl(e,t)}catch{return new ir(e,"")}if(""===r.path)return r;throw function e0e(n){return new It(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(T){T.path_=decodeURIComponent(T.path)}const d=t.replace(/[.]/g,"\\."),y=[{regex:a,indices:{bucket:1,path:3},postModify:function o(T){"/"===T.path.charAt(T.path.length-1)&&(T.path_=T.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===Xq?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<y.length;T++){const L=y[T],j=L.regex.exec(e);if(j){let Ke=j[L.indices.path];Ke||(Ke=""),r=new ir(j[L.indices.bucket],Ke),L.postModify(r);break}}if(null==r)throw function JCe(n){return new It(it.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class s0e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function $y(n){return"string"==typeof n||n instanceof String}function r5(n){return sk()&&n instanceof Blob}function sk(){return typeof Blob<"u"&&!function TL(){var n;const e=null===(n=om())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function ak(n,e,t,r){if(r<e)throw ok(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ok(`Invalid value for '${n}'. Expected ${t} or less.`)}function Bo(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function o5(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Ls=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Ls||(Ls={})),Ls))();class h0e{constructor(e,t,r,i,o,s,a,l,c,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function c0e(n){return void 0!==n}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=ik();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(i.canceled?this.appDelete_?n5():function e5(){return new It(it.CANCELED,"User canceled the upload/download.")}():function Jq(){return new It(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new zy(!1,null,!0)):this.backoffId_=function a0e(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,n(f,l())},_)}function h(){o&&clearTimeout(o)}function f(_,...b){if(c)return void h();if(_)return h(),void u.call(null,_,...b);if(l()||s)return h(),void u.call(null,_,...b);let y;r<64&&(r*=2),1===a?(a=2,y=0):y=1e3*(r+Math.random()),d(y)}let p=!1;function m(_){p||(p=!0,h(),!c&&(null!==i?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},t),m}((r,i)=>{if(i)return void r(!1,new zy(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Ls.NO_ERROR,l=o.getStatus();if(!a||function s5(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||i||o}(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===Ls.ABORT;return void r(!1,new zy(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);r(!0,new zy(c,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function l0e(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class zy{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function v0e(...n){const e=function y0e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(sk())return new Blob(n);throw new It(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}class lk{constructor(e,t){this.data=e,this.contentType=t||null}}function l5(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function c5(n,e){switch(n){case"base64":{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw wf(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw wf(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function w0e(n){if(typeof atob>"u")throw function i0e(n){return new It(it.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:wf(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class u5{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw wf("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function T0e(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Uo{constructor(e,t){let r=0,i="";r5(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(r5(this.data_)){const i=function b0e(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Uo(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Uo(r,!0)}}static getBlob(...e){if(sk()){const t=e.map(r=>r instanceof Uo?r.data_:r);return new Uo(v0e.apply(null,t))}{const t=e.map(s=>$y(s)?function a5(n,e){switch(n){case"raw":return new lk(l5(e));case"base64":case"base64url":return new lk(c5(n,e));case"data_url":return new lk(function C0e(n){const e=new u5(n);return e.base64?c5("base64",e.rest):function E0e(n){let e;try{e=decodeURIComponent(n)}catch{throw wf("data_url","Malformed data URL.")}return l5(e)}(e.rest)}(e),function I0e(n){return new u5(n).contentType}(e))}throw ik()}("raw",s).data:s.data_);let r=0;t.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Uo(i,!0)}}uploadData(){return this.data_}}function ck(n){let e;try{e=JSON.parse(n)}catch{return null}return function d0e(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function d5(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function A0e(n,e){return e}class or{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||A0e}}let Gy=null;function Cf(){if(Gy)return Gy;const n=[];n.push(new or("bucket")),n.push(new or("generation")),n.push(new or("metageneration")),n.push(new or("name","fullPath",!0));const t=new or("name");t.xform=function e(o,s){return function M0e(n){return!$y(n)||n.length<2?n:d5(n)}(s)},n.push(t);const i=new or("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},n.push(i),n.push(new or("timeCreated")),n.push(new or("updated")),n.push(new or("md5Hash",null,!0)),n.push(new or("cacheControl",null,!0)),n.push(new or("contentDisposition",null,!0)),n.push(new or("contentEncoding",null,!0)),n.push(new or("contentLanguage",null,!0)),n.push(new or("contentType",null,!0)),n.push(new or("metadata","customMetadata",!0)),Gy=n,Gy}function h5(n,e,t){const r=ck(e);return null===r?null:function k0e(n,e,t){const r={type:"file"},i=t.length;for(let o=0;o<i;o++){const s=t[o];r[s.local]=s.xform(r,e[s.server])}return function x0e(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new ir(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(r,n),r}(n,r,t)}class Wi{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ki(n){if(!n)throw ik()}function fu(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function XCe(){return new It(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function QCe(){return new It(it.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function YCe(n){return new It(it.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function ZCe(n){return new It(it.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function y5(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let y="";for(let T=0;T<2;T++)y+=Math.random().toString().slice(2);return y}();s["Content-Type"]="multipart/related; boundary="+l;const c=function _5(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function j0e(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),u=function uk(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(c,t),f=Uo.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===f)throw function t5(){return new It(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const p={name:c.fullPath},m=Bo(o,n.host,n._protocol),b=n.maxUploadRetryTime,E=new Wi(m,"POST",function qy(n,e){return function t(r,i){const o=h5(n,i,e);return Ki(null!==o),o}}(n,t),b);return E.urlParams=p,E.headers=s,E.body=f.uploadData(),E.errorHandler=fu(e),E}class W0e extends class q0e{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ls.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ls.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ls.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Ef("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ef("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ef("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ef("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ef("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function _i(){return new W0e}class rl{constructor(e,t){this._service=e,this._location=t instanceof ir?t:ir.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new rl(e,t)}get root(){const e=new ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d5(this._location.path)}get storage(){return this._service}get parent(){const e=function D0e(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ir(this._location.bucket,e);return new rl(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function o0e(n){return new It(it.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function sIe(n){n._throwIfRoot("getDownloadURL");const e=function V0e(n,e,t){const i=Bo(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new Wi(i,"GET",function F0e(n,e){return function t(r,i){const o=h5(n,i,e);return Ki(null!==o),function R0e(n,e,t,r){const i=ck(e);if(null===i||!$y(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const d=n.fullPath;return Bo("/b/"+s(n.bucket)+"/o/"+s(d),t,r)+o5({alt:"media",token:c})})[0]}(o,i,n.host,n._protocol)}}(n,t),s);return a.errorHandler=function If(n){const e=fu(n);return function t(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function KCe(n){return new It(it.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=i.serverResponse,o}}(e),a}(n.storage,n._location,Cf());return n.storage.makeRequestWithTokens(e,_i).then(t=>{if(null===t)throw function r0e(){return new It(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function T5(n,e){if(n instanceof pk){const t=n;if(null==t._bucket)throw function t0e(){return new It(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Zq+"' property when initializing the app?")}();const r=new rl(t,t._bucket);return null!=e?T5(r,e):r}return void 0!==e?function I5(n,e){const t=function S0e(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ir(n._location.bucket,t);return new rl(n.storage,r)}(n,e):n}function D5(n,e){const t=e?.[Zq];return null==t?null:ir.makeFromBucketSpec(t,n)}class pk{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Xq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ir.makeFromBucketSpec(i,this._host):D5(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ir.makeFromBucketSpec(this._url,e):D5(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ak("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ak("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rl(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new s0e(n5());{const s=function _0e(n,e,t,r,i,o,s=!0){const a=o5(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function m0e(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function f0e(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function p0e(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,o),function g0e(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,r),new h0e(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return g(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,o).getPromise()})()}}const S5="@firebase/storage",M5="storage";function hIe(n,e,t){return function w5(n,e,t){n._throwIfRoot("uploadBytes");const r=y5(n.storage,n._location,Cf(),new Uo(e,!0),t);return n.storage.makeRequestWithTokens(r,_i).then(i=>({metadata:i,ref:n}))}(n=bt(n),e,t)}function fIe(n){return sIe(n=bt(n))}function pIe(n,e){return function uIe(n,e){if(e&&function lIe(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof pk)return function cIe(n,e){return new rl(n,e)}(n,e);throw ok("To use ref(service, url), the first argument must be a Storage instance.")}return T5(n,e)}(n=bt(n),e)}function mIe(n=hm(),e){const r=ua(n=bt(n),M5).getImmediate({identifier:e}),i=wL("storage");return i&&function gIe(n,e,t,r={}){!function dIe(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:IL(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function _Ie(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new pk(t,r,i,e,ns)}!function yIe(){Rn(new pn(M5,_Ie,"PUBLIC").setMultipleInstances(!0)),at(S5,"0.11.2",""),at(S5,"0.11.2","esm2017")}();class Ky{constructor(e){return e}}const x5="storage",mk=new R("angularfire2.storage-instances");function wIe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ky(r)}}const EIe={provide:class vIe{constructor(){return Cm(x5)}},deps:[[new _t,mk]]},CIe={provide:Ky,useFactory:function bIe(n,e){const t=Em(x5,n,e);return t&&new Ky(t)},deps:[[new _t,mk],_a]};let IIe=(()=>{class n{constructor(){at("angularfire",yd.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({providers:[CIe,EIe]}),n})();function TIe(n,...e){return{ngModule:IIe,providers:[{provide:mk,useFactory:wIe(n),multi:!0,deps:[se,At,Im,Tm,[new _t,eD],[new _t,Pm],...e]}]}}const DIe=Zn(fIe,!0),SIe=Zn(mIe,!0),AIe=Zn(pIe,!0),MIe=Zn(hIe,!0);let xIe=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,r){const i=AIe(this.storage,r);return je(MIe(i,t)).pipe(Pn(s=>DIe(s.ref)))}}return n.\u0275fac=function(t){return new(t||n)(I(Ky))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kIe(n,e){if(1&n&&(k(0,"h1"),x(1," Update Profile: "),k(2,"span"),x(3),P()()),2&n){const t=e.ngIf;z(2),dr("color",t.color||"black"),z(1),ea(t.displayName)}}function RIe(n,e){if(1&n){const t=Zo();so(0),k(1,"button",14),Ue("click",function(){const o=Gn(t).$implicit;return qn(be(2).setColor(o))}),De(2,"div",15),P(),ao()}if(2&n){const t=e.$implicit;z(2),dr("background",t)}}function PIe(n,e){if(1&n){const t=Zo();k(0,"div",1),he(1,kIe,4,3,"h1",2),Yl(2,"async"),k(3,"div",3)(4,"mat-icon",4),Ue("mouseenter",function(){return Gn(t),qn(be().onMouseEnter())})("mouseleave",function(){return Gn(t),qn(be().onMouseLeave())}),x(5," face "),P()(),k(6,"mat-menu",5,6),he(8,RIe,3,2,"ng-container",7),P(),k(9,"form",8),Ue("ngSubmit",function(){return Gn(t),qn(be().saveProfile())}),k(10,"mat-form-field"),De(11,"input",9),P(),k(12,"mat-form-field"),De(13,"input",10),P(),k(14,"mat-form-field"),De(15,"input",11),P(),k(16,"mat-form-field"),De(17,"textarea",12),P(),k(18,"button",13),x(19," Save Changes "),P()()()}if(2&n){const t=e.ngIf,r=Js(7),i=be();z(1),$("ngIf",Ql(2,12,i.user$)),z(2),$("matMenuTriggerFor",r),z(1),dr("color",t.color),z(2),$("hasBackdrop",!0)("overlapTrigger",!1),z(2),$("ngForOf",i.colorOptions),z(1),$("formGroup",i.profileForm),z(9),dr("background",t.color||"primary")("color","white")}}let il=class{constructor(e,t,r,i){this.imageUploadService=e,this.toast=t,this.usersService=r,this.fb=i,this.user$=this.usersService.currentUserProfile$,this.profileForm=this.fb.group({uid:[""],displayName:[""],firstName:[""],lastName:[""],bio:[""],color:[""]}),this.colorOptions=["rgb(255, 154, 159)","rgb(82, 129, 206)","rgb(186, 232, 172)","rgb(233, 215, 135)","rgb(153, 140, 235)","rgb(236, 157, 126)","rgb(216, 171, 158)","rgb(255, 192, 203)","rgb(128, 128, 128)"]}ngOnInit(){this.usersService.currentUserProfile$.pipe(function $Ce(n,e){return t=>{const r=$q(e);return"string"==typeof e?function HCe(n,e,t){const r=n[e];zq(n,t),n[e]=function(){r.apply(this,arguments),Gq(this,t),n[e]=r}}(n,e,r):zq(n,r),t.pipe(Gi(n[r]))}}(this),wt(console.log)).subscribe(e=>{this.profileForm.patchValue({...e})})}uploadFile(e,{uid:t}){this.imageUploadService.uploadImage(e.target.files[0],`images/profile/${t}`).pipe(this.toast.observe({loading:"Uploading profile image...",success:"Image uploaded successfully",error:"There was an error in uploading the image"}),Pn(r=>this.usersService.updateUser({uid:t}))).subscribe()}setColor(e){this.profileForm.patchValue({color:e}),this.saveProfile()}saveProfile(){const{uid:e,...t}=this.profileForm.value;!e||this.usersService.updateUser({uid:e,...t}).pipe(this.toast.observe({loading:"Saving profile data...",success:"Profile updated successfully",error:"There was an error in updating the profile"})).subscribe()}onMouseEnter(){const e=document.querySelector(".larger-icon");e&&e.classList.add("hovered")}onMouseLeave(){const e=document.querySelector(".larger-icon");e&&e.classList.remove("hovered")}};il.\u0275fac=function(e){return new(e||il)(v(xIe),v(Xx),v(W_),v(Wx))},il.\u0275cmp=Je({type:il,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","form-container mat-elevation-z5 text-center",4,"ngIf"],[1,"form-container","mat-elevation-z5","text-center"],[4,"ngIf"],[1,"icon-container",3,"matMenuTriggerFor"],[1,"larger-icon",3,"mouseenter","mouseleave"],[1,"profile-menu",3,"hasBackdrop","overlapTrigger"],["colorMenu","matMenu"],[4,"ngFor","ngForOf"],[1,"margin-top",3,"formGroup","ngSubmit"],["type","text","matInput","","formControlName","firstName","placeholder","First Name"],["type","text","matInput","","formControlName","lastName","placeholder","Last Name"],["type","text","matInput","","formControlName","displayName","placeholder","Display Name"],["type","text","matInput","","formControlName","bio","placeholder","Bio/Mood","rows","1"],["type","submit","mat-raised-button","",1,"margin-top"],["mat-menu-item","",3,"click"],[1,"color-circle"]],template:function(e,t){1&e&&(he(0,PIe,20,14,"div",0),Yl(1,"async")),2&e&&$("ngIf",Ql(1,1,t.user$))},dependencies:[Zw,xi,c3,iy,Jx,tk,Hy,du,xy,ky,tl,bf,F3,uf,B3,Xp],styles:[".profile-image[_ngcontent-%COMP%]{position:relative;width:120px;margin:auto}.profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center}.form-container[_ngcontent-%COMP%]{max-width:400px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}.icon-container[_ngcontent-%COMP%]{width:165px;height:165px;display:flex;justify-content:center;align-items:center;margin:auto;position:relative}.larger-icon[_ngcontent-%COMP%]{font-size:165px;width:100%;height:100%;transition:filter .3s}.larger-icon[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(1.2)}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{align-self:flex-end;margin-bottom:10px;z-index:1}.color-circle[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;margin:4px}mat-button-toggle-group[_ngcontent-%COMP%]{display:flex}  .profile-menu{position:fixed;transform:translate(23.5%,-15%)!important}  .mat-menu-content{flex-wrap:wrap;justify-content:flex-start}  .mat-menu-content .color-circle{margin:4px auto}  .mat-menu-content .mat-button-wrapper{text-align:center}"]}),il=function Aoe(n,e,t,r){var s,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}([function VCe(n={}){return e=>{!function RCe(n){return!!n[kCe]}(e)?function FCe(n,e){n.prototype.ngOnDestroy=Wq(n.prototype.ngOnDestroy,e)}(e,n):function LCe(n,e){const t=n.\u0275pipe;t.onDestroy=Wq(t.onDestroy,e)}(e,n),function OCe(n){n.prototype[Hq]=!0}(e)}}()],il);const OIe=[{path:"",pathMatch:"full",component:rwe},{path:"login",component:ECe},{path:"sign-up",component:xCe},{path:"home",component:nwe},{path:"profile",component:il}];let NIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({imports:[UU.forRoot(OIe),UU]}),n})();const k5_firebase={projectId:"chat-app-132a2",appId:"1:784045443083:web:d64407a29e978df5975f0e",storageBucket:"chat-app-132a2.appspot.com",apiKey:"AIzaSyBkBN7gCsLABcwNdHqhSiQoQnjIcoWrkPQ",authDomain:"chat-app-132a2.firebaseapp.com",messagingSenderId:"784045443083"};let $Ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({imports:[In,YM,In]}),n})();const WIe={provide:new R("mat-tooltip-scroll-strategy"),deps:[cf],useFactory:function qIe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let YIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n}),n.\u0275inj=Ce({providers:[WIe],imports:[i_e,cd,P3,In,In,cy]}),n})(),QIe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Te({type:n,bootstrap:[tve]}),n.\u0275inj=Ce({imports:[hL,ewe,NIe,C_e,G_e,X_e,ek,yCe,qx,Vie(()=>Bie(k5_firebase)),Sle(()=>xle()),uge(()=>hge()),TIe(()=>SIe()),jEe.forRoot(),Zye,$Ie,YIe]}),n})();(function CX(){yF=!1})(),LJ().bootstrapModule(QIe).catch(n=>console.error(n))}},Re=>{Re(Re.s=594)}]);