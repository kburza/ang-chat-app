"use strict";(self.webpackChunkangular_sign_up=self.webpackChunkangular_sign_up||[]).push([[179],{809:()=>{function Re(n){return"function"==typeof n}function vu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Tp=vu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ll(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class yt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Re(r))try{r()}catch(o){e=o instanceof Tp?o.errors:[o]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const o of i)try{D3(o)}catch(s){e=e??[],s instanceof Tp?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Tp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)D3(e);else{if(e instanceof yt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ll(t,e)}remove(e){const{_teardowns:t}=this;t&&ll(t,e),e instanceof yt&&e._removeParent(this)}}yt.EMPTY=(()=>{const n=new yt;return n.closed=!0,n})();const T3=yt.EMPTY;function S3(n){return n instanceof yt||n&&"closed"in n&&Re(n.remove)&&Re(n.add)&&Re(n.unsubscribe)}function D3(n){Re(n)?n():n.unsubscribe()}const Hs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sp={setTimeout(...n){const{delegate:e}=Sp;return(e?.setTimeout||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=Sp;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function I3(n){Sp.setTimeout(()=>{const{onUnhandledError:e}=Hs;if(!e)throw n;e(n)})}function cl(){}const Uz=Jg("C",void 0,void 0);function Jg(n,e,t){return{kind:n,value:e,error:t}}let js=null;function Dp(n){if(Hs.useDeprecatedSynchronousErrorHandling){const e=!js;if(e&&(js={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=js;if(js=null,t)throw r}}else n()}class e2 extends yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,S3(e)&&e.add(this)):this.destination=Kz}static create(e,t,r){return new t2(e,t,r)}next(e){this.isStopped?r2(function Gz(n){return Jg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?r2(function $z(n){return Jg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?r2(Uz,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class t2 extends e2{constructor(e,t,r){let i;if(super(),Re(e))i=e;else if(e){let o;({next:i,error:t,complete:r}=e),this&&Hs.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe()):o=e,i=i?.bind(o),t=t?.bind(o),r=r?.bind(o)}this.destination={next:i?n2(i):cl,error:n2(t??A3),complete:r?n2(r):cl}}}function n2(n,e){return(...t)=>{try{n(...t)}catch(r){Hs.useDeprecatedSynchronousErrorHandling?function Wz(n){Hs.useDeprecatedSynchronousErrorHandling&&js&&(js.errorThrown=!0,js.error=n)}(r):I3(r)}}}function A3(n){throw n}function r2(n,e){const{onStoppedNotification:t}=Hs;t&&Sp.setTimeout(()=>t(n,e))}const Kz={closed:!0,next:cl,error:A3,complete:cl},o2="function"==typeof Symbol&&Symbol.observable||"@@observable";function zo(n){return n}function R3(n){return 0===n.length?zo:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ve=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function Xz(n){return n&&n instanceof e2||function Yz(n){return n&&Re(n.next)&&Re(n.error)&&Re(n.complete)}(n)&&S3(n)}(t)?t:new t2(t,r,i);return Dp(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=P3(r))((i,o)=>{let s;s=this.subscribe(a=>{try{t(a)}catch(l){o(l),s?.unsubscribe()}},o,i)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[o2](){return this}pipe(...t){return R3(t)(this)}toPromise(t){return new(t=P3(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function P3(n){var e;return null!==(e=n??Hs.Promise)&&void 0!==e?e:Promise}const Qz=vu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ke=(()=>{class n extends Ve{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new O3(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Qz}next(t){Dp(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(t)}})}error(t){Dp(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Dp(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?T3:(o.push(t),new yt(()=>ll(o,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Ve;return t.source=this,t}}return n.create=(e,t)=>new O3(e,t),n})();class O3 extends ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:T3}}function N3(n){return Re(n?.lift)}function gt(n){return e=>{if(N3(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Je extends e2{constructor(e,t,r,i,o){super(e),this.onFinalize=o,this._next=t?function(s){try{t(s)}catch(a){e.error(a)}}:super._next,this._error=i?function(s){try{i(s)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function re(n,e){return gt((t,r)=>{let i=0;t.subscribe(new Je(r,o=>{r.next(n.call(e,o,i++))}))})}function zs(n){return this instanceof zs?(this.v=n,this):new zs(n)}function tq(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(p){return new Promise(function(f,m){o.push([h,p,f,m])>1||a(h,p)})})}function a(h,p){try{!function l(h){h.value instanceof zs?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(r[h](p))}catch(f){d(o[0][3],f)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function nq(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function V3(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const a2=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function B3(n){return Re(n?.then)}function H3(n){return Re(n[o2])}function j3(n){return Symbol.asyncIterator&&Re(n?.[Symbol.asyncIterator])}function z3(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const q3=function iq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function U3(n){return Re(n?.[q3])}function $3(n){return tq(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield zs(t.read());if(i)return yield zs(void 0);yield yield zs(r)}}finally{t.releaseLock()}})}function G3(n){return Re(n?.getReader)}function jn(n){if(n instanceof Ve)return n;if(null!=n){if(H3(n))return function oq(n){return new Ve(e=>{const t=n[o2]();if(Re(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(a2(n))return function sq(n){return new Ve(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(B3(n))return function aq(n){return new Ve(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,I3)})}(n);if(j3(n))return W3(n);if(U3(n))return function lq(n){return new Ve(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(G3(n))return function cq(n){return W3($3(n))}(n)}throw z3(n)}function W3(n){return new Ve(e=>{(function uq(n,e){var t,r,i,o;return function Jz(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=nq(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Xi(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Ot(n,e,t=1/0){return Re(e)?Ot((r,i)=>re((o,s)=>e(r,o,i,s))(jn(n(r,i))),t):("number"==typeof e&&(t=e),gt((r,i)=>function dq(n,e,t,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},p=m=>c<r?f(m):l.push(m),f=m=>{o&&e.next(m),c++;let g=!1;jn(t(m,u++)).subscribe(new Je(e,k=>{i?.(k),o?p(k):e.next(k)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<r;){const k=l.shift();s?Xi(e,s,()=>f(k)):f(k)}h()}catch(k){e.error(k)}}))};return n.subscribe(new Je(e,p,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function ul(n=1/0){return Ot(zo,n)}const Qr=new Ve(n=>n.complete());function K3(n){return n&&Re(n.schedule)}function l2(n){return n[n.length-1]}function Z3(n){return Re(l2(n))?n.pop():void 0}function ku(n){return K3(l2(n))?n.pop():void 0}function Ip(n,e=0){return gt((t,r)=>{t.subscribe(new Je(r,i=>Xi(r,n,()=>r.next(i),e),()=>Xi(r,n,()=>r.complete(),e),i=>Xi(r,n,()=>r.error(i),e)))})}function Ap(n,e=0){return gt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Y3(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ve(t=>{Xi(t,e,()=>{const r=n[Symbol.asyncIterator]();Xi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ze(n,e){return e?function vq(n,e){if(null!=n){if(H3(n))return function fq(n,e){return jn(n).pipe(Ap(e),Ip(e))}(n,e);if(a2(n))return function yq(n,e){return new Ve(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(B3(n))return function mq(n,e){return jn(n).pipe(Ap(e),Ip(e))}(n,e);if(j3(n))return Y3(n,e);if(U3(n))return function gq(n,e){return new Ve(t=>{let r;return Xi(t,e,()=>{r=n[q3](),Xi(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Re(r?.return)&&r.return()})}(n,e);if(G3(n))return function _q(n,e){return Y3($3(n),e)}(n,e)}throw z3(n)}(n,e):jn(n)}function dl(...n){const e=ku(n),t=function pq(n,e){return"number"==typeof l2(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?jn(r[0]):ul(t)(ze(r,e)):Qr}function zn(n){return n<=0?()=>Qr:gt((e,t)=>{let r=0;e.subscribe(new Je(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function X3(n={}){const{connector:e=(()=>new ke),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s=null,a=null,l=null,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=null},p=()=>{h(),s=l=null,u=d=!1},f=()=>{const m=s;p(),m?.unsubscribe()};return gt((m,g)=>{c++,!d&&!u&&h();const k=l=l??e();g.add(()=>{c--,0===c&&!d&&!u&&(a=c2(f,i))}),k.subscribe(g),s||(s=new t2({next:w=>k.next(w),error:w=>{d=!0,h(),a=c2(p,t,w),k.error(w)},complete:()=>{u=!0,h(),a=c2(p,r),k.complete()}}),ze(m).subscribe(s))})(o)}}function c2(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(zn(1)).subscribe(()=>n())}function Ze(n){for(let e in n)if(n[e]===Ze)return e;throw Error("Could not find renamed property on target object.")}function u2(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ye(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ye).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function d2(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const kq=Ze({__forward_ref__:Ze});function Xe(n){return n.__forward_ref__=Xe,n.toString=function(){return Ye(this())},n}function ne(n){return h2(n)?n():n}function h2(n){return"function"==typeof n&&n.hasOwnProperty(kq)&&n.__forward_ref__===Xe}class E extends Error{constructor(e,t){super(function Rp(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function ce(n){return"string"==typeof n?n:null==n?"":String(n)}function Pp(n,e){throw new E(-201,!1)}function kr(n,e){null==n&&function Be(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function be(n){return{providers:n.providers||[],imports:n.imports||[]}}function p2(n){return Q3(n,Op)||Q3(n,eT)}function Q3(n,e){return n.hasOwnProperty(e)?n[e]:null}function J3(n){return n&&(n.hasOwnProperty(f2)||n.hasOwnProperty(Sq))?n[f2]:null}const Op=Ze({\u0275prov:Ze}),f2=Ze({\u0275inj:Ze}),eT=Ze({ngInjectableDef:Ze}),Sq=Ze({ngInjectorDef:Ze});var J=(()=>((J=J||{})[J.Default=0]="Default",J[J.Host=1]="Host",J[J.Self=2]="Self",J[J.SkipSelf=4]="SkipSelf",J[J.Optional=8]="Optional",J))();let m2;function Fr(n){const e=m2;return m2=n,e}function tT(n,e,t){const r=p2(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&J.Optional?null:void 0!==e?e:void Pp(Ye(n))}function qo(n){return{toString:n}.toString()}var Jr=(()=>((Jr=Jr||{})[Jr.OnPush=0]="OnPush",Jr[Jr.Default=1]="Default",Jr))(),ei=(()=>{return(n=ei||(ei={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ei;var n})();const qe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),hl={},Fe=[],Np=Ze({\u0275cmp:Ze}),y2=Ze({\u0275dir:Ze}),Fp=Ze({\u0275pipe:Ze}),nT=Ze({\u0275mod:Ze}),Ji=Ze({\u0275fac:Ze}),bu=Ze({__NG_ELEMENT_ID__:Ze});let Iq=0;function Qe(n){return qo(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Jr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Fe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ei.Emulated,id:"c"+Iq++,styles:n.styles||Fe,_:null,setInput:null,schemas:n.schemas||null,tView:null},o=n.dependencies,s=n.features;return i.inputs=oT(n.inputs,r),i.outputs=oT(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(rT).filter(iT):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Un).filter(iT):null,i})}function rT(n){return Ue(n)||qn(n)}function iT(n){return null!==n}const Rq={};function xe(n){return qo(()=>{const e={type:n.type,bootstrap:n.bootstrap||Fe,declarations:n.declarations||Fe,imports:n.imports||Fe,exports:n.exports||Fe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Rq[n.id]=n.type),e})}function oT(n,e){if(null==n)return hl;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}const K=Qe;function cr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ue(n){return n[Np]||null}function qn(n){return n[y2]||null}function Un(n){return n[Fp]||null}function br(n,e){const t=n[nT]||null;if(!t&&!0===e)throw new Error(`Type ${Ye(n)} does not have '\u0275mod' property.`);return t}function ur(n){return Array.isArray(n)&&"object"==typeof n[1]}function ni(n){return Array.isArray(n)&&!0===n[1]}function v2(n){return 0!=(8&n.flags)}function Hp(n){return 2==(2&n.flags)}function jp(n){return 1==(1&n.flags)}function ri(n){return null!==n.template}function Lq(n){return 0!=(256&n[2])}function Ws(n,e){return n.hasOwnProperty(Ji)?n[Ji]:null}class Hq{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function $n(){return lT}function lT(n){return n.type.prototype.ngOnChanges&&(n.setInput=zq),jq}function jq(){const n=uT(this),e=n?.current;if(e){const t=n.previous;if(t===hl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function zq(n,e,t,r){const i=uT(n)||function qq(n,e){return n[cT]=e}(n,{previous:hl,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[t],l=s[a];o[a]=new Hq(l&&l.currentValue,e,s===hl),n[r]=e}$n.ngInherit=!0;const cT="__ngSimpleChanges__";function uT(n){return n[cT]||null}function Ht(n){for(;Array.isArray(n);)n=n[0];return n}function zp(n,e){return Ht(e[n])}function Br(n,e){return Ht(e[n.index])}function C2(n,e){return n.data[e]}function gl(n,e){return n[e]}function Mr(n,e){const t=e[n];return ur(t)?t:t[0]}function dT(n){return 4==(4&n[2])}function x2(n){return 64==(64&n[2])}function Uo(n,e){return null==e?null:n[e]}function hT(n){n[18]=0}function E2(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const se={lFrame:bT(null),bindingsEnabled:!0};function fT(){return se.bindingsEnabled}function T(){return se.lFrame.lView}function De(){return se.lFrame.tView}function Gn(n){return se.lFrame.contextLView=n,n[8]}function Wn(n){return se.lFrame.contextLView=null,n}function Wt(){let n=mT();for(;null!==n&&64===n.type;)n=n.parent;return n}function mT(){return se.lFrame.currentTNode}function bi(n,e){const t=se.lFrame;t.currentTNode=n,t.isParent=e}function T2(){return se.lFrame.isParent}function S2(){se.lFrame.isParent=!1}function Kn(){const n=se.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function _l(){return se.lFrame.bindingIndex++}function rU(n,e){const t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,D2(e)}function D2(n){se.lFrame.currentDirectiveIndex=n}function _T(){return se.lFrame.currentQueryIndex}function A2(n){se.lFrame.currentQueryIndex=n}function oU(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function vT(n,e,t){if(t&J.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&J.Host||(i=oU(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,n=o}const r=se.lFrame=kT();return r.currentTNode=e,r.lView=n,!0}function R2(n){const e=kT(),t=n[1];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function kT(){const n=se.lFrame,e=null===n?null:n.child;return null===e?bT(n):e}function bT(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function wT(){const n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const MT=wT;function P2(){const n=wT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zn(){return se.lFrame.selectedIndex}function $o(n){se.lFrame.selectedIndex=n}function Tt(){const n=se.lFrame;return C2(n.tView,n.selectedIndex)}function Up(){se.lFrame.currentNamespace="svg"}function O2(){!function cU(){se.lFrame.currentNamespace=null}()}function $p(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Gp(n,e,t){CT(n,e,3,t)}function Wp(n,e,t,r){(3&n[2])===t&&CT(n,e,t,r)}function N2(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function CT(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(hU(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function hU(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Eu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Kp(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];ET(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function xT(n){return 3===n||4===n||6===n}function ET(n){return 64===n.charCodeAt(0)}function Zp(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||TT(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function TT(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function ST(n){return-1!==n}function vl(n){return 32767&n}function kl(n,e){let t=function gU(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let L2=!0;function Yp(n){const e=L2;return L2=n,e}let _U=0;const wi={};function Su(n,e){const t=B2(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,V2(r.data,n),V2(e,null),V2(r.blueprint,null));const i=Xp(n,e),o=n.injectorIndex;if(ST(i)){const s=vl(i),a=kl(i,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function V2(n,e){n.push(0,0,0,0,0,0,0,0,e)}function B2(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Xp(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=LT(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Qp(n,e,t){!function vU(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(bu)&&(r=t[bu]),null==r&&(r=t[bu]=_U++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function AT(n,e,t){if(t&J.Optional)return n;Pp()}function RT(n,e,t,r){if(t&J.Optional&&void 0===r&&(r=null),0==(t&(J.Self|J.Host))){const i=n[9],o=Fr(void 0);try{return i?i.get(e,r,t&J.Optional):tT(e,r,t&J.Optional)}finally{Fr(o)}}return AT(r,0,t)}function PT(n,e,t,r=J.Default,i){if(null!==n){if(1024&e[2]){const s=function CU(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=OT(o,s,t,r|J.Self,wi);if(a!==wi)return a;let l=o.parent;if(!l){const c=s[21];if(c){const u=c.get(t,wi,r);if(u!==wi)return u}l=LT(s),s=s[15]}o=l}return i}(n,e,t,r,wi);if(s!==wi)return s}const o=OT(n,e,t,r,wi);if(o!==wi)return o}return RT(e,t,r,i)}function OT(n,e,t,r,i){const o=function wU(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(bu)?n[bu]:void 0;return"number"==typeof e?e>=0?255&e:MU:e}(t);if("function"==typeof o){if(!vT(e,n,r))return r&J.Host?AT(i,0,r):RT(e,t,r,i);try{const s=o(r);if(null!=s||r&J.Optional)return s;Pp()}finally{MT()}}else if("number"==typeof o){let s=null,a=B2(n,e),l=-1,c=r&J.Host?e[16][6]:null;for((-1===a||r&J.SkipSelf)&&(l=-1===a?Xp(n,e):e[a+8],-1!==l&&FT(r,!1)?(s=e[1],a=vl(l),e=kl(l,e)):a=-1);-1!==a;){const u=e[1];if(NT(o,a,u.data)){const d=bU(a,e,t,s,r,c);if(d!==wi)return d}l=e[a+8],-1!==l&&FT(r,e[1].data[a+8]===c)&&NT(o,a,e)?(s=u,a=vl(l),e=kl(l,e)):a=-1}}return i}function bU(n,e,t,r,i,o){const s=e[1],a=s.data[n+8],u=Jp(a,s,t,null==r?Hp(a)&&L2:r!=s&&0!=(3&a.type),i&J.Host&&o===a);return null!==u?Du(e,s,u,a):wi}function Jp(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=i?a+u:n.directiveEnd;for(let p=r?a:a+u;p<h;p++){const f=s[p];if(p<l&&t===f||p>=l&&f.type===t)return p}if(i){const p=s[l];if(p&&ri(p)&&p.type===t)return l}return null}function Du(n,e,t,r){let i=n[t];const o=e.data;if(function pU(n){return n instanceof Eu}(i)){const s=i;s.resolving&&function bq(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new E(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ne(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ce(n)}(o[t]));const a=Yp(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Fr(s.injectImpl):null;vT(n,r,J.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function dU(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=lT(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),o&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o))}(t,o[t],e)}finally{null!==l&&Fr(l),Yp(a),s.resolving=!1,MT()}}return i}function NT(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function FT(n,e){return!(n&J.Self||n&J.Host&&e)}class bl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return PT(this._tNode,this._lView,e,r,t)}}function MU(){return new bl(Wt(),T())}function hn(n){return qo(()=>{const e=n.prototype.constructor,t=e[Ji]||H2(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Ji]||H2(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function H2(n){return h2(n)?()=>{const e=H2(ne(n));return e&&e()}:Ws(n)}function LT(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Wo(n){return function kU(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(xT(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(Wt(),n)}const Ml="__parameters__";function xl(n,e,t){return qo(()=>{const r=function j2(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Ml)?l[Ml]:Object.defineProperty(l,Ml,{value:[]})[Ml];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class P{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Cr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Cr(r,e)):e!==n&&e.push(r)}return e}function no(n,e){n.forEach(t=>Array.isArray(t)?no(t,e):e(t))}function BT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ef(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ru(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function xr(n,e,t){let r=El(n,e);return r>=0?n[1|r]=t:(r=~r,function SU(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function q2(n,e){const t=El(n,e);if(t>=0)return n[1|t]}function El(n,e){return function zT(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Pu={},$2="__NG_DI_FLAG__",nf="ngTempTokenPath",FU=/\n/gm,qT="__source";let Ou;function Tl(n){const e=Ou;return Ou=n,e}function VU(n,e=J.Default){if(void 0===Ou)throw new E(-203,!1);return null===Ou?tT(n,void 0,e):Ou.get(n,e&J.Optional?null:void 0,e)}function C(n,e=J.Default){return(function Dq(){return m2}()||VU)(ne(n),e)}function tt(n,e=J.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),C(n,e)}function G2(n){const e=[];for(let t=0;t<n.length;t++){const r=ne(n[t]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,o=J.Default;for(let s=0;s<r.length;s++){const a=r[s],l=BU(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(C(i,o))}else e.push(C(r))}return e}function Nu(n,e){return n[$2]=e,n.prototype[$2]=e,n}function BU(n){return n[$2]}const pt=Nu(xl("Optional"),8),Sl=Nu(xl("SkipSelf"),4);let K2,af,lf;function Il(n){return function Z2(){if(void 0===af&&(af=null,qe.trustedTypes))try{af=qe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return af}()?.createHTML(n)||n}function JT(n){return function Y2(){if(void 0===lf&&(lf=null,qe.trustedTypes))try{lf=qe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return lf}()?.createHTML(n)||n}class Ks{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class e$ extends Ks{getTypeName(){return"HTML"}}class t$ extends Ks{getTypeName(){return"Style"}}class n$ extends Ks{getTypeName(){return"Script"}}class r$ extends Ks{getTypeName(){return"URL"}}class i$ extends Ks{getTypeName(){return"ResourceURL"}}function Er(n){return n instanceof Ks?n.changingThisBreaksApplicationSecurity:n}function Mi(n,e){const t=function o$(n){return n instanceof Ks&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}class d${constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Il(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class h${constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Il(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Il(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const s=t.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const f$=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,m$=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Vu(n){return(n=String(n)).match(f$)||n.match(m$)?n:"unsafe:"+n}function rS(n){return(n=String(n)).split(",").map(e=>Vu(e.trim())).join(", ")}function Ci(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Bu(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const iS=Ci("area,br,col,hr,img,wbr"),oS=Ci("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sS=Ci("rp,rt"),X2=Bu(iS,Bu(oS,Ci("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bu(sS,Ci("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bu(sS,oS)),Q2=Ci("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),J2=Ci("srcset"),aS=Bu(Q2,J2,Ci("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ci("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),y$=Ci("script,style,template");class g${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!X2.hasOwnProperty(t))return this.sanitizedSomething=!0,!y$.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!aS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Q2[a]&&(l=Vu(l)),J2[a]&&(l=rS(l)),this.buf.push(" ",s,'="',lS(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();X2.hasOwnProperty(t)&&!iS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(lS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const _$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v$=/([^\#-~ |!])/g;function lS(n){return n.replace(/&/g,"&amp;").replace(_$,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(v$,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cf;function cS(n,e){let t=null;try{cf=cf||function nS(n){const e=new h$(n);return function p$(){try{return!!(new window.DOMParser).parseFromString(Il(""),"text/html")}catch{return!1}}()?new d$(e):e}(n);let r=e?String(e):"";t=cf.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=cf.getInertBodyElement(r)}while(r!==o);return Il((new g$).sanitizeChildren(e0(t)||t))}finally{if(t){const r=e0(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function e0(n){return"content"in n&&function k$(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Le=(()=>((Le=Le||{})[Le.NONE=0]="NONE",Le[Le.HTML=1]="HTML",Le[Le.STYLE=2]="STYLE",Le[Le.SCRIPT=3]="SCRIPT",Le[Le.URL=4]="URL",Le[Le.RESOURCE_URL=5]="RESOURCE_URL",Le))();function uS(n){const e=Hu();return e?JT(e.sanitize(Le.HTML,n)||""):Mi(n,"HTML")?JT(Er(n)):cS(function QT(){return void 0!==K2?K2:typeof document<"u"?document:void 0}(),ce(n))}function t0(n){const e=Hu();return e?e.sanitize(Le.URL,n)||"":Mi(n,"URL")?Er(n):Vu(ce(n))}function Hu(){const n=T();return n&&n[12]}const n0=new P("ENVIRONMENT_INITIALIZER"),hS=new P("INJECTOR",-1),pS=new P("INJECTOR_DEF_TYPES");class fS{get(e,t=Pu){if(t===Pu){const r=new Error(`NullInjectorError: No provider for ${Ye(e)}!`);throw r.name="NullInjectorError",r}return t}}function T$(...n){return{\u0275providers:mS(0,n)}}function mS(n,...e){const t=[],r=new Set;let i;return no(e,o=>{const s=o;r0(s,t,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&yS(i,t),t}function yS(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];no(i,o=>{e.push(o)})}}function r0(n,e,t,r){if(!(n=ne(n)))return!1;let i=null,o=J3(n);const s=!o&&Ue(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const l=n.ngModule;if(o=J3(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)r0(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{no(o.imports,u=>{r0(u,e,t,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&yS(c,e)}if(!a){const c=Ws(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Fe},{provide:pS,useValue:i,multi:!0},{provide:n0,useValue:()=>C(i),multi:!0})}const l=o.providers;null==l||a||no(l,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}const S$=Ze({provide:String,useValue:Ze});function o0(n){return null!==n&&"object"==typeof n&&S$ in n}function Zs(n){return"function"==typeof n}const s0=new P("Set Injector scope."),uf={},I$={};let a0;function df(){return void 0===a0&&(a0=new fS),a0}class Ko{}class vS extends Ko{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,c0(e,s=>this.processProvider(s)),this.records.set(hS,Al(void 0,this)),i.has("environment")&&this.records.set(Ko,Al(void 0,this));const o=this.records.get(s0);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pS.multi,Fe,J.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Tl(this),r=Fr(void 0);try{return e()}finally{Tl(t),Fr(r)}}get(e,t=Pu,r=J.Default){this.assertNotDestroyed();const i=Tl(this),o=Fr(void 0);try{if(!(r&J.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function N$(n){return"function"==typeof n||"object"==typeof n&&n instanceof P}(e)&&p2(e);a=l&&this.injectableDefInScope(l)?Al(l0(e),uf):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&J.Self?df():this.parent).get(e,t=r&J.Optional&&t===Pu?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[nf]=s[nf]||[]).unshift(Ye(e)),i)throw s;return function HU(n,e,t,r){const i=n[nf];throw e[qT]&&i.unshift(e[qT]),n.message=function jU(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ye(e);if(Array.isArray(e))i=e.map(Ye).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ye(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(FU,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[nf]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Fr(o),Tl(i)}}resolveInjectorInitializers(){const e=Tl(this),t=Fr(void 0);try{const r=this.get(n0.multi,Fe,J.Self);for(const i of r)i()}finally{Tl(e),Fr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ye(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){let t=Zs(e=ne(e))?e:ne(e&&e.provide);const r=function R$(n){return o0(n)?Al(void 0,n.useValue):Al(kS(n),uf)}(e);if(Zs(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Al(void 0,uf,!0),i.factory=()=>G2(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===uf&&(t.value=I$,t.value=t.factory()),"object"==typeof t.value&&t.value&&function O$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ne(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function l0(n){const e=p2(n),t=null!==e?e.factory:Ws(n);if(null!==t)return t;if(n instanceof P)throw new E(204,!1);if(n instanceof Function)return function A$(n){const e=n.length;if(e>0)throw Ru(e,"?"),new E(204,!1);const t=function Eq(n){const e=n&&(n[Op]||n[eT]);if(e){const t=function Tq(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new E(204,!1)}function kS(n,e,t){let r;if(Zs(n)){const i=ne(n);return Ws(i)||l0(i)}if(o0(n))r=()=>ne(n.useValue);else if(function _S(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...G2(n.deps||[]));else if(function gS(n){return!(!n||!n.useExisting)}(n))r=()=>C(ne(n.useExisting));else{const i=ne(n&&(n.useClass||n.provide));if(!function P$(n){return!!n.deps}(n))return Ws(i)||l0(i);r=()=>new i(...G2(n.deps))}return r}function Al(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function F$(n){return!!n.\u0275providers}function c0(n,e){for(const t of n)Array.isArray(t)?c0(t,e):F$(t)?c0(t.\u0275providers,e):e(t)}class bS{}class B${resolveComponentFactory(e){throw function V$(n){const e=Error(`No component factory found for ${Ye(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ys=(()=>{class n{}return n.NULL=new B$,n})();function H$(){return Rl(Wt(),T())}function Rl(n,e){return new He(Br(n,e))}let He=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=H$,n})();function j$(n){return n instanceof He?n.nativeElement:n}class ju{}let ii=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function z$(){const n=T(),t=Mr(Wt().index,n);return(ur(t)?t:n)[11]}(),n})(),q$=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>null}),n})();class Zo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const MS=new Zo("14.1.1"),u0={};function m0(n){return n.ngOriginalError}class ro{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&m0(e);for(;t&&m0(t);)t=m0(t);return t||null}}const y0=new Map;let tG=0;const _0="__ngContext__";function Dn(n,e){ur(e)?(n[_0]=e[20],function rG(n){y0.set(n[20],n)}(e)):n[_0]=e}function zu(n){const e=n[_0];return"number"==typeof e?function DS(n){return y0.get(n)||null}(e):e||null}function v0(n){const e=zu(n);return e?ur(e)?e:e.lView:null}const hG=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(qe))();function io(n){return n instanceof Function?n():n}var dr=(()=>((dr=dr||{})[dr.Important=1]="Important",dr[dr.DashCase=2]="DashCase",dr))();function b0(n,e){return undefined(n,e)}function qu(n){const e=n[3];return ni(e)?e[3]:e}function w0(n){return LS(n[13])}function M0(n){return LS(n[4])}function LS(n){for(;null!==n&&!ni(n);)n=n[4];return n}function Ol(n,e,t,r,i){if(null!=r){let o,s=!1;ni(r)?o=r:ur(r)&&(s=!0,r=r[0]);const a=Ht(r);0===n&&null!==t?null==i?qS(e,t,a):Xs(e,t,a,i||null,!0):1===n&&null!==t?Xs(e,t,a,i||null,!0):2===n?function YS(n,e,t){const r=hf(n,e);r&&function IG(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function PG(n,e,t,r,i){const o=t[7];o!==Ht(t)&&Ol(e,n,r,o,i);for(let a=10;a<t.length;a++){const l=t[a];Uu(l[1],l,n,e,r,o)}}(e,n,o,t,i)}}function x0(n,e,t){return n.createElement(e,t)}function BS(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,E2(i,-1)),t.splice(r,1)}function E0(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&BS(i,r),e>0&&(n[t-1][4]=r[4]);const o=ef(n,10+e);!function wG(n,e){Uu(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function HS(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Uu(n,e,t,3,null,null),function xG(n){let e=n[13];if(!e)return T0(n[1],n);for(;e;){let t=null;if(ur(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)ur(e)&&T0(e[1],e),e=e[3];null===e&&(e=n),ur(e)&&T0(e[1],e),t=e&&e[4]}e=t}}(e)}}function T0(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function DG(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Eu)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,e),function SG(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+1],a="function"==typeof s?s(e):Ht(e[s]),l=r[i=t[o+2]],c=t[o+3];"boolean"==typeof c?a.removeEventListener(t[o],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=t[o+1]];t[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&ni(e[3])){t!==e[3]&&BS(t,e);const r=e[19];null!==r&&r.detachView(n)}!function iG(n){y0.delete(n[20])}(e)}}function jS(n,e,t){return function zS(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===ei.None||i===ei.Emulated)return null}return Br(r,t)}(n,e.parent,t)}function Xs(n,e,t,r,i){n.insertBefore(e,t,r,i)}function qS(n,e,t){n.appendChild(e,t)}function US(n,e,t,r,i){null!==r?Xs(n,e,t,r,i):qS(n,e,t)}function hf(n,e){return n.parentNode(e)}function $S(n,e,t){return WS(n,e,t)}let WS=function GS(n,e,t){return 40&n.type?Br(n,t):null};function pf(n,e,t,r){const i=jS(n,r,e),o=e[11],a=$S(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)US(o,i,t[l],a,!1);else US(o,i,t,a,!1)}function ff(n,e){if(null!==e){const t=e.type;if(3&t)return Br(e,n);if(4&t)return D0(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return ff(n,r);{const i=n[e.index];return ni(i)?D0(-1,i):Ht(i)}}if(32&t)return b0(e,n)()||Ht(n[e.index]);{const r=ZS(n,e);return null!==r?Array.isArray(r)?r[0]:ff(qu(n[16]),r):ff(n,e.next)}}return null}function ZS(n,e){return null!==e?n[16][6].projection[e.projection]:null}function D0(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return ff(r,i)}return e[7]}function I0(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===e&&(a&&Dn(Ht(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)I0(n,e,t.child,r,i,o,!1),Ol(e,n,i,a,o);else if(32&l){const c=b0(t,r);let u;for(;u=c();)Ol(e,n,i,u,o);Ol(e,n,i,a,o)}else 16&l?XS(n,e,r,t,i,o):Ol(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Uu(n,e,t,r,i,o){I0(t,r,n.firstChild,e,i,o,!1)}function XS(n,e,t,r,i,o){const s=t[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ol(e,n,i,l[c],o);else I0(n,e,l,s[3],i,o,!0)}function QS(n,e,t){n.setAttribute(e,"style",t)}function A0(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function JS(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}const eD="ng-template";function NG(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==JS(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function tD(n){return 4===n.type&&n.value!==eD}function FG(n,e,t){return e===(4!==n.type||t?n.value:eD)}function LG(n,e,t){let r=4;const i=n.attrs||[],o=function HG(n){for(let e=0;e<n.length;e++)if(xT(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!FG(n,l,t)||""===l&&1===e.length){if(oi(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!NG(n.attrs,c,t)){if(oi(r))return!1;s=!0}continue}const d=VG(8&r?"class":l,i,tD(n),t);if(-1===d){if(oi(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const p=8&r?h:null;if(p&&-1!==JS(p,c,0)||2&r&&c!==h){if(oi(r))return!1;s=!0}}}}else{if(!s&&!oi(r)&&!oi(l))return!1;if(s&&oi(l))continue;s=!1,r=l|1&r}}return oi(r)||s}function oi(n){return 0==(1&n)}function VG(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function jG(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function nD(n,e,t=!1){for(let r=0;r<e.length;r++)if(LG(n,e[r],t))return!0;return!1}function zG(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function rD(n,e){return n?":not("+e.trim()+")":e}function qG(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!oi(s)&&(e+=rD(o,i),i=""),r=s,o=o||!oi(r);t++}return""!==i&&(e+=rD(o,i)),e}const ue={};function U(n){iD(De(),T(),Zn()+n,!1)}function iD(n,e,t,r){if(!r)if(3==(3&e[2])){const o=n.preOrderCheckHooks;null!==o&&Gp(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Wp(e,o,0,t)}$o(t)}function lD(n,e=null,t=null,r){const i=cD(n,e,t,r);return i.resolveInjectorInitializers(),i}function cD(n,e=null,t=null,r,i=new Set){const o=[t||Fe,T$(n)];return r=r||("object"==typeof n?void 0:Ye(n)),new vS(o,e||df(),r||null,i)}let St=(()=>{class n{static create(t,r){if(Array.isArray(t))return lD({name:""},r,t,"");{const i=t.name??"";return lD({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Pu,n.NULL=new fS,n.\u0275prov=V({token:n,providedIn:"any",factory:()=>C(hS)}),n.__NG_ELEMENT_ID__=-1,n})();function _(n,e=J.Default){const t=T();return null===t?C(n,e):PT(Wt(),t,ne(n),e)}function F0(){throw new Error("invalid")}function yf(n,e){return n<<17|e<<2}function si(n){return n>>17&32767}function L0(n){return 2|n}function oo(n){return(131068&n)>>2}function V0(n,e){return-131069&n|e<<2}function B0(n){return 1|n}function ED(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],o=t[r+1];if(-1!==o){const s=n.data[o];A2(i),s.contentQueries(2,e[o],o)}}}function vf(n,e,t,r,i,o,s,a,l,c,u){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==u||n&&1024&n[2])&&(d[2]|=1024),hT(d),d[3]=d[15]=n,d[8]=t,d[10]=s||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=o,d[20]=function nG(){return tG++}(),d[21]=u,d[16]=2==e.type?n[16]:d,d}function Fl(n,e,t,r,i){let o=n.data[e];if(null===o)o=function K0(n,e,t,r,i){const o=mT(),s=T2(),l=n.data[e]=function EW(n,e,t,r,i,o){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,e,t,r,i),function nU(){return se.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function xu(){const n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return bi(o,!0),o}function Ll(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function kf(n,e,t){R2(e);try{const r=n.viewQuery;null!==r&&r_(1,r,t);const i=n.template;null!==i&&TD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ED(n,e),n.staticViewQueries&&r_(2,n.viewQuery,t);const o=n.components;null!==o&&function wW(n,e){for(let t=0;t<e.length;t++)zW(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,P2()}}function $u(n,e,t,r){const i=e[2];if(128!=(128&i)){R2(e);try{hT(e),function yT(n){return se.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&TD(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&Gp(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Wp(e,c,0,null),N2(e,0)}if(function HW(n){for(let e=w0(n);null!==e;e=M0(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],o=i[3];0==(512&i[2])&&E2(o,1),i[2]|=512}}}(e),function BW(n){for(let e=w0(n);null!==e;e=M0(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];x2(r)&&$u(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&ED(n,e),s){const c=n.contentCheckHooks;null!==c&&Gp(e,c)}else{const c=n.contentHooks;null!==c&&Wp(e,c,1),N2(e,1)}!function kW(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)$o(~i);else{const o=i,s=t[++r],a=t[++r];rU(s,o),a(2,e[o])}}}finally{$o(-1)}}(n,e);const a=n.components;null!==a&&function bW(n,e){for(let t=0;t<e.length;t++)jW(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&r_(2,l,r),s){const c=n.viewCheckHooks;null!==c&&Gp(e,c)}else{const c=n.viewHooks;null!==c&&Wp(e,c,2),N2(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,E2(e[3],-1))}finally{P2()}}}function MW(n,e,t,r){const i=e[10],s=dT(e);try{!s&&i.begin&&i.begin(),s&&kf(n,e,r),$u(n,e,t,r)}finally{!s&&i.end&&i.end()}}function TD(n,e,t,r,i){const o=Zn(),s=2&r;try{$o(-1),s&&e.length>22&&iD(n,e,22,!1),t(r,i)}finally{$o(o)}}function SD(n,e,t){if(v2(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,t[o],o)}}}function Z0(n,e,t){!fT()||(function AW(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;n.firstCreatePass||Su(t,e),Dn(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],c=ri(l);c&&FW(e,t,l);const u=Du(e,n,a,t);Dn(u,e),null!==s&&LW(0,a-i,u,l,0,s),c&&(Mr(t.index,e)[8]=u)}}(n,e,t,Br(t,e)),128==(128&t.flags)&&function RW(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function iU(){return se.lFrame.currentDirectiveIndex}();try{$o(o);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];D2(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&ND(l,c)}}finally{$o(-1),D2(s)}}(n,e,t))}function Y0(n,e,t=Br){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function DD(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=X0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function X0(n,e,t,r,i,o,s,a,l,c){const u=22+r,d=u+i,h=function CW(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ue);return t}(u,d),p="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function ID(n,e,t,r){const i=zD(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&qD(n).push(r,i.length-1))}function AD(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function RD(n,e){const r=e.directiveEnd,i=n.data,o=e.attrs,s=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===o||tD(e)?null:VW(d,o);s.push(h),a=AD(d,c,a),l=AD(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}function Tr(n,e,t,r,i,o,s,a){const l=Br(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(i_(n,t,u,r,i),Hp(e)&&PD(t,e.index)):3&e.type&&(r=function TW(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}function PD(n,e){const t=Mr(e,n);16&t[2]||(t[2]|=32)}function Q0(n,e,t,r){let i=!1;if(fT()){const o=function PW(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];nD(t,s.selectors,!1)&&(i||(i=[]),Qp(Su(t,e),n,s.type),ri(s)?(FD(n,t),i.unshift(s)):i.push(s))}return i}(n,e,t),s=null===r?null:{"":-1};if(null!==o){i=!0,LD(t,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Ll(n,e,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];t.mergedAttrs=Zp(t.mergedAttrs,d.hostAttrs),VD(n,t,e,c,d),NW(c,d,s),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}RD(n,t)}s&&function OW(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new E(-301,!1);r.push(e[i],o)}}}(t,r,s)}return t.mergedAttrs=Zp(t.mergedAttrs,t.attrs),i}function OD(n,e,t,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function IW(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function ND(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function FD(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function NW(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ri(e)&&(t[""]=n)}}function LD(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function VD(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Ws(i.type)),s=new Eu(o,ri(i),_);n.blueprint[r]=s,t[r]=s,OD(n,e,0,r,Ll(n,t,i.hostVars,ue),i)}function FW(n,e,t){const r=Br(e,n),i=DD(t),o=n[10],s=bf(n,vf(n,i,null,t.onPush?32:16,r,e,o,o.createRenderer(r,t),null,null,null));n[e.index]=s}function xi(n,e,t,r,i,o){const s=Br(n,e);!function J0(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?ce(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],s,o,n.value,t,r,i)}function LW(n,e,t,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function VW(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function BD(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function jW(n,e){const t=Mr(e,n);if(x2(t)){const r=t[1];48&t[2]?$u(r,t,r.template,t[8]):t[5]>0&&e_(t)}}function e_(n){for(let r=w0(n);null!==r;r=M0(r))for(let i=10;i<r.length;i++){const o=r[i];if(512&o[2]){const s=o[1];$u(s,o,s.template,o[8])}else o[5]>0&&e_(o)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Mr(t[r],n);x2(i)&&i[5]>0&&e_(i)}}function zW(n,e){const t=Mr(e,n),r=t[1];(function qW(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),kf(r,t,t[8])}function bf(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function t_(n){for(;n;){n[2]|=32;const e=qu(n);if(Lq(n)&&!e)return n;n=e}return null}function jD(n){!function HD(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=v0(t);if(null!==r){const i=r[1];MW(i,r,i.template,t)}}}(n[8])}function r_(n,e,t){A2(0),e(n,t)}const $W=(()=>Promise.resolve(null))();function zD(n){return n[7]||(n[7]=[])}function qD(n){return n.cleanup||(n.cleanup=[])}function $D(n,e){const t=n[9],r=t?t.get(ro,null):null;r&&r.handleError(e)}function i_(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=e[s],c=n.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function wf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=d2(i,a):2==o&&(r=d2(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Mf(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(Ht(o)),ni(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Mf(l[1],l,c,r)}const s=t.type;if(8&s)Mf(n,e,t.child,r);else if(32&s){const a=b0(t,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=ZS(e,t);if(Array.isArray(a))r.push(...a);else{const l=qu(e[16]);Mf(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class Gu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Mf(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ni(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(E0(e,r),ef(t,r))}this._attachedToViewContainer=!1}HS(this._lView[1],this._lView)}onDestroy(e){ID(this._lView[1],this._lView,null,e)}markForCheck(){t_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function n_(n,e,t){const r=e[10];r.begin&&r.begin();try{$u(n,e,n.template,t)}catch(i){throw $D(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function CG(n,e){Uu(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e}}class GW extends Gu{constructor(e){super(e),this._view=e}detectChanges(){jD(this._view)}checkNoChanges(){}get context(){return null}}class o_ extends Ys{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ue(e);return new Wu(t,this.ngModule)}}function GD(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class KW{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,u0,r);return i!==u0||t===u0?i:this.parentInjector.get(e,t,r)}}class Wu extends bS{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function UG(n){return n.map(qG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return GD(this.componentDef.inputs)}get outputs(){return GD(this.componentDef.outputs)}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Ko?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new KW(e,o):e,a=s.get(ju,null);if(null===a)throw new E(407,!1);const l=s.get(q$,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=r?function xW(n,e,t){return n.selectRootElement(e,t===ei.ShadowDom)}(c,r,this.componentDef.encapsulation):x0(a.createRenderer(null,this.componentDef),u,function WW(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,p=function JW(n,e){return{components:[],scheduler:n||hG,clean:$W,playerHandler:e||null,flags:0}}(),f=X0(0,null,null,1,0,null,null,null,null,null),m=vf(null,f,p,h,null,null,a,c,l,s,null);let g,k;R2(m);try{const w=function XW(n,e,t,r,i,o){const s=t[1];t[22]=n;const l=Fl(s,22,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(wf(l,c,!0),null!==n&&(Kp(i,n,c),null!==l.classes&&A0(i,n,l.classes),null!==l.styles&&QS(i,n,l.styles)));const u=r.createRenderer(n,e),d=vf(t,DD(e),null,e.onPush?32:16,t[22],l,r,u,o||null,null,null);return s.firstCreatePass&&(Qp(Su(l,t),s,e.type),FD(s,l),LD(l,t.length,1)),bf(t,d),t[22]=d}(d,this.componentDef,m,a,c);if(d)if(r)Kp(c,d,["ng-version",MS.full]);else{const{attrs:v,classes:x}=function $G(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!oi(i))break;i=o}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);v&&Kp(c,d,v),x&&x.length>0&&A0(c,d,x.join(" "))}if(k=C2(f,22),void 0!==t){const v=k.projection=[];for(let x=0;x<this.ngContentSelectors.length;x++){const L=t[x];v.push(null!=L?Array.from(L):null)}}g=function QW(n,e,t,r,i){const o=t[1],s=function DW(n,e,t){const r=Wt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),VD(n,r,e,Ll(n,e,1,null),t),RD(n,r));const i=Du(e,n,r.directiveStart,r);Dn(i,e);const o=Br(r,e);return o&&Dn(o,e),i}(o,t,e);if(r.components.push(s),n[8]=s,null!==i)for(const l of i)l(s,e);if(e.contentQueries){const l=Wt();e.contentQueries(1,s,l.directiveStart)}const a=Wt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||($o(a.index),OD(t[1],a,0,a.directiveStart,a.directiveEnd,e),ND(e,s)),s}(w,this.componentDef,m,p,[eK]),kf(f,m,null)}finally{P2()}return new YW(this.componentType,g,Rl(k,m),m,k)}}class YW extends class L${}{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new GW(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const o=this._rootLView;i_(o[1],o,i,e,t),PD(o,this._tNode.index)}}get injector(){return new bl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function eK(){const n=Wt();$p(T()[1],n)}function ge(n){let e=function WD(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ri(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new E(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=s_(n.inputs),s.declaredInputs=s_(n.declaredInputs),s.outputs=s_(n.outputs);const a=i.hostBindings;a&&iK(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&nK(n,l),c&&rK(n,c),u2(n.inputs,i.inputs),u2(n.declaredInputs,i.declaredInputs),u2(n.outputs,i.outputs),ri(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ge&&(t=!1)}}e=Object.getPrototypeOf(e)}!function tK(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zp(i.hostAttrs,t=Zp(t,i.hostAttrs))}}(r)}function s_(n){return n===hl?{}:n===Fe?[]:n}function nK(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function rK(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function iK(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Cf=null;function Qs(){if(!Cf){const n=qe.Symbol;if(n&&n.iterator)Cf=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Cf=r)}}}return Cf}function Ku(n){return!!a_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Qs()in n)}function a_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ei(n,e,t){return n[e]=t}function In(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function _t(n,e,t,r){const i=T();return In(i,_l(),e)&&(De(),xi(Tt(),i,n,e,t,r)),_t}function de(n,e,t,r,i,o,s,a){const l=T(),c=De(),u=n+22,d=c.firstCreatePass?function pK(n,e,t,r,i,o,s,a,l){const c=e.consts,u=Fl(e,n,4,s||null,Uo(c,a));Q0(e,t,u,Uo(c,l)),$p(e,u);const d=u.tViews=X0(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,o,s):c.data[u];bi(d,!1);const h=l[11].createComment("");pf(c,l,h,d),Dn(h,l),bf(l,l[u]=BD(h,l,h,d)),jp(d)&&Z0(c,l,d),null!=s&&Y0(l,d,a)}function ea(n){return gl(function tU(){return se.lFrame.contextLView}(),22+n)}function z(n,e,t){const r=T();return In(r,_l(),e)&&Tr(De(),Tt(),r,n,e,r[11],t,!1),z}function l_(n,e,t,r,i){const s=i?"class":"style";i_(n,t,e.inputs[s],s,r)}function D(n,e,t,r){const i=T(),o=De(),s=22+n,a=i[11],l=i[s]=x0(a,e,function uU(){return se.lFrame.currentNamespace}()),c=o.firstCreatePass?function mK(n,e,t,r,i,o,s){const a=e.consts,c=Fl(e,n,2,i,Uo(a,o));return Q0(e,t,c,Uo(a,s)),null!==c.attrs&&wf(c,c.attrs,!1),null!==c.mergedAttrs&&wf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,t,r):o.data[s];bi(c,!0);const u=c.mergedAttrs;null!==u&&Kp(a,l,u);const d=c.classes;null!==d&&A0(a,l,d);const h=c.styles;return null!==h&&QS(a,l,h),64!=(64&c.flags)&&pf(o,i,l,c),0===function Yq(){return se.lFrame.elementDepthCount}()&&Dn(l,i),function Xq(){se.lFrame.elementDepthCount++}(),jp(c)&&(Z0(o,i,c),SD(o,c,i)),null!==r&&Y0(i,c),D}function R(){let n=Wt();T2()?S2():(n=n.parent,bi(n,!1));const e=n;!function Qq(){se.lFrame.elementDepthCount--}();const t=De();return t.firstCreatePass&&($p(t,n),v2(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function mU(n){return 0!=(16&n.flags)}(e)&&l_(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function yU(n){return 0!=(32&n.flags)}(e)&&l_(t,e,T(),e.stylesWithoutHost,!1),R}function _e(n,e,t,r){return D(n,e,t,r),R(),_e}function ao(n,e,t){const r=T(),i=De(),o=n+22,s=i.firstCreatePass?function yK(n,e,t,r,i){const o=e.consts,s=Uo(o,r),a=Fl(e,n,8,"ng-container",s);return null!==s&&wf(a,s,!0),Q0(e,t,a,Uo(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,t):i.data[o];bi(s,!0);const a=r[o]=r[11].createComment("");return pf(i,r,a,s),Dn(a,r),jp(s)&&(Z0(i,r,s),SD(i,s,r)),null!=t&&Y0(r,s),ao}function lo(){let n=Wt();const e=De();return T2()?S2():(n=n.parent,bi(n,!1)),e.firstCreatePass&&($p(e,n),v2(n)&&e.queries.elementEnd(n)),lo}function Ef(n,e,t){return ao(n,e,t),lo(),Ef}function Qo(){return T()}function Yu(n){return!!n&&"function"==typeof n.then}function rI(n){return!!n&&"function"==typeof n.subscribe}const c_=rI;function je(n,e,t,r){const i=T(),o=De(),s=Wt();return function oI(n,e,t,r,i,o,s,a){const l=jp(r),u=n.firstCreatePass&&qD(n),d=e[8],h=zD(e);let p=!0;if(3&r.type||a){const g=Br(r,e),k=a?a(g):g,w=h.length,v=a?L=>a(Ht(L[r.index])):r.index;let x=null;if(!a&&l&&(x=function gK(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=o,x.__ngLastListenerFn__=o,p=!1;else{o=aI(r,e,d,o,!1);const L=t.listen(k,i,o);h.push(o,L),u&&u.push(i,v,w,w+1)}}else o=aI(r,e,d,o,!1);const f=r.outputs;let m;if(p&&null!==f&&(m=f[i])){const g=m.length;if(g)for(let k=0;k<g;k+=2){const j=e[m[k]][m[k+1]].subscribe(o),le=h.length;h.push(o,j),u&&u.push(i,r.index,le,-(le+1))}}}(o,i,i[11],s,n,e,0,r),je}function sI(n,e,t,r){try{return!1!==t(r)}catch(i){return $D(n,i),!1}}function aI(n,e,t,r,i){return function o(s){if(s===Function)return r;t_(2&n.flags?Mr(n.index,e):e);let l=sI(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)l=sI(e,0,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function we(n=1){return function sU(n){return(se.lFrame.contextLView=function aU(n,e){for(;n>0;)e=e[15],n--;return e}(n,se.lFrame.contextLView))[8]}(n)}function _K(n,e){let t=null;const r=function BG(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?nD(n,o,!0):zG(r,o))return i}else t=i}return t}function Ti(n){const e=T()[16][6];if(!e.projection){const r=e.projection=Ru(n?n.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=n?_K(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function en(n,e=0,t){const r=T(),i=De(),o=Fl(i,22+n,16,null,t||null);null===o.projection&&(o.projection=e),S2(),64!=(64&o.flags)&&function RG(n,e,t){XS(e[11],0,e,t,jS(n,t,e),$S(t.parent||e[6],t,e))}(i,r,o)}function gI(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?si(o):oo(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];bK(n[a],e)&&(l=!0,n[a+1]=r?B0(u):L0(u)),a=r?si(u):oo(u)}l&&(n[t+1]=r?L0(o):B0(o))}function bK(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&El(n,e)>=0}function Yn(n,e,t){return ai(n,e,t,!1),Yn}function An(n,e){return ai(n,e,null,!0),An}function ai(n,e,t,r){const i=T(),o=De(),s=function to(n){const e=se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function xI(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Zn()],s=function CI(n,e){return e>=n.expandoStartIndex}(n,t);(function DI(n,e){return 0!=(n.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function IK(n,e,t,r){const i=function I2(n){const e=se.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Xu(t=d_(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=d_(i,n,e,t,r),null===o){let l=function AK(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==oo(r))return n[si(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=d_(null,n,e,l[1],r),l=Xu(l,e.attrs,r),function RK(n,e,t,r){n[si(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else o=function PK(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Xu(r,n[o].hostAttrs,t);return Xu(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function vK(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=si(s),l=oo(s);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||El(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=si(n[a+1]);n[r+1]=yf(h,a),0!==h&&(n[h+1]=V0(n[h+1],r)),n[a+1]=function uW(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=yf(a,0),0!==a&&(n[a+1]=V0(n[a+1],r)),a=r;else n[r+1]=yf(l,0),0===a?a=r:n[l+1]=V0(n[l+1],r),l=r;c&&(n[r+1]=L0(n[r+1])),gI(n,u,r,!0),gI(n,u,r,!1),function kK(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&El(o,e)>=0&&(t[r+1]=B0(t[r+1]))}(e,u,n,r,o),s=yf(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==ue&&In(i,s,e)&&function TI(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];Tf(function _D(n){return 1==(1&n)}(c)?SI(l,e,t,i,oo(c),s):void 0)||(Tf(o)||function gD(n){return 2==(2&n)}(c)&&(o=SI(l,null,t,i,a,s)),function OG(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:dr.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=dr.Important),n.setStyle(t,r,i,o))}}(r,s,zp(Zn(),t),i,o))}(o,o.data[Zn()],i,i[11],n,i[s+1]=function FK(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ye(Er(n)))),n}(e,t),r,s)}function d_(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Xu(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Xu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xr(n,s,!!t||e[++o]))}return void 0===n?null:n}function SI(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===ue&&(h=d?Fe:void 0);let p=d?q2(h,r):u===r?h:void 0;if(c&&!Tf(p)&&(p=q2(l,r)),Tf(p)&&(a=p,s))return a;const f=n[i+1];i=s?si(f):oo(f)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=q2(l,r))}return a}function Tf(n){return void 0!==n}function I(n,e=""){const t=T(),r=De(),i=n+22,o=r.firstCreatePass?Fl(r,i,1,e,null):r.data[i],s=t[i]=function C0(n,e){return n.createText(e)}(t[11],e);pf(r,t,s,o),bi(o,!1)}function Jo(n){return Sf("",n,""),Jo}function Sf(n,e,t){const r=T(),i=function Bl(n,e,t,r){return In(n,_l(),t)?e+ce(t)+r:ue}(r,n,e,t);return i!==ue&&function so(n,e,t){const r=zp(e,n);!function VS(n,e,t){n.setValue(e,t)}(n[11],r,t)}(r,Zn(),i),Sf}function h_(n,e,t){const r=T();return In(r,_l(),e)&&Tr(De(),Tt(),r,n,e,r[11],t,!0),h_}const Zl="en-US";let YI=Zl;function m_(n,e,t,r,i){if(n=ne(n),Array.isArray(n))for(let o=0;o<n.length;o++)m_(n[o],e,t,r,i);else{const o=De(),s=T();let a=Zs(n)?n:ne(n.provide),l=kS(n);const c=Wt(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Zs(n)||!n.multi){const p=new Eu(l,i,_),f=g_(a,e,i?u:u+h,d);-1===f?(Qp(Su(c,s),o,a),y_(o,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(p),s.push(p)):(t[f]=p,s[f]=p)}else{const p=g_(a,e,u+h,d),f=g_(a,e,u,u+h),m=p>=0&&t[p],g=f>=0&&t[f];if(i&&!g||!i&&!m){Qp(Su(c,s),o,a);const k=function eY(n,e,t,r,i){const o=new Eu(n,t,_);return o.multi=[],o.index=e,o.componentProviders=0,bA(o,i,r&&!t),o}(i?JZ:QZ,t.length,i,r,l);!i&&g&&(t[f].providerFactory=k),y_(o,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(k),s.push(k)}else y_(o,n,p>-1?p:f,bA(t[i?f:p],l,!i&&r));!i&&r&&g&&t[f].componentProviders++}}}function y_(n,e,t,r){const i=Zs(e),o=function D$(n){return!!n.useClass}(e);if(i||o){const l=(o?ne(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function bA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function g_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function QZ(n,e,t,r){return __(this.multi,[])}function JZ(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Du(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),__(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],__(i,o);return o}function __(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function $e(n,e=[]){return t=>{t.providersResolver=(r,i)=>function XZ(n,e,t){const r=De();if(r.firstCreatePass){const i=ri(n);m_(t,r.data,r.blueprint,i,!0),m_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class na{}class wA{}class MA extends na{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new o_(this);const r=br(e);this._bootstrapComponents=io(r.bootstrap),this._r3Injector=cD(e,t,[{provide:na,useValue:this},{provide:Ys,useValue:this.componentFactoryResolver}],Ye(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class v_ extends wA{constructor(e){super(),this.moduleType=e}create(e){return new MA(this.moduleType,e)}}class nY extends na{constructor(e,t,r){super(),this.componentFactoryResolver=new o_(this),this.instance=null;const i=new vS([...e,{provide:na,useValue:this},{provide:Ys,useValue:this.componentFactoryResolver}],t||df(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Pf(n,e,t=null){return new nY(n,e,t).injector}function IA(n,e,t,r,i){return function RA(n,e,t,r,i,o,s){const a=e+t;return function Js(n,e,t,r){const i=In(n,e,t);return In(n,e+1,r)||i}(n,a,i,o)?Ei(n,a+2,s?r.call(s,i,o):r(i,o)):nd(n,a+2)}(T(),Kn(),n,e,t,r,i)}function nd(n,e){const t=n[e];return t===ue?void 0:t}function ra(n,e){const t=De();let r;const i=n+22;t.firstCreatePass?(r=function wY(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Ws(r.type)),s=Fr(_);try{const a=Yp(!1),l=o();return Yp(a),function fK(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,T(),i,l),l}finally{Fr(s)}}function ia(n,e,t){const r=n+22,i=T(),o=gl(i,r);return function rd(n,e){return n[1].data[e].pure}(i,r)?function AA(n,e,t,r,i,o){const s=e+t;return In(n,s,i)?Ei(n,s+1,o?r.call(o,i):r(i)):nd(n,s+1)}(i,Kn(),e,o.transform,t,o):o.transform(t)}function b_(n){return e=>{setTimeout(n,void 0,e)}}const Pe=class TY extends ke{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=b_(o),i&&(i=b_(i)),s&&(s=b_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof yt&&e.add(a),a}};function SY(){return this._results[Qs()]()}class Xl{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Qs(),r=Xl.prototype;r[t]||(r[t]=SY)}get changes(){return this._changes||(this._changes=new Pe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Cr(e);(this._changesDetected=!function EU(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let jr=(()=>{class n{}return n.__NG_ELEMENT_ID__=AY,n})();const DY=jr,IY=class extends DY{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=vf(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(r)),kf(r,i,e),new Gu(i)}};function AY(){return Of(Wt(),T())}function Of(n,e){return 4&n.type?new IY(e,n,Rl(n,e)):null}let Sr=(()=>{class n{}return n.__NG_ELEMENT_ID__=RY,n})();function RY(){return VA(Wt(),T())}const PY=Sr,FA=class extends PY{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Rl(this._hostTNode,this._hostLView)}get injector(){return new bl(this._hostTNode,this._hostLView)}get parentInjector(){const e=Xp(this._hostTNode,this._hostLView);if(ST(e)){const t=kl(e,this._hostLView),r=vl(e);return new bl(t[1].data[r+8],t)}return new bl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=LA(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=e.createEmbeddedView(t||{},o);return this.insert(s,i),s}createComponent(e,t,r,i,o){const s=e&&!function Au(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.environmentInjector||d.ngModuleRef}const l=s?e:new Wu(Ue(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get(Ko,null);h&&(o=h)}const u=l.create(c,i,void 0,o);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function Zq(n){return ni(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new FA(d,d[6],d[3]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;!function EG(n,e,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=e),r<o-10?(e[4]=t[i],BT(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function TG(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,s,o);const a=D0(o,s),l=r[11],c=hf(l,s[7]);return null!==c&&function MG(n,e,t,r,i,o){r[0]=i,r[6]=e,Uu(n,r,t,1,i,o)}(i,s[6],l,r,c,a),e.attachToViewContainerRef(),BT(w_(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=LA(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=E0(this._lContainer,t);r&&(ef(w_(this._lContainer),t),HS(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=E0(this._lContainer,t);return r&&null!=ef(w_(this._lContainer),t)?new Gu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function LA(n){return n[8]}function w_(n){return n[8]||(n[8]=[])}function VA(n,e){let t;const r=e[n.index];if(ni(r))t=r;else{let i;if(8&n.type)i=Ht(r);else{const o=e[11];i=o.createComment("");const s=Br(n,e);Xs(o,hf(o,s),i,function AG(n,e){return n.nextSibling(e)}(o,s),!1)}e[n.index]=t=BD(r,e,i,n),bf(e,t)}return new FA(t,n,e)}class M_{constructor(e){this.queryList=e,this.matches=null}clone(){return new M_(this.queryList)}setDirty(){this.queryList.setDirty()}}class C_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new C_(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==qA(e,t).matches&&this.queries[t].setDirty()}}class BA{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class x_{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new x_(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class E_{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new E_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,FY(t,o)),this.matchTNodeWithReadOption(e,t,Jp(t,e,o,!1,!1))}else r===jr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Jp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===He||i===Sr||i===jr&&4&t.type)this.addMatch(t.index,-2);else{const o=Jp(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function FY(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function VY(n,e,t,r){return-1===t?function LY(n,e){return 11&n.type?Rl(n,e):4&n.type?Of(n,e):null}(e,n):-2===t?function BY(n,e,t){return t===He?Rl(e,n):t===jr?Of(e,n):t===Sr?VA(e,n):void 0}(n,e,r):Du(n,n[1],t,e)}function HA(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:VY(e,o[c],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function T_(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=HA(n,e,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&T_(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const p=d[h];T_(p[1],p,c,r)}}}}}return r}function ot(n){const e=T(),t=De(),r=_T();A2(r+1);const i=qA(t,r);if(n.dirty&&dT(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?T_(t,e,r,[]):HA(t,e,i,r);n.reset(o,j$),n.notifyOnChanges()}return!0}return!1}function co(n,e,t){const r=De();r.firstCreatePass&&(zA(r,new BA(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),jA(r,T(),e)}function pn(n,e,t,r){const i=De();if(i.firstCreatePass){const o=Wt();zA(i,new BA(e,t,r),o.index),function jY(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}jA(i,T(),t)}function st(){return function HY(n,e){return n[19].queries[e].queryList}(T(),_T())}function jA(n,e,t){const r=new Xl(4==(4&t));ID(n,e,r,r.destroy),null===e[19]&&(e[19]=new C_),e[19].queries.push(new M_(r))}function zA(n,e,t){null===n.queries&&(n.queries=new x_),n.queries.track(new E_(e,t))}function qA(n,e){return n.queries.getByIndex(e)}function Nf(n,e){return Of(n,e)}function Lf(...n){}const Vf=new P("Application Initializer");let Bf=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Lf,this.reject=Lf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Yu(o))t.push(o);else if(c_(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(C(Vf,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const od=new P("AppId",{providedIn:"root",factory:function c6(){return`${R_()}${R_()}${R_()}`}});function R_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const u6=new P("Platform Initializer"),tc=new P("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),d6=new P("appBootstrapListener"),nc=new P("AnimationModuleType");let aX=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ii=new P("LocaleId",{providedIn:"root",factory:()=>tt(Ii,J.Optional|J.SkipSelf)||function lX(){return typeof $localize<"u"&&$localize.locale||Zl}()});class uX{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let P_=(()=>{class n{compileModuleSync(t){return new v_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=io(br(t).declarations).reduce((s,a)=>{const l=Ue(a);return l&&s.push(new Wu(l)),s},[]);return new uX(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pX=(()=>Promise.resolve(0))();function O_(n){typeof Zone>"u"?pX.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ie{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const o=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new o("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function fX(){let n=qe.requestAnimationFrame,e=qe.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function gX(n){const e=()=>{!function yX(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(qe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,F_(n),n.isCheckStableRunning=!0,N_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),F_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return f6(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),m6(n)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return f6(n),t.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),m6(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,F_(n),N_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ie.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(ie.isInAngularZone())throw new E(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,mX,Lf,Lf);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const mX={};function N_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function F_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function f6(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function m6(n){n._nesting--,N_(n)}class _X{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pe,this.onMicrotaskEmpty=new Pe,this.onStable=new Pe,this.onError=new Pe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const y6=new P(""),Hf=new P("");let B_,L_=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,B_||(function vX(n){B_=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ie.assertNotInAngularZone(),O_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())O_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(C(ie),C(V_),C(Hf))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),V_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return B_?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),es=null;const g6=new P("AllowMultipleToken"),H_=new P("PlatformDestroyListeners");class _6{constructor(e,t){this.name=e,this.token=t}}function k6(n,e,t=[]){const r=`Platform: ${e}`,i=new P(r);return(o=[])=>{let s=j_();if(!s||s.injector.get(g6,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function wX(n){if(es&&!es.get(g6,!1))throw new E(400,!1);es=n;const e=n.get(w6);(function v6(n){const e=n.get(u6,null);e&&e.forEach(t=>t())})(n)}(function b6(n=[],e){return St.create({name:e,providers:[{provide:s0,useValue:"platform"},{provide:H_,useValue:new Set([()=>es=null])},...n]})}(a,r))}return function CX(n){const e=j_();if(!e)throw new E(401,!1);return e}()}}function j_(){return es?.get(w6)??null}let w6=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function xX(n,e){let t;return t="noop"===n?new _X:("zone.js"===n?void 0:n)||new ie(e),t}(r?.ngZone,function M6(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:ie,useValue:i}];return i.run(()=>{const s=St.create({providers:o,parent:this.injector,name:t.moduleType.name}),a=t.create(s),l=a.injector.get(ro,null);if(!l)throw new E(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{jf(this._modules,a),c.unsubscribe()})}),function C6(n,e,t){try{const r=t();return Yu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(Bf);return c.runInitializers(),c.donePromise.then(()=>(function XI(n){kr(n,"Expected localeId to be defined"),"string"==typeof n&&(YI=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ii,Zl)||Zl),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=x6({},r);return function kX(n,e,t){const r=new v_(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(oa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new E(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(H_,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(C(St))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function x6(n,e){return Array.isArray(e)?e.reduce(x6,n):{...n,...e}}let oa=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Ve(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Ve(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{ie.assertNotInAngularZone(),O_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{ie.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=dl(o,s.pipe(X3()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof bS;if(!this._injector.get(Bf).done)throw!i&&function Jl(n){const e=Ue(n)||qn(n)||Un(n);return null!==e&&e.standalone}(t),new E(405,false);let s;s=i?t:this._injector.get(Ys).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function bX(n){return n.isBoundToModule}(s)?void 0:this._injector.get(na),c=s.create(St.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(y6,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),jf(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;jf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(d6,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>jf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new E(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(C(ie),C(Ko),C(ro))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let T6=!0,zr=(()=>{class n{}return n.__NG_ELEMENT_ID__=SX,n})();function SX(n){return function DX(n,e,t){if(Hp(n)&&!t){const r=Mr(n.index,e);return new Gu(r,r)}return 47&n.type?new Gu(e[16],e):null}(Wt(),T(),16==(16&n))}class R6{constructor(){}supports(e){return Ku(e)}create(e){return new NX(e)}}const OX=(n,e)=>e;class NX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||OX}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<O6(r,i,o)?t:r,a=O6(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const p=h<o.length?o[h]:o[h]=0,f=p+h;u<=f&&f<c&&(o[h]=p+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ku(e))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function cK(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Qs()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new FX(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new P6),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new P6),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class FX{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class P6{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new LX,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function O6(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class N6{constructor(){}supports(e){return e instanceof Map||a_(e)}create(){return new VX}}class VX{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||a_(e)))throw new E(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new BX(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class BX{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function F6(){return new Uf([new R6])}let Uf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||F6()),deps:[[n,new Sl,new pt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new E(901,!1)}}return n.\u0275prov=V({token:n,providedIn:"root",factory:F6}),n})();function L6(){return new sd([new N6])}let sd=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||L6()),deps:[[n,new Sl,new pt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new E(901,!1)}}return n.\u0275prov=V({token:n,providedIn:"root",factory:L6}),n})();const zX=k6(null,"core",[]);let qX=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(C(oa))},n.\u0275mod=xe({type:n}),n.\u0275inj=be({}),n})();function ho(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let $f=null;function Ai(){return $f}const Me=new P("DocumentToken");let G_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return function WX(){return C(V6)}()},providedIn:"platform"}),n})();const KX=new P("Location Initialized");let V6=(()=>{class n extends G_{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ai().getBaseHref(this._doc)}onPopState(t){const r=Ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ai().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){B6()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){B6()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(C(Me))},n.\u0275prov=V({token:n,factory:function(){return function ZX(){return new V6(C(Me))}()},providedIn:"platform"}),n})();function B6(){return!!window.history.pushState}function W_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function H6(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function po(n){return n&&"?"!==n[0]?"?"+n:n}let aa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return tt(z6)},providedIn:"root"}),n})();const j6=new P("appBaseHref");let z6=(()=>{class n extends aa{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??tt(Me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return W_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+po(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+po(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+po(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(C(G_),C(j6,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YX=(()=>{class n extends aa{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=W_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+po(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+po(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(C(G_),C(j6,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),Gf=(()=>{class n{constructor(t){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=H6(q6(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+po(r))}normalize(t){return n.stripTrailingSlash(function QX(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,q6(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+po(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+po(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=po,n.joinWithSlash=W_,n.stripTrailingSlash=H6,n.\u0275fac=function(t){return new(t||n)(C(aa))},n.\u0275prov=V({token:n,factory:function(){return function XX(){return new Gf(C(aa))}()},providedIn:"root"}),n})();function q6(n){return n.replace(/\/index.html$/,"")}let rv=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ku(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ye(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(_(Uf),_(sd),_(He),_(ii))},n.\u0275dir=K({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class LQ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let iv=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new LQ(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),e8(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{e8(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(_(Sr),_(jr),_(Uf))},n.\u0275dir=K({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function e8(n,e){n.context.$implicit=e.item}let di=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new BQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){t8("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){t8("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(_(Sr),_(jr))},n.\u0275dir=K({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class BQ{constructor(){this.$implicit=null,this.ngIf=null}}function t8(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ye(e)}'.`)}class ov{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let cd=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),sv=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new ov(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(_(Sr),_(jr),_(cd,9))},n.\u0275dir=K({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),av=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:dr.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(_(He),_(sd),_(ii))},n.\u0275dir=K({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class qQ{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class UQ{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const $Q=new UQ,GQ=new qQ;let ud=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Yu(t))return $Q;if(rI(t))return GQ;throw function hi(n,e){return new E(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(_(zr,16))},n.\u0275pipe=cr({name:"async",type:n,pure:!1,standalone:!0}),n})(),dd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({}),n})();const i8="browser";let fJ=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>new mJ(C(Me),window)}),n})();class mJ{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function yJ(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=o8(this.window.history)||o8(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function o8(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class uv extends class _J extends class GX{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function $X(n){$f||($f=n)}(new uv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function vJ(){return hd=hd||document.querySelector("base"),hd?hd.getAttribute("href"):null}();return null==t?null:function kJ(n){n1=n1||document.createElement("a"),n1.setAttribute("href",n);const e=n1.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){hd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function NQ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let n1,hd=null;const s8=new P("TRANSITION_ID"),wJ=[{provide:Vf,useFactory:function bJ(n,e,t){return()=>{t.get(Bf).donePromise.then(()=>{const r=Ai(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[s8,Me,St],multi:!0}];let CJ=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const r1=new P("EventManagerPlugins");let o1=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(C(r1),C(ie))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class a8{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ai().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let l8=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),pd=(()=>{class n extends l8{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(c8),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(c8))}}return n.\u0275fac=function(t){return new(t||n)(C(Me))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();function c8(n){Ai().remove(n)}const dv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hv=/%COMP%/g;function s1(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?s1(n,i,t):(i=i.replace(hv,n),t.push(i))}return t}function h8(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let a1=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new pv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case ei.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new IJ(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case ei.ShadowDom:return new AJ(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=s1(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(C(o1),C(pd),C(od))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class pv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(dv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(f8(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(f8(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=dv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=dv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(dr.DashCase|dr.Important)?e.style.setProperty(t,r,i&dr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&dr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,h8(r)):this.eventManager.addEventListener(e,t,h8(r))}}function f8(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class IJ extends pv{constructor(e,t,r,i){super(e),this.component=r;const o=s1(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function TJ(n){return"_ngcontent-%COMP%".replace(hv,n)}(i+"-"+r.id),this.hostAttr=function SJ(n){return"_nghost-%COMP%".replace(hv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class AJ extends pv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=s1(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let RJ=(()=>{class n extends a8{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(C(Me))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const m8=["alt","control","meta","shift"],OJ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y8={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},NJ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let FJ=(()=>{class n extends a8{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ai().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="";if(m8.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(t){let r="",i=function LJ(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&y8.hasOwnProperty(e)&&(e=y8[e]))}return OJ[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),m8.forEach(o=>{o!=i&&(0,NJ[o])(t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(C(Me))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const g8=[{provide:tc,useValue:i8},{provide:u6,useValue:function VJ(){uv.makeCurrent()},multi:!0},{provide:Me,useFactory:function HJ(){return function XU(n){K2=n}(document),document},deps:[]}],jJ=k6(zX,"browser",g8),_8=new P(""),v8=[{provide:Hf,useClass:class MJ{addToWindow(e){qe.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},qe.getAllAngularTestabilities=()=>e.getAllTestabilities(),qe.getAllAngularRootElements=()=>e.getAllRootElements(),qe.frameworkStabilizers||(qe.frameworkStabilizers=[]),qe.frameworkStabilizers.push(r=>{const i=qe.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ai().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:y6,useClass:L_,deps:[ie,V_,Hf]},{provide:L_,useClass:L_,deps:[ie,V_,Hf]}],k8=[{provide:s0,useValue:"root"},{provide:ro,useFactory:function BJ(){return new ro},deps:[]},{provide:r1,useClass:RJ,multi:!0,deps:[Me,ie,tc]},{provide:r1,useClass:FJ,multi:!0,deps:[Me]},{provide:a1,useClass:a1,deps:[o1,pd,od]},{provide:ju,useExisting:a1},{provide:l8,useExisting:pd},{provide:pd,useClass:pd,deps:[Me]},{provide:o1,useClass:o1,deps:[r1,ie]},{provide:class gJ{},useClass:CJ,deps:[]},[]];let b8=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:od,useValue:t.appId},{provide:s8,useExisting:od},wJ]}}}return n.\u0275fac=function(t){return new(t||n)(C(_8,12))},n.\u0275mod=xe({type:n}),n.\u0275inj=be({providers:[...k8,...v8],imports:[dd,qX]}),n})(),w8=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(C(Me))},n.\u0275prov=V({token:n,factory:function(t){let r=null;return r=t?new t:function qJ(){return new w8(C(Me))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let yv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(t){let r=null;return r=t?new(t||n):C(x8),r},providedIn:"root"}),n})(),x8=(()=>{class n extends yv{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Le.NONE:return r;case Le.HTML:return Mi(r,"HTML")?Er(r):cS(this._doc,String(r)).toString();case Le.STYLE:return Mi(r,"Style")?Er(r):r;case Le.SCRIPT:if(Mi(r,"Script"))return Er(r);throw new Error("unsafe value used in a script context");case Le.URL:return Mi(r,"URL")?Er(r):Vu(String(r));case Le.RESOURCE_URL:if(Mi(r,"ResourceURL"))return Er(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function s$(n){return new e$(n)}(t)}bypassSecurityTrustStyle(t){return function a$(n){return new t$(n)}(t)}bypassSecurityTrustScript(t){return function l$(n){return new n$(n)}(t)}bypassSecurityTrustUrl(t){return function c$(n){return new r$(n)}(t)}bypassSecurityTrustResourceUrl(t){return function u$(n){return new i$(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Me))},n.\u0275prov=V({token:n,factory:function(t){let r=null;return r=t?new t:function YJ(n){return new x8(n.get(Me))}(C(St)),r},providedIn:"root"}),n})();function E8(n,e,t,r,i,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function y(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(l){E8(o,r,i,s,a,"next",l)}function a(l){E8(o,r,i,s,a,"throw",l)}s(void 0)})}}const T8=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},_v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,p=63&c;l||(p=64,s||(h=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(T8(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new eee;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l1=function(n){return function(n){const e=T8(n);return _v.encodeByteArray(e,!0)}(n).replace(/\./g,"")},c1=function(n){try{return _v.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},u1=()=>{try{return function ree(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&c1(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},D8=n=>{var e,t;return null===(t=null===(e=u1())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},I8=n=>{const e=D8(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},A8=()=>{var n;return null===(n=u1())||void 0===n?void 0:n.config},R8=n=>{var e;return null===(e=u1())||void 0===e?void 0:e[`_${n}`]};class d1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function P8(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[l1(JSON.stringify({alg:"none",type:"JWT"})),l1(JSON.stringify(s)),""].join(".")}function tn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vv(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function la(){try{return"object"==typeof indexedDB}catch{return!1}}function fd(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function kv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Dr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ri.prototype.create)}}class Ri{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function dee(n,e){return n.replace(hee,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Dr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const hee=/\{\$([^}]+)}/g;function pee(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function p1(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(F8(o)&&F8(s)){if(!p1(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function F8(n){return null!==n&&"object"==typeof n}function f1(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function md(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function yd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class mee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function yee(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=bv),void 0===i.error&&(i.error=bv),void 0===i.complete&&(i.complete=bv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bv(){}function Mv(n,e=1e3,t=2){const r=e*Math.pow(t,n),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function kt(n){return n&&n._delegate?n._delegate:n}class fn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ca="[DEFAULT]";class wee{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new d1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Cee(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ca?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wee(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Cv=[];var Te=(()=>{return(n=Te||(Te={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Te;var n})();const L8={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},Eee=Te.INFO,Tee={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},See=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Tee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class rc{constructor(e){this.name=e,this._logLevel=Eee,this._logHandler=See,this._userLogHandler=null,Cv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?L8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}let V8,B8;const H8=new WeakMap,xv=new WeakMap,j8=new WeakMap,Ev=new WeakMap,Tv=new WeakMap;let Sv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return xv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||j8.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ns(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Fee(n){return"function"==typeof n?function Nee(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Aee(){return B8||(B8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Dv(this),e),ns(H8.get(this))}:function(...e){return ns(n.apply(Dv(this),e))}:function(e,...t){const r=n.call(Dv(this),e,...t);return j8.set(r,e.sort?e.sort():[e]),ns(r)}}(n):(n instanceof IDBTransaction&&function Pee(n){if(xv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});xv.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Iee(){return V8||(V8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Sv):n)}function ns(n){if(n instanceof IDBRequest)return function Ree(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ns(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&H8.set(t,n)}).catch(()=>{}),Tv.set(e,n),e}(n);if(Ev.has(n))return Ev.get(n);const e=Fee(n);return e!==n&&(Ev.set(n,e),Tv.set(e,n)),e}const Dv=n=>Tv.get(n),Vee=["get","getKey","getAll","getAllKeys","count"],Bee=["put","add","delete","clear"],Iv=new Map;function z8(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Iv.get(e))return Iv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Bee.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Vee.includes(t))return;const o=function(){var s=y(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return Iv.set(e,o),o}!function Oee(n){Sv=n(Sv)}(n=>({...n,get:(e,t,r)=>z8(e,t)||n.get(e,t,r),has:(e,t)=>!!z8(e,t)||n.has(e,t)}));class Hee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function jee(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Av="@firebase/app",ua=new rc("@firebase/app"),m1="[DEFAULT]",pte={[Av]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},da=new Map,y1=new Map;function fte(n,e){try{n.container.addComponent(e)}catch(t){ua.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rn(n){const e=n.name;if(y1.has(e))return ua.debug(`There were multiple attempts to register component ${e}.`),!1;y1.set(e,n);for(const t of da.values())fte(t,n);return!0}function ha(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const mo=new Ri("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yte{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mo.create("app-deleted",{appName:this._name})}}const rs="9.23.0";function U8(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:m1,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw mo.create("bad-app-name",{appName:String(i)});if(t||(t=A8()),!t)throw mo.create("no-options");const o=da.get(i);if(o){if(p1(t,o.options)&&p1(r,o.config))return o;throw mo.create("duplicate-app",{appName:i})}const s=new xee(i);for(const l of y1.values())s.addComponent(l);const a=new yte(t,r,s);return da.set(i,a),a}function g1(n=m1){const e=da.get(n);if(!e&&n===m1&&A8())return U8();if(!e)throw mo.create("no-app",{appName:n});return e}function $8(){return Array.from(da.values())}function at(n,e,t){var r;let i=null!==(r=pte[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ua.warn(a.join(" "))}Rn(new fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const gd="firebase-heartbeat-store";let X8,Q8,Pv=null;function G8(){return Pv||(Pv=function Lee(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=ns(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ns(s.result),l.oldVersion,l.newVersion,ns(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(gd)}}).catch(n=>{throw mo.create("idb-open",{originalErrorMessage:n.message})})),Pv}function Ov(){return(Ov=y(function*(n){try{return yield(yield G8()).transaction(gd).objectStore(gd).get(K8(n))}catch(e){if(e instanceof Dr)ua.warn(e.message);else{const t=mo.create("idb-get",{originalErrorMessage:e?.message});ua.warn(t.message)}}})).apply(this,arguments)}function W8(n,e){return Nv.apply(this,arguments)}function Nv(){return(Nv=y(function*(n,e){try{const r=(yield G8()).transaction(gd,"readwrite");yield r.objectStore(gd).put(e,K8(n)),yield r.done}catch(t){if(t instanceof Dr)ua.warn(t.message);else{const r=mo.create("idb-set",{originalErrorMessage:t?.message});ua.warn(r.message)}}})).apply(this,arguments)}function K8(n){return`${n.name}!${n.options.appId}`}class wte{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Cte(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Z8();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=Z8(),{heartbeatsToSend:r,unsentEntries:i}=function Mte(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Y8(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Y8(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=l1(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function Z8(){return(new Date).toISOString().substring(0,10)}class Cte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!la()&&fd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function vte(n){return Ov.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return W8(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return y(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return W8(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function Y8(n){return l1(JSON.stringify({version:2,heartbeats:n})).length}!function xte(n){Rn(new fn("platform-logger",e=>new Hee(e),"PRIVATE")),Rn(new fn("heartbeat",e=>new wte(e),"PRIVATE")),at(Av,"0.9.13",n),at(Av,"0.9.13","esm2017"),at("fire-js","")}(""),at("firebase","9.23.0","app");const J8=new WeakMap,Fv=new WeakMap,e7=new WeakMap,Lv=new WeakMap,Vv=new WeakMap;let Bv={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Fv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||e7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return is(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Nte(n){return"function"==typeof n?function Ote(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ite(){return Q8||(Q8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Hv(this),e),is(J8.get(this))}:function(...e){return is(n.apply(Hv(this),e))}:function(e,...t){const r=n.call(Hv(this),e,...t);return e7.set(r,e.sort?e.sort():[e]),is(r)}}(n):(n instanceof IDBTransaction&&function Rte(n){if(Fv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Fv.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Dte(){return X8||(X8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Bv):n)}function is(n){if(n instanceof IDBRequest)return function Ate(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(is(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&J8.set(t,n)}).catch(()=>{}),Vv.set(e,n),e}(n);if(Lv.has(n))return Lv.get(n);const e=Nte(n);return e!==n&&(Lv.set(n,e),Vv.set(e,n)),e}const Hv=n=>Vv.get(n),Lte=["get","getKey","getAll","getAllKeys","count"],Vte=["put","add","delete","clear"],jv=new Map;function t7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(jv.get(e))return jv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Vte.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Lte.includes(t))return;const o=function(){var s=y(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return jv.set(e,o),o}!function Pte(n){Bv=n(Bv)}(n=>({...n,get:(e,t,r)=>t7(e,t)||n.get(e,t,r),has:(e,t)=>!!t7(e,t)||n.has(e,t)}));const n7="@firebase/installations",o7="w:0.6.4",s7="FIS_v2",yo=new Ri("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function a7(n){return n instanceof Dr&&n.code.includes("request-failed")}function qv({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function l7(n){return{token:n.token,requestStatus:2,expiresIn:Ute(n.expiresIn),creationTime:Date.now()}}function Uv(n,e){return $v.apply(this,arguments)}function $v(){return($v=y(function*(n,e){const r=(yield e.json()).error;return yo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function c7({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function u7(n,{refreshToken:e}){const t=c7(n);return t.append("Authorization",function $te(n){return`${s7} ${n}`}(e)),t}function Gv(n){return Wv.apply(this,arguments)}function Wv(){return(Wv=y(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Ute(n){return Number(n.replace("s","000"))}function Gte(n,e){return Kv.apply(this,arguments)}function Kv(){return(Kv=y(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=qv(n),i=c7(n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:s7,appId:n.appId,sdkVersion:o7})},l=yield Gv(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||t,registrationStatus:2,refreshToken:c.refreshToken,authToken:l7(c.authToken)}}throw yield Uv("Create Installation",l)})).apply(this,arguments)}function d7(n){return new Promise(e=>{setTimeout(e,n)})}const Kte=/^[cdef][\w-]{21}$/;function Zte(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Yte(n){return function Wte(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Kte.test(t)?t:""}catch{return""}}function ic(n){return`${n.appName}!${n.appId}`}const oc=new Map;function h7(n,e){const t=ic(n);p7(t,e),function Jte(n,e){const t=function f7(){return!pa&&"BroadcastChannel"in self&&(pa=new BroadcastChannel("[Firebase] FID Change"),pa.onmessage=n=>{p7(n.data.key,n.data.fid)}),pa}();t&&t.postMessage({key:n,fid:e}),function m7(){0===oc.size&&pa&&(pa.close(),pa=null)}()}(t,e)}function p7(n,e){const t=oc.get(n);if(t)for(const r of t)r(e)}let pa=null;const fa="firebase-installations-store";let Yv=null;function Xv(){return Yv||(Yv=function Fte(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=is(s);return r&&s.addEventListener("upgradeneeded",l=>{r(is(s.result),l.oldVersion,l.newVersion,is(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(fa)}})),Yv}function _1(n,e){return Qv.apply(this,arguments)}function Qv(){return(Qv=y(function*(n,e){const t=ic(n),i=(yield Xv()).transaction(fa,"readwrite"),o=i.objectStore(fa),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&h7(n,e.fid),e})).apply(this,arguments)}function Jv(n){return ek.apply(this,arguments)}function ek(){return(ek=y(function*(n){const e=ic(n),r=(yield Xv()).transaction(fa,"readwrite");yield r.objectStore(fa).delete(e),yield r.done})).apply(this,arguments)}function _d(n,e){return tk.apply(this,arguments)}function tk(){return(tk=y(function*(n,e){const t=ic(n),i=(yield Xv()).transaction(fa,"readwrite"),o=i.objectStore(fa),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&h7(n,a.fid),a})).apply(this,arguments)}function nk(n){return rk.apply(this,arguments)}function rk(){return(rk=y(function*(n){let e;const t=yield _d(n.appConfig,r=>{const i=nne(r),o=rne(n,i);return e=o.registrationPromise,o.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function nne(n){return g7(n||{fid:Zte(),registrationStatus:0})}function rne(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(yo.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function ine(n,e){return ik.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:one(n)}:{installationEntry:e}}function ik(){return(ik=y(function*(n,e){try{const t=yield Gte(n,e);return _1(n.appConfig,t)}catch(t){throw a7(t)&&409===t.customData.serverCode?yield Jv(n.appConfig):yield _1(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function one(n){return ok.apply(this,arguments)}function ok(){return(ok=y(function*(n){let e=yield y7(n.appConfig);for(;1===e.registrationStatus;)yield d7(100),e=yield y7(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield nk(n);return r||t}return e})).apply(this,arguments)}function y7(n){return _d(n,e=>{if(!e)throw yo.create("installation-not-found");return g7(e)})}function g7(n){return function sne(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function ane(n,e){return sk.apply(this,arguments)}function sk(){return(sk=y(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=lne(n,t),i=u7(n,t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:o7,appId:n.appId}})},l=yield Gv(()=>fetch(r,a));if(l.ok)return l7(yield l.json());throw yield Uv("Generate Auth Token",l)})).apply(this,arguments)}function lne(n,{fid:e}){return`${qv(n)}/${e}/authTokens:generate`}function ak(n){return lk.apply(this,arguments)}function lk(){return(lk=y(function*(n,e=!1){let t;const r=yield _d(n.appConfig,o=>{if(!v7(o))throw yo.create("not-registered");const s=o.authToken;if(!e&&dne(s))return o;if(1===s.requestStatus)return t=cne(n,e),o;{if(!navigator.onLine)throw yo.create("app-offline");const a=pne(o);return t=une(n,a),a}});return t?yield t:r.authToken})).apply(this,arguments)}function cne(n,e){return ck.apply(this,arguments)}function ck(){return(ck=y(function*(n,e){let t=yield _7(n.appConfig);for(;1===t.authToken.requestStatus;)yield d7(100),t=yield _7(n.appConfig);const r=t.authToken;return 0===r.requestStatus?ak(n,e):r})).apply(this,arguments)}function _7(n){return _d(n,e=>{if(!v7(e))throw yo.create("not-registered");return function fne(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function une(n,e){return uk.apply(this,arguments)}function uk(){return(uk=y(function*(n,e){try{const t=yield ane(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield _1(n.appConfig,r),t}catch(t){if(!a7(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield _1(n.appConfig,r)}else yield Jv(n.appConfig);throw t}})).apply(this,arguments)}function v7(n){return void 0!==n&&2===n.registrationStatus}function dne(n){return 2===n.requestStatus&&!function hne(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function pne(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function dk(){return(dk=y(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield nk(e);return r?r.catch(console.error):ak(e).catch(console.error),t.fid})).apply(this,arguments)}function hk(){return(hk=y(function*(n,e=!1){const t=n;return yield gne(t),(yield ak(t,e)).token})).apply(this,arguments)}function gne(n){return pk.apply(this,arguments)}function pk(){return(pk=y(function*(n){const{registrationPromise:e}=yield nk(n);e&&(yield e)})).apply(this,arguments)}function yk(n){return yo.create("missing-app-config-values",{valueName:n})}const k7="installations",wne=n=>{const e=n.getProvider("app").getImmediate(),t=function kne(n){if(!n||!n.options)throw yk("App Configuration");if(!n.name)throw yk("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw yk(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:ha(e,"heartbeat"),_delete:()=>Promise.resolve()}},Mne=n=>{const t=ha(n.getProvider("app").getImmediate(),k7).getImmediate();return{getId:()=>function mne(n){return dk.apply(this,arguments)}(t),getToken:i=>function yne(n){return hk.apply(this,arguments)}(t,i)}};(function Cne(){Rn(new fn(k7,wne,"PUBLIC")),Rn(new fn("installations-internal",Mne,"PRIVATE"))})(),at(n7,"0.6.4"),at(n7,"0.6.4","esm2017");const gk="@firebase/remote-config",pr=new Ri("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Nne{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function Fne(n=navigator){return n.languages&&n.languages[0]||n.language}class Lne{constructor(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var t=this;return y(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Fne()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(s,c),d=new Promise((k,w)=>{e.signal.addEventListener(()=>{const v=new Error("The operation was aborted.");v.name="AbortError",w(v)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(k){let w="fetch-client-network";throw"AbortError"===k?.name&&(w="fetch-timeout"),pr.create(w,{originalErrorMessage:k?.message})}let p=h.status;const f=h.headers.get("ETag")||void 0;let m,g;if(200===h.status){let k;try{k=yield h.json()}catch(w){throw pr.create("fetch-client-parse",{originalErrorMessage:w?.message})}m=k.entries,g=k.state}if("INSTANCE_STATE_UNSPECIFIED"===g?p=500:"NO_CHANGE"===g?p=304:("NO_TEMPLATE"===g||"EMPTY_CONFIG"===g)&&(m={}),304!==p&&200!==p)throw pr.create("fetch-status",{httpStatus:p});return{status:p,eTag:f,config:m}})()}}class Hne{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return y(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return y(function*(){yield function Vne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function Bne(n){if(!(n instanceof Dr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+Mv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class qne{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function k1(n,e){const t=n.target.error||void 0;return pr.create(e,{originalErrorMessage:t&&t?.message})}const ma="app_namespace_store";class Wne{constructor(e,t,r,i=function Gne(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(k1(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ma,{keyPath:"compositeKey"})}}catch(t){e(pr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ma],"readonly").objectStore(ma),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{o(k1(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){o(pr.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,t){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const l=i.transaction([ma],"readwrite").objectStore(ma),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{s(k1(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(pr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return y(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ma],"readwrite").objectStore(ma),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{o(k1(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){o(pr.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Kne{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Yne(){return wk.apply(this,arguments)}function wk(){return(wk=y(function*(){if(!la())return!1;try{return yield fd()}catch{return!1}})).apply(this,arguments)}let C7,x7;!function Zne(){Rn(new fn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw pr.create("registration-window");if(!la())throw pr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw pr.create("registration-project-id");if(!s)throw pr.create("registration-api-key");if(!a)throw pr.create("registration-app-id");const l=new Wne(a,r.name,t=t||"firebase"),c=new Kne(l),u=new rc(gk);u.logLevel=Te.ERROR;const d=new Lne(i,rs,t,o,s,a),h=new Hne(d,l),p=new Nne(h,l,c,u),f=new qne(r,p,c,l,u);return function Rne(n){const e=kt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(f),f},"PUBLIC").setMultipleInstances(!0)),at(gk,"0.4.4"),at(gk,"0.4.4","esm2017")}();const E7=new WeakMap,Mk=new WeakMap,T7=new WeakMap,Ck=new WeakMap,xk=new WeakMap;let Ek={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Mk.get(n);if("objectStoreNames"===e)return n.objectStoreNames||T7.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return go(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function ire(n){return"function"==typeof n?function rre(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Jne(){return x7||(x7=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Tk(this),e),go(E7.get(this))}:function(...e){return go(n.apply(Tk(this),e))}:function(e,...t){const r=n.call(Tk(this),e,...t);return T7.set(r,e.sort?e.sort():[e]),go(r)}}(n):(n instanceof IDBTransaction&&function tre(n){if(Mk.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Mk.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Qne(){return C7||(C7=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ek):n)}function go(n){if(n instanceof IDBRequest)return function ere(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(go(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&E7.set(t,n)}).catch(()=>{}),xk.set(e,n),e}(n);if(Ck.has(n))return Ck.get(n);const e=ire(n);return e!==n&&(Ck.set(n,e),xk.set(e,n)),e}const Tk=n=>xk.get(n);function S7(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=go(s);return r&&s.addEventListener("upgradeneeded",l=>{r(go(s.result),l.oldVersion,l.newVersion,go(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Sk(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),go(t).then(()=>{})}const ore=["get","getKey","getAll","getAllKeys","count"],sre=["put","add","delete","clear"],Dk=new Map;function D7(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Dk.get(e))return Dk.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=sre.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ore.includes(t))return;const o=function(){var s=y(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return Dk.set(e,o),o}!function nre(n){Ek=n(Ek)}(n=>({...n,get:(e,t,r)=>D7(e,t)||n.get(e,t,r),has:(e,t)=>!!D7(e,t)||n.has(e,t)}));const are="/firebase-messaging-sw.js",lre="/firebase-cloud-messaging-push-scope",I7="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",A7="google.c.a.c_id",ure="google.c.a.c_l",dre="google.c.a.ts",hre="google.c.a.e";var sc=(()=>{return(n=sc||(sc={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",sc;var n})();function _o(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pre(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const Ik="fcm_token_details_db",R7="fcm_token_object_Store";function mre(n){return Ak.apply(this,arguments)}function Ak(){return Ak=y(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(Ik))return null;let e=null;return(yield S7(Ik,5,{upgrade:(r=y(function*(i,o,s,a){var l;if(o<2||!i.objectStoreNames.contains(R7))return;const c=a.objectStore(R7),u=yield c.index("fcmSenderId").get(n);if(yield c.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:_o(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:_o(d.auth),p256dh:_o(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:_o(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:_o(d.auth),p256dh:_o(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:_o(d.vapidKey)}}}}),function(o,s,a,l){return r.apply(this,arguments)})})).close(),yield Sk(Ik),yield Sk("fcm_vapid_details_db"),yield Sk("undefined"),yre(e)?e:null;var r}),Ak.apply(this,arguments)}function yre(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const ya="firebase-messaging-store";let Rk=null;function Pk(){return Rk||(Rk=S7("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ya)}})),Rk}function P7(n){return Ok.apply(this,arguments)}function Ok(){return(Ok=y(function*(n){const e=Vk(n),r=yield(yield Pk()).transaction(ya).objectStore(ya).get(e);if(r)return r;{const i=yield mre(n.appConfig.senderId);if(i)return yield Nk(n,i),i}})).apply(this,arguments)}function Nk(n,e){return Fk.apply(this,arguments)}function Fk(){return(Fk=y(function*(n,e){const t=Vk(n),i=(yield Pk()).transaction(ya,"readwrite");return yield i.objectStore(ya).put(e,t),yield i.done,e})).apply(this,arguments)}function vre(n){return Lk.apply(this,arguments)}function Lk(){return(Lk=y(function*(n){const e=Vk(n),r=(yield Pk()).transaction(ya,"readwrite");yield r.objectStore(ya).delete(e),yield r.done})).apply(this,arguments)}function Vk({appConfig:n}){return n.appId}const mn=new Ri("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bre(n,e){return Bk.apply(this,arguments)}function Bk(){return(Bk=y(function*(n,e){const t=yield qk(n),r=N7(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(zk(n.appConfig),i)).json()}catch(s){throw mn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw mn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw mn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function wre(n,e){return Hk.apply(this,arguments)}function Hk(){return(Hk=y(function*(n,e){const t=yield qk(n),r=N7(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${zk(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw mn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw mn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw mn.create("token-update-no-token");return o.token})).apply(this,arguments)}function O7(n,e){return jk.apply(this,arguments)}function jk(){return(jk=y(function*(n,e){const r={method:"DELETE",headers:yield qk(n)};try{const o=yield(yield fetch(`${zk(n.appConfig)}/${e}`,r)).json();if(o.error)throw mn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw mn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function zk({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function qk(n){return Uk.apply(this,arguments)}function Uk(){return(Uk=y(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function N7({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==I7&&(i.web.applicationPubKey=r),i}function Cre(n){return $k.apply(this,arguments)}function $k(){return($k=y(function*(n){const e=yield Ere(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:_o(e.getKey("auth")),p256dh:_o(e.getKey("p256dh"))},r=yield P7(n.firebaseDependencies);if(r){if(Tre(r.subscriptionOptions,t))return Date.now()>=r.createTime+6048e5?xre(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield O7(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return L7(n.firebaseDependencies,t)}return L7(n.firebaseDependencies,t)})).apply(this,arguments)}function F7(n){return Gk.apply(this,arguments)}function Gk(){return(Gk=y(function*(n){const e=yield P7(n.firebaseDependencies);e&&(yield O7(n.firebaseDependencies,e.token),yield vre(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function xre(n,e){return Wk.apply(this,arguments)}function Wk(){return(Wk=y(function*(n,e){try{const t=yield wre(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Nk(n.firebaseDependencies,r),t}catch(t){throw yield F7(n),t}})).apply(this,arguments)}function L7(n,e){return Kk.apply(this,arguments)}function Kk(){return(Kk=y(function*(n,e){const r={token:yield bre(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Nk(n,r),r.token})).apply(this,arguments)}function Ere(n,e){return Zk.apply(this,arguments)}function Zk(){return(Zk=y(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pre(e)})})).apply(this,arguments)}function Tre(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function V7(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Sre(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function Dre(n,e){!e.data||(n.data=e.data)}(e,n),function Ire(n,e){var t,r,i,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const l=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(n.fcmOptions.analyticsLabel=l)}(e,n),e}function Are(n){return"object"==typeof n&&!!n&&A7 in n}function B7(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Yk(n){return mn.create("missing-app-config-values",{valueName:n})}B7("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),B7("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pre{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Rre(n){if(!n||!n.options)throw Yk("App Configuration Object");if(!n.name)throw Yk("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Yk(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function H7(n){return Xk.apply(this,arguments)}function Xk(){return(Xk=y(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(are,{scope:lre}),n.swRegistration.update().catch(()=>{})}catch(e){throw mn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Ore(n,e){return Qk.apply(this,arguments)}function Qk(){return(Qk=y(function*(n,e){if(!e&&!n.swRegistration&&(yield H7(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Nre(n,e){return Jk.apply(this,arguments)}function Jk(){return(Jk=y(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=I7)})).apply(this,arguments)}function eb(){return(eb=y(function*(n,e){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield Nre(n,e?.vapidKey),yield Ore(n,e?.serviceWorkerRegistration),Cre(n)})).apply(this,arguments)}function Fre(n,e,t){return tb.apply(this,arguments)}function tb(){return(tb=y(function*(n,e,t){const r=Lre(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[A7],message_name:t[ure],message_time:t[dre],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Lre(n){switch(n){case sc.NOTIFICATION_CLICKED:return"notification_open";case sc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function nb(){return(nb=y(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===sc.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(V7(t)):n.onMessageHandler.next(V7(t)));const r=t.data;Are(r)&&"1"===r[hre]&&(yield Fre(n,t.messageType,r))})).apply(this,arguments)}const z7="@firebase/messaging",Bre=n=>{const e=new Pre(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Vre(n,e){return nb.apply(this,arguments)}(e,t)),e},Hre=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function j7(n,e){return eb.apply(this,arguments)}(e,r)}};function U7(){return rb.apply(this,arguments)}function rb(){return(rb=y(function*(){try{yield fd()}catch{return!1}return typeof window<"u"&&la()&&kv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function jre(){Rn(new fn("messaging",Bre,"PUBLIC")),Rn(new fn("messaging-internal",Hre,"PRIVATE")),at(z7,"0.12.4"),at(z7,"0.12.4","esm2017")}();const b1="analytics",Ure="firebase_id",Wre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sb="https://www.googletagmanager.com/gtag/js",nn=new rc("@firebase/analytics"),Jn=new Ri("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Zre(n){if(!n.startsWith(sb)){const e=Jn.create("invalid-gtag-resource",{gtagURL:n});return nn.warn(e.message),""}return n}function $7(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Xre(n,e){const t=function Yre(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Zre}),r=document.createElement("script"),i=`${sb}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Jre(n,e,t,r,i,o){return ab.apply(this,arguments)}function ab(){return(ab=y(function*(n,e,t,r,i,o){const s=r[i];try{if(s)yield e[s];else{const l=(yield $7(t)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){nn.error(a)}n("config",i,o)})).apply(this,arguments)}function eie(n,e,t,r,i){return lb.apply(this,arguments)}function lb(){return(lb=y(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield $7(t);for(const l of s){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){nn.error(o)}})).apply(this,arguments)}function rie(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(sb)&&t.src.includes(n))return t;return null}const G7=new class sie{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function aie(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function lie(n){return cb.apply(this,arguments)}function cb(){return(cb=y(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:aie(r)},o=Wre.replace("{app-id}",t),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const l=yield s.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function cie(n){return ub.apply(this,arguments)}function ub(){return(ub=y(function*(n,e=G7,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Jn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Jn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new hie;return setTimeout(y(function*(){a.abort()}),void 0!==t?t:6e4),W7({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function W7(n,e,t){return db.apply(this,arguments)}function db(){return(db=y(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=G7){var o;const{appId:s,measurementId:a}=n;try{yield uie(r,e)}catch(l){if(a)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw l}try{const l=yield lie(n);return i.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!die(c)){if(i.deleteThrottleMetadata(s),a)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw l}const u=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?Mv(t,i.intervalMillis,30):Mv(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(s,d),nn.debug(`Calling attemptFetch again in ${u} millis`),W7(n,d,r,i)}})).apply(this,arguments)}function uie(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function die(n){if(!(n instanceof Dr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class hie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let hb,vb;function pb(){return(pb=y(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function K7(n){vb=n}function Z7(n){hb=n}function vie(){return kb.apply(this,arguments)}function kb(){return(kb=y(function*(){if(!la())return nn.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield fd()}catch(n){return nn.warn(Jn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function bb(){return(bb=y(function*(n,e,t,r,i,o,s){var a;const l=cie(n);l.then(p=>{t[p.measurementId]=p.appId,n.options.measurementId&&p.measurementId!==n.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>nn.error(p)),e.push(l);const c=vie().then(p=>{if(p)return r.getId()}),[u,d]=yield Promise.all([l,c]);rie(o)||Xre(o,u.measurementId),vb&&(i("consent","default",vb),K7(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[Ure]=d),i("config",u.measurementId,h),hb&&(i("set",hb),Z7(void 0)),u.measurementId})).apply(this,arguments)}class bie{constructor(e){this.app=e}_delete(){return delete Pi[this.app.options.appId],Promise.resolve()}}let Pi={},Y7=[];const X7={};let J7,Oi,w1="dataLayer",wb=!1;function Mie(n,e,t){!function wie(){const n=[];if(vv()&&n.push("This is a browser extension environment."),kv()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Jn.create("invalid-analytics-context",{errorInfo:e});nn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Jn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Jn.create("no-api-key");nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pi[r])throw Jn.create("already-exists",{id:r});if(!wb){!function Qre(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(w1);const{wrappedGtag:o,gtagCore:s}=function nie(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function tie(n,e,t,r){function o(){return(o=y(function*(s,...a){try{if("event"===s){const[l,c]=a;yield eie(n,e,t,l,c)}else if("config"===s){const[l,c]=a;yield Jre(n,e,t,r,l,c)}else if("consent"===s){const[l]=a;n("consent","update",l)}else if("get"===s){const[l,c,u]=a;n("get",l,c,u)}else if("set"===s){const[l]=a;n("set",l)}else n(s,...a)}catch(l){nn.error(l)}})).apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(Pi,Y7,X7,w1,"gtag");Oi=o,J7=s,wb=!0}return Pi[r]=function kie(n,e,t,r,i,o,s){return bb.apply(this,arguments)}(n,Y7,X7,e,J7,w1,t),new bie(n)}function xie(){return Mb.apply(this,arguments)}function Mb(){return(Mb=y(function*(){if(vv()||!kv()||!la())return!1;try{return yield fd()}catch{return!1}})).apply(this,arguments)}const eR="@firebase/analytics";!function Tie(){Rn(new fn(b1,(e,{options:t})=>Mie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Rn(new fn("analytics-internal",function n(e){try{const t=e.getProvider(b1).getImmediate();return{logEvent:(r,i,o)=>function Eie(n,e,t,r){n=kt(n),function pie(n,e,t,r,i){return pb.apply(this,arguments)}(Oi,Pi[n.app.options.appId],e,t,r).catch(i=>nn.error(i))}(t,r,i,o)}}catch(t){throw Jn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),at(eR,"0.10.0"),at(eR,"0.10.0","esm2017")}();class Sie extends yt{constructor(e,t){super()}schedule(e,t=0){return this}}const M1={setInterval(...n){const{delegate:e}=M1;return(e?.setInterval||setInterval)(...n)},clearInterval(n){const{delegate:e}=M1;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class C1 extends Sie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return M1.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;M1.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ll(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const nR={now:()=>(nR.delegate||Date).now(),delegate:void 0};class vd{constructor(e,t=vd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}vd.now=nR.now;class x1 extends vd{constructor(e,t=vd.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Aie=new class Iie extends x1{}(class Die extends C1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}}),E1=new x1(C1),rR=E1;function bt(n,e,t){const r=Re(n)||e||t?{next:n,error:e,complete:t}:n;return r?gt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(new Je(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):zo}const kd=new Zo("7.6.1"),xb="__angularfire_symbol__analyticsIsSupportedValue",Eb="__angularfire_symbol__analyticsIsSupported",Tb="__angularfire_symbol__remoteConfigIsSupportedValue",Sb="__angularfire_symbol__remoteConfigIsSupported",Db="__angularfire_symbol__messagingIsSupportedValue",Ib="__angularfire_symbol__messagingIsSupported";function T1(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[Eb]||(globalThis[Eb]=xie().then(n=>globalThis[xb]=n).catch(()=>globalThis[xb]=!1)),globalThis[Ib]||(globalThis[Ib]=U7().then(n=>globalThis[Db]=n).catch(()=>globalThis[Db]=!1)),globalThis[Sb]||(globalThis[Sb]=Yne().then(n=>globalThis[Tb]=n).catch(()=>globalThis[Tb]=!1));const S1=(n,e)=>{const t=e?[e]:$8(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function ac(){}class iR{constructor(e,t=Aie){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class Rie{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ac,{},ac,ac)),t.pipe(bt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let D1=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new iR(Zone.current)),this.insideAngular=t.run(()=>new iR(Zone.current,E1)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(C(ie))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ga(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Pie(n){return ga().ngZone.runOutsideAngular(()=>n())}function _a(n){return ga().ngZone.run(()=>n())}function Oie(n){return ga(),function Nie(n){return function(t){return(t=t.lift(new Rie(n.ngZone))).pipe(Ap(n.outsideAngular),Ip(n.insideAngular))}}(ga())(n)}const Fie=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),_a(()=>n.apply(void 0,r))},er=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=_a(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ac,{},ac,ac)))),r[o]=Fie(r[o],t));const i=Pie(()=>n.apply(this,r));if(!e){if(i instanceof Ve){const o=ga();return i.pipe(Ap(o.outsideAngular),Ip(o.insideAngular))}return _a(()=>i)}return i instanceof Ve?i.pipe(Oie):i instanceof Promise?_a(()=>new Promise((o,s)=>i.then(a=>_a(()=>o(a)),a=>_a(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:_a(()=>i)};class va{constructor(e){return e}}class I1{constructor(){return $8()}}const Rb=new P("angularfire2._apps"),Vie={provide:va,useFactory:function Lie(n){return n&&1===n.length?n[0]:new va(g1())},deps:[[new pt,Rb]]},Bie={provide:I1,deps:[[new pt,Rb]]};function Hie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new va(r)}}let jie=(()=>{class n{constructor(t){at("angularfire",kd.full,"core"),at("angularfire",kd.full,"app"),at("angular",MS.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(C(tc))},n.\u0275mod=xe({type:n}),n.\u0275inj=be({providers:[Vie,Bie]}),n})();function zie(n,...e){return{ngModule:jie,providers:[{provide:Rb,useFactory:Hie(n),multi:!0,deps:[ie,St,D1,...e]}]}}const qie=er(U8,!0),Pb=new Map,oR={activated:!1,tokenObservers:[]},Uie={initialized:!1,enabled:!1};function It(n){return Pb.get(n)||Object.assign({},oR)}function A1(){return Uie}class Yie{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return y(function*(){t.stop();try{t.pending=new d1,yield function Xie(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new d1,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const yn=new Ri("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Nb(n){if(!It(n).activated)throw yn.create("use-before-activation",{appName:n.name})}function O1(n,e){return Lb.apply(this,arguments)}function Lb(){return(Lb=y(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(n,o)}catch(d){throw yn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw yn.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw yn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw yn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function aR(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const bd="firebase-app-check-store";let N1=null;function cR(){return N1||(N1=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(yn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(bd,{keyPath:"compositeKey"})}}catch(t){e(yn.create("storage-open",{originalErrorMessage:t?.message}))}}),N1)}function Vb(){return(Vb=y(function*(n,e){const r=(yield cR()).transaction(bd,"readwrite"),o=r.objectStore(bd).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(yn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const wd=new rc("@firebase/app-check");function jb(n,e){return la()?function ioe(n,e){return function uR(n,e){return Vb.apply(this,arguments)}(function hR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{wd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qb(){return A1().enabled}function Ub(){return $b.apply(this,arguments)}function $b(){return($b=y(function*(){const n=A1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const uoe={error:"UNKNOWN_ERROR"};function doe(n){return _v.encodeString(JSON.stringify(n),!1)}function F1(n){return Gb.apply(this,arguments)}function Gb(){return(Gb=y(function*(n,e=!1){const t=n.app;Nb(t);const r=It(t);let o,i=r.token;if(i&&!lc(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(lc(l)?i=l:yield jb(t,void 0))}if(!e&&i&&lc(i))return{token:i.token};let a,s=!1;if(qb()){r.exchangeTokenPromise||(r.exchangeTokenPromise=O1(aR(t,yield Ub()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const l=yield r.exchangeTokenPromise;return yield jb(t,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield It(t).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?wd.warn(l.message):wd.error(l),o=l}return i?o?a=lc(i)?{token:i.token,internalError:o}:yR(o):(a={token:i.token},r.token=i,yield jb(t,i)):a=yR(o),s&&mR(t,a),a})).apply(this,arguments)}function Wb(){return(Wb=y(function*(n){const e=n.app;Nb(e);const{provider:t}=It(e);if(qb()){const r=yield Ub(),{token:i}=yield O1(aR(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Zb(n,e){const t=It(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function fR(n){const{app:e}=n,t=It(e);let r=t.tokenRefresher;r||(r=function hoe(n){const{app:e}=n;return new Yie(y(function*(){let r;if(r=It(e).token?yield F1(n,!0):yield F1(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=It(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function mR(n,e){const t=It(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function lc(n){return n.expireTimeMillis-Date.now()>0}function yR(n){return{token:doe(uoe),error:n}}class poe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=It(this.app);for(const t of e)Zb(this.app,t.next);return Promise.resolve()}}const CR="app-check-internal";!function Toe(){Rn(new fn("app-check",n=>function foe(n,e){return new poe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(CR).initialize()})),Rn(new fn(CR,n=>function moe(n){return{getToken:e=>F1(n,e),getLimitedUseToken:()=>function pR(n){return Wb.apply(this,arguments)}(n),addTokenListener:e=>function Kb(n,e,t,r){const{app:i}=n,o=It(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&lc(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),fR(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>fR(n))}(n,"INTERNAL",e),removeTokenListener:e=>Zb(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),at("@firebase/app-check","0.8.0")}();class V1{constructor(){return S1("app-check")}}function TR(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}typeof window<"u"&&window;const Noe=function IR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},AR=new Ri("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),H1=new rc("@firebase/auth");function j1(n,...e){H1.logLevel<=Te.ERROR&&H1.error(`Auth (${rs}): ${n}`,...e)}function fr(n,...e){throw tw(n,...e)}function Ni(n,...e){return tw(n,...e)}function RR(n,e,t){const r=Object.assign(Object.assign({},Noe()),{[e]:t});return new Ri("auth","Firebase",r).create(e,{appName:n.name})}function tw(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return AR.create(n,...e)}function O(n,e,...t){if(!n)throw tw(e,...t)}function Fi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw j1(e),new Error(e)}function os(n,e){n||Fi(e)}function Md(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function PR(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Cd{constructor(e,t){this.shortDelay=e,this.longDelay=t,os(t>e,"Short delay should be less than long delay!"),this.isMobile=function aee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}()||function lee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Loe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function nw(){return"http:"===PR()||"https:"===PR()}()||vv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rw(n,e){os(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class OR{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Boe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Hoe=new Cd(3e4,6e4);function wt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function At(n,e,t,r){return iw.apply(this,arguments)}function iw(){return(iw=y(function*(n,e,t,r,i={}){return NR(n,i,y(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=f1(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),OR.fetch()(FR(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function NR(n,e,t){return ow.apply(this,arguments)}function ow(){return(ow=y(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Boe),e);try{const i=new joe(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw xd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw xd(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw xd(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw xd(n,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw RR(n,u,c);fr(n,u)}}catch(i){if(i instanceof Dr)throw i;fr(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function vo(n,e,t,r){return sw.apply(this,arguments)}function sw(){return(sw=y(function*(n,e,t,r,i={}){const o=yield At(n,e,t,r,i);return"mfaPendingCredential"in o&&fr(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function FR(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?rw(n.config,i):`${n.config.apiScheme}://${i}`}class joe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ni(this.auth,"network-request-failed")),Hoe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ni(n,e,r);return i.customData._tokenResponse=t,i}function aw(){return(aw=y(function*(n,e){return At(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Uoe(n,e){return cw.apply(this,arguments)}function cw(){return(cw=y(function*(n,e){return At(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ed(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function uw(){return(uw=y(function*(n,e=!1){const t=kt(n),r=yield t.getIdToken(e),i=z1(r);O(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ed(dw(i.auth_time)),issuedAtTime:Ed(dw(i.iat)),expirationTime:Ed(dw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function dw(n){return 1e3*Number(n)}function z1(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return j1("JWT malformed, contained fewer than 3 sections"),null;try{const i=c1(t);return i?JSON.parse(i):(j1("Failed to decode base64 JWT payload"),null)}catch(i){return j1("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ko(n,e){return hw.apply(this,arguments)}function hw(){return(hw=y(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Dr&&Woe(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function Woe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Koe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield t.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class LR{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ed(this.lastLoginAt),this.creationTime=Ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Td(n){return pw.apply(this,arguments)}function pw(){return(pw=y(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ko(n,Uoe(t,{idToken:r}));O(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?Xoe(o.providerUserInfo):[],a=Yoe(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new LR(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function fw(){return(fw=y(function*(n){const e=kt(n);yield Td(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Yoe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Xoe(n){return n.map(e=>{var{providerId:t}=e,r=TR(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function mw(){return(mw=y(function*(n,e){const t=yield NR(n,{},y(function*(){const r=f1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=FR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",OR.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Sd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){O(e.idToken,"internal-error"),O(typeof e.idToken<"u","internal-error"),O(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Goe(n){const e=z1(n);return O(e,"internal-error"),O(typeof e.exp<"u","internal-error"),O(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return y(function*(){return O(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return y(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Qoe(n,e){return mw.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Sd;return r&&(O("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(O("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(O("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sd,this.toJSON())}_performRefresh(){return Fi("not implemented")}}function ss(n,e){O("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ka{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=TR(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Koe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new LR(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return y(function*(){const r=yield ko(t,t.stsTokenManager.getToken(t.auth,e));return O(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function $oe(n){return uw.apply(this,arguments)}(this,e)}reload(){return function Zoe(n){return fw.apply(this,arguments)}(this)}_assign(e){this!==e&&(O(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ka(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Td(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const t=yield e.getIdToken();return yield ko(e,function zoe(n,e){return aw.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,p=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,k=null!==(c=t.createdAt)&&void 0!==c?c:void 0,w=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:x,isAnonymous:L,providerData:j,stsTokenManager:le}=t;O(v&&le,e,"internal-error");const Ke=Sd.fromJSON(this.name,le);O("string"==typeof v,e,"internal-error"),ss(d,e.name),ss(h,e.name),O("boolean"==typeof x,e,"internal-error"),O("boolean"==typeof L,e,"internal-error"),ss(p,e.name),ss(f,e.name),ss(m,e.name),ss(g,e.name),ss(k,e.name),ss(w,e.name);const mt=new ka({uid:v,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:L,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:Ke,createdAt:k,lastLoginAt:w});return j&&Array.isArray(j)&&(mt.providerData=j.map(lr=>Object.assign({},lr))),g&&(mt._redirectEventId=g),mt}static _fromIdTokenResponse(e,t,r=!1){return y(function*(){const i=new Sd;i.updateFromServerResponse(t);const o=new ka({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Td(o),o})()}}const VR=new Map;function bo(n){os(n instanceof Function,"Expected a class definition");let e=VR.get(n);return e?(os(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VR.set(n,e),e)}const BR=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(t,r){var i=this;return y(function*(){i.storage[t]=r})()}_get(t){var r=this;return y(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return y(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function q1(n,e,t){return`firebase:${n}:${e}:${t}`}class uc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=q1(this.userKey,i.apiKey,o),this.fullPersistenceKey=q1("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ka._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return y(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(function*(){if(!t.length)return new uc(bo(BR),e,r);const i=(yield Promise.all(t.map(function(){var c=y(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||bo(BR);const s=q1(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(s);if(u){const d=ka._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=y(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return c.apply(this,arguments)}}())),new uc(o,e,r)):new uc(o,e,r)})()}}function HR(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($R(e))return"Blackberry";if(GR(e))return"Webos";if(yw(e))return"Safari";if((e.includes("chrome/")||zR(e))&&!e.includes("edge/"))return"Chrome";if(UR(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function jR(n=tn()){return/firefox\//i.test(n)}function yw(n=tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zR(n=tn()){return/crios\//i.test(n)}function qR(n=tn()){return/iemobile/i.test(n)}function UR(n=tn()){return/android/i.test(n)}function $R(n=tn()){return/blackberry/i.test(n)}function GR(n=tn()){return/webos/i.test(n)}function U1(n=tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function WR(n=tn()){return U1(n)||UR(n)||GR(n)||$R(n)||/windows phone/i.test(n)||qR(n)}function KR(n,e=[]){let t;switch(n){case"Browser":t=HR(tn());break;case"Worker":t=`${HR(tn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${rs}/${r}`}function ZR(n,e){return _w.apply(this,arguments)}function _w(){return(_w=y(function*(n,e){return At(n,"GET","/v2/recaptchaConfig",wt(n,e))})).apply(this,arguments)}function XR(n){return void 0!==n&&void 0!==n.enterprise}class QR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function vw(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Ni("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function rse(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function JR(n){return`__${n}${Math.floor(1e6*Math.random())}`}class eP{constructor(e){this.type="recaptcha-enterprise",this.auth=rn(e)}verify(e="verify",t=!1){var r=this;return y(function*(){function o(){return o=y(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=y(function*(c,u){ZR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new QR(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,l,c){const u=window.grecaptcha;XR(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!t&&XR(window.grecaptcha))s(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));vw("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function as(n,e,t){return kw.apply(this,arguments)}function kw(){return(kw=y(function*(n,e,t,r=!1){const i=new eP(n);let o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class ase{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return y(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class lse{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tP(this),this.idTokenSubscription=new tP(this),this.beforeStateQueue=new ase(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=bo(t)),this._initializationPromise=this.queue(y(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield uc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return y(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return O(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return y(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return y(function*(){try{yield Td(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Voe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return y(function*(){const r=e?kt(e):null;return r&&O(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return y(function*(){if(!r._deleted)return e&&O(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(y(function*(){yield t.assertedPersistence.setPersistence(bo(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const t=yield ZR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new QR(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new eP(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ri("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return y(function*(){if(!t.redirectPersistenceManager){const r=e&&bo(e)||t._popupRedirectResolver;O(r,t,"argument-error"),t.redirectPersistenceManager=yield uc.create(t,[bo(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return y(function*(){var r,i;return t._isInitialized&&(yield t.queue(y(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return y(function*(){if(e===t.currentUser)return t.queue(y(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return O(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return y(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return y(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Foe(n,...e){H1.logLevel<=Te.WARN&&H1.warn(`Auth (${rs}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function rn(n){return kt(n)}class tP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function fee(n,e){const t=new mee(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function rP(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class iP{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,t){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}function ww(){return(ww=y(function*(n,e){return At(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Cw(n,e){return xw.apply(this,arguments)}function xw(){return(xw=y(function*(n,e){return vo(n,"POST","/v1/accounts:signInWithPassword",wt(n,e))})).apply(this,arguments)}function Pw(){return(Pw=y(function*(n,e){return vo(n,"POST","/v1/accounts:signInWithEmailLink",wt(n,e))})).apply(this,arguments)}function Ow(){return(Ow=y(function*(n,e){return vo(n,"POST","/v1/accounts:signInWithEmailLink",wt(n,e))})).apply(this,arguments)}class Dd extends iP{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Dd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Dd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return y(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield as(e,i,"signInWithPassword");return Cw(e,o)}return Cw(e,i).catch(function(){var o=y(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield as(e,i,"signInWithPassword");return Cw(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function gse(n,e){return Pw.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:fr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return y(function*(){switch(r.signInMethod){case"password":return function sP(n,e){return ww.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function _se(n,e){return Ow.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:fr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function wo(n,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=y(function*(n,e){return vo(n,"POST","/v1/accounts:signInWithIdp",wt(n,e))})).apply(this,arguments)}class Rd{constructor(e){var t,r,i,o,s,a;const l=md(yd(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function xse(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);O(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Ese(n){const e=md(yd(n)).link,t=e?md(yd(e)).deep_link_id:null,r=md(yd(n)).deep_link_id;return(r?md(yd(r)).link:null)||r||t||e||n}(e);try{return new Rd(t)}catch{return null}}}let aP=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Dd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Rd.parseLink(r);return O(i,"argument-error"),Dd._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ls{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Tse extends ls{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function W1(n,e){return jw.apply(this,arguments)}function jw(){return(jw=y(function*(n,e){return vo(n,"POST","/v1/accounts:signUp",wt(n,e))})).apply(this,arguments)}class $r{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return y(function*(){const o=yield ka._fromIdTokenResponse(e,r,i),s=lP(r);return new $r({user:o,providerId:s,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return y(function*(){yield e._updateTokensIfNecessary(r,!0);const i=lP(r);return new $r({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function lP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class K1 extends Dr{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,K1.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new K1(e,t,r,i)}}function cP(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?K1._fromErrorAndOperation(n,o,e,r):o})}function Uw(n,e){return $w.apply(this,arguments)}function $w(){return($w=y(function*(n,e,t=!1){const r=yield ko(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return $r._forOperation(n,"link",r)})).apply(this,arguments)}function Ww(){return(Ww=y(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const o=yield ko(n,cP(r,i,e,n),t);O(o.idToken,r,"internal-error");const s=z1(o.idToken);O(s,r,"internal-error");const{sub:a}=s;return O(n.uid===a,r,"user-mismatch"),$r._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&fr(r,"user-mismatch"),o}})).apply(this,arguments)}function hP(n,e){return Kw.apply(this,arguments)}function Kw(){return(Kw=y(function*(n,e,t=!1){const r="signIn",i=yield cP(n,r,e),o=yield $r._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function Yw(){return(Yw=y(function*(n,e){return hP(rn(n),e)})).apply(this,arguments)}function Ose(n,e,t){return cM.apply(this,arguments)}function cM(){return cM=y(function*(n,e,t){var r;const i=rn(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield as(i,o,"signUpPassword");s=W1(i,c)}else s=W1(i,o).catch(function(){var c=y(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield as(i,o,"signUpPassword");return W1(i,d)}return Promise.reject(u)});return function(u){return c.apply(this,arguments)}}());const a=yield s.catch(c=>Promise.reject(c)),l=yield $r._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(l.user),l}),cM.apply(this,arguments)}function Nse(n,e,t){return function Zw(n,e){return Yw.apply(this,arguments)}(kt(n),aP.credential(e,t))}function Lse(n,e){return yM.apply(this,arguments)}function yM(){return(yM=y(function*(n,e){return At(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Vse(n,e){return gM.apply(this,arguments)}function gM(){return(gM=y(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=kt(n),o={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},s=yield ko(r,Lse(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>"password"===l);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(s)})).apply(this,arguments)}const Y1="__sak";class fP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Y1,"1"),this.storage.removeItem(Y1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const eae=(()=>{class n extends fP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xse(){const n=tn();return yw(n)||U1(n)}()&&function tse(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=WR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function ese(){return function cee(){const n=tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return y(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return y(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return y(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),mP=(()=>{class n extends fP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let nae=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return y(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,l=r.handlersMap[s];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(l).map(function(){var d=y(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function tae(n){return Promise.all(n.map(function(){var e=y(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function CM(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class rae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return y(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=CM("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function qt(){return window}function xM(){return typeof qt().WorkerGlobalScope<"u"&&"function"==typeof qt().importScripts}function EM(){return(EM=y(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const yP="firebaseLocalStorageDb",X1="firebaseLocalStorage",gP="fbase_key";class Od{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Q1(n,e){return n.transaction([X1],e?"readwrite":"readonly").objectStore(X1)}function TM(){const n=indexedDB.open(yP,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(X1,{keyPath:gP})}catch(i){t(i)}}),n.addEventListener("success",y(function*(){const r=n.result;r.objectStoreNames.contains(X1)?e(r):(r.close(),yield function cae(){const n=indexedDB.deleteDatabase(yP);return new Od(n).toPromise()}(),e(yield TM()))}))})}function _P(n,e,t){return SM.apply(this,arguments)}function SM(){return(SM=y(function*(n,e,t){const r=Q1(n,!0).put({[gP]:e,value:t});return new Od(r).toPromise()})).apply(this,arguments)}function DM(){return(DM=y(function*(n,e){const t=Q1(n,!1).get(e),r=yield new Od(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function vP(n,e){const t=Q1(n,!0).delete(e);return new Od(t).toPromise()}const pae=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return y(function*(){return t.db||(t.db=yield TM()),t.db})()}_withRetries(t){var r=this;return y(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return y(function*(){return xM()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return y(function*(){t.receiver=nae._getInstance(function aae(){return xM()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=y(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=y(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return y(function*(){var r,i;if(t.activeServiceWorker=yield function oae(){return EM.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new rae(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);!o||(null===(r=o[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=o[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return y(function*(){if(r.sender&&r.activeServiceWorker&&function sae(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const t=yield TM();return yield _P(t,Y1,"1"),yield vP(t,Y1),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return y(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(o=>_P(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return y(function*(){const i=yield r._withRetries(o=>function uae(n,e){return DM.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(i=>vP(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return y(function*(){const r=yield t._withRetries(s=>{const a=Q1(s,!1).getAll();return new Od(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function wa(n,e){return e?bo(e):(O(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}JR("rcb"),new Cd(3e4,6e4);class VM extends iP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Dae(n){return hP(n.auth,new VM(n),n.bypassAuthState)}function Iae(n){const{auth:e,user:t}=n;return O(t,e,"internal-error"),function dP(n,e){return Ww.apply(this,arguments)}(t,new VM(n),n.bypassAuthState)}function Aae(n){return BM.apply(this,arguments)}function BM(){return(BM=y(function*(n){const{auth:e,user:t}=n;return O(t,e,"internal-error"),Uw(t,new VM(n),n.bypassAuthState)})).apply(this,arguments)}new Cd(2e3,1e4);const Nd=new Map;class Oae extends class Rae{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=y(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return y(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dae;case"linkViaPopup":case"linkViaRedirect":return Aae;case"reauthViaPopup":case"reauthViaRedirect":return Iae;default:fr(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return y(function*(){let r=Nd.get(t.auth._key());if(!r){try{const o=(yield function Nae(n,e){return UM.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Nd.set(t.auth._key(),r)}return t.bypassAuthState||Nd.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return y(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function UM(){return(UM=y(function*(n,e){const t=wP(e),r=bP(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Fae(n,e){Nd.set(n._key(),e)}function bP(n){return bo(n._redirectPersistence)}function wP(n){return q1("pendingRedirect",n.config.apiKey,n.name)}function MP(n,e){return XM.apply(this,arguments)}function XM(){return(XM=y(function*(n,e,t=!1){const r=rn(n),i=wa(r,e),s=yield new Oae(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class jae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function zae(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EP(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!EP(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ni(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xP(e))}saveEventToCache(e){this.cachedEventUids.add(xP(e)),this.lastProcessedEventTime=Date.now()}}function xP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function EP({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function qae(n){return JM.apply(this,arguments)}function JM(){return(JM=y(function*(n,e={}){return At(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Uae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$ae=/^https?/;function eC(){return(eC=y(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield qae(n);for(const t of e)try{if(Wae(t))return}catch{}fr(n,"unauthorized-domain")})).apply(this,arguments)}function Wae(n){const e=Md(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!$ae.test(t))return!1;if(Uae.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Kae=new Cd(3e4,6e4);function TP(){const n=qt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let em=null;function Yae(n){return em=em||function Zae(n){return new Promise((e,t)=>{var r,i,o;function s(){TP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TP(),t(Ni(n,"network-request-failed"))},timeout:Kae.get()})}if(null!==(i=null===(r=qt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=qt().gapi)||void 0===o||!o.load){const a=JR("iframefcb");return qt()[a]=()=>{gapi.load?s():t(Ni(n,"network-request-failed"))},vw(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}s()}}).catch(e=>{throw em=null,e})}(n),em}const Xae=new Cd(5e3,15e3),ele={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nle(n){const e=n.config;O(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?rw(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:rs},i=tle.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${f1(r).slice(1)}`}function tC(){return tC=y(function*(n){const e=yield Yae(n),t=qt().gapi;return O(t,n,"internal-error"),e.open({where:document.body,url:nle(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ele,dontclear:!0},r=>new Promise(function(){var i=y(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Ni(n,"network-request-failed"),l=qt().setTimeout(()=>{s(a)},Xae.get());function c(){qt().clearTimeout(l),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),tC.apply(this,arguments)}const ile={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class SP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ple=encodeURIComponent("fac");function DP(n,e,t,r,i,o){return nC.apply(this,arguments)}function nC(){return(nC=y(function*(n,e,t,r,i,o){O(n.config.authDomain,n,"auth-domain-config-required"),O(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:rs,eventId:i};if(e instanceof ls){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",pee(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Tse){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${ple}=${encodeURIComponent(l)}`:"";return`${fle(n)}?${f1(a).slice(1)}${c}`})).apply(this,arguments)}function fle({config:n}){return n.emulator?rw(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const rC="webStorageSupport",yle=class mle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mP,this._completeRedirectFn=MP,this._overrideRedirectResult=Fae}_openPopup(e,t,r,i){var o=this;return y(function*(){var s;os(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield DP(e,t,r,Md(),i);return function cle(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ile),{width:r.toString(),height:i.toString(),top:o,left:s}),c=tn().toLowerCase();t&&(a=zR(c)?"_blank":t),jR(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,f])=>`${h}${p}=${f},`,"");if(function Joe(n=tn()){var e;return U1(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function ule(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new SP(null);const d=window.open(e||"",a,u);O(d,n,"popup-blocked");try{d.focus()}catch{}return new SP(d)}(e,a,CM())})()}_openRedirect(e,t,r,i){var o=this;return y(function*(){return yield o._originValidation(e),function iae(n){qt().location.href=n}(yield DP(e,t,r,Md(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(os(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return y(function*(){const r=yield function rle(n){return tC.apply(this,arguments)}(e),i=new jae(e);return r.register("authEvent",o=>(O(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rC,{type:rC},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[rC];void 0!==s&&t(!!s),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Gae(n){return eC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WR()||yw()||U1()}};var RP="@firebase/auth";class gle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return y(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ble=R8("authIdTokenMaxAge")||300;let OP=null;const wle=n=>function(){var e=y(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>ble)return;const o=r?.token;OP!==o&&(OP=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Mle(n=g1()){const e=ha(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function cse(n,e){const t=ha(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(p1(t.getOptions(),e??{}))return i;fr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:yle,persistence:[pae,eae,mP]}),r=R8("authTokenSyncURL");if(r){const o=wle(r);(function $se(n,e,t){kt(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function Use(n,e,t,r){kt(n).onIdTokenChanged(e,t,r)}(t,s=>o(s))}const i=D8("auth");return i&&function dse(n,e,t){const r=rn(n);O(r._canInitEmulator,r,"emulator-config-failed"),O(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=nP(e),{host:s,port:a}=function hse(n){const e=nP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:rP(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:rP(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function pse(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function Cle(n){return new Ve(function(e){var t=function Gse(n,e,t,r){return kt(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function vle(n){Rn(new fn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;O(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KR(n)},c=new lse(r,i,o,l);return function use(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(bo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Rn(new fn("auth-internal",e=>{const t=rn(e.getProvider("auth").getImmediate());return new gle(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),at(RP,"0.23.2",function _le(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),at(RP,"0.23.2","esm2017")}("Browser");class nm{constructor(e){return e}}class oC{constructor(){return S1("auth")}}const sC=new P("angularfire2.auth-instances");function Tle(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new nm(r)}}const Sle={provide:oC,deps:[[new pt,sC]]},Dle={provide:nm,useFactory:function Ele(n,e){const t=T1("auth",n,e);return t&&new nm(t)},deps:[[new pt,sC],va]};let Ile=(()=>{class n{constructor(){at("angularfire",kd.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({providers:[Dle,Sle]}),n})();function Ale(n,...e){return{ngModule:Ile,providers:[{provide:sC,useFactory:Tle(n),multi:!0,deps:[ie,St,D1,I1,[new pt,V1],...e]}]}}const Rle=er(Cle,!0),Ple=er(Ose,!0),Ole=er(Mle,!0),Nle=er(Nse,!0),Fle=er(Vse,!0);function W(...n){return ze(n,ku(n))}let rm=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=Rle(this.auth)}addUser(t){throw new Error("Method not implemented.")}updateUser(t){throw new Error("Method not implemented.")}signUp(t,r){return ze(Ple(this.auth,t,r))}login(t,r){return ze(Nle(this.auth,t,r))}updateProfileData(t){const r=this.auth.currentUser;return r?ze(Fle(r,t)):W()}logout(){return ze(this.auth.signOut())}}return n.\u0275fac=function(t){return new(t||n)(C(nm))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Gr extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Lle}=Array,{getPrototypeOf:Vle,prototype:Ble,keys:Hle}=Object;function FP(n){if(1===n.length){const e=n[0];if(Lle(e))return{args:e,keys:null};if(function jle(n){return n&&"object"==typeof n&&Vle(n)===Ble}(e)){const t=Hle(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:zle}=Array;function aC(n){return re(e=>function qle(n,e){return zle(e)?n(...e):n(e)}(n,e))}function LP(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function lC(...n){const e=ku(n),t=Z3(n),{args:r,keys:i}=FP(n);if(0===r.length)return ze([],e);const o=new Ve(function Ule(n,e,t=zo){return r=>{VP(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)VP(e,()=>{const c=ze(n[l],e);let u=!1;c.subscribe(new Je(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>LP(i,s):zo));return t?o.pipe(aC(t)):o}function VP(n,e,t){n?Xi(t,n,e):e()}function Fd(...n){return function $le(){return ul(1)}()(ze(n,ku(n)))}function cC(n){return new Ve(e=>{jn(n()).subscribe(e)})}function hc(n,e){const t=Re(n)?n:()=>n,r=i=>i.error(t());return new Ve(e?i=>e.schedule(r,0,i):r)}const pc=vu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function uC(){return gt((n,e)=>{let t=null;n._refCount++;const r=new Je(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class BP extends Ve{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,N3(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yt;const t=this.getSubject();e.add(this.source.subscribe(new Je(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yt.EMPTY)}return e}refCount(){return uC()(this)}}function Pn(n,e){return gt((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(new Je(r,l=>{i?.unsubscribe();let c=0;const u=o++;jn(n(l,u)).subscribe(i=new Je(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function cs(...n){const e=ku(n);return gt((t,r)=>{(e?Fd(n,t,e):Fd(n,t)).subscribe(r)})}function gn(n,e){return gt((t,r)=>{let i=0;t.subscribe(new Je(r,o=>n.call(e,o,i++)&&r.next(o)))})}function im(n){return gt((e,t)=>{let r=!1;e.subscribe(new Je(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function HP(n=Gle){return gt((e,t)=>{let r=!1;e.subscribe(new Je(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Gle(){return new pc}function us(n,e){const t=arguments.length>=2;return r=>r.pipe(n?gn((i,o)=>n(i,o,r)):zo,zn(1),t?im(e):HP(()=>new pc))}function ds(n,e){return Re(e)?Ot(n,e,1):Ot(n,1)}function Mo(n){return gt((e,t)=>{let o,r=null,i=!1;r=e.subscribe(new Je(t,void 0,void 0,s=>{o=jn(n(s,Mo(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Wle(n,e,t,r,i){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(new Je(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function jP(n,e){return gt(Wle(n,e,arguments.length>=2,!0))}function dC(n){return n<=0?()=>Qr:gt((e,t)=>{let r=[];e.subscribe(new Je(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function zP(n,e){const t=arguments.length>=2;return r=>r.pipe(n?gn((i,o)=>n(i,o,r)):zo,dC(1),t?im(e):HP(()=>new pc))}function qP(n){return re(()=>n)}function om(n){return gt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ye="primary";class Zle{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function fc(n){return new Zle(n)}function Yle(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Li(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!UP(n[i],e[i]))return!1;return!0}function UP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function $P(n){return Array.prototype.concat.apply([],n)}function GP(n){return n.length>0?n[n.length-1]:null}function _n(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Co(n){return c_(n)?n:Yu(n)?ze(Promise.resolve(n)):W(n)}const Jle={exact:function ZP(n,e,t){if(!Ca(n.segments,e.segments)||!sm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ZP(n.children[r],e.children[r],t))return!1;return!0},subset:YP},WP={exact:function ece(n,e){return Li(n,e)},subset:function tce(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>UP(n[t],e[t]))},ignored:()=>!0};function KP(n,e,t){return Jle[t.paths](n.root,e.root,t.matrixParams)&&WP[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function YP(n,e,t){return XP(n,e,e.segments,t)}function XP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ca(i,t)||e.hasChildren()||!sm(i,t,r))}if(n.segments.length===t.length){if(!Ca(n.segments,t)||!sm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!YP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Ca(n.segments,i)&&sm(n.segments,i,r)&&n.children[ye])&&XP(n.children[ye],e,o,r)}}function sm(n,e,t){return e.every((r,i)=>WP[t](n[i].parameters,r.parameters))}class Ma{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fc(this.queryParams)),this._queryParamMap}toString(){return ice.serialize(this)}}class ve{constructor(e,t){this.segments=e,this.children=t,this.parent=null,_n(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return am(this)}}class Ld{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=fc(this.parameters)),this._parameterMap}toString(){return n9(this)}}function Ca(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class QP{}class JP{parse(e){const t=new pce(e);return new Ma(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Vd(e.root,!0)}`,r=function ace(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${lm(t)}=${lm(i)}`).join("&"):`${lm(t)}=${lm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function oce(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ice=new JP;function am(n){return n.segments.map(e=>n9(e)).join("/")}function Vd(n,e){if(!n.hasChildren())return am(n);if(e){const t=n.children[ye]?Vd(n.children[ye],!1):"",r=[];return _n(n.children,(i,o)=>{o!==ye&&r.push(`${o}:${Vd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function rce(n,e){let t=[];return _n(n.children,(r,i)=>{i===ye&&(t=t.concat(e(r,i)))}),_n(n.children,(r,i)=>{i!==ye&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ye?[Vd(n.children[ye],!1)]:[`${i}:${Vd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ye]?`${am(n)}/${t[0]}`:`${am(n)}/(${t.join("//")})`}}function e9(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lm(n){return e9(n).replace(/%3B/gi,";")}function pC(n){return e9(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cm(n){return decodeURIComponent(n)}function t9(n){return cm(n.replace(/\+/g,"%20"))}function n9(n){return`${pC(n.path)}${function sce(n){return Object.keys(n).map(e=>`;${pC(e)}=${pC(n[e])}`).join("")}(n.parameters)}`}const lce=/^[^\/()?;=#]+/;function um(n){const e=n.match(lce);return e?e[0]:""}const cce=/^[^=?&#]+/,dce=/^[^&#]+/;class pce{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ye]=new ve(e,t)),r}parseSegment(){const e=um(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new Ld(cm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=um(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=um(this.remaining);i&&(r=i,this.capture(r))}e[cm(t)]=cm(r)}parseQueryParam(e){const t=function uce(n){const e=n.match(cce);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function hce(n){const e=n.match(dce);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=t9(t),o=t9(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=um(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ye);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ye]:new ve([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}}function fC(n){return n.segments.length>0?new ve([],{[ye]:n}):n}function dm(n){const e={};for(const r of Object.keys(n.children)){const o=dm(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function fce(n){if(1===n.numberOfChildren&&n.children[ye]){const e=n.children[ye];return new ve(n.segments.concat(e.segments),e.children)}return n}(new ve(n.segments,e))}function xa(n){return n instanceof Ma}function gce(n,e,t,r,i){if(0===t.length)return mc(e.root,e.root,e.root,r,i);const o=function o9(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new i9(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return _n(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new i9(t,e,r)}(t);return o.toRoot()?mc(e.root,e.root,new ve([],{}),r,i):function s(l){const c=function vce(n,e,t,r){if(n.isAbsolute)return new yc(e.root,!0,0);if(-1===r)return new yc(t,t===e.root,0);return function s9(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new yc(r,!1,i-o)}(t,r+(Bd(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,l),u=c.processChildren?jd(c.segmentGroup,c.index,o.commands):yC(c.segmentGroup,c.index,o.commands);return mc(e.root,c.segmentGroup,u,r,i)}(n.snapshot?._lastPathIndex)}function Bd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hd(n){return"object"==typeof n&&null!=n&&n.outlets}function mc(n,e,t,r,i){let s,o={};r&&_n(r,(l,c)=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:r9(n,e,t);const a=fC(dm(s));return new Ma(a,o,i)}function r9(n,e,t){const r={};return _n(n.children,(i,o)=>{r[o]=i===e?t:r9(i,e,t)}),new ve(n.segments,r)}class i9{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Bd(r[0]))throw new E(4003,!1);const i=r.find(Hd);if(i&&i!==GP(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function yC(n,e,t){if(n||(n=new ve([],{})),0===n.segments.length&&n.hasChildren())return jd(n,e,t);const r=function bce(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Hd(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!l9(l,c,s))return o;r+=2}else{if(!l9(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new ve(n.segments.slice(0,r.pathIndex),{});return o.children[ye]=new ve(n.segments.slice(r.pathIndex),n.children),jd(o,0,i)}return r.match&&0===i.length?new ve(n.segments,{}):r.match&&!n.hasChildren()?gC(n,e,t):r.match?jd(n,0,i):gC(n,e,t)}function jd(n,e,t){if(0===t.length)return new ve(n.segments,{});{const r=function kce(n){return Hd(n[0])?n[0].outlets:{[ye]:n}}(t),i={};return _n(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=yC(n.children[s],e,o))}),_n(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new ve(n.segments,i)}}function gC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Hd(o)){const l=wce(o.outlets);return new ve(r,l)}if(0===i&&Bd(t[0])){r.push(new Ld(n.segments[e].path,a9(t[0]))),i++;continue}const s=Hd(o)?o.outlets[ye]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Bd(a)?(r.push(new Ld(s,a9(a))),i+=2):(r.push(new Ld(s,{})),i++)}return new ve(r,{})}function wce(n){const e={};return _n(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=gC(new ve([],{}),0,t))}),e}function a9(n){const e={};return _n(n,(t,r)=>e[r]=`${t}`),e}function l9(n,e,t){return n==t.path&&Li(e,t.parameters)}class xo{constructor(e,t){this.id=e,this.url=t}}class _C extends xo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ea extends xo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hm extends xo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class c9 extends xo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mce extends xo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cce extends xo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xce extends xo{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ece extends xo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tce extends xo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sce{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dce{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ice{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ace{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rce{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pce{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u9{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class d9{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=vC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=vC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=kC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return kC(e,this._root).map(t=>t.value)}}function vC(n,e){if(n===e.value)return e;for(const t of e.children){const r=vC(n,t);if(r)return r}return null}function kC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=kC(n,t);if(r.length)return r.unshift(e),r}return[]}class Eo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function gc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class h9 extends d9{constructor(e,t){super(e),this.snapshot=t,bC(this,e)}toString(){return this.snapshot.toString()}}function p9(n,e){const t=function Nce(n,e){const s=new pm([],{},{},"",{},ye,e,null,n.root,-1,{});return new m9("",new Eo(s,[]))}(n,e),r=new Gr([new Ld("",{})]),i=new Gr({}),o=new Gr({}),s=new Gr({}),a=new Gr(""),l=new _c(r,i,s,a,o,ye,e,t.root);return l.snapshot=t.root,new h9(new Eo(l,[]),t)}class _c{constructor(e,t,r,i,o,s,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>fc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>fc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function f9(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Fce(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class pm{constructor(e,t,r,i,o,s,a,l,c,u,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._correctedLastPathIndex=h??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class m9 extends d9{constructor(e,t){super(t),this.url=e,bC(this,t)}toString(){return y9(this._root)}}function bC(n,e){e.value._routerState=n,e.children.forEach(t=>bC(n,t))}function y9(n){const e=n.children.length>0?` { ${n.children.map(y9).join(", ")} } `:"";return`${n.value}${e}`}function wC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Li(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Li(e.params,t.params)||n.params.next(t.params),function Xle(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Li(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Li(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function MC(n,e){const t=Li(n.params,e.params)&&function nce(n,e){return Ca(n,e)&&n.every((t,r)=>Li(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||MC(n.parent,e.parent))}function zd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Vce(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return zd(n,r,i);return zd(n,r)})}(n,e,t);return new Eo(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>zd(n,a)),s}}const r=function Bce(n){return new _c(new Gr(n.url),new Gr(n.params),new Gr(n.queryParams),new Gr(n.fragment),new Gr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>zd(n,o));return new Eo(r,i)}}const CC="ngNavigationCancelingError";function g9(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=xa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_9(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function _9(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[CC]=!0,r.cancellationCode=e,t&&(r.url=t),r}function v9(n){return k9(n)&&xa(n.url)}function k9(n){return n&&n[CC]}class Hce{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new qd,this.attachRef=null}}class qd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Hce,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}const fm=!1;let xC=(()=>{class n{constructor(t,r,i,o,s){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.name=i||ye,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,fm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,fm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,fm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new E(4013,fm);this._activatedRoute=t;const i=this.location,s=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new jce(t,a,i.injector);if(r&&function zce(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(s);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(_(qd),_(Sr),Wo("name"),_(zr),_(Ko))},n.\u0275dir=K({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class jce{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===_c?this.route:e===qd?this.childContexts:this.parent.get(e,t)}}let b9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&_e(0,"router-outlet")},dependencies:[xC],encapsulation:2}),n})();function w9(n,e){return n.providers&&!n._injector&&(n._injector=Pf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function TC(n){const e=n.children&&n.children.map(TC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=b9),t}function Wr(n){return n.outlet||ye}function M9(n,e){const t=n.filter(r=>Wr(r)===e);return t.push(...n.filter(r=>Wr(r)!==e)),t}function C9(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Wce{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=gc(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),_n(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=gc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=gc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=gc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Pce(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ace(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(wC(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=C9(i.snapshot),l=a?.get(Ys)??null;s.attachRef=null,s.route=i,s.resolver=l,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class x9{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mm{constructor(e,t){this.component=e,this.route=t}}function Kce(n,e,t){const r=n._root;return Ud(r,e?e._root:null,t,[r.value])}function ym(n,e,t){return(C9(e)??t).get(n)}function Ud(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=gc(e);return n.children.forEach(s=>{(function Yce(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Xce(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ca(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ca(n.url,e.url)||!Li(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!MC(n,e)||!Li(n.queryParams,e.queryParams);default:return!MC(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new x9(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ud(n,e,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new mm(a.outlet.component,s))}else s&&$d(e,a,i),i.canActivateChecks.push(new x9(r)),Ud(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),_n(o,(s,a)=>$d(s,t.getContext(a),i)),i}function $d(n,e,t){const r=gc(n),i=n.value;_n(r,(o,s)=>{$d(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new mm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gd(n){return"function"==typeof n}const gm=Symbol("INITIAL_VALUE");function vc(){return Pn(n=>lC(n.map(e=>e.pipe(zn(1),cs(gm)))).pipe(re(e=>{for(const t of e)if(!0!==t){if(t===gm)return gm;if(!1===t||t instanceof Ma)return t}return!0}),gn(e=>e!==gm),zn(1)))}function E9(n){return function Zz(...n){return R3(n)}(bt(e=>{if(xa(e))throw g9(0,e)}),re(e=>!0===e))}const SC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function T9(n,e,t,r,i){const o=DC(n,e,t);return o.matched?function fue(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(s=>{const a=n.get(s),l=function rue(n){return n&&Gd(n.canMatch)}(a)?a.canMatch(e,t):a(e,t);return Co(l)})).pipe(vc(),E9()):W(!0)}(r=w9(e,r),e,t).pipe(re(s=>!0===s?o:{...SC})):W(o)}function DC(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...SC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Yle)(t,n,e);if(!i)return{...SC};const o={};_n(i.posParams,(a,l)=>{o[l]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function _m(n,e,t,r,i="corrected"){if(t.length>0&&function gue(n,e,t){return t.some(r=>vm(n,e,r)&&Wr(r)!==ye)}(n,t,r)){const s=new ve(e,function yue(n,e,t,r){const i={};i[ye]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Wr(o)!==ye){const s=new ve([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,i[Wr(o)]=s}return i}(n,e,r,new ve(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function _ue(n,e,t){return t.some(r=>vm(n,e,r))}(n,t,r)){const s=new ve(n.segments,function mue(n,e,t,r,i,o){const s={};for(const a of r)if(vm(n,t,a)&&!i[Wr(a)]){const l=new ve([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:e.length,s[Wr(a)]=l}return{...i,...s}}(n,e,t,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const o=new ve(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function vm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function S9(n,e,t,r){return!!(Wr(n)===r||r!==ye&&vm(e,t,n))&&("**"===n.path||DC(e,n,t).matched)}function D9(n,e,t){return 0===e.length&&!n.children[t]}const km=!1;class bm{constructor(e){this.segmentGroup=e||null}}class I9{constructor(e){this.urlTree=e}}function Wd(n){return hc(new bm(n))}function A9(n){return hc(new I9(n))}class wue{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=_m(this.urlTree.root,[],[],this.config).segmentGroup,t=new ve(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ye).pipe(re(o=>this.createUrlTree(dm(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mo(o=>{if(o instanceof I9)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof bm?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ye).pipe(re(i=>this.createUrlTree(dm(i),e.queryParams,e.fragment))).pipe(Mo(i=>{throw i instanceof bm?this.noMatchError(i):i}))}noMatchError(e){return new E(4002,km)}createUrlTree(e,t,r){const i=fC(e);return new Ma(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(re(o=>new ve([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ze(i).pipe(ds(o=>{const s=r.children[o],a=M9(t,o);return this.expandSegmentGroup(e,a,s,o).pipe(re(l=>({segment:l,outlet:o})))}),jP((o,s)=>(o[s.outlet]=s.segment,o),{}),zP())}expandSegment(e,t,r,i,o,s){return ze(r).pipe(ds(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,o,s).pipe(Mo(c=>{if(c instanceof bm)return W(null);throw c}))),us(a=>!!a),Mo((a,l)=>{if(a instanceof pc||"EmptyError"===a.name)return D9(t,i,o)?W(new ve([],{})):Wd(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,o,s,a){return S9(i,t,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s):Wd(t):Wd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?A9(o):this.lineralizeSegments(r,o).pipe(Ot(s=>{const a=new ve(s,{});return this.expandSegment(e,a,t,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=DC(t,i,o);if(!a)return Wd(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?A9(d):this.lineralizeSegments(i,d).pipe(Ot(h=>this.expandSegment(e,t,r,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=w9(r,e),r.loadChildren?(r._loadedRoutes?W({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(re(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ve(i,{})))):W(new ve(i,{}))):T9(t,r,i,e).pipe(Pn(({matched:s,consumedSegments:a,remainingSegments:l})=>s?this.getChildConfig(e=r._injector??e,r,i).pipe(Ot(u=>{const d=u.injector??e,h=u.routes,{segmentGroup:p,slicedSegments:f}=_m(t,a,l,h),m=new ve(p.segments,p.children);if(0===f.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(re(v=>new ve(a,v)));if(0===h.length&&0===f.length)return W(new ve(a,{}));const g=Wr(r)===o;return this.expandSegment(d,m,h,f,g?ye:o,!0).pipe(re(w=>new ve(a.concat(w.segments),w.children)))})):Wd(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function pue(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(s=>{const a=n.get(s),l=function Jce(n){return n&&Gd(n.canLoad)}(a)?a.canLoad(e,t):a(e,t);return Co(l)})).pipe(vc(),E9())}(e,t,r).pipe(Ot(i=>i?this.configLoader.loadChildren(e,t).pipe(bt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function kue(n){return hc(_9(km,3))}())):W({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[ye])return hc(new E(4e3,km));i=i.children[ye]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Ma(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return _n(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return _n(t.children,(a,l)=>{s[l]=this.createSegmentGroup(e,a,r,i)}),new ve(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new E(4001,km);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Cue{}class Tue{constructor(e,t,r,i,o,s,a,l){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const e=_m(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ye).pipe(re(t=>{if(null===t)return null;const r=new pm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ye,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Eo(r,t),o=new m9(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=f9(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return ze(Object.keys(r.children)).pipe(ds(i=>{const o=r.children[i],s=M9(t,i);return this.processSegmentGroup(e,s,o,i)}),jP((i,o)=>i&&o?(i.push(...o),i):null),function Kle(n,e=!1){return gt((t,r)=>{let i=0;t.subscribe(new Je(r,o=>{const s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),im(null),zP(),re(i=>{if(null===i)return null;const o=R9(i);return function Sue(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return ze(t).pipe(ds(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,i,o)),us(s=>!!s),Mo(s=>{if(s instanceof pc)return D9(r,i,o)?W([]):W(null);throw s}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!S9(t,r,i,o))return W(null);let s;if("**"===t.path){const a=i.length>0?GP(i).parameters:{},l=O9(r)+i.length;s=W({snapshot:new pm(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F9(t),Wr(t),t.component??t._loadedComponent??null,t,P9(r),l,L9(t),l),consumedSegments:[],remainingSegments:[]})}else s=T9(r,t,i,e).pipe(re(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=O9(r)+l.length;return{snapshot:new pm(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,F9(t),Wr(t),t.component??t._loadedComponent??null,t,P9(r),d,L9(t),d),consumedSegments:l,remainingSegments:c}}));return s.pipe(Pn(a=>{if(null===a)return W(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function Due(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:p,slicedSegments:f}=_m(r,c,u,h.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===f.length&&p.hasChildren())return this.processChildren(d,h,p).pipe(re(g=>null===g?null:[new Eo(l,g)]));if(0===h.length&&0===f.length)return W([new Eo(l,[])]);const m=Wr(t)===o;return this.processSegment(d,h,p,f,m?ye:o).pipe(re(g=>null===g?null:[new Eo(l,g)]))}))}}function Iue(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function R9(n){const e=[],t=new Set;for(const r of n){if(!Iue(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=R9(r.children);e.push(new Eo(r.value,i))}return e.filter(r=>!t.has(r))}function P9(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function O9(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function F9(n){return n.data||{}}function L9(n){return n.resolve||{}}const IC=Symbol("RouteTitle");function V9(n){return"string"==typeof n.title||null===n.title}function AC(n){return Pn(e=>{const t=n(e);return t?ze(t).pipe(re(()=>e)):W(e)})}let B9=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ye);return r}getResolvedTitleForRoute(t){return t.data[IC]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return tt(H9)},providedIn:"root"}),n})(),H9=(()=>{class n extends B9{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(C(w8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Vue{}class Hue extends class Bue{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const RC=new P("",{providedIn:"root",factory:()=>({})}),PC=new P("ROUTES");let OC=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Co(t.loadComponent()).pipe(bt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),om(()=>{this.componentLoaders.delete(t)})),i=new BP(r,()=>new ke).pipe(uC());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(re(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=$P(l.get(PC,[],J.Self|J.Optional)));return{routes:c.map(TC),injector:l}}),om(()=>{this.childrenLoaders.delete(r)})),s=new BP(o,()=>new ke).pipe(uC());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Co(t()).pipe(Ot(r=>r instanceof wA||Array.isArray(r)?W(r):ze(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(C(St),C(P_))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class zue{}class que{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Uue(n){throw n}function $ue(n,e,t){return e.parse("/")}const Gue={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wue={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function z9(){const n=tt(QP),e=tt(qd),t=tt(Gf),r=tt(St),i=tt(P_),o=tt(PC,{optional:!0})??[],s=tt(RC,{optional:!0})??{},a=tt(H9),l=tt(B9,{optional:!0}),c=tt(zue,{optional:!0}),u=tt(Vue,{optional:!0}),d=new on(null,n,e,t,r,i,$P(o));return c&&(d.urlHandlingStrategy=c),u&&(d.routeReuseStrategy=u),d.titleStrategy=l??a,function Kue(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(s,d),d}let on=(()=>{class n{constructor(t,r,i,o,s,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ke,this.errorHandler=Uue,this.malformedUriErrorHandler=$ue,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>W(void 0),this.urlHandlingStrategy=new que,this.routeReuseStrategy=new Hue,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(OC),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new Dce(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new Sce(h)),this.ngModule=s.get(na),this.console=s.get(aX);const d=s.get(ie);this.isNgZoneEnabled=d instanceof ie&&ie.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function Qle(){return new Ma(new ve([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=p9(this.currentUrlTree,this.rootComponentType),this.transitions=new Gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(gn(i=>0!==i.id),re(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Pn(i=>{let o=!1,s=!1;return W(i).pipe(bt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pn(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return q9(a.source)&&(this.browserUrlTree=a.extractedUrl),W(a).pipe(Pn(d=>{const h=this.transitions.getValue();return r.next(new _C(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Qr:Promise.resolve(d)}),function Mue(n,e,t,r){return Pn(i=>function bue(n,e,t,r,i){return new wue(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(re(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),bt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function Rue(n,e,t,r,i,o){return Ot(s=>function Eue(n,e,t,r,i,o,s="emptyOnly",a="legacy"){return new Tue(n,e,t,r,i,s,a,o).recognize().pipe(Pn(l=>null===l?function xue(n){return new Ve(e=>e.error(n))}(new Cue):W(l)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i,o).pipe(re(a=>({...s,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),bt(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const p=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(p,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new Mce(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:p,source:f,restoredState:m,extras:g}=a,k=new _C(h,this.serializeUrl(p),f,m);r.next(k);const w=p9(p,this.rootComponentType).snapshot;return W(i={...a,targetSnapshot:w,urlAfterRedirects:p,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Qr}),bt(a=>{const l=new Cce(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),re(a=>i={...a,guards:Kce(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function oue(n,e){return Ot(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?W({...t,guardsResult:!0}):function sue(n,e,t,r){return ze(n).pipe(Ot(i=>function hue(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?W(o.map(a=>{const l=ym(a,e,i);return Co(function nue(n){return n&&Gd(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):l(n,e,t,r)).pipe(us())})).pipe(vc()):W(!0)}(i.component,i.route,t,e,r)),us(i=>!0!==i,!0))}(s,r,i,n).pipe(Ot(a=>a&&function Qce(n){return"boolean"==typeof n}(a)?function aue(n,e,t,r){return ze(e).pipe(ds(i=>Fd(function cue(n,e){return null!==n&&e&&e(new Ice(n)),W(!0)}(i.route.parent,r),function lue(n,e){return null!==n&&e&&e(new Rce(n)),W(!0)}(i.route,r),function due(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Zce(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>cC(()=>W(s.guards.map(l=>{const c=ym(l,s.node,t);return Co(function tue(n){return n&&Gd(n.canActivateChild)}(c)?c.canActivateChild(r,n):c(r,n)).pipe(us())})).pipe(vc())));return W(o).pipe(vc())}(n,i.path,t),function uue(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(o=>cC(()=>{const s=ym(o,e,t);return Co(function eue(n){return n&&Gd(n.canActivate)}(s)?s.canActivate(e,n):s(e,n)).pipe(us())}));return W(i).pipe(vc())}(n,i.route,t))),us(i=>!0!==i,!0))}(r,o,n,e):W(a)),re(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),bt(a=>{if(i.guardsResult=a.guardsResult,xa(a.guardsResult))throw g9(0,a.guardsResult);const l=new xce(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),gn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),AC(a=>{if(a.guards.canActivateChecks.length)return W(a).pipe(bt(l=>{const c=new Ece(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Pn(l=>{let c=!1;return W(l).pipe(function Pue(n,e){return Ot(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=0;return ze(i).pipe(ds(s=>function Oue(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!V9(i)&&(o[IC]=i.title),function Nue(n,e,t,r){const i=function Fue(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return W({});const o={};return ze(i).pipe(Ot(s=>function Lue(n,e,t,r){const i=ym(n,e,r);return Co(i.resolve?i.resolve(e,t):i(e,t))}(n[s],e,t,r).pipe(us(),bt(a=>{o[s]=a}))),dC(1),qP(o),Mo(s=>s instanceof pc?Qr:hc(s)))}(o,n,e,r).pipe(re(s=>(n._resolvedData=s,n.data=f9(n,t).resolve,i&&V9(i)&&(n.data[IC]=i.title),null)))}(s.route,r,n,e)),bt(()=>o++),dC(1),Ot(s=>o===i.length?W(t):Qr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),bt({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),bt(l=>{const c=new Tce(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),AC(a=>{const l=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(bt(d=>{c.component=d}),re(()=>{})));for(const d of c.children)u.push(...l(d));return u};return lC(l(a.targetSnapshot.root)).pipe(im(),zn(1))}),AC(()=>this.afterPreactivation()),re(a=>{const l=function Lce(n,e,t){const r=zd(n,e._root,t?t._root:void 0);return new h9(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),bt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>re(r=>(new Wce(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),bt({next(){o=!0},complete(){o=!0}}),om(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Mo(a=>{if(s=!0,k9(a)){v9(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new hm(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),v9(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||q9(i.source)};this.scheduleNavigation(c,"imperative",null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new c9(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Qr}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const a={...o};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const s=this.parseUrl(t.url);this.scheduleNavigation(s,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(TC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),gce(c,this.currentUrlTree,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=xa(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Zue(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new E(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Gue}:!1===r?{...Wue}:r,xa(t))return KP(this.currentUrlTree,t,i);const o=this.parseUrl(t);return KP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ea(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,p)=>{a=h,l=p});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const o=new hm(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){F0()},n.\u0275prov=V({token:n,factory:function(){return z9()},providedIn:"root"}),n})();function q9(n){return"imperative"!==n}let Cm=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.commands=null,this.onChanges=new ke,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:ho(this.skipLocationChange),replaceUrl:ho(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ho(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(_(on),_(_c),Wo("tabindex"),_(ii),_(He))},n.\u0275dir=K({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&je("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[$n]}),n})(),kc=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new ke,this.subscription=t.events.subscribe(o=>{o instanceof Ea&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,o,s){if(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:ho(this.skipLocationChange),replaceUrl:ho(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ho(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(_(on),_(_c),_(aa))},n.\u0275dir=K({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&je("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&_t("target",r.target)("href",r.href,t0)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[$n]}),n})();class U9{}let $9=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(gn(t=>t instanceof Ea),ds(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Pf(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ze(i).pipe(ul())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):W(null);const o=i.pipe(Ot(s=>null===s?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?ze([o,this.loader.loadComponent(r)]).pipe(ul()):o})}}return n.\u0275fac=function(t){return new(t||n)(C(on),C(P_),C(Ko),C(U9),C(OC))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const G9=new P("");let Que=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _C?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ea&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof u9&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new u9(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){F0()},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const W9=new P("ROUTER_FORROOT_GUARD"),K9=new P(""),Jue=[Gf,{provide:QP,useClass:JP},{provide:on,useFactory:z9},qd,{provide:_c,useFactory:function ede(n){return n.routerState.root},deps:[on]},OC];function tde(){return new _6("Router",on)}let Z9=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Jue,[],Y9(t),{provide:W9,useFactory:ode,deps:[[on,new pt,new Sl]]},{provide:RC,useValue:r||{}},r?.useHash?{provide:aa,useClass:YX}:{provide:aa,useClass:z6},{provide:G9,useFactory:()=>{const n=tt(on),e=tt(fJ),t=tt(RC);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Que(n,e,t)}},r?.preloadingStrategy?hde(r.preloadingStrategy):[],{provide:_6,multi:!0,useFactory:tde},r?.initialNavigation?ade(r):[],[{provide:X9,useFactory:sde},{provide:d6,multi:!0,useExisting:X9}]]}}static forChild(t){return{ngModule:n,providers:[Y9(t)]}}}return n.\u0275fac=function(t){return new(t||n)(C(W9,8))},n.\u0275mod=xe({type:n}),n.\u0275inj=be({}),n})();function ode(n){return"guarded"}function Y9(n){return[{provide:PC,multi:!0,useValue:n}]}function sde(){const n=tt(St);return e=>{const t=n.get(oa);if(e!==t.components[0])return;const r=n.get(on),i=n.get(Q9);1===n.get(NC)&&r.initialNavigation(),n.get(K9,null,J.Optional)?.setUpPreloading(),n.get(G9,null,J.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const X9=new P("");function ade(n){return["disabled"===n.initialNavigation?[{provide:Vf,multi:!0,useFactory:()=>{const n=tt(on);return()=>{n.setUpLocationChangeListener()}}},{provide:NC,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:NC,useValue:0},{provide:Vf,multi:!0,deps:[St],useFactory:n=>{const e=n.get(KX,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(i=>{const o=n.get(on),s=n.get(Q9);(function r(i){n.get(on).events.pipe(gn(s=>s instanceof Ea||s instanceof hm||s instanceof c9),re(s=>s instanceof Ea||s instanceof hm&&(0===s.code||1===s.code)&&null),gn(s=>null!==s),zn(1)).subscribe(()=>{i()})})(()=>{i(!0),t=!0}),o.afterPreactivation=()=>(i(!0),t||s.closed?W(void 0):s),o.initialNavigation()}))}}]:[]]}const Q9=new P("",{factory:()=>new ke}),NC=new P("",{providedIn:"root",factory:()=>1});function hde(n){return[$9,{provide:K9,useExisting:$9},{provide:U9,useExisting:n}]}var B,pde=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pi={},FC=FC||{},ae=pde||self;function xm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Kd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var LC="closure_uid_"+(1e9*Math.random()>>>0),mde=0;function yde(n,e,t){return n.call.apply(n.bind,arguments)}function gde(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function On(n,e,t){return(On=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yde:gde).apply(null,arguments)}function Em(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function sn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function ps(){this.s=this.s,this.o=this.o}ps.prototype.s=!1,ps.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function fde(n){Object.prototype.hasOwnProperty.call(n,LC)&&n[LC]||(n[LC]=++mde)}(this)},ps.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const J9=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function VC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function eO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(xm(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let s=0;s<o;s++)n[i+s]=r[s]}else n.push(r)}}function Nn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Nn.prototype.h=function(){this.defaultPrevented=!0};var vde=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ae.addEventListener("test",()=>{},e),ae.removeEventListener("test",()=>{},e)}catch{}return n}();function Zd(n){return/^[\s\xa0]*$/.test(n)}function Tm(){var n=ae.navigator;return n&&(n=n.userAgent)?n:""}function Vi(n){return-1!=Tm().indexOf(n)}function BC(n){return BC[" "](n),n}BC[" "]=function(){};var jC,n,bde=Vi("Opera"),bc=Vi("Trident")||Vi("MSIE"),tO=Vi("Edge"),HC=tO||bc,nO=Vi("Gecko")&&!(-1!=Tm().toLowerCase().indexOf("webkit")&&!Vi("Edge"))&&!(Vi("Trident")||Vi("MSIE"))&&!Vi("Edge"),wde=-1!=Tm().toLowerCase().indexOf("webkit")&&!Vi("Edge");function rO(){var n=ae.document;return n?n.documentMode:void 0}e:{var zC="",qC=(n=Tm(),nO?/rv:([^\);]+)(\)|;)/.exec(n):tO?/Edge\/([\d\.]+)/.exec(n):bc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):wde?/WebKit\/(\S+)/.exec(n):bde?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(qC&&(zC=qC?qC[1]:""),bc){var UC=rO();if(null!=UC&&UC>parseFloat(zC)){jC=String(UC);break e}}jC=zC}var Mde=ae.document&&bc&&(rO()||parseInt(jC,10))||void 0;function Yd(n,e){if(Nn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(nO){e:{try{BC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Cde[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yd.$.h.call(this)}}sn(Yd,Nn);var Cde={2:"touch",3:"pen",4:"mouse"};Yd.prototype.h=function(){Yd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xd="closure_listenable_"+(1e6*Math.random()|0),xde=0;function Ede(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++xde,this.fa=this.ia=!1}function Sm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function GC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function oO(n){const e={};for(const t in n)e[t]=n[t];return e}const sO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<sO.length;o++)t=sO[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Dm(n){this.src=n,this.g={},this.h=0}function WC(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=J9(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Sm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function KC(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}Dm.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=KC(n,e,r,i);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new Ede(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var ZC="closure_lm_"+(1e6*Math.random()|0),YC={};function lO(n,e,t,r,i){if(r&&r.once)return uO(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)lO(n,e[o],t,r,i);return null}return t=e4(t),n&&n[Xd]?n.O(e,t,Kd(r)?!!r.capture:!!r,i):cO(n,e,t,!1,r,i)}function cO(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=Kd(i)?!!i.capture:!!i,a=QC(n);if(a||(n[ZC]=a=new Dm(n)),(t=a.add(e,t,r,s,o)).proxy)return t;if(r=function Sde(){const e=Dde;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)vde||(i=s),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(hO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function uO(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)uO(n,e[o],t,r,i);return null}return t=e4(t),n&&n[Xd]?n.P(e,t,Kd(r)?!!r.capture:!!r,i):cO(n,e,t,!0,r,i)}function dO(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dO(n,e[o],t,r,i);else r=Kd(r)?!!r.capture:!!r,t=e4(t),n&&n[Xd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=KC(o=n.g[e],t,r,i))&&(Sm(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=QC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=KC(e,t,r,i)),(t=-1<n?e[n]:null)&&XC(t))}function XC(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Xd])WC(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(hO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=QC(e))?(WC(t,n),0==t.h&&(t.src=null,e[ZC]=null)):Sm(n)}}}function hO(n){return n in YC?YC[n]:YC[n]="on"+n}function Dde(n,e){if(n.fa)n=!0;else{e=new Yd(e,this);var t=n.listener,r=n.la||n.src;n.ia&&XC(n),n=t.call(r,e)}return n}function QC(n){return(n=n[ZC])instanceof Dm?n:null}var JC="__closure_events_fn_"+(1e9*Math.random()>>>0);function e4(n){return"function"==typeof n?n:(n[JC]||(n[JC]=function(e){return n.handleEvent(e)}),n[JC])}function an(){ps.call(this),this.i=new Dm(this),this.S=this,this.J=null}function vn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Nn(e,n);else if(e instanceof Nn)e.target=e.target||n;else{var i=e;aO(e=new Nn(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=Im(s,r,!0,e)&&i}if(i=Im(s=e.g=n,r,!0,e)&&i,i=Im(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Im(s=e.g=t[o],r,!1,e)&&i}function Im(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&WC(n.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}sn(an,ps),an.prototype[Xd]=!0,an.prototype.removeEventListener=function(n,e,t,r){dO(this,n,e,t,r)},an.prototype.N=function(){if(an.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Sm(t[r]);delete n.g[e],n.h--}}this.J=null},an.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},an.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var t4=ae.JSON.stringify;function Ade(){var n=n4;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var pO=new class Ide{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Pde,n=>n.reset());class Pde{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ode(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Nde(n){ae.setTimeout(()=>{throw n},0)}let Qd,Jd=!1,n4=new class Rde{constructor(){this.h=this.g=null}add(e,t){const r=pO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},fO=()=>{const n=ae.Promise.resolve(void 0);Qd=()=>{n.then(Fde)}};var Fde=()=>{for(var n;n=Ade();){try{n.h.call(n.g)}catch(t){Nde(t)}var e=pO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Jd=!1};function Am(n,e){an.call(this),this.h=n||1,this.g=e||ae,this.j=On(this.qb,this),this.l=Date.now()}function r4(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function o4(n,e,t){if("function"==typeof n)t&&(n=On(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=On(n.handleEvent,n)}return 2147483647<Number(e)?-1:ae.setTimeout(n,e||0)}function mO(n){n.g=o4(()=>{n.g=null,n.i&&(n.i=!1,mO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}sn(Am,an),(B=Am.prototype).ga=!1,B.T=null,B.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vn(this,"tick"),this.ga&&(r4(this),this.start()))}},B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},B.N=function(){Am.$.N.call(this),r4(this),delete this.g};class Lde extends ps{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mO(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eh(n){ps.call(this),this.h=n,this.g={}}sn(eh,ps);var yO=[];function gO(n,e,t,r){Array.isArray(t)||(t&&(yO[0]=t.toString()),t=yO);for(var i=0;i<t.length;i++){var o=lO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function _O(n){GC(n.g,function(e,t){this.g.hasOwnProperty(t)&&XC(e)},n),n.g={}}function Rm(){this.g=!0}function wc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function jde(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return t4(t)}catch{return e}}(n,t)+(r?" "+r:"")})}eh.prototype.N=function(){eh.$.N.call(this),_O(this)},eh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rm.prototype.Ea=function(){this.g=!1},Rm.prototype.info=function(){};var Ta={},vO=null;function Pm(){return vO=vO||new an}function kO(n){Nn.call(this,Ta.Ta,n)}function th(n){const e=Pm();vn(e,new kO(e))}function bO(n,e){Nn.call(this,Ta.STAT_EVENT,n),this.stat=e}function tr(n){const e=Pm();vn(e,new bO(e,n))}function wO(n,e){Nn.call(this,Ta.Ua,n),this.size=e}function nh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){n()},e)}Ta.Ta="serverreachability",sn(kO,Nn),Ta.STAT_EVENT="statevent",sn(bO,Nn),Ta.Ua="timingevent",sn(wO,Nn);var Om={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},MO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function s4(){}function xO(){}s4.prototype.h=null;var c4,rh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function a4(){Nn.call(this,"d")}function l4(){Nn.call(this,"c")}function Nm(){}function ih(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new eh(this),this.P=zde,this.V=new Am(n=HC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new EO}function EO(){this.i=null,this.g="",this.h=!1}sn(a4,Nn),sn(l4,Nn),sn(Nm,s4),Nm.prototype.g=function(){return new XMLHttpRequest},Nm.prototype.i=function(){return{}},c4=new Nm;var zde=45e3,u4={},Fm={};function d4(n,e,t){n.L=1,n.v=Hm(To(e)),n.s=t,n.S=!0,TO(n,null)}function TO(n,e){n.G=Date.now(),oh(n),n.A=To(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),LO(t.i,"t",r),n.C=0,t=n.l.J,n.h=new EO,n.g=aN(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Lde(On(n.Pa,n,n.g),n.O)),gO(n.U,n.g,"readystatechange",n.nb),e=n.I?oO(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),th(),function Vde(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function SO(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function DO(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=qde(n,t),i==Fm){4==e&&(n.o=4,tr(14),r=!1),wc(n.j,n.m,null,"[Incomplete Response]");break}if(i==u4){n.o=4,tr(15),wc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}wc(n.j,n.m,i,null),h4(n,i)}SO(n)&&i!=Fm&&i!=u4&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,tr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),v4(e),e.M=!0,tr(11))):(wc(n.j,n.m,t,"[Invalid Chunked Response]"),Sa(n),sh(n))}function qde(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Fm:(t=Number(e.substring(t,r)),isNaN(t)?u4:(r+=1)+t>e.length?Fm:(e=e.slice(r,r+t),n.C=r+t,e))}function oh(n){n.Y=Date.now()+n.P,IO(n,n.P)}function IO(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=nh(On(n.lb,n),e)}function Lm(n){n.B&&(ae.clearTimeout(n.B),n.B=null)}function sh(n){0==n.l.H||n.J||rN(n.l,n)}function Sa(n){Lm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,r4(n.V),_O(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function h4(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||p4(t.i,n)))if(!n.K&&p4(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Gm(t),Um(t)}_4(t),tr(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=nh(On(t.ib,t),6e3));if(1>=HO(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ia(t,11)}else if((n.K||t.g==n)&&Gm(t),!Zd(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const p=n.g;if(p){const f=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var o=r.i;o.g||-1==f.indexOf("spdy")&&-1==f.indexOf("quic")&&-1==f.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(f4(o,o.h),o.h=null))}if(r.F){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,lt(r.I,r.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((r=t).wa=sN(r,r.J?r.pa:null,r.Y),s.K){jO(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(Lm(a),oh(a)),r.g=s}else tN(r);0<t.j.length&&$m(t)}else"stop"!=c[0]&&"close"!=c[0]||Ia(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ia(t,7):g4(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}th()}catch{}}function AO(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(xm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function $de(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(xm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Ude(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(xm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(B=ih.prototype).setTimeout=function(n){this.P=n},B.nb=function(n){n=n.target;const e=this.M;e&&3==Bi(n)?e.l():this.Pa(n)},B.Pa=function(n){try{if(n==this.g)e:{const u=Bi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||HC||this.g&&(this.h.h||this.g.ja()||ZO(this.g)))){this.J||4!=u||7==e||th(),Lm(this);var t=this.g.da();this.ca=t;t:if(SO(this)){var r=ZO(this.g);n="";var i=r.length,o=4==Bi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Sa(this),sh(this);var s="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function Bde(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zd(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,tr(12),Sa(this),sh(this);break e}wc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,h4(this,t)}this.S?(DO(this,u,s),HC&&this.i&&3==u&&(gO(this.U,this.V,"tick",this.mb),this.V.start())):(wc(this.j,this.m,s,null),h4(this,s)),4==u&&Sa(this),this.i&&!this.J&&(4==u?rN(this.l,this):(this.i=!1,oh(this)))}else(function che(n){const e={};n=(n.g&&2<=Bi(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Zd(n[r]))continue;var t=Ode(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function Tde(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,tr(12)):(this.o=0,tr(13)),Sa(this),sh(this)}}}catch{}},B.mb=function(){if(this.g){var n=Bi(this.g),e=this.g.ja();this.C<e.length&&(Lm(this),DO(this,n,e),this.i&&4!=n&&oh(this))}},B.cancel=function(){this.J=!0,Sa(this)},B.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Hde(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(th(),tr(17)),Sa(this),this.o=2,sh(this)):IO(this,this.Y-n)};var RO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Da){this.h=n.h,Vm(this,n.j),this.s=n.s,this.g=n.g,Bm(this,n.m),this.l=n.l;var e=n.i,t=new ch;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),PO(this,t),this.o=n.o}else n&&(e=String(n).match(RO))?(this.h=!1,Vm(this,e[1]||"",!0),this.s=ah(e[2]||""),this.g=ah(e[3]||"",!0),Bm(this,e[4]),this.l=ah(e[5]||"",!0),PO(this,e[6]||"",!0),this.o=ah(e[7]||"")):(this.h=!1,this.i=new ch(null,this.h))}function To(n){return new Da(n)}function Vm(n,e,t){n.j=t?ah(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Bm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function PO(n,e,t){e instanceof ch?(n.i=e,function Qde(n,e){e&&!n.j&&(fs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(NO(this,r),LO(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=lh(e,Yde)),n.i=new ch(e,n.h))}function lt(n,e,t){n.i.set(e,t)}function Hm(n){return lt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ah(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function lh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Wde),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Wde(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Da.prototype.toString=function(){var n=[],e=this.j;e&&n.push(lh(e,OO,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(lh(e,OO,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(lh(t,"/"==t.charAt(0)?Zde:Kde,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",lh(t,Xde)),n.join("")};var OO=/[#\/\?@]/g,Kde=/[#\?:]/g,Zde=/[#\?]/g,Yde=/[#\?@]/g,Xde=/#/g;function ch(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fs(n){n.g||(n.g=new Map,n.h=0,n.i&&function Gde(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function NO(n,e){fs(n),e=Mc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function FO(n,e){return fs(n),e=Mc(n,e),n.g.has(e)}function LO(n,e,t){NO(n,e),0<t.length&&(n.i=null,n.g.set(Mc(n,e),VC(t)),n.h+=t.length)}function Mc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function VO(n){this.l=n||ehe,n=ae.PerformanceNavigationTiming?0<(n=ae.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(B=ch.prototype).add=function(n,e){fs(this),this.i=null,n=Mc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},B.forEach=function(n,e){fs(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},B.ta=function(){fs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},B.Z=function(n){fs(this);let e=[];if("string"==typeof n)FO(this,n)&&(e=e.concat(this.g.get(Mc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},B.set=function(n,e){return fs(this),this.i=null,FO(this,n=Mc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},B.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),n.push(i)}}return this.i=n.join("&")};var ehe=10;function BO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function HO(n){return n.h?1:n.g?n.g.size:0}function p4(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function f4(n,e){n.g?n.g.add(e):n.h=e}function jO(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function zO(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return VC(n.i)}function nhe(){this.g=new class{stringify(n){return ae.JSON.stringify(n,void 0)}parse(n){return ae.JSON.parse(n,void 0)}}}function rhe(n,e,t){const r=t||"";try{AO(n,function(i,o){let s=i;Kd(i)&&(s=t4(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function jm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function uh(n){this.l=n.fc||null,this.j=n.ob||!1}function zm(n,e){an.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=m4,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}VO.prototype.cancel=function(){if(this.i=zO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},sn(uh,s4),uh.prototype.g=function(){return new zm(this.l,this.j)},uh.prototype.i=function(n){return function(){return n}}({}),sn(zm,an);var m4=0;function qO(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function dh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,hh(n)}function hh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(B=zm.prototype).open=function(n,e){if(this.readyState!=m4)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,hh(this)},B.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dh(this)),this.readyState=m4},B.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,hh(this)),this.g&&(this.readyState=3,hh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qO(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},B.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dh(this):hh(this),3==this.readyState&&qO(this)}},B.Za=function(n){this.g&&(this.response=this.responseText=n,dh(this))},B.Ya=function(n){this.g&&(this.response=n,dh(this))},B.ka=function(){this.g&&dh(this)},B.setRequestHeader=function(n,e){this.v.append(n,e)},B.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},B.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(zm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ohe=ae.JSON.parse;function Rt(n){an.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=UO,this.L=this.M=!1}sn(Rt,an);var UO="",she=/^https?$/i,ahe=["POST","PUT"];function $O(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,GO(n),qm(n)}function GO(n){n.F||(n.F=!0,vn(n,"complete"),vn(n,"error"))}function WO(n){if(n.h&&typeof FC<"u"&&(!n.C[1]||4!=Bi(n)||2!=n.da()))if(n.v&&4==Bi(n))o4(n.La,0,n);else if(vn(n,"readystatechange"),4==Bi(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===s){var i=String(n.I).match(RO)[1]||null;!i&&ae.self&&ae.self.location&&(i=ae.self.location.protocol.slice(0,-1)),r=!she.test(i?i.toLowerCase():"")}t=r}if(t)vn(n,"complete"),vn(n,"success");else{n.m=6;try{var o=2<Bi(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",GO(n)}}finally{qm(n)}}}function qm(n,e){if(n.g){KO(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||vn(n,"ready");try{t.onreadystatechange=r}catch{}}}function KO(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ae.clearTimeout(n.A),n.A=null)}function Bi(n){return n.g?n.g.readyState:0}function ZO(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case UO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function YO(n){let e="";return GC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function y4(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=YO(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):lt(n,e,t))}function ph(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function XO(n){this.Ga=0,this.j=[],this.l=new Rm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ph("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ph("baseRetryDelayMs",5e3,n),this.hb=ph("retryDelaySeedMs",1e4,n),this.eb=ph("forwardChannelMaxRetries",2,n),this.xa=ph("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new VO(n&&n.concurrentRequestLimit),this.Ja=new nhe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function g4(n){if(QO(n),3==n.H){var e=n.W++,t=To(n.I);if(lt(t,"SID",n.K),lt(t,"RID",e),lt(t,"TYPE","terminate"),fh(n,t),(e=new ih(n,n.l,e)).L=2,e.v=Hm(To(t)),t=!1,ae.navigator&&ae.navigator.sendBeacon)try{t=ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ae.Image&&((new Image).src=e.v,t=!0),t||(e.g=aN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),oh(e)}oN(n)}function Um(n){n.g&&(v4(n),n.g.cancel(),n.g=null)}function QO(n){Um(n),n.u&&(ae.clearTimeout(n.u),n.u=null),Gm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ae.clearTimeout(n.m),n.m=null)}function $m(n){if(!BO(n.i)&&!n.m){n.m=!0;var e=n.Na;Qd||fO(),Jd||(Qd(),Jd=!0),n4.add(e,n),n.C=0}}function JO(n,e){var t;t=e?e.m:n.W++;const r=To(n.I);lt(r,"SID",n.K),lt(r,"RID",t),lt(r,"AID",n.V),fh(n,r),n.o&&n.s&&y4(r,n.o,n.s),t=new ih(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=eN(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),f4(n.i,t),d4(t,r,e)}function fh(n,e){n.na&&GC(n.na,function(t,r){lt(e,r,t)}),n.h&&AO({},function(t,r){lt(e,r,t)})}function eN(n,e,t){t=Math.min(n.j.length,t);var r=n.h?On(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const u=i[l].map;if(c-=o,0>c)o=Math.max(0,i[l].g-100),a=!1;else try{rhe(u,s,"req"+c+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function tN(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Qd||fO(),Jd||(Qd(),Jd=!0),n4.add(e,n),n.A=0}}function _4(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=nh(On(n.Ma,n),iN(n,n.A)),n.A++,0))}function v4(n){null!=n.B&&(ae.clearTimeout(n.B),n.B=null)}function nN(n){n.g=new ih(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=To(n.wa);lt(e,"RID","rpc"),lt(e,"SID",n.K),lt(e,"AID",n.V),lt(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&lt(e,"TO",n.qa),lt(e,"TYPE","xmlhttp"),fh(n,e),n.o&&n.s&&y4(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Hm(To(e)),t.s=null,t.S=!0,TO(t,n)}function Gm(n){null!=n.v&&(ae.clearTimeout(n.v),n.v=null)}function rN(n,e){var t=null;if(n.g==e){Gm(n),v4(n),n.g=null;var r=2}else{if(!p4(n.i,e))return;t=e.F,jO(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;vn(r=Pm(),new wO(r,t)),$m(n)}else tN(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function uhe(n,e){return!(HO(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=nh(On(n.Na,n,e),iN(n,n.C)),n.C++,0)))}(n,e)||2==r&&_4(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ia(n,5);break;case 4:Ia(n,10);break;case 3:Ia(n,6);break;default:Ia(n,2)}}function iN(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ia(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=On(n.pb,n);t||(t=new Da("//www.google.com/images/cleardot.gif"),ae.location&&"http"==ae.location.protocol||Vm(t,"https"),Hm(t)),function ihe(n,e){const t=new Rm;if(ae.Image){const r=new Image;r.onload=Em(jm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Em(jm,t,r,"TestLoadImage: error",!1,e),r.onabort=Em(jm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Em(jm,t,r,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else tr(2);n.H=0,n.h&&n.h.za(e),oN(n),QO(n)}function oN(n){if(n.H=0,n.ma=[],n.h){const e=zO(n.i);(0!=e.length||0!=n.j.length)&&(eO(n.ma,e),eO(n.ma,n.j),n.i.i.length=0,VC(n.j),n.j.length=0),n.h.ya()}}function sN(n,e,t){var r=t instanceof Da?To(t):new Da(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Bm(r,r.m);else{var i=ae.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Da(null);r&&Vm(o,r),e&&(o.g=e),i&&Bm(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&lt(r,t,e),lt(r,"VER",n.ra),fh(n,r),r}function aN(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rt(t&&n.Ha&&!n.va?new uh({ob:!0}):n.va)).Oa(n.J),e}function lN(){}function Wm(){if(bc&&!(10<=Number(Mde)))throw Error("Environmental error: no available transport.")}function Ir(n,e){an.call(this),this.g=new XO(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Zd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Cc(this)}function cN(n){a4.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function uN(){l4.call(this),this.status=1}function Cc(n){this.g=n}function fi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function k4(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;s=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Ge(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(B=Rt.prototype).Oa=function(n){this.M=n},B.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():c4.g(),this.C=function CO(n){return n.h||(n.h=n.i())}(this.u?this.u:c4),this.g.onreadystatechange=On(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void $O(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=ae.FormData&&n instanceof ae.FormData,!(0<=J9(ahe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KO(this),0<this.B&&((this.L=function lhe(n){return bc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=On(this.ua,this)):this.A=o4(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){$O(this,o)}},B.ua=function(){typeof FC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vn(this,"timeout"),this.abort(8))},B.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,vn(this,"complete"),vn(this,"abort"),qm(this))},B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qm(this,!0)),Rt.$.N.call(this)},B.La=function(){this.s||(this.G||this.v||this.l?WO(this):this.kb())},B.kb=function(){WO(this)},B.isActive=function(){return!!this.g},B.da=function(){try{return 2<Bi(this)?this.g.status:-1}catch{return-1}},B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},B.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ohe(e)}},B.Ia=function(){return this.m},B.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(B=XO.prototype).ra=8,B.H=1,B.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new ih(this,this.l,n);let o=this.s;if(this.U&&(o?(o=oO(o),aO(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eN(this,i,e),lt(t=To(this.I),"RID",n),lt(t,"CVER",22),this.F&&lt(t,"X-HTTP-Session-Id",this.F),fh(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(YO(o)))+"&"+e:this.o&&y4(t,this.o,o)),f4(this.i,i),this.bb&&lt(t,"TYPE","init"),this.P?(lt(t,"$req",e),lt(t,"SID","null"),i.aa=!0,d4(i,t,null)):d4(i,t,e),this.H=2}}else 3==this.H&&(n?JO(this,n):0==this.j.length||BO(this.i)||JO(this))},B.Ma=function(){if(this.u=null,nN(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=nh(On(this.jb,this),n)}},B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tr(10),Um(this),nN(this))},B.ib=function(){null!=this.v&&(this.v=null,Um(this),_4(this),tr(19))},B.pb=function(n){n?(this.l.info("Successfully pinged google.com"),tr(2)):(this.l.info("Failed to ping google.com"),tr(1))},B.isActive=function(){return!!this.h&&this.h.isActive(this)},(B=lN.prototype).Ba=function(){},B.Aa=function(){},B.za=function(){},B.ya=function(){},B.isActive=function(){return!0},B.Va=function(){},Wm.prototype.g=function(n,e){return new Ir(n,e)},sn(Ir,an),Ir.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;tr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=sN(n,null,n.Y),$m(n)},Ir.prototype.close=function(){g4(this.g)},Ir.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=t4(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&$m(e)},Ir.prototype.N=function(){this.g.h=null,delete this.j,g4(this.g),delete this.g,Ir.$.N.call(this)},sn(cN,a4),sn(uN,l4),sn(Cc,lN),Cc.prototype.Ba=function(){vn(this.g,"a")},Cc.prototype.Aa=function(n){vn(this.g,new cN(n))},Cc.prototype.za=function(n){vn(this.g,new uN)},Cc.prototype.ya=function(){vn(this.g,"b")},sn(fi,function dhe(){this.blockSize=-1}),fi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},fi.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)k4(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){k4(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){k4(this,r),i=0;break}}this.h=i,this.i+=e},fi.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var hhe={};function b4(n){return-128<=n&&128>n?function kde(n,e){var t=hhe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ge([0|e],0>e?-1:0)}):new Ge([0|n],0>n?-1:0)}function Hi(n){if(isNaN(n)||!isFinite(n))return xc;if(0>n)return kn(Hi(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=w4;return new Ge(e,0)}var w4=4294967296,xc=b4(0),M4=b4(1),hN=b4(16777216);function So(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Kr(n){return-1==n.h}function kn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ge(t,~n.h).add(M4)}function Km(n,e){return n.add(kn(e))}function Zm(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function mh(n,e){this.g=n,this.h=e}function Ym(n,e){if(So(e))throw Error("division by zero");if(So(n))return new mh(xc,xc);if(Kr(n))return e=Ym(kn(n),e),new mh(kn(e.g),kn(e.h));if(Kr(e))return e=Ym(n,kn(e)),new mh(kn(e.g),e.h);if(30<n.g.length){if(Kr(n)||Kr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=M4,r=e;0>=r.X(n);)t=pN(t),r=pN(r);var i=Ec(t,1),o=Ec(r,1);for(r=Ec(r,2),t=Ec(t,2);!So(r);){var s=o.add(r);0>=s.X(n)&&(i=i.add(t),o=s),r=Ec(r,1),t=Ec(t,1)}return e=Km(n,i.R(e)),new mh(i,e)}for(i=xc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),s=(o=Hi(t)).R(e);Kr(s)||0<s.X(n);)s=(o=Hi(t-=r)).R(e);So(o)&&(o=M4),i=i.add(o),n=Km(n,s)}return new mh(i,n)}function pN(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ge(t,n.h)}function Ec(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Ge(i,n.h)}(B=Ge.prototype).ea=function(){if(Kr(this))return-kn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:w4+r)*e,e*=w4}return n},B.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(So(this))return"0";if(Kr(this))return"-"+kn(this).toString(n);for(var e=Hi(Math.pow(n,6)),t=this,r="";;){var i=Ym(t,e).g,o=((0<(t=Km(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(So(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},B.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},B.X=function(n){return Kr(n=Km(this,n))?-1:So(n)?0:1},B.abs=function(){return Kr(this)?kn(this):this},B.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=s>>>16,t[i]=(s&=65535)<<16|(o&=65535)}return new Ge(t,-2147483648&t[t.length-1]?-1:0)},B.R=function(n){if(So(this)||So(n))return xc;if(Kr(this))return Kr(n)?kn(this).R(kn(n)):kn(kn(this).R(n));if(Kr(n))return kn(this.R(kn(n)));if(0>this.X(hN)&&0>n.X(hN))return Hi(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=s*l,Zm(t,2*r+2*i),t[2*r+2*i+1]+=o*l,Zm(t,2*r+2*i+1),t[2*r+2*i+1]+=s*a,Zm(t,2*r+2*i+1),t[2*r+2*i+2]+=o*a,Zm(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ge(t,0)},B.gb=function(n){return Ym(this,n).h},B.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ge(t,this.h&n.h)},B.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ge(t,this.h|n.h)},B.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ge(t,this.h^n.h)},Wm.prototype.createWebChannel=Wm.prototype.g,Ir.prototype.send=Ir.prototype.u,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,Om.NO_ERROR=0,Om.TIMEOUT=8,Om.HTTP_ERROR=6,MO.COMPLETE="complete",xO.EventType=rh,rh.OPEN="a",rh.CLOSE="b",rh.ERROR="c",rh.MESSAGE="d",an.prototype.listen=an.prototype.O,Rt.prototype.listenOnce=Rt.prototype.P,Rt.prototype.getLastError=Rt.prototype.Sa,Rt.prototype.getLastErrorCode=Rt.prototype.Ia,Rt.prototype.getStatus=Rt.prototype.da,Rt.prototype.getResponseJson=Rt.prototype.Wa,Rt.prototype.getResponseText=Rt.prototype.ja,Rt.prototype.send=Rt.prototype.ha,Rt.prototype.setWithCredentials=Rt.prototype.Oa,fi.prototype.digest=fi.prototype.l,fi.prototype.reset=fi.prototype.reset,fi.prototype.update=fi.prototype.j,Ge.prototype.add=Ge.prototype.add,Ge.prototype.multiply=Ge.prototype.R,Ge.prototype.modulo=Ge.prototype.gb,Ge.prototype.compare=Ge.prototype.X,Ge.prototype.toNumber=Ge.prototype.ea,Ge.prototype.toString=Ge.prototype.toString,Ge.prototype.getBits=Ge.prototype.D,Ge.fromNumber=Hi,Ge.fromString=function dN(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return kn(dN(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Hi(Math.pow(e,8)),r=xc,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),s=parseInt(n.substring(i,i+o),e);8>o?(o=Hi(Math.pow(e,o)),r=r.R(o).add(Hi(s))):r=(r=r.R(t)).add(Hi(s))}return r};var phe=pi.createWebChannelTransport=function(){return new Wm},fhe=pi.getStatEventTarget=function(){return Pm()},C4=pi.ErrorCode=Om,mhe=pi.EventType=MO,yhe=pi.Event=Ta,fN=pi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ghe=pi.FetchXmlHttpFactory=uh,Xm=pi.WebChannel=xO,_he=pi.XhrIo=Rt,vhe=pi.Md5=fi,Tc=pi.Integer=Ge;const mN="@firebase/firestore";class ln{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let Sc="9.23.0";const ms=new rc("@firebase/firestore");function x4(){return ms.logLevel}function A(n,...e){if(ms.logLevel<=Te.DEBUG){const t=e.map(E4);ms.debug(`Firestore (${Sc}): ${n}`,...t)}}function Ft(n,...e){if(ms.logLevel<=Te.ERROR){const t=e.map(E4);ms.error(`Firestore (${Sc}): ${n}`,...t)}}function mi(n,...e){if(ms.logLevel<=Te.WARN){const t=e.map(E4);ms.warn(`Firestore (${Sc}): ${n}`,...t)}}function E4(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${Sc}) INTERNAL ASSERTION FAILED: `+n;throw Ft(e),new Error(e)}function Z(n,e){n||$()}function F(n,e){return n}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class yN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class khe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class bhe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class whe{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new Xt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(y(function*(){yield c.promise,yield o(r.currentUser)}))},l=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z("string"==typeof r.accessToken),new yN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(null===e||"string"==typeof e),new ln(e)}}class Mhe{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Che{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Mhe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xhe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=o=>{null!=o.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,A("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Z("string"==typeof t.token),this.T=t.token,new gN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ehe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class _N{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Ehe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function oe(n,e){return n<e?-1:n>e?1:0}function Dc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Mt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new S(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new S(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new S(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Mt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Mt(0,0))}static max(){return new Y(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yh{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===yh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ie extends yh{construct(e,t,r){return new Ie(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ie(t)}static emptyPath(){return new Ie([])}}const The=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends yh{construct(e,t,r){return new Lt(e,t,r)}static isValidIdentifier(e){return The.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new S(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new S(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new S(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(t)}static emptyPath(){return new Lt([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(Ie.fromString(e))}static fromName(e){return new N(Ie.fromString(e).popFirst(5))}static empty(){return new N(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ie.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ie.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new Ie(e.slice()))}}function bN(n){return new Ar(n.readTime,n.key,-1)}class Ar{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ar(Y.min(),N.empty(),-1)}static max(){return new Ar(Y.max(),N.empty(),-1)}}function S4(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=N.comparator(n.documentKey,e.documentKey),0!==t?t:oe(n.largestBatchId,e.largestBatchId))}const wN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function ys(n){return D4.apply(this,arguments)}function D4(){return D4=y(function*(n){if(n.code!==M.FAILED_PRECONDITION||n.message!==wN)throw n;A("LocalStore","Unexpectedly lost primary lease")}),D4.apply(this,arguments)}class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof b?t:b.resolve(t)}catch(t){return b.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):b.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):b.reject(t)}static resolve(e){return new b((t,r)=>{t(e)})}static reject(e){return new b((t,r)=>{r(e)})}static waitFor(e){return new b((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=b.resolve(!1);for(const r of e)t=t.next(i=>i?b.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new b((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new b((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function gs(n){return"IndexedDbTransactionError"===n.name}let Rr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function vh(n){return null==n}function kh(n){return 0===n&&1/n==-1/0}function AN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _s(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function RN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rt{constructor(e,t){this.comparator=e,this.root=t||bn.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ny(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ny(this.root,e,this.comparator,!1)}getReverseIterator(){return new ny(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ny(this.root,e,this.comparator,!0)}}class ny{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??bn.RED,this.left=i??bn.EMPTY,this.right=o??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new bn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return bn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1,bn.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(n,e,t,r,i){return this}insert(n,e,t){return new bn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ct{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new PN(this.data.getIterator())}getIteratorFrom(e){return new PN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ct(this.comparator);return t.data=e,t}}class PN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mr{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new mr([])}unionWith(e){let t=new ct(Lt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Dc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ON extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ON("Invalid base64 string: "+i):i}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const Jhe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(n){if(Z(!!n),"string"==typeof n){let e=0;const t=Jhe.exec(n);if(Z(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(n.seconds),nanos:Pt(n.nanos)}}function Pt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Do(n){return"string"==typeof n?Qt.fromBase64String(n):Qt.fromUint8Array(n)}function ry(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function iy(n){const e=n.mapValue.fields.__previous_value__;return ry(e)?iy(e):e}function bh(n){const e=vs(n.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}class epe{constructor(e,t,r,i,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Pa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Pa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Pa&&e.projectId===this.projectId&&e.database===this.database}}const ks_mapValue={fields:{__type__:{stringValue:"__max__"}}};function bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ry(n)?4:VN(n)?9007199254740991:10:$()}function zi(n,e){if(n===e)return!0;const t=bs(n);if(t!==bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bh(n).isEqual(bh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=vs(r.timestampValue),s=vs(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Do(n.bytesValue).isEqual(Do(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Pt(r.geoPointValue.latitude)===Pt(i.geoPointValue.latitude)&&Pt(r.geoPointValue.longitude)===Pt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pt(r.integerValue)===Pt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Pt(r.doubleValue),s=Pt(i.doubleValue);return o===s?kh(o)===kh(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return Dc(n.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(AN(o)!==AN(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!zi(o[a],s[a])))return!1;return!0}(n,e);default:return $()}var i}function wh(n,e){return void 0!==(n.values||[]).find(t=>zi(t,e))}function ws(n,e){if(n===e)return 0;const t=bs(n),r=bs(e);if(t!==r)return oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return oe(n.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Pt(i.integerValue||i.doubleValue),a=Pt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return NN(n.timestampValue,e.timestampValue);case 4:return NN(bh(n),bh(e));case 5:return oe(n.stringValue,e.stringValue);case 6:return function(i,o){const s=Do(i),a=Do(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const c=oe(s[l],a[l]);if(0!==c)return c}return oe(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const s=oe(Pt(i.latitude),Pt(o.latitude));return 0!==s?s:oe(Pt(i.longitude),Pt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const c=ws(s[l],a[l]);if(c)return c}return oe(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===ks_mapValue&&o===ks_mapValue)return 0;if(i===ks_mapValue)return 1;if(o===ks_mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=oe(a[u],c[u]);if(0!==d)return d;const h=ws(s[a[u]],l[c[u]]);if(0!==h)return h}return oe(a.length,c.length)}(n.mapValue,e.mapValue);default:throw $()}}function NN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return oe(n,e);const t=vs(n),r=vs(e),i=oe(t.seconds,r.seconds);return 0!==i?i:oe(t.nanos,r.nanos)}function Ac(n){return R4(n)}function R4(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=vs(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Do(n.bytesValue).toBase64():"referenceValue"in n?N.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=R4(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${R4(r.fields[a])}`;return o+"}"}(n.mapValue):$();var e}function P4(n){return!!n&&"integerValue"in n}function Mh(n){return!!n&&"arrayValue"in n}function FN(n){return!!n&&"nullValue"in n}function LN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ay(n){return!!n&&"mapValue"in n}function Ch(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return _s(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ch(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ch(n.arrayValue.values[t]);return e}return Object.assign({},n)}function VN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ay(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ch(t)}setAll(e){let t=Lt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Ch(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());ay(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ay(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){_s(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wn(Ch(this.value))}}function jN(n){const e=[];return _s(n.fields,(t,r)=>{const i=new Lt([t]);if(ay(r)){const o=jN(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new mr(e)}class ut{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ut(e,0,Y.min(),Y.min(),Y.min(),wn.empty(),0)}static newFoundDocument(e,t,r,i){return new ut(e,1,t,Y.min(),r,i,0)}static newNoDocument(e,t){return new ut(e,2,t,Y.min(),Y.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new ut(e,3,t,Y.min(),Y.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Y.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ms{constructor(e,t){this.position=e,this.inclusive=t}}function zN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?N.comparator(N.fromName(s.referenceValue),t.key):ws(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function qN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zi(n.position[t],e.position[t]))return!1;return!0}class Rc{constructor(e,t="asc"){this.field=e,this.dir=t}}function rpe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class UN{}class Ee extends UN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ipe(e,t,r):"array-contains"===t?new ape(e,r):"in"===t?new YN(e,r):"not-in"===t?new lpe(e,r):"array-contains-any"===t?new cpe(e,r):new Ee(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ope(e,r):new spe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ws(t,this.value)):null!==t&&bs(this.value)===bs(t)&&this.matchesComparison(ws(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class We extends UN{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new We(e,t)}matches(e){return Pc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Pc(n){return"and"===n.op}function N4(n){return function $N(n){for(const e of n.filters)if(e instanceof We)return!1;return!0}(n)&&Pc(n)}function F4(n){if(n instanceof Ee)return n.field.canonicalString()+n.op.toString()+Ac(n.value);if(N4(n))return n.filters.map(e=>F4(e)).join(",");{const e=n.filters.map(t=>F4(t)).join(",");return`${n.op}(${e})`}}function GN(n,e){return n instanceof Ee?(t=n,(r=e)instanceof Ee&&t.op===r.op&&t.field.isEqual(r.field)&&zi(t.value,r.value)):n instanceof We?function(t,r){return r instanceof We&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,s)=>i&&GN(o,r.filters[s]),!0)}(n,e):void $();var t,r}function KN(n){return n instanceof Ee?`${(e=n).field.canonicalString()} ${e.op} ${Ac(e.value)}`:n instanceof We?function(e){return e.op.toString()+" {"+e.getFilters().map(KN).join(" ,")+"}"}(n):"Filter";var e}class ipe extends Ee{constructor(e,t,r){super(e,t,r),this.key=N.fromName(r.referenceValue)}matches(e){const t=N.comparator(e.key,this.key);return this.matchesComparison(t)}}class ope extends Ee{constructor(e,t){super(e,"in",t),this.keys=ZN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class spe extends Ee{constructor(e,t){super(e,"not-in",t),this.keys=ZN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>N.fromName(r.referenceValue))}class ape extends Ee{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mh(t)&&wh(t.arrayValue,this.value)}}class YN extends Ee{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wh(this.value.arrayValue,t)}}class lpe extends Ee{constructor(e,t){super(e,"not-in",t)}matches(e){if(wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wh(this.value.arrayValue,t)}}class cpe extends Ee{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wh(this.value.arrayValue,r))}}class upe{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function L4(n,e=null,t=[],r=[],i=null,o=null,s=null){return new upe(n,e,t,r,i,o,s)}function Na(n){const e=F(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>F4(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ac(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ac(r)).join(",")),e.dt=t}return e.dt}function xh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rpe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!GN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qN(n.startAt,e.startAt)&&qN(n.endAt,e.endAt)}function ly(n){return N.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Io{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.wt=null,this._t=null}}function Oc(n){return new Io(n)}function eF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Fa(n){const e=F(n);if(null===e.wt){e.wt=[];const t=function uy(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function V4(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Rc(t)),e.wt.push(new Rc(Lt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Rc(Lt.keyField(),o))}}}return e.wt}function nr(n){const e=F(n);if(!e._t)if("F"===e.limitType)e._t=L4(e.path,e.collectionGroup,Fa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Fa(e))t.push(new Rc(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new Ms(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ms(e.startAt.position,e.startAt.inclusive):null;e._t=L4(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function dy(n,e,t){return new Io(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Eh(n,e){return xh(nr(n),nr(e))&&n.limitType===e.limitType}function tF(n){return`${Na(nr(n))}|lt:${n.limitType}`}function j4(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>KN(r)).join(", ")}]`),vh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ac(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ac(r)).join(",")),`Target(${t})`}(nr(n))}; limitType=${n.limitType})`}function Th(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):N.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Fa(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,s){const a=zN(i,o,s);return i.inclusive?a<=0:a<0}(t.startAt,Fa(t),r)||t.endAt&&!function(i,o,s){const a=zN(i,o,s);return i.inclusive?a>=0:a>0}(t.endAt,Fa(t),r)));var t,r}function rF(n){return(e,t)=>{let r=!1;for(const i of Fa(n)){const o=dpe(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function dpe(n,e,t){const r=n.field.isKeyField()?N.comparator(e.key,t.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return null!==a&&null!==l?ws(a,l):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}class Ao{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return RN(this.inner)}size(){return this.innerSize}}const hpe=new rt(N.comparator);function yr(){return hpe}const iF=new rt(N.comparator);function Sh(...n){let e=iF;for(const t of n)e=e.insert(t.key,t);return e}function oF(n){let e=iF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qi(){return Dh()}function sF(){return Dh()}function Dh(){return new Ao(n=>n.toString(),(n,e)=>n.isEqual(e))}const ppe=new rt(N.comparator),fpe=new ct(N.comparator);function pe(...n){let e=fpe;for(const t of n)e=e.add(t);return e}const mpe=new ct(oe);function aF(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function lF(n){return{integerValue:""+n}}function cF(n,e){return function CN(n){return"number"==typeof n&&Number.isInteger(n)&&!kh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?lF(e):aF(n,e)}class hy{constructor(){this._=void 0}}function ype(n,e,t){return n instanceof Nc?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ry(i)&&(i=iy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof La?dF(n,e):n instanceof Va?hF(n,e):function(r,i){const o=uF(r,i),s=pF(o)+pF(r.gt);return P4(o)&&P4(r.gt)?lF(s):aF(r.serializer,s)}(n,e)}function gpe(n,e,t){return n instanceof La?dF(n,e):n instanceof Va?hF(n,e):t}function uF(n,e){return n instanceof Fc?P4(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Nc extends hy{}class La extends hy{constructor(e){super(),this.elements=e}}function dF(n,e){const t=fF(e);for(const r of n.elements)t.some(i=>zi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Va extends hy{constructor(e){super(),this.elements=e}}function hF(n,e){let t=fF(e);for(const r of n.elements)t=t.filter(i=>!zi(i,r));return{arrayValue:{values:t}}}class Fc extends hy{constructor(e,t){super(),this.serializer=e,this.gt=t}}function pF(n){return Pt(n.integerValue||n.doubleValue)}function fF(n){return Mh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class vpe{constructor(e,t){this.version=e,this.transformResults=t}}class ft{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ft}static exists(e){return new ft(void 0,e)}static updateTime(e){return new ft(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function py(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class fy{}function mF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Vc(n.key,ft.none()):new Lc(n.key,n.data,ft.none());{const t=n.data,r=wn.empty();let i=new ct(Lt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ro(n.key,r,new mr(i.toArray()),ft.none())}}function kpe(n,e,t){n instanceof Lc?function(r,i,o){const s=r.value.clone(),a=_F(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof Ro?function(r,i,o){if(!py(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=_F(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(gF(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ah(n,e,t,r){return n instanceof Lc?function(i,o,s,a){if(!py(i.precondition,o))return s;const l=i.value.clone(),c=vF(i.fieldTransforms,a,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ro?function(i,o,s,a){if(!py(i.precondition,o))return s;const l=vF(i.fieldTransforms,a,o),c=o.data;return c.setAll(gF(i)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(s=t,py(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function bpe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=uF(r.transform,i||null);null!=o&&(null===t&&(t=wn.empty()),t.set(r.field,o))}return t||null}function yF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Dc(t,r,(i,o)=>function _pe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof La&&r instanceof La||t instanceof Va&&r instanceof Va?Dc(t.elements,r.elements,zi):t instanceof Fc&&r instanceof Fc?zi(t.gt,r.gt):t instanceof Nc&&r instanceof Nc);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Lc extends fy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ro extends fy{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function _F(n,e,t){const r=new Map;Z(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,gpe(s,a,t[i]))}return r}function vF(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,ype(o,s,e))}return r}class Vc extends fy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q4 extends fy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class U4{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&kpe(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ah(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ah(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sF();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const l=mF(s,a);null!==l&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pe())}isEqual(e){return this.batchId===e.batchId&&Dc(this.mutations,e.mutations,(t,r)=>yF(t,r))&&Dc(this.baseMutations,e.baseMutations,(t,r)=>yF(t,r))}}class $4{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Z(e.mutations.length===r.length);let i=ppe;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new $4(e,t,r,i)}}class G4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Mpe{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ut,Ae;function kF(n){switch(n){default:return $();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function bF(n){if(void 0===n)return Ft("GRPC error has no .code"),M.UNKNOWN;switch(n){case Ut.OK:return M.OK;case Ut.CANCELLED:return M.CANCELLED;case Ut.UNKNOWN:return M.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return M.INTERNAL;case Ut.UNAVAILABLE:return M.UNAVAILABLE;case Ut.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ut.NOT_FOUND:return M.NOT_FOUND;case Ut.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ut.ABORTED:return M.ABORTED;case Ut.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ut.DATA_LOSS:return M.DATA_LOSS;default:return $()}}(Ae=Ut||(Ut={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";class W4{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return my}static getOrCreateInstance(){return null===my&&(my=new W4),my}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let my=null;const Cpe=new Tc([4294967295,4294967295],0);function MF(n){const e=function wF(){return new TextEncoder}().encode(n),t=new vhe;return t.update(e),new Uint8Array(t.digest())}function CF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Tc([t,r],0),new Tc([i,o],0)]}class K4{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Rh(`Invalid padding: ${t}`);if(r<0)throw new Rh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Rh(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Rh(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Tc.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Tc.fromNumber(r)));return 1===i.compare(Cpe)&&(i=new Tc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=MF(e),[r,i]=CF(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new K4(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=MF(e),[r,i]=CF(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ph{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ph(Y.min(),i,new rt(oe),yr(),pe())}}class Oh{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Oh(r,t,pe(),pe(),pe())}}class yy{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class xF{constructor(e,t){this.targetId=e,this.Vt=t}}class EF{constructor(e,t,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class TF{constructor(){this.St=0,this.Dt=DF(),this.Ct=Qt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=pe(),t=pe(),r=pe();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new Oh(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=DF()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class xpe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=yr(),this.zt=SF(),this.Wt=new rt(oe)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(ly(s))if(0===i){const a=new N(s.path);this.Yt(r,a,ut.newNoDocument(a,Y.min()))}else Z(1===i);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);0!==l&&(this.ee(r),this.Wt=this.Wt.insert(r,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=W4.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,u,d){var h,p,f,m,g,k;const w={localCacheCount:u,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(w.bloomFilter={applied:0===c,hashCount:null!==(h=v?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(f=null===(p=v?.bits)||void 0===p?void 0:p.bitmap)||void 0===f?void 0:f.length)&&void 0!==m?m:0,padding:null!==(k=null===(g=v?.bits)||void 0===g?void 0:g.padding)&&void 0!==k?k:0}),w}(l,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,c;try{l=Do(o).toUint8Array()}catch(u){if(u instanceof ON)return mi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new K4(l,s,a)}catch(u){return mi(u instanceof Rh?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&ly(a.target)){const l=new N(a.target.path);null!==this.jt.get(l)||this.ae(s,l)||this.Yt(s,l,ut.newNoDocument(l,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let r=pe();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.se(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Ph(e,t,this.Wt,this.jt,r);return this.jt=yr(),this.zt=SF(),this.Wt=new rt(oe),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new TF,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ct(oe),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||A("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new TF),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function SF(){return new rt(N.comparator)}function DF(){return new rt(N.comparator)}const Epe={asc:"ASCENDING",desc:"DESCENDING"},Tpe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Spe={and:"AND",or:"OR"};class Dpe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Z4(n,e){return n.useProto3Json||vh(e)?e:{value:e}}function Bc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ipe(n,e){return Bc(n,e.toTimestamp())}function Vt(n){return Z(!!n),Y.fromTimestamp(function(e){const t=vs(e);return new Mt(t.seconds,t.nanos)}(n))}function Y4(n,e){return(t=n,new Ie(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function AF(n){const e=Ie.fromString(n);return Z(HF(e)),e}function Nh(n,e){return Y4(n.databaseId,e.path)}function Ui(n,e){const t=AF(e);if(t.get(1)!==n.databaseId.projectId)throw new S(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new S(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new N(PF(t))}function X4(n,e){return Y4(n.databaseId,e)}function Fh(n){return new Ie(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PF(n){return Z(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function OF(n,e,t){return{name:Nh(n,e),fields:t.value.mapValue.fields}}function FF(n,e){return{documents:[X4(n,e.path)]}}function J4(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=X4(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=X4(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return BF(We.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:Cs((u=c).field),direction:Npe(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=Z4(n,e.limit);var a,l;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function LF(n){let e=function RF(n){const e=AF(n);return 4===e.length?Ie.emptyPath():PF(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Z(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=VF(u);return d instanceof We&&N4(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new Rc(Hc((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,vh(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new Ms((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new Ms(u.values||[],!u.before)}(t.endAt)),function JN(n,e,t,r,i,o,s,a){return new Io(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",l,c)}function VF(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Hc(e.unaryFilter.field);return Ee.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Hc(e.unaryFilter.field);return Ee.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hc(e.unaryFilter.field);return Ee.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hc(e.unaryFilter.field);return Ee.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(n):void 0!==n.fieldFilter?Ee.create(Hc((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return We.create(e.compositeFilter.filters.map(t=>VF(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return $()}}(e.compositeFilter.op))}(n):$();var e}function Npe(n){return Epe[n]}function Fpe(n){return Tpe[n]}function Lpe(n){return Spe[n]}function Cs(n){return{fieldPath:n.canonicalString()}}function Hc(n){return Lt.fromServerFormat(n.fieldPath)}function BF(n){return n instanceof Ee?function(e){if("=="===e.op){if(LN(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NAN"}};if(FN(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(LN(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NOT_NAN"}};if(FN(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(e.field),op:Fpe(e.op),value:e.value}}}(n):n instanceof We?function(e){const t=e.getFilters().map(r=>BF(r));return 1===t.length?t[0]:{compositeFilter:{op:Lpe(e.op),filters:t}}}(n):$()}function Vpe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Po{constructor(e,t,r,i,o=Y.min(),s=Y.min(),a=Qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jF{constructor(e){this.fe=e}}function ex(n){const e=LF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dy(e,e.limit,"L"):e}class za{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Pt(e.integerValue));else if("doubleValue"in e){const r=Pt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),kh(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Do(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?VN(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):$()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),N.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}za.Ve=new za;class Wpe{constructor(){this.rn=new sx}addToCollectionParentIndex(e,t){return this.rn.add(t),b.resolve()}getCollectionParents(e,t){return b.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return b.resolve()}deleteFieldIndex(e,t){return b.resolve()}getDocumentsMatchingTarget(e,t){return b.resolve(null)}getIndexType(e,t){return b.resolve(0)}getFieldIndexes(e,t){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,t){return b.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,t){return b.resolve(Ar.min())}updateCollectionGroup(e,t,r){return b.resolve()}updateIndexEntries(e,t){return b.resolve()}}class sx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ct(Ie.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Ie.comparator)).toArray()}}new Uint8Array(0);class Ln{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(41943040,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Ua{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ua(0)}static Mn(){return new Ua(-1)}}class nfe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class pL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Ah(r.mutation,i,mr.empty(),Mt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pe()){const i=qi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Sh();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=qi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pe()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=yr();const s=Dh(),a=Dh();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof Ro)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),Ah(u.mutation,c,u.mutation.getFieldMask(),Mt.now())):s.set(c.key,mr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new nfe(u,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Dh();let i=new rt((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||mr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||pe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=sF();u.forEach(h=>{if(!o.has(h)){const p=mF(t.get(h),r.get(h));null!==p&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return b.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return N.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function B4(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):b.resolve(qi());let a=-1,l=o;return s.next(c=>b.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,pe())).next(u=>({batchId:a,changes:oF(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new N(t)).next(r=>{let i=Sh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=Sh();return this.indexManager.getCollectionParents(e,i).next(s=>b.forEach(s,a=>{const l=(c=t,u=a.child(i),new Io(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((a,l)=>{const c=l.getKey();null===o.get(c)&&(o=o.insert(c,ut.newInvalidDocument(c)))});let s=Sh();return o.forEach((a,l)=>{const c=i.get(a);void 0!==c&&Ah(c.mutation,l,mr.empty(),Mt.now()),Th(t,l)&&(s=s.insert(a,l))}),s})}}class rfe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return b.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Vt(r.createTime)}),b.resolve()}getNamedQuery(e,t){return b.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:ex(r.bundledQuery),readTime:Vt(r.readTime)}),b.resolve();var r}}class ife{constructor(){this.overlays=new rt(N.comparator),this.ls=new Map}getOverlay(e,t){return b.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qi();return b.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.we(e,t,o)}),b.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),b.resolve()}getOverlaysForCollection(e,t,r){const i=qi(),o=t.length+1,s=new N(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return b.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new rt((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=o.get(c.largestBatchId);null===u&&(u=qi(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=qi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return b.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new G4(t,r));let o=this.ls.get(t);void 0===o&&(o=pe(),this.ls.set(t,o)),this.ls.set(t,o.add(r.key))}}class ax{constructor(){this.fs=new ct(un.ds),this.ws=new ct(un._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new un(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new un(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new N(new Ie([])),r=new un(t,e),i=new un(t,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new N(new Ie([])),r=new un(t,e),i=new un(t,e+1);let o=pe();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new un(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class un{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return N.comparator(e.key,t.key)||oe(e.As,t.As)}static _s(e,t){return oe(e.As,t.As)||N.comparator(e.key,t.key)}}class ofe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ct(un.ds)}checkEmpty(e){return b.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.vs;this.vs++;const s=new U4(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new un(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(s)}lookupMutationBatch(e,t){return b.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),o=i<0?0:i;return b.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new un(t,0),i=new un(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),b.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ct(oe);return t.forEach(i=>{const o=new un(i,0),s=new un(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),b.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;N.isDocumentKey(o)||(o=o.child(""));const s=new un(new N(o),0);let a=new ct(oe);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},s),b.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Z(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return b.forEach(t.mutations,i=>{const o=new un(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new un(t,0),i=this.Rs.firstAfterOrEqual(r);return b.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return b.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sfe{constructor(e){this.Ds=e,this.docs=new rt(N.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return b.resolve(r?r.document.mutableCopy():ut.newInvalidDocument(t))}getEntries(e,t){let r=yr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ut.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=yr();const s=t.path,a=new N(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||S4(bN(u),r)<=0||(i.has(u.key)||Th(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return b.resolve(o)}getAllFromCollectionGroup(e,t,r,i){$()}Cs(e,t){return b.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new afe(this)}getSize(e){return b.resolve(this.size)}}class afe extends class Jpe{constructor(){this.changes=new Ao(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?b.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),b.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class lfe{constructor(e){this.persistence=e,this.xs=new Ao(t=>Na(t),xh),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ax,this.targetCount=0,this.Ms=Ua.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),b.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ua(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,b.resolve()}updateTargetData(e,t){return this.Fn(t),b.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(o).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return b.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),b.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),b.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),b.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return b.resolve(r)}containsKey(e,t){return b.resolve(this.ks.containsKey(t))}}class lx{constructor(e,t){this.$s={},this.overlays={},this.Os=new Rr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new lfe(this),this.indexManager=new Wpe,this.remoteDocumentCache=new sfe(r=>this.referenceDelegate.Ls(r)),this.serializer=new jF(t),this.qs=new rfe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ife,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new ofe(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){A("MemoryPersistence","Starting transaction:",e);const i=new cfe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,t){return b.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class cfe extends class Ihe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class xy{constructor(e){this.persistence=e,this.Qs=new ax,this.js=null}static zs(e){return new xy(e)}get Ws(){if(this.js)return this.js;throw $()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),b.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),b.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Ws,r=>{const i=N.fromPath(r);return this.Hs(e,i).next(o=>{o||t.removeEntry(i,Y.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return b.or([()=>b.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class hx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=pe(),i=pe();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new hx(e,t.fromCache,r,i)}}class mL{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(o=>o||this.Gi(e,t,i,r)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(eF(t))return b.resolve(null);let r=nr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=dy(t,null,"F"),r=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=pe(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(t,a);return this.zi(t,c,s,l.readTime)?this.Ki(e,dy(t,null,"F")):this.Wi(e,c,t,l)}))})))}Gi(e,t,r,i){return eF(t)||i.isEqual(Y.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(t,o);return this.zi(t,s,r,i)?this.Qi(e,t):(x4()<=Te.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),j4(t)),this.Wi(e,s,t,function kN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(1e9===r?new Mt(t+1,0):new Mt(t,r));return new Ar(i,N.empty(),e)}(i,-1)))})}ji(e,t){let r=new ct(rF(e));return t.forEach((i,o)=>{Th(e,o)&&(r=r.add(o))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,t){return x4()<=Te.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",j4(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ar.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class dfe{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new rt(oe),this.Yi=new Ao(o=>Na(o),xh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pL(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function gL(n,e){return px.apply(this,arguments)}function px(){return px=y(function*(n,e){const t=F(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=pe();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}),px.apply(this,arguments)}function hfe(n,e){const t=F(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,c){const u=l.batch,d=u.keys();let h=b.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(a,p)).next(f=>{const m=l.docVersions.get(p);Z(null!==m),f.version.compareTo(m)<0&&(u.applyToRemoteDocument(f,l),f.isValidDocument()&&(f.setReadTime(l.commitVersion),c.addEntry(f)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=pe();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function _L(n){const e=F(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function pfe(n,e){const t=F(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(o,u.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);var f,m,g;null!==e.targetMismatches.get(d)?p=p.withResumeToken(Qt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),m=p,g=u,(0===(f=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,p))});let l=yr(),c=pe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function vL(n,e,t){let r=pe(),i=pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=yr();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Y.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(Y.min())){const u=t.Bs.getLastRemoteSnapshotVersion(o).next(d=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return b.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.Ji=i,o))}function ffe(n,e){const t=F(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qc(n,e){const t=F(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(o=>o?(i=o,b.resolve(i)):t.Bs.allocateTargetId(r).next(s=>(i=new Po(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Uc(n,e,t){return fx.apply(this,arguments)}function fx(){return fx=y(function*(n,e,t){const r=F(n),i=r.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!gs(s))throw s;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),fx.apply(this,arguments)}function Sy(n,e,t){const r=F(n);let i=Y.min(),o=pe();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,c){const u=F(a),d=u.Yi.get(c);return void 0!==d?b.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(r,s,nr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,t?i:Y.min(),t?o:pe())).next(a=>(function wL(n,e,t){let r=n.Xi.get(e)||Y.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Xi.set(e,r)}(r,function nF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class vx{constructor(){this.activeTargetIds=function z4(){return mpe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xL{constructor(){this.Hr=new vx,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new vx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gfe{Yr(e){}shutdown(){}}class EL{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ay=null;function bx(){return null===Ay?Ay=268435456+Math.round(2147483648*Math.random()):Ay++,"0x"+Ay.toString(16)}const _fe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vfe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Vn="WebChannelConnection";class kfe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,o){const s=bx(),a=this.To(e,t);A("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const l={};return this.Eo(l,i,o),this.Ao(e,a,l,r).then(c=>(A("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw mi("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,o,s){return this.Io(e,t,r,i,o)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,t){return`${this.mo}/v1/${t}:${_fe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const o=bx();return new Promise((s,a)=>{const l=new _he;l.setWithCredentials(!0),l.listenOnce(mhe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case C4.NO_ERROR:const u=l.getResponseJson();A(Vn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case C4.TIMEOUT:A(Vn,`RPC '${e}' ${o} timed out`),a(new S(M.DEADLINE_EXCEEDED,"Request time out"));break;case C4.HTTP_ERROR:const d=l.getStatus();if(A(Vn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h?.error;if(p&&p.status&&p.message){const f=function(m){const g=m.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(g)>=0?g:M.UNKNOWN}(p.status);a(new S(f,p.message))}else a(new S(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new S(M.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{A(Vn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);A(Vn,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=bx(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=phe(),a=fhe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new ghe({})),this.Eo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=o.join("");A(Vn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,p=!1;const f=new vfe({ro:g=>{p?A(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(h||(A(Vn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),A(Vn,`RPC '${e}' stream ${i} sending:`,g),d.send(g))},oo:()=>d.close()}),m=(g,k,w)=>{g.listen(k,v=>{try{w(v)}catch(x){setTimeout(()=>{throw x},0)}})};return m(d,Xm.EventType.OPEN,()=>{p||A(Vn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Xm.EventType.CLOSE,()=>{p||(p=!0,A(Vn,`RPC '${e}' stream ${i} transport closed`),f.wo())}),m(d,Xm.EventType.ERROR,g=>{p||(p=!0,mi(Vn,`RPC '${e}' stream ${i} transport errored:`,g),f.wo(new S(M.UNAVAILABLE,"The operation could not be completed")))}),m(d,Xm.EventType.MESSAGE,g=>{var k;if(!p){const w=g.data[0];Z(!!w);const v=w,x=v.error||(null===(k=v[0])||void 0===k?void 0:k.error);if(x){A(Vn,`RPC '${e}' stream ${i} received error:`,x);const L=x.status;let j=function(Ke){const mt=Ut[Ke];if(void 0!==mt)return bF(mt)}(L),le=x.message;void 0===j&&(j=M.INTERNAL,le="Unknown error status: "+L+" with message "+x.message),p=!0,f.wo(new S(j,le)),d.close()}else A(Vn,`RPC '${e}' stream ${i} received:`,w),f._o(w)}}),m(a,yhe.STAT_EVENT,g=>{g.stat===fN.PROXY?A(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===fN.NOPROXY&&A(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.fo()},0),f}}function Ry(){return typeof document<"u"?document:null}function Gh(n){return new Dpe(n,!0)}class wx{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class SL{constructor(e,t,r,i,o,s,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new wx(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return y(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(Ft(t.toString()),Ft("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===M.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new S(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bfe extends SL{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Rpe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:$(),i=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(Z(void 0===c||"string"==typeof c),Qt.fromBase64String(c||"")):(Z(void 0===c||c instanceof Uint8Array),Qt.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=void 0===l.code?M.UNKNOWN:bF(l.code);return new S(c,l.message||"")}(s);t=new EF(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ui(n,r.document.name),o=Vt(r.document.updateTime),s=r.document.createTime?Vt(r.document.createTime):Y.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=ut.newFoundDocument(i,o,s,a);t=new yy(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Ui(n,r.document),o=r.readTime?Vt(r.readTime):Y.min(),s=ut.newNoDocument(i,o);t=new yy([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Ui(n,r.document);t=new yy([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Mpe(i,o);t=new xF(r.targetId,s)}}var l;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Y.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?Vt(o.readTime):Y.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Fh(this.serializer),t.addTarget=function(i,o){let s;const a=o.target;if(s=ly(a)?{documents:FF(i,a)}:{query:J4(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=IF(i,o.resumeToken);const l=Z4(i,o.expectedCount);null!==l&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(Y.min())>0){s.readTime=Bc(i,o.snapshotVersion.toTimestamp());const l=Z4(i,o.expectedCount);null!==l&&(s.expectedCount=l)}return s}(this.serializer,e);const r=function Ope(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Fh(this.serializer),t.removeTarget=e,this.Wo(t)}}class wfe extends SL{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Ppe(n,e){return n&&n.length>0?(Z(void 0!==e),n.map(t=>function(r,i){let o=Vt(r.updateTime?r.updateTime:i);return o.isEqual(Y.min())&&(o=Vt(i)),new vpe(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Vt(e.commitTime);return this.listener.cu(r,t)}return Z(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fh(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Lh(n,e){let t;if(e instanceof Lc)t={update:OF(n,e.key,e.value)};else if(e instanceof Vc)t={delete:Nh(n,e.key)};else if(e instanceof Ro)t={update:OF(n,e.key,e.data),updateMask:Vpe(e.fieldMask)};else{if(!(e instanceof q4))return $();t={verify:Nh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Nc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof La)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Va)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Fc)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Ipe(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:$()),t;var i}(this.serializer,r))};this.Wo(t)}}class Mfe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new S(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(M.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new S(M.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class xfe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ft(t),this.mu=!1):A("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Efe{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(y(function*(){var l;Ss(s)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(l=y(function*(c){const u=F(c);u.vu.add(4),yield $c(u),u.bu.set("Unknown"),u.vu.delete(4),yield Wh(u)}),function(c){return l.apply(this,arguments)})(s))}))}),this.bu=new xfe(r,i)}}function Wh(n){return Cx.apply(this,arguments)}function Cx(){return Cx=y(function*(n){if(Ss(n))for(const e of n.Ru)yield e(!0)}),Cx.apply(this,arguments)}function $c(n){return xx.apply(this,arguments)}function xx(){return xx=y(function*(n){for(const e of n.Ru)yield e(!1)}),xx.apply(this,arguments)}function Py(n,e){const t=F(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Sx(t)?Tx(t):Wc(t).Ko()&&Ex(t,e))}function Kh(n,e){const t=F(n),r=Wc(t);t.Au.delete(e),r.Ko()&&DL(t,e),0===t.Au.size&&(r.Ko()?r.jo():Ss(t)&&t.bu.set("Unknown"))}function Ex(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wc(n).su(e)}function DL(n,e){n.Vu.qt(e),Wc(n).iu(e)}function Tx(n){n.Vu=new xpe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Wc(n).start(),n.bu.gu()}function Sx(n){return Ss(n)&&!Wc(n).Uo()&&n.Au.size>0}function Ss(n){return 0===F(n).vu.size}function IL(n){n.Vu=void 0}function Tfe(n){return Dx.apply(this,arguments)}function Dx(){return Dx=y(function*(n){n.Au.forEach((e,t)=>{Ex(n,e)})}),Dx.apply(this,arguments)}function Sfe(n,e){return Ix.apply(this,arguments)}function Ix(){return Ix=y(function*(n,e){IL(n),Sx(n)?(n.bu.Iu(e),Tx(n)):n.bu.set("Unknown")}),Ix.apply(this,arguments)}function Dfe(n,e,t){return Ax.apply(this,arguments)}function Ax(){return Ax=y(function*(n,e,t){if(n.bu.set("Online"),e instanceof EF&&2===e.state&&e.cause)try{yield(r=y(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Oy(n,r)}else if(e instanceof yy?n.Vu.Ht(e):e instanceof xF?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Y.min()))try{const r=yield _L(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(Qt.EMPTY_BYTE_STRING,c.snapshotVersion)),DL(i,a);const u=new Po(c.target,a,l,c.sequenceNumber);Ex(i,u)}),i.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield Oy(n,r)}var r}),Ax.apply(this,arguments)}function Oy(n,e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=y(function*(n,e,t){if(!gs(e))throw e;n.vu.add(1),yield $c(n),n.bu.set("Offline"),t||(t=()=>_L(n.localStore)),n.asyncQueue.enqueueRetryable(y(function*(){A("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Wh(n)}))}),Rx.apply(this,arguments)}function AL(n,e){return e().catch(t=>Oy(n,t,e))}function Gc(n){return Px.apply(this,arguments)}function Px(){return Px=y(function*(n){const e=F(n),t=Ds(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Ife(e);)try{const i=yield ffe(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,Afe(e,i)}catch(i){yield Oy(e,i)}RL(e)&&PL(e)}),Px.apply(this,arguments)}function Ife(n){return Ss(n)&&n.Eu.length<10}function Afe(n,e){n.Eu.push(e);const t=Ds(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function RL(n){return Ss(n)&&!Ds(n).Uo()&&n.Eu.length>0}function PL(n){Ds(n).start()}function Rfe(n){return Ox.apply(this,arguments)}function Ox(){return Ox=y(function*(n){Ds(n).hu()}),Ox.apply(this,arguments)}function Pfe(n){return Nx.apply(this,arguments)}function Nx(){return Nx=y(function*(n){const e=Ds(n);for(const t of n.Eu)e.uu(t.mutations)}),Nx.apply(this,arguments)}function Ofe(n,e,t){return Fx.apply(this,arguments)}function Fx(){return Fx=y(function*(n,e,t){const r=n.Eu.shift(),i=$4.from(r,e,t);yield AL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Gc(n)}),Fx.apply(this,arguments)}function Nfe(n,e){return Lx.apply(this,arguments)}function Lx(){return Lx=y(function*(n,e){var t;e&&Ds(n).ou&&(yield(t=y(function*(r,i){if(kF(o=i.code)&&o!==M.ABORTED){const s=r.Eu.shift();Ds(r).Qo(),yield AL(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Gc(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),RL(n)&&PL(n)}),Lx.apply(this,arguments)}function OL(n,e){return Vx.apply(this,arguments)}function Vx(){return Vx=y(function*(n,e){const t=F(n);t.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=Ss(t);t.vu.add(3),yield $c(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Wh(t)}),Vx.apply(this,arguments)}function Hx(){return Hx=y(function*(n,e){const t=F(n);e?(t.vu.delete(2),yield Wh(t)):e||(t.vu.add(2),yield $c(t),t.bu.set("Unknown"))}),Hx.apply(this,arguments)}function Wc(n){return n.Su||(n.Su=function(e,t,r){const i=F(e);return i.fu(),new bfe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Tfe.bind(null,n),ao:Sfe.bind(null,n),nu:Dfe.bind(null,n)}),n.Ru.push(function(){var e=y(function*(t){t?(n.Su.Qo(),Sx(n)?Tx(n):n.bu.set("Unknown")):(yield n.Su.stop(),IL(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Ds(n){return n.Du||(n.Du=function(e,t,r){const i=F(e);return i.fu(),new wfe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Rfe.bind(null,n),ao:Nfe.bind(null,n),au:Pfe.bind(null,n),cu:Ofe.bind(null,n)}),n.Ru.push(function(){var e=y(function*(t){t?(n.Du.Qo(),yield Gc(n)):(yield n.Du.stop(),n.Eu.length>0&&(A("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class jx{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new jx(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kc(n,e){if(Ft("AsyncQueue",`${e}: ${n}`),gs(n))return new S(M.UNAVAILABLE,`${e}: ${n}`);throw n}class Zc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||N.comparator(t.key,r.key):(t,r)=>N.comparator(t.key,r.key),this.keyedMap=Sh(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new Zc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Zc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class NL{constructor(){this.Cu=new rt(N.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):$():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Yc{constructor(e,t,r,i,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Yc(e,t,Zc.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ffe{constructor(){this.Nu=void 0,this.listeners=[]}}class Lfe{constructor(){this.queries=new Ao(e=>tF(e),Eh),this.onlineState="Unknown",this.ku=new Set}}function qx(){return qx=y(function*(n,e){const t=F(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new Ffe),i)try{o.Nu=yield t.onListen(r)}catch(s){const a=Kc(s,`Initialization of query '${j4(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&Gx(t)}),qx.apply(this,arguments)}function $x(){return $x=y(function*(n,e){const t=F(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),$x.apply(this,arguments)}function Vfe(n,e){const t=F(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&Gx(t)}function Bfe(n,e,t){const r=F(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function Gx(n){n.ku.forEach(e=>{e.next()})}class Wx{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class VL{constructor(e){this.key=e}}class BL{constructor(e){this.key=e}}class HL{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=pe(),this.mutatedKeys=pe(),this.tc=rF(e),this.ec=new Zc(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new NL,i=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=Th(this.query,d)?d:null,f=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let g=!1;h&&p?h.data.isEqual(p.data)?f!==m&&(r.track({type:3,doc:p}),g=!0):this.rc(h,p)||(r.track({type:2,doc:p}),g=!0,(l&&this.tc(p,l)>0||c&&this.tc(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),g=!0):h&&!p&&(r.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(p?(s=s.add(p),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,u)=>function(d,h){const p=f=>{switch(f){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return p(d)-p(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,0!==o.length||l?{snapshot:new Yc(this.query,e.ec,i,o,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new NL,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=pe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new BL(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new VL(r))}),t}hc(e){this.Yu=e.ir,this.Zu=pe();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Yc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class zfe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class qfe{constructor(e){this.key=e,this.fc=!1}}class Ufe{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Ao(a=>tF(a),Eh),this._c=new Map,this.mc=new Set,this.gc=new rt(N.comparator),this.yc=new Map,this.Ic=new ax,this.Tc={},this.Ec=new Map,this.Ac=Ua.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function $fe(n,e){return Kx.apply(this,arguments)}function Kx(){return Kx=y(function*(n,e){const t=gE(n);let r,i;const o=t.wc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield qc(t.localStore,nr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield Zx(t,e,r,"current"===a,s.resumeToken),t.isPrimaryClient&&Py(t.remoteStore,s)}return i}),Kx.apply(this,arguments)}function Zx(n,e,t,r,i){return Yx.apply(this,arguments)}function Yx(){return Yx=y(function*(n,e,t,r,i){n.Rc=(d,h,p)=>{return(f=y(function*(m,g,k,w){let v=g.view.sc(k);v.zi&&(v=yield Sy(m.localStore,g.query,!1).then(({documents:j})=>g.view.sc(j,v)));const x=w&&w.targetChanges.get(g.targetId),L=g.view.applyChanges(v,m.isPrimaryClient,x);return sE(m,g.targetId,L.cc),L.snapshot}),function(m,g,k,w){return f.apply(this,arguments)})(n,d,h,p);var f};const o=yield Sy(n.localStore,e,!0),s=new HL(e,o.ir),a=s.sc(o.documents),l=Oh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=s.applyChanges(a,n.isPrimaryClient,l);sE(n,t,c.cc);const u=new zfe(e,t,s);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),Yx.apply(this,arguments)}function Gfe(n,e){return Xx.apply(this,arguments)}function Xx(){return Xx=y(function*(n,e){const t=F(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(o=>!Eh(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Uc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Kh(t.remoteStore,r.targetId),Xc(t,r.targetId)}).catch(ys))):(Xc(t,r.targetId),yield Uc(t.localStore,r.targetId,!0))}),Xx.apply(this,arguments)}function Qx(){return Qx=y(function*(n,e,t){const r=_E(n);try{const i=yield function(o,s){const a=F(o),l=Mt.now(),c=s.reduce((h,p)=>h.add(p.key),pe());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=yr(),f=pe();return a.Zi.getEntries(h,c).next(m=>{p=m,p.forEach((g,k)=>{k.isValidDocument()||(f=f.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(m=>{u=m;const g=[];for(const k of s){const w=bpe(k,u.get(k.key).overlayedDocument);null!=w&&g.push(new Ro(k.key,w,jN(w.value.mapValue),ft.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,g,s)}).next(m=>{d=m;const g=m.applyToLocalDocumentSet(u,f);return a.documentOverlayCache.saveOverlays(h,m.batchId,g)})}).then(()=>({batchId:d.batchId,changes:oF(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new rt(oe)),l=l.insert(s,a),o.Tc[o.currentUser.toKey()]=l}(r,i.batchId,t),yield Oo(r,i.changes),yield Gc(r.remoteStore)}catch(i){const o=Kc(i,"Failed to persist write");t.reject(o)}}),Qx.apply(this,arguments)}function jL(n,e){return Jx.apply(this,arguments)}function Jx(){return Jx=y(function*(n,e){const t=F(n);try{const r=yield pfe(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.yc.get(o);s&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?Z(s.fc):i.removedDocuments.size>0&&(Z(s.fc),s.fc=!1))}),yield Oo(t,r,e)}catch(r){yield ys(r)}}),Jx.apply(this,arguments)}function zL(n,e,t){const r=F(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=F(o);a.onlineState=s;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(s)&&(l=!0)}),l&&Gx(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Kfe(n,e,t){return eE.apply(this,arguments)}function eE(){return eE=y(function*(n,e,t){const r=F(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new rt(N.comparator);s=s.insert(o,ut.newNoDocument(o,Y.min()));const a=pe().add(o),l=new Ph(Y.min(),new Map,new rt(oe),s,a);yield jL(r,l),r.gc=r.gc.remove(o),r.yc.delete(e),aE(r)}else yield Uc(r.localStore,e,!1).then(()=>Xc(r,e,t)).catch(ys)}),eE.apply(this,arguments)}function Zfe(n,e){return tE.apply(this,arguments)}function tE(){return tE=y(function*(n,e){const t=F(n),r=e.batch.batchId;try{const i=yield hfe(t.localStore,e);oE(t,r,null),iE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Oo(t,i)}catch(i){yield ys(i)}}),tE.apply(this,arguments)}function Yfe(n,e,t){return nE.apply(this,arguments)}function nE(){return nE=y(function*(n,e,t){const r=F(n);try{const i=yield function(o,s){const a=F(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,s).next(u=>(Z(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);oE(r,e,t),iE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Oo(r,i)}catch(i){yield ys(i)}}),nE.apply(this,arguments)}function iE(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function oE(n,e,t){const r=F(n);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Xc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||qL(n,r)})}function qL(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Kh(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),aE(n))}function sE(n,e,t){for(const r of t)r instanceof VL?(n.Ic.addReference(r.key,e),Qfe(n,r)):r instanceof BL?(A("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||qL(n,r.key)):$()}function Qfe(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(A("SyncEngine","New document in limbo: "+t),n.mc.add(r),aE(n))}function aE(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new N(Ie.fromString(e)),r=n.Ac.next();n.yc.set(r,new qfe(t)),n.gc=n.gc.insert(t,r),Py(n.remoteStore,new Po(nr(Oc(t.path)),r,"TargetPurposeLimboResolution",Rr.ct))}}function Oo(n,e,t){return lE.apply(this,arguments)}function lE(){return lE=y(function*(n,e,t){const r=F(n),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,l)=>{s.push(r.Rc(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const u=hx.Li(l.targetId,c);o.push(u)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=y(function*(l,c){const u=F(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(c,h=>b.forEach(h.Fi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>b.forEach(h.Bi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!gs(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=u.Ji.get(h),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);u.Ji=u.Ji.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,o))}),lE.apply(this,arguments)}function Jfe(n,e){return cE.apply(this,arguments)}function cE(){return cE=y(function*(n,e){const t=F(n);if(!t.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield gL(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new S(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oo(t,r.er)}var i}),cE.apply(this,arguments)}function e1e(n,e){const t=F(n),r=t.yc.get(e);if(r&&r.fc)return pe().add(r.key);{let i=pe();const o=t._c.get(e);if(!o)return i;for(const s of o){const a=t.wc.get(s);i=i.unionWith(a.view.nc)}return i}}function gE(n){const e=F(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e1e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kfe.bind(null,e),e.dc.nu=Vfe.bind(null,e.eventManager),e.dc.Pc=Bfe.bind(null,e.eventManager),e}function _E(n){const e=F(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yfe.bind(null,e),e}class Ny{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return y(function*(){t.serializer=Gh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function yL(n,e,t,r){return new dfe(n,e,t,r)}(this.persistence,new mL,e.initialUser,this.serializer)}createPersistence(e){return new lx(xy.zs,this.serializer)}createSharedClientState(e){return new xL}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Qc{initialize(e,t){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>zL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Jfe.bind(null,r.syncEngine),yield function Bx(n,e){return Hx.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Lfe}createDatastore(e){const t=Gh(e.databaseInfo.databaseId),r=new kfe(e.databaseInfo);return new Mfe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>zL(this.syncEngine,a,0),s=EL.D()?new EL:new gfe,new Efe(t,r,i,o,s);var t,r,i,o,s}createSyncEngine(e,t){return function(r,i,o,s,a,l,c){const u=new Ufe(r,i,o,s,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=y(function*(t){const r=F(t);A("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield $c(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Fy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ft("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class p1e{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=_N.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=y(function*(a){A("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(A("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Kc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Ly(n,e){return vE.apply(this,arguments)}function vE(){return vE=y(function*(n,e){n.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=y(function*(o){r.isEqual(o)||(yield gL(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),vE.apply(this,arguments)}function kE(n,e){return bE.apply(this,arguments)}function bE(){return bE=y(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield wE(n);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>OL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>OL(e.remoteStore,o)),n._onlineComponents=e}),bE.apply(this,arguments)}function ZL(n){return"FirebaseError"===n.name?n.code===M.FAILED_PRECONDITION||n.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function wE(n){return ME.apply(this,arguments)}function ME(){return ME=y(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){A("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ly(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!ZL(t))throw t;mi("Error using user provided cache. Falling back to memory cache: "+t),yield Ly(n,new Ny)}}else A("FirestoreClient","Using default OfflineComponentProvider"),yield Ly(n,new Ny);return n._offlineComponents}),ME.apply(this,arguments)}function Vy(n){return CE.apply(this,arguments)}function CE(){return CE=y(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(A("FirestoreClient","Using user provided OnlineComponentProvider"),yield kE(n,n._uninitializedComponentsProvider._online)):(A("FirestoreClient","Using default OnlineComponentProvider"),yield kE(n,new Qc))),n._onlineComponents}),CE.apply(this,arguments)}function Jc(n){return EE.apply(this,arguments)}function EE(){return EE=y(function*(n){const e=yield Vy(n),t=e.eventManager;return t.onListen=$fe.bind(null,e.syncEngine),t.onUnlisten=Gfe.bind(null,e.syncEngine),t}),EE.apply(this,arguments)}function tV(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const nV=new Map;function TE(n,e,t){if(!t)throw new S(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rV(n){if(!N.isDocumentKey(n))throw new S(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":$()}function Se(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new S(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hy(n);throw new S(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class sV{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new S(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function w1e(n,e,t,r){if(!0===e&&!0===r)throw new S(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=tV(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new S(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new S(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new S(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new khe;switch(t.type){case"firstParty":return new Che(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new S(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nV.get(e);t&&(A("ComponentProvider","Removing Datastore"),nV.delete(e),t.terminate())}(this),Promise.resolve()}}class Bt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class Mn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mn(this.firestore,e,this._query)}}class $i extends Mn{constructor(e,t,r){super(e,t,Oc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new N(e))}withConverter(e){return new $i(this.firestore,e,this._path)}}function aV(n,e,...t){if(n=kt(n),1===arguments.length&&(e=_N.A()),TE("doc","path",e),n instanceof Zh){const r=Ie.fromString(e,...t);return rV(r),new Bt(n,null,new N(r))}{if(!(n instanceof Bt||n instanceof $i))throw new S(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ie.fromString(e,...t));return rV(r),new Bt(n.firestore,n instanceof $i?n.converter:null,new N(r))}}class C1e{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new wx(this,"async_queue_retry"),this.Xc=()=>{const t=Ry();t&&A("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Ry();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Ry();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Xt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!gs(t))throw t;A("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ft("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=jx.createAndSchedule(this,e,t,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&$()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function SE(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class dt extends Zh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new C1e,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||cV(this),this._firestoreClient.terminate()}}function E1e(n,e){const r="string"==typeof n?n:e||"(default)",i=ha("object"==typeof n?n:g1(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=I8("firestore");o&&function M1e(n,e,t,r={}){var i;const o=(n=Se(n,Zh))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=ln.MOCK_USER;else{a=P8(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new S(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ln(c)}n._authCredentials=new bhe(new yN(a,l))}}(i,...o)}return i}function $t(n){return n._firestoreClient||cV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function cV(n){var e,t,r;const i=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new epe(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,tV(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new p1e(n._authCredentials,n._appCheckCredentials,n._queue,o),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ga(Qt.fromBase64String(e))}catch(t){throw new S(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ga(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class eu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new S(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class DE{constructor(e){this._methodName=e}}class IE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new S(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new S(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}}const S1e=/^__.*__$/;class D1e{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ro(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lc(e,this.data,t,this.fieldTransforms)}}class hV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ro(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class jy{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new jy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return qy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(pV(this.ca)&&S1e.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class I1e{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gh(e)}ya(e,t,r,i=!1){return new jy({ca:e,methodName:t,ga:r,path:Lt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tu(n){const e=n._freezeSettings(),t=Gh(n._databaseId);return new I1e(n._databaseId,!!e.ignoreUndefinedProperties,t)}function AE(n,e,t,r,i,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,i);PE("Data must be an object, but it was:",s,r);const a=_V(r,s);let l,c;if(o.merge)l=new mr(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=Qh(e,d,t);if(!s.contains(h))throw new S(M.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);kV(u,h)||u.push(h)}l=new mr(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new D1e(new wn(a),l,c)}class Xh extends DE{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function Wa(n,e){if(vV(n=kt(n)))return PE("Unsupported field value:",e,n),_V(n,e);if(n instanceof DE)return function(t,r){if(!pV(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const s of t){let a=Wa(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=kt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return cF(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Mt.fromDate(t);return{timestampValue:Bc(r.serializer,i)}}if(t instanceof Mt){const i=new Mt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Bc(r.serializer,i)}}if(t instanceof IE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ga)return{bytesValue:IF(r.serializer,t._byteString)};if(t instanceof Bt){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Y4(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Hy(t)}`)}(n,e)}function _V(n,e){const t={};return RN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(n,(r,i)=>{const o=Wa(i,e.ha(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function vV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mt||n instanceof IE||n instanceof Ga||n instanceof Bt||n instanceof DE)}function PE(n,e,t){if(!vV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Hy(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Qh(n,e,t){if((e=kt(e))instanceof eu)return e._internalPath;if("string"==typeof e)return zy(n,e);throw qy("Field path arguments must be of type string or ",n,!1,void 0,t)}const O1e=new RegExp("[~\\*/\\[\\]]");function zy(n,e,t){if(e.search(O1e)>=0)throw qy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new eu(...e.split("."))._internalPath}catch{throw qy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qy(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new S(M.INVALID_ARGUMENT,a+n+l)}function kV(n,e){return n.some(t=>t.isEqual(e))}class OE{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new N1e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Uy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class N1e extends OE{data(){return super.data()}}function Uy(n,e){return"string"==typeof e?zy(n,e):e instanceof eu?e._internalPath:e._delegate._internalPath}class Ka{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ru extends OE{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ky(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Uy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ky extends ru{data(e={}){return super.data(e)}}class iu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ka(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ky(this._firestore,this._userDataWriter,r.key,r,new Ka(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new S(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new Ky(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Ka(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new Ky(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Ka(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==s.type&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:B1e(s.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function B1e(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class Is extends class L1e{convertValue(e,t="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Do(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return _s(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new IE(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=iy(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bh(e));default:return null}}convertTimestamp(e){const t=vs(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ie.fromString(e);Z(HF(r));const i=new Pa(r.get(1),r.get(3)),o=new N(r.popFirst(5));return i.isEqual(t)||Ft(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,t)}}function H1e(n,e,t){n=Se(n,Bt);const r=Se(n.firestore,dt),i=function FE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return ep(r,[AE(tu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ft.none())])}function j1e(n,e,t,...r){n=Se(n,Bt);const i=Se(n.firestore,dt),o=tu(i);let s;return s="string"==typeof(e=kt(e))||e instanceof eu?function yV(n,e,t,r,i,o){const s=n.ya(1,e,t),a=[Qh(e,r,t)],l=[i];if(o.length%2!=0)throw new S(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Qh(e,o[h])),l.push(o[h+1]);const c=[],u=wn.empty();for(let h=a.length-1;h>=0;--h)if(!kV(c,a[h])){const p=a[h];let f=l[h];f=kt(f);const m=s.da(p);if(f instanceof Xh)c.push(p);else{const g=Wa(f,m);null!=g&&(c.push(p),u.set(p,g))}}const d=new mr(c);return new hV(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,r):function mV(n,e,t,r){const i=n.ya(1,e,t);PE("Data must be an object, but it was:",i,r);const o=[],s=wn.empty();_s(r,(l,c)=>{const u=zy(e,l,t);c=kt(c);const d=i.da(u);if(c instanceof Xh)o.push(u);else{const h=Wa(c,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new mr(o);return new hV(s,a,i.fieldTransforms)}(o,"updateDoc",n._key,e),ep(i,[s.toMutation(n._key,ft.exists(!0))])}function ep(n,e){return function(t,r){const i=new Xt;return t.asyncQueue.enqueueAndForget(y(function*(){return function Wfe(n,e,t){return Qx.apply(this,arguments)}(yield function xE(n){return Vy(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}($t(n),e)}!function(n,e=!0){Sc="9.23.0",Rn(new fn("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),s=new dt(new whe(t.getProvider("auth-internal")),new xhe(t.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new S(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pa(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),at(mN,"3.13.0",n),at(mN,"3.13.0","esm2017")}();var eme={includeMetadataChanges:!1};function VE(n,e){return void 0===e&&(e=eme),new Ve(function(t){var r=function z1e(n,...e){var t,r,i;n=kt(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||SE(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(SE(e[s])){const d=e[s];e[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(n instanceof Bt)c=Se(n.firestore,dt),u=Oc(n._key.path),l={next:d=>{e[s]&&e[s](function LE(n,e,t){const r=t.docs.get(e._key),i=new Is(n);return new ru(n,i,e._key,r,new Ka(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[s+1],complete:e[s+2]};else{const d=Se(n,Mn);c=Se(d.firestore,dt),u=d._query;const h=new Is(c);l={next:p=>{e[s]&&e[s](new iu(c,h,d,p))},error:e[s+1],complete:e[s+2]},function bV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new S(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(d,h,p,f){const m=new Fy(f),g=new Wx(h,m,p);return d.asyncQueue.enqueueAndForget(y(function*(){return function zx(n,e){return qx.apply(this,arguments)}(yield Jc(d),g)})),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(y(function*(){return function Ux(n,e){return $x.apply(this,arguments)}(yield Jc(d),g)}))}}($t(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function nme(n,e){return void 0===e&&(e={}),function tme(n){return VE(n,{includeMetadataChanges:!0})}(n).pipe(re(function(t){return function DV(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(t,e)}))}class Yy{constructor(e){return e}}const PV="firestore",jE=new P("angularfire2.firestore-instances");function ume(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Yy(r)}}const dme={provide:class lme{constructor(){return S1(PV)}},deps:[[new pt,jE]]},hme={provide:Yy,useFactory:function cme(n,e){const t=T1(PV,n,e);return t&&new Yy(t)},deps:[[new pt,jE],va]};let pme=(()=>{class n{constructor(){at("angularfire",kd.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({providers:[hme,dme]}),n})();function fme(n,...e){return{ngModule:pme,providers:[{provide:jE,useFactory:ume(n),multi:!0,deps:[ie,St,D1,I1,[new pt,oC],[new pt,V1],...e]}]}}const mme=er(nme,!0),zE=er(aV,!0),yme=er(E1e,!0),gme=er(H1e,!0),_me=er(j1e,!0);let qE,tp=(()=>{class n{constructor(t,r){this.firestore=t,this.authService=r}get currentUserProfile$(){return this.authService.currentUser$.pipe(Pn(t=>{if(!t?.uid)return W(null);const r=zE(this.firestore,"users",t?.uid);return mme(r)}))}addUser(t){const r=zE(this.firestore,"users",t.uid);return ze(gme(r,t))}updateUser(t){const r=zE(this.firestore,"users",t.uid);return ze(_me(r,{...t}))}}return n.\u0275fac=function(t){return new(t||n)(C(Yy),C(rm))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{qE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{qE=!1}let ou,gr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function hJ(n){return n===i8}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!qE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(C(tc))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OV=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function NV(){if(ou)return ou;if("object"!=typeof document||!document)return ou=new Set(OV),ou;let n=document.createElement("input");return ou=new Set(OV.filter(e=>(n.setAttribute("type",e),n.type===e))),ou}let np,Za,UE;function su(n){return function vme(){if(null==np&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>np=!0}))}finally{np=np||!1}return np}()?n:!!n.capture}function kme(){if(null==Za){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Za=!1,Za;if("scrollBehavior"in document.documentElement.style)Za=!0;else{const n=Element.prototype.scrollTo;Za=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Za}function Ya(n){return n.composedPath?n.composedPath()[0]:n.target}function $E(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function VV(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function KE(n,e=E1){return gt((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=o;o=null,r.next(c)}};function l(){const c=s+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(new Je(r,c=>{o=c,s=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function BV(n){return gn((e,t)=>n<=t)}function Bme(n,e){return n===e}function Gi(n){return gt((e,t)=>{jn(n).subscribe(new Je(t,()=>t.complete(),cl)),!t.closed&&e.subscribe(t)})}function rr(n){return null!=n&&"false"!=`${n}`}function Qy(n){return Array.isArray(n)?n:[n]}function Gt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function No(n){return n instanceof He?n.nativeElement:n}let HV=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zme=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=No(t);return new Ve(i=>{const s=this._observeElement(r).subscribe(i);return()=>{s.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new ke,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(C(HV))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qme=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new Pe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=rr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function Hme(n,e=0){return function jme(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(KE(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(_(zme),_(He),_(ie))},n.\u0275dir=K({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),jV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({providers:[HV]}),n})();const zV=new Set;let au,Ume=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Gme}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function $me(n){if(!zV.has(n))try{au||(au=document.createElement("style"),au.setAttribute("type","text/css"),document.head.appendChild(au)),au.sheet&&(au.sheet.insertRule(`@media ${n} {body{ }}`,0),zV.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(C(gr))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gme(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Wme=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new ke}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return qV(Qy(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=lC(qV(Qy(t)).map(s=>this._registerQuery(s).observable));return o=Fd(o.pipe(zn(1)),o.pipe(BV(1),KE(0))),o.pipe(re(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new Ve(s=>{const a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(cs(r),re(({matches:s})=>({query:t,matches:s})),Gi(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(C(Ume),C(ie))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qV(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class Xme extends class Yme{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ke,this._typeaheadSubscription=yt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new ke,this.change=new ke,e instanceof Xl&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(bt(t=>this._pressedLetters.push(t)),KE(e),gn(()=>this._pressedLetters.length>0),re(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,s=r[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||VV(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e);this._activeItem=t[r]??null,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Xl?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function ZE(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function YE(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const rye=new P("cdk-input-modality-detector-options"),iye={ignoreKeys:[18,17,224,91,16]},lu=su({passive:!0,capture:!0});let oye=(()=>{class n{constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Gr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ya(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ZE(s)?"keyboard":"mouse"),this._mostRecentTarget=Ya(s))},this._onTouchstart=s=>{YE(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ya(s))},this._options={...iye,...o},this.modalityDetected=this._modality.pipe(BV(1)),this.modalityChanged=this.modalityDetected.pipe(function Vme(n,e=zo){return n=n??Bme,gt((t,r)=>{let i,o=!0;t.subscribe(new Je(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,lu),i.addEventListener("mousedown",this._onMousedown,lu),i.addEventListener("touchstart",this._onTouchstart,lu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,lu),document.removeEventListener("mousedown",this._onMousedown,lu),document.removeEventListener("touchstart",this._onTouchstart,lu))}}return n.\u0275fac=function(t){return new(t||n)(C(gr),C(ie),C(Me),C(rye,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aye=new P("cdk-focus-monitor-default-options"),Jy=su({passive:!0,capture:!0});let eg=(()=>{class n{constructor(t,r,i,o,s){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ke,this._rootNodeFocusAndBlurListener=a=>{for(let c=Ya(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,r=!1){const i=No(t);if(!this._platform.isBrowser||1!==i.nodeType)return W(null);const o=function wme(n){if(function bme(){if(null==UE){const n=typeof document<"u"?document.head:null;UE=!(!n||!n.createShadowRoot&&!n.attachShadow)}return UE}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;const a={checkChildren:r,subject:new ke,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=No(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=No(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Ya(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Jy),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Jy)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Gi(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Jy),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Jy),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(C(ie),C(gr),C(oye),C(Me,8),C(aye,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KV="cdk-high-contrast-black-on-white",ZV="cdk-high-contrast-white-on-black",XE="cdk-high-contrast-active";let YV=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=tt(Wme).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(XE,KV,ZV),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(XE,KV):2===r&&t.add(XE,ZV)}}}return n.\u0275fac=function(t){return new(t||n)(C(gr),C(Me))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lye=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(C(YV))},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[jV]}),n})();const cye=new P("cdk-dir-doc",{providedIn:"root",factory:function uye(){return tt(Me)}}),dye=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let QE=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Pe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function hye(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?dye.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(C(cye,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({}),n})();const fye=new P("mat-sanity-checks",{providedIn:"root",factory:function pye(){return!0}});let Cn=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!$E()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(C(YV),C(fye,8),C(Me))},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[rp,rp]}),n})();function JV(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=rr(e)}}}function tg(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function JE(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=rr(e)}}}function mye(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}let eB=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gye{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const tB={enterDuration:225,exitDuration:150},e5=su({passive:!0}),nB=["mousedown","touchstart"],rB=["mouseup","mouseleave","touchend","touchcancel"];class vye{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=No(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...tB,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=r.radius||function kye(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),p=d.transitionDuration,f="none"===d.transitionProperty||"0s"===p||"0s, 0s"===p,m=new gye(this,u,r,f);u.style.transform="scale3d(1, 1, 1)",m.state=0,r.persistent||(this._mostRecentTransientRipple=m);let g=null;return!f&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const k=()=>this._finishRippleTransition(m),w=()=>this._destroyRipple(m);u.addEventListener("transitionend",k),u.addEventListener("transitioncancel",w),g={onTransitionEnd:k,onTransitionCancel:w}}),this._activeRipples.set(m,g),(f||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...tB,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=No(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(nB))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(rB),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=ZE(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!YE(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,e5)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(nB.forEach(e=>{this._triggerElement.removeEventListener(e,this,e5)}),this._pointerUpEventsRegistered&&rB.forEach(e=>{this._triggerElement.removeEventListener(e,this,e5)}))}}const bye=new P("mat-ripple-global-options");let ng=(()=>{class n{constructor(t,r,i,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new vye(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(_(He),_(ie),_(gr),_(bye,8),_(nc,8))},n.\u0275dir=K({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&An("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),t5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[Cn,Cn]}),n})();const wye=["*",[["mat-toolbar-row"]]],Mye=["*","mat-toolbar-row"],Cye=tg(class{constructor(n){this._elementRef=n}});let xye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Eye=(()=>{class n extends Cye{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(_(He),_(gr),_(Me))},n.\u0275cmp=Qe({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&pn(i,xye,5),2&t){let o;ot(o=st())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&An("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[ge],ngContentSelectors:Mye,decls:2,vars:0,template:function(t,r){1&t&&(Ti(wye),en(0),en(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Tye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[Cn,Cn]}),n})();function iB(...n){const e=Z3(n),{args:t,keys:r}=FP(n),i=new Ve(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;jn(t[u]).subscribe(new Je(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?LP(r,a):a),o.complete())}))}});return e?i.pipe(aC(e)):i}class Sye{}class As{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof As?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new As;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof As?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Dye{encodeKey(e){return oB(e)}encodeValue(e){return oB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Aye=/%(\d[a-f0-9])/gi,Rye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oB(n){return encodeURIComponent(n).replace(Aye,(e,t)=>Rye[t]??e)}function rg(n){return`${n}`}class Rs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Dye,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Iye(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(rg):[rg(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Rs({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(rg(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(rg(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Pye{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function sB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function aB(n){return typeof Blob<"u"&&n instanceof Blob}function lB(n){return typeof FormData<"u"&&n instanceof FormData}class op{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Oye(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new As),this.context||(this.context=new Pye),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Rs,this.urlWithParams=t}serializeBody(){return null===this.body?null:sB(this.body)||aB(this.body)||lB(this.body)||function Nye(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lB(this.body)?null:aB(this.body)?this.body.type||null:sB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new op(t,r,o,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var xn=(()=>((xn=xn||{})[xn.Sent=0]="Sent",xn[xn.UploadProgress=1]="UploadProgress",xn[xn.ResponseHeader=2]="ResponseHeader",xn[xn.DownloadProgress=3]="DownloadProgress",xn[xn.Response=4]="Response",xn[xn.User=5]="User",xn))();class n5 extends class Fye{constructor(e,t=200,r="OK"){this.headers=e.headers||new As,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=xn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new n5({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function r5(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let uB=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof op)o=t;else{let l,c;l=i.headers instanceof As?i.headers:new As(i.headers),i.params&&(c=i.params instanceof Rs?i.params:new Rs({fromObject:i.params})),o=new op(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=W(o).pipe(ds(l=>this.handler.handle(l)));if(t instanceof op||"events"===i.observe)return s;const a=s.pipe(gn(l=>l instanceof n5));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(re(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(re(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(re(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(re(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Rs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,r5(i,r))}post(t,r,i={}){return this.request("POST",t,r5(i,r))}put(t,r,i={}){return this.request("PUT",t,r5(i,r))}}return n.\u0275fac=function(t){return new(t||n)(C(Sye))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const Vye=["*"];let ig;function sp(n){return function Bye(){if(void 0===ig&&(ig=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(ig=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return ig}()?.createHTML(n)||n}function dB(n){return Error(`Unable to find icon with the name "${n}"`)}function hB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function pB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Xa{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let og=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Xa(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const s=this._sanitizer.sanitize(Le.HTML,i);if(!s)throw pB(i);const a=sp(s);return this._addSvgIconConfig(t,r,new Xa("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Xa(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(Le.HTML,r);if(!o)throw pB(r);const s=sp(o);return this._addSvgIconSetConfig(t,new Xa("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(Le.RESOURCE_URL,t);if(!r)throw hB(t);const i=this._cachedIconsByUrl.get(r);return i?W(sg(i)):this._loadSvgIconFromConfig(new Xa(t,null)).pipe(bt(o=>this._cachedIconsByUrl.set(r,o)),re(o=>sg(o)))}getNamedSvgIcon(t,r=""){const i=fB(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):hc(dB(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?W(sg(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(re(r=>sg(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?W(i):iB(r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Mo(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Le.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),W(null)})))).pipe(re(()=>{const s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw dB(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(bt(r=>t.svgText=r),re(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?W(null):this._fetchIcon(t).pipe(bt(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,i);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),i);const a=this._svgElementFromString(sp("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(sp("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:s,value:a}=i[o];"id"!==s&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw function Hye(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const s=this._sanitizer.sanitize(Le.RESOURCE_URL,r);if(!s)throw hB(r);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(re(c=>sp(c)),om(()=>this._inProgressUrlFetches.delete(s)),X3());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(fB(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return zye(o)?new Xa(o.url,null,o.options):new Xa(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(C(uB,8),C(yv),C(Me,8),C(ro))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sg(n){return n.cloneNode(!0)}function fB(n,e){return n+":"+e}function zye(n){return!(!n.url||!n.options)}const qye=tg(class{constructor(n){this._elementRef=n}}),Uye=new P("MAT_ICON_DEFAULT_OPTIONS"),$ye=new P("mat-icon-location",{providedIn:"root",factory:function Gye(){const n=tt(Me),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),mB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Wye=mB.map(n=>`[${n}]`).join(", "),Kye=/^url\(['"]?#(.*?)['"]?\)$/;let yB=(()=>{class n extends qye{constructor(t,r,i,o,s,a){super(t),this._iconRegistry=r,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=yt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=rr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(Wye),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)mB.forEach(s=>{const a=r[o],l=a.getAttribute(s),c=l?l.match(Kye):null;if(c){let u=i.get(a);u||(u=[],i.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(zn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(_(He),_(og),Wo("aria-hidden"),_($ye),_(ro),_(Uye,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(_t("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),An("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ge],ngContentSelectors:Vye,decls:1,vars:0,template:function(t,r){1&t&&(Ti(),en(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Zye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[Cn,Cn]}),n})();const Yye=["mat-button",""],Xye=["*"],Jye=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],ege=tg(JV(JE(class{constructor(n){this._elementRef=n}})));let o5,ag=(()=>{class n extends ege{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of Jye)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(_(He),_(eg),_(nc,8))},n.\u0275cmp=Qe({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&co(ng,5),2&t){let i;ot(i=st())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(_t("disabled",r.disabled||null),An("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ge],attrs:Yye,ngContentSelectors:Xye,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(Ti(),D(0,"span",0),en(1),R(),_e(2,"span",1)(3,"span",2)),2&t&&(U(2),An("mat-button-ripple-round",r.isRoundButton||r.isIconButton),z("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[ng],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),tge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[t5,Cn,Cn]}),n})(),nge=1;const lg={};function gB(n){return n in lg&&(delete lg[n],!0)}const rge={setImmediate(n){const e=nge++;return lg[e]=!0,o5||(o5=Promise.resolve()),o5.then(()=>gB(e)&&n()),e},clearImmediate(n){gB(n)}},{setImmediate:ige,clearImmediate:oge}=rge,cg={setImmediate(...n){const{delegate:e}=cg;return(e?.setImmediate||ige)(...n)},clearImmediate(n){const{delegate:e}=cg;return(e?.clearImmediate||oge)(n)},delegate:void 0},s5=new class age extends x1{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const o=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<o&&(e=t.shift()));if(this._active=!1,r){for(;++i<o&&(e=t.shift());)e.unsubscribe();throw r}}}(class sge extends C1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=cg.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cg.clearImmediate(t),e._scheduled=void 0)}});function _B(n,e){return e?t=>Fd(e.pipe(zn(1),function lge(){return gt((n,e)=>{n.subscribe(new Je(e,cl))})}()),t.pipe(_B(n))):Ot((t,r)=>n(t,r).pipe(zn(1),qP(t)))}function vB(n=0,e,t=rR){let r=-1;return null!=e&&(K3(e)?t=e:r=e),new Ve(i=>{let o=function cge(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function kB(n,e=E1){const t=vB(n,e);return _B(()=>t)}class bB{}const Fo="*";function ug(n,e){return{type:7,name:n,definitions:e,options:{}}}function cu(n,e=null){return{type:4,styles:e,timings:n}}function wB(n,e=null){return{type:2,steps:n,options:e}}function ir(n){return{type:6,styles:n,offset:null}}function ap(n,e,t){return{type:0,name:n,styles:e,options:t}}function uu(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function MB(n){Promise.resolve(null).then(n)}class lp{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){MB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class CB{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?MB(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class l5{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class hge extends l5{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class xB extends l5{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class pge extends l5{constructor(e){super(),this.element=e instanceof He?e.nativeElement:e}}class mge extends class fge{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof hge?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof xB?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof pge?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||St.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let yge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({}),n})();const gge=["addListener","removeListener"],_ge=["addEventListener","removeEventListener"],vge=["on","off"];function dg(n,e,t,r){if(Re(t)&&(r=t,t=void 0),r)return dg(n,e,t).pipe(aC(r));const[i,o]=function wge(n){return Re(n.addEventListener)&&Re(n.removeEventListener)}(n)?_ge.map(s=>a=>n[s](e,a,t)):function kge(n){return Re(n.addListener)&&Re(n.removeListener)}(n)?gge.map(EB(n,e)):function bge(n){return Re(n.on)&&Re(n.off)}(n)?vge.map(EB(n,e)):[];if(!i&&a2(n))return Ot(s=>dg(s,e,t))(jn(n));if(!i)throw new TypeError("Invalid event target");return new Ve(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function EB(n,e){return t=>r=>n[t](e,r)}const cp={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=cp;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new yt(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=cp;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=cp;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Cge extends x1{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const o=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<o&&(e=t.shift()));if(this._active=!1,r){for(;++i<o&&(e=t.shift());)e.unsubscribe();throw r}}}(class Mge extends C1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=cp.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cp.cancelAnimationFrame(t),e._scheduled=void 0)}});function TB(n,e=rR){return function Ege(n){return gt((e,t)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const c=i;i=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(new Je(t,c=>{r=!0,i=c,o||jn(n(c)).subscribe(o=new Je(t,a,l))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>vB(n,e))}let Sge=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new ke,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ve(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(TB(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):W()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(gn(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=No(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>dg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(C(ie),C(gr),C(Me,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SB=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new ke,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(TB(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(C(gr),C(ie),C(Me,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({}),n})(),DB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[rp,hg,rp,hg]}),n})();const IB=kme();class Ige{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Gt(-this._previousScrollPosition.left),e.style.top=Gt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),IB&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),IB&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Age{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class AB{enable(){}disable(){}attach(){}}function c5(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function RB(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Rge{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();c5(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Pge=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new AB,this.close=s=>new Age(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Ige(this._viewportRuler,this._document),this.reposition=s=>new Rge(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(C(Sge),C(SB),C(ie),C(Me))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class PB{constructor(e){if(this.scrollStrategy=new AB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Oge{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let OB=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(C(Me))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nge=(()=>{class n extends OB{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(C(Me),C(ie,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fge=(()=>{class n extends OB{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ya(o)},this._clickListener=o=>{const s=Ya(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(C(Me),C(gr),C(ie,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NB=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||$E()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),$E()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(C(Me),C(gr))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Lge{constructor(e,t,r,i,o,s,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new ke,this._attachments=new ke,this._detachments=new ke,this._locationChanges=yt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new ke,this._outsidePointerEvents=new ke,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(zn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Gt(this._config.width),e.height=Gt(this._config.height),e.minWidth=Gt(this._config.minWidth),e.minHeight=Gt(this._config.minHeight),e.maxWidth=Gt(this._config.maxWidth),e.maxHeight=Gt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Qy(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Gi(dl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const FB="cdk-overlay-connected-position-bounding-box",Vge=/([A-Za-z%]+)$/;class Bge{constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ke,this._resizeSubscription=yt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(FB),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qa(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(FB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?s:a}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=VB(t);let{x:s,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(s+=l),c&&(a+=c);let h=0-a,p=a+o.height-r.height,f=this._subtractOverflows(o.width,0-s,s+o.width-r.width),m=this._subtractOverflows(o.height,h,p),g=f*m;return{visibleArea:g,isCompletelyWithinViewport:o.width*o.height===g,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:f==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,s=LB(this._overlayRef.getConfig().minHeight),a=LB(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=o;return(e.fitsInViewportVertically||null!=s&&s<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=VB(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),l=Math.max(o.top-r.top-e.y,0),c=Math.max(o.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-r.left-e.x:0,d=i.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Oge(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=r.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const p=Math.min(r.bottom-e.y+r.top,e.y),f=this._lastBoundingBoxSize.height;o=2*p,s=e.y-p,o>f&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-f/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const p=Math.min(r.right-e.x+r.left,e.x),f=this._lastBoundingBoxSize.width;u=2*p,d=e.x-p,u>f&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-f/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Gt(r.height),i.top=Gt(r.top),i.bottom=Gt(r.bottom),i.width=Gt(r.width),i.left=Gt(r.left),i.right=Gt(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Gt(o)),s&&(i.maxWidth=Gt(s))}this._lastBoundingBoxSize=r,Qa(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Qa(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qa(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Qa(r,this._getExactOverlayY(t,e,u)),Qa(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=Gt(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Gt(s.maxWidth):o&&(r.maxWidth="")),Qa(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Gt(o.y),i}_getExactOverlayX(e,t,r){let s,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Gt(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:RB(e,r),isOriginOutsideView:c5(e,r),isOverlayClipped:RB(t,r),isOverlayOutsideView:c5(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Qy(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof He)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Qa(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function LB(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Vge);return t&&"px"!==t?null:parseFloat(e)}return n||null}function VB(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const BB="cdk-global-overlay-wrapper";class Hge{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(BB),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let p="",f="",m="";l?m="flex-start":"center"===u?(m="center",h?f=d:p=d):h?"left"===u||"end"===u?(m="flex-end",p=d):("right"===u||"start"===u)&&(m="flex-start",f=d):"left"===u||"start"===u?(m="flex-start",p=d):("right"===u||"end"===u)&&(m="flex-end",f=d),e.position=this._cssPosition,e.marginLeft=l?"0":p,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":f,t.justifyContent=m,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(BB),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let jge=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new Hge}flexibleConnectedTo(t){return new Bge(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(C(SB),C(Me),C(gr),C(NB))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zge=0,up=(()=>{class n{constructor(t,r,i,o,s,a,l,c,u,d,h,p){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=p}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new PB(t);return s.direction=s.direction||this._directionality.value,new Lge(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+zge++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(oa)),new mge(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(C(Pge),C(NB),C(Ys),C(jge),C(Nge),C(St),C(ie),C(Me),C(QE),C(Gf),C(Fge),C(nc,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const $ge={provide:new P("cdk-connected-overlay-scroll-strategy"),deps:[up],useFactory:function Uge(n){return()=>n.scrollStrategies.reposition()}};let HB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({providers:[up,$ge],imports:[rp,yge,DB,DB]}),n})();const Gge=["mat-menu-item",""];function Wge(n,e){1&n&&(Up(),D(0,"svg",2),_e(1,"polygon",3),R())}const jB=["*"];function Kge(n,e){if(1&n){const t=Qo();D(0,"div",0),je("keydown",function(i){return Gn(t),Wn(we()._handleKeydown(i))})("click",function(){return Gn(t),Wn(we().closed.emit("click"))})("@transformMenu.start",function(i){return Gn(t),Wn(we()._onAnimationStart(i))})("@transformMenu.done",function(i){return Gn(t),Wn(we()._onAnimationDone(i))}),D(1,"div",1),en(2),R()()}if(2&n){const t=we();z("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),_t("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const pg={transformMenu:ug("transformMenu",[ap("void",ir({opacity:0,transform:"scale(0.8)"})),uu("void => enter",cu("120ms cubic-bezier(0, 0, 0.2, 1)",ir({opacity:1,transform:"scale(1)"}))),uu("* => void",cu("100ms 25ms linear",ir({opacity:0})))]),fadeInItems:ug("fadeInItems",[ap("showing",ir({opacity:1})),uu("void => *",[ir({opacity:0}),cu("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Zge=new P("MatMenuContent"),u5=new P("MAT_MENU_PANEL"),Yge=JE(JV(class{}));let dp=(()=>{class n extends Yge{constructor(t,r,i,o,s){super(),this._elementRef=t,this._document=r,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new ke,this._focused=new ke,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),r=t.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(_(He),_(Me),_(eg),_(u5,8),_(zr))},n.\u0275cmp=Qe({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,r){1&t&&je("click",function(o){return r._checkDisabled(o)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(_t("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),An("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[ge],attrs:Gge,ngContentSelectors:jB,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(Ti(),en(0),_e(1,"div",0),de(2,Wge,2,0,"svg",1)),2&t&&(U(1),z("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),U(1),z("ngIf",r._triggersSubmenu))},dependencies:[di,ng],encapsulation:2,changeDetection:0}),n})();const zB=new P("mat-menu-default-options",{providedIn:"root",factory:function Xge(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Qge=0,hp=(()=>{class n{constructor(t,r,i,o){this._elementRef=t,this._ngZone=r,this._defaultOptions=i,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Xl,this._tabSubscription=yt.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new ke,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Pe,this.close=this.closed,this.panelId="mat-menu-panel-"+Qge++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=rr(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=rr(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Xme(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(cs(this._directDescendantItems),Pn(t=>dl(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=t.toArray(),o=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[o]&&!i[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(cs(this._directDescendantItems),Pn(r=>dl(...r.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,i=this._keyManager;switch(r){case 27:VV(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(zn(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(t=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===t,i["mat-menu-after"]="after"===t,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(cs(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(_(He),_(ie),_(zB),_(zr))},n.\u0275dir=K({type:n,contentQueries:function(t,r,i){if(1&t&&(pn(i,Zge,5),pn(i,dp,5),pn(i,dp,4)),2&t){let o;ot(o=st())&&(r.lazyContent=o.first),ot(o=st())&&(r._allItems=o),ot(o=st())&&(r.items=o)}},viewQuery:function(t,r){if(1&t&&co(jr,5),2&t){let i;ot(i=st())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),qB=(()=>{class n extends hp{constructor(t,r,i,o){super(t,r,i,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(_(He),_(ie),_(zB),_(zr))},n.\u0275cmp=Qe({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&_t("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[$e([{provide:u5,useExisting:n}]),ge],ngContentSelectors:jB,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,r){1&t&&(Ti(),de(0,Kge,3,6,"ng-template"))},dependencies:[rv],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[pg.transformMenu,pg.fadeInItems]},changeDetection:0}),n})();const UB=new P("mat-menu-scroll-strategy"),e2e={provide:UB,deps:[up],useFactory:function Jge(n){return()=>n.scrollStrategies.reposition()}},$B=su({passive:!0});let t2e=(()=>{class n{constructor(t,r,i,o,s,a,l,c,u){this._overlay=t,this._element=r,this._viewContainerRef=i,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._ngZone=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=yt.EMPTY,this._hoverSubscription=yt.EMPTY,this._menuCloseSubscription=yt.EMPTY,this._handleTouchStart=d=>{YE(d)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Pe,this.onMenuOpen=this.menuOpened,this.menuClosed=new Pe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof hp?s:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,$B),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,$B),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const r=this._createOverlay(t),i=r.getConfig(),o=i.positionStrategy;this._setPosition(t,o),i.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),r.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof hp&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Gi(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof hp?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(gn(i=>"void"===i.toState),zn(1),Gi(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let r=0,i=t.parentMenu;for(;i;)r++,i=i.parentMenu;t.setElevation(r)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const r=this._getOverlayConfig(t);this._subscribeToPositions(t,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new PB({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,r){t.setPositionClasses&&r.positionChanges.subscribe(i=>{const o="start"===i.connectionPair.overlayX?"after":"before",s="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,s)):t.setPositionClasses(o,s)})}_setPosition(t,r){let[i,o]="before"===t.xPosition?["end","start"]:["start","end"],[s,a]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[u,d]=[i,o],h=0;if(this.triggersSubmenu()){if(d=i="before"===t.xPosition?"start":"end",o=u="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const p=this._parentMaterialMenu.items.first;this._parentInnerPadding=p?p._getHostElement().offsetTop:0}h="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(l="top"===s?"bottom":"top",c="top"===a?"bottom":"top");r.withPositions([{originX:i,originY:l,overlayX:u,overlayY:s,offsetY:h},{originX:o,originY:l,overlayX:d,overlayY:s,offsetY:h},{originX:i,originY:c,overlayX:u,overlayY:a,offsetY:-h},{originX:o,originY:c,overlayX:d,overlayY:a,offsetY:-h}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments();return dl(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:W(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(gn(s=>s!==this._menuItemInstance),gn(()=>this._menuOpen)):W(),r)}_handleMousedown(t){ZE(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(gn(t=>t===this._menuItemInstance&&!t.disabled),kB(0,s5)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof hp&&this.menu._isAnimating?this.menu._animationDone.pipe(zn(1),kB(0,s5),Gi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new xB(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(_(up),_(He),_(Sr),_(UB),_(u5,8),_(dp,10),_(QE,8),_(eg),_(ie))},n.\u0275dir=K({type:n,hostVars:3,hostBindings:function(t,r){1&t&&je("click",function(o){return r._handleClick(o)})("mousedown",function(o){return r._handleMousedown(o)})("keydown",function(o){return r._handleKeydown(o)}),2&t&&_t("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen||null)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),GB=(()=>{class n extends t2e{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=hn(n)))(r||n)}}(),n.\u0275dir=K({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[ge]}),n})(),n2e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({providers:[e2e],imports:[dd,Cn,t5,HB,hg,Cn]}),n})();const r2e=["*"],WB=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]];var pp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const d5=new P("LucideIcons",{factory:()=>new h5({})});class h5{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return"object"==typeof this.icons&&e in this.icons}}let t5e=(()=>{class n{constructor(){this.color=pp.stroke,this.size=pp.width,this.strokeWidth=pp["stroke-width"],this.absoluteStrokeWidth=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n5e(n,e=3){return parseFloat(n.toFixed(e)).toString(10)}let r5e=(()=>{class n{constructor(t,r,i,o,s){this.elem=t,this.renderer=r,this.changeDetector=i,this.iconProviders=o,this.iconConfig=s,this.absoluteStrokeWidth=!1,this.defaultSize=pp.height}set img(t){this.name=t}get size(){return this._size??this.iconConfig.size}set size(t){t?this._size=this.parseNumber(t):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(t){t?this._strokeWidth=this.parseNumber(t):delete this._strokeWidth}ngOnChanges(t){if(this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth,t.name||t.img){const r=t.img?.currentValue??t.name?.currentValue;if("string"==typeof r){const i=this.getIcon(this.toPascalCase(r));if(!i)throw new Error(`The "${r}" icon has not been provided by any available icon providers.`);this.replaceElement(i)}else{if(!Array.isArray(r))throw new Error("No icon name or image has been provided.");this.replaceElement(r)}}this.changeDetector.markForCheck()}replaceElement(t){const r={...pp,width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?n5e(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)},i=this.createElement(["svg",r,t]);i.classList.add("lucide"),"string"==typeof this.name&&i.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&i.classList.add(...this.class.split(/ /).map(s=>s.trim()).filter(s=>s.length>0));const o=this.elem.nativeElement.childNodes;for(const s of o)this.renderer.removeChild(this.elem.nativeElement,s);this.renderer.appendChild(this.elem.nativeElement,i)}toPascalCase(t){return t.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,i,o)=>i.toUpperCase()+o.toLowerCase())}parseNumber(t){if("string"==typeof t){const r=parseInt(t,10);if(isNaN(r))throw new Error(`${t} is not numeric.`);return r}return t}getIcon(t){for(const r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(t))return r.getIcon(t);return null}createElement([t,r,i=[]]){const o=this.renderer.createElement(t,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(s=>{const a="string"==typeof r[s]?r[s]:r[s].toString(10);this.renderer.setAttribute(o,s,a)}),i.length&&i.forEach(s=>{const a=this.createElement(s);this.renderer.appendChild(o,a)}),o}}return n.\u0275fac=function(t){return new(t||n)(_(He),_(ii),_(zr),_(d5),_(t5e))},n.\u0275cmp=Qe({type:n,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",img:"img",size:"size",strokeWidth:"strokeWidth"},features:[$n],ngContentSelectors:r2e,decls:1,vars:0,template:function(t,r){1&t&&(Ti(),en(0))},encapsulation:2}),n})();class i5e{constructor(e){this.icons=e}}const o5e=n=>new h5(n??{});let s5e=(()=>{class n{static pick(t){return{ngModule:n,providers:[{provide:d5,multi:!0,useValue:new h5(t)},{provide:d5,multi:!0,useFactory:o5e,deps:[[new pt,i5e]]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[]]}),n})();function a5e(n,e){if(1&n&&(ao(0),D(1,"button",8)(2,"mat-icon"),I(3,"face"),R(),I(4),D(5,"mat-icon"),I(6,"expand_more"),R()(),lo()),2&n){const t=e.ngIf;we();const r=ea(13);U(1),z("matMenuTriggerFor",r),U(3),Sf(" ",t.displayName," ")}}function l5e(n,e){1&n&&(D(0,"button",9)(1,"mat-icon"),I(2,"login"),R(),I(3," Login "),R())}let c5e=(()=>{class n{constructor(t,r,i,o){this.authService=t,this.router=r,this.usersService=i,this.ngZone=o,this.user$=this.usersService.currentUserProfile$}logout(){this.authService.logout().subscribe(()=>{this.ngZone.run(()=>{this.router.navigate(["/home"])})})}}return n.\u0275fac=function(t){return new(t||n)(_(rm),_(on),_(tp),_(ie))},n.\u0275cmp=Qe({type:n,selectors:[["app-root"]],decls:22,vars:10,consts:[[1,"toolbar-content"],["name","ghost"],[4,"ngIf","ngIfElse"],["loginButton",""],[1,"content"],["userMenu","matMenu"],["mat-menu-item","","routerLink","/profile"],["mat-menu-item","",3,"click"],["mat-button","",3,"matMenuTriggerFor"],["mat-button","","routerLink","login"]],template:function(t,r){if(1&t&&(D(0,"mat-toolbar"),ra(1,"async"),D(2,"span",0)(3,"h1"),I(4,"Chatsper"),R(),_e(5,"lucide-icon",1),R(),de(6,a5e,7,2,"ng-container",2),ra(7,"async"),de(8,l5e,4,0,"ng-template",null,3,Nf),R(),D(10,"div",4),_e(11,"router-outlet"),R(),D(12,"mat-menu",null,5)(14,"button",6)(15,"mat-icon"),I(16,"account_circle"),R(),I(17," Profile "),R(),D(18,"button",7),je("click",function(){return r.logout()}),D(19,"mat-icon"),I(20,"logout"),R(),I(21," Logout "),R()()),2&t){const i=ea(9);let o;Yn("background",(null==(o=ia(1,6,r.user$))?null:o.color)||"rgb(128, 128, 128)")("color","white"),U(6),z("ngIf",ia(7,8,r.user$))("ngIfElse",i)}},dependencies:[di,xC,Cm,Eye,yB,ag,qB,dp,GB,r5e,ud],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between}.content[_ngcontent-%COMP%]{padding:32px}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px}.toolbar-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.toolbar-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-right:2px}.toolbar-content[_ngcontent-%COMP%]   lucide-icon[_ngcontent-%COMP%]{margin-top:5px}"]}),n})();function KB(n){return new E(3e3,!1)}function U5e(){return typeof window<"u"&&typeof window.document<"u"}function p5(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ps(n){switch(n.length){case 0:return new lp;case 1:return n[0];default:return new CB(n)}}function ZB(n,e,t,r,i=new Map,o=new Map){const s=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.get("offset"),h=d==l,p=h&&c||new Map;u.forEach((f,m)=>{let g=m,k=f;if("offset"!==m)switch(g=e.normalizePropertyName(g,s),k){case"!":k=i.get(m);break;case Fo:k=o.get(m);break;default:k=e.normalizeStyleValue(m,g,k,s)}p.set(g,k)}),h||a.push(p),c=p,l=d}),s.length)throw function R5e(n){return new E(3502,!1)}();return a}function f5(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&m5(t,"start",n)));break;case"done":n.onDone(()=>r(t&&m5(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&m5(t,"destroy",n)))}}function m5(n,e,t){const o=y5(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function y5(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Pr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function YB(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let g5=(n,e)=>!1,XB=(n,e,t)=>[],QB=null;function _5(n){const e=n.parentNode||n.host;return e===QB?null:e}(p5()||typeof Element<"u")&&(U5e()?(QB=(()=>document.documentElement)(),g5=(n,e)=>{for(;e;){if(e===n)return!0;e=_5(e)}return!1}):g5=(n,e)=>n.contains(e),XB=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Ja=null,JB=!1;const eH=g5,tH=XB;let nH=(()=>{class n{validateStyleProperty(t){return function G5e(n){Ja||(Ja=function W5e(){return typeof document<"u"?document.body:null}()||{},JB=!!Ja.style&&"WebkitAppearance"in Ja.style);let e=!0;return Ja.style&&!function $5e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ja.style,!e&&JB&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ja.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return eH(t,r)}getParentElement(t){return _5(t)}query(t,r,i){return tH(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new lp(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),v5=(()=>{class n{}return n.NOOP=new nH,n})();const k5="ng-enter",fg="ng-leave",mg="ng-trigger",yg=".ng-trigger",iH="ng-animating",b5=".ng-animating";function Os(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:w5(parseFloat(e[1]),e[2])}function w5(n,e){return"s"===e?1e3*n:n}function gg(n,e,t){return n.hasOwnProperty("duration")?n:function Y5e(n,e,t){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(KB()),{duration:0,delay:0,easing:""};i=w5(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=w5(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function u5e(){return new E(3100,!1)}()),a=!0),o<0&&(e.push(function d5e(){return new E(3101,!1)}()),a=!0),a&&e.splice(l,0,KB())}return{duration:i,delay:o,easing:s}}(n,e,t)}function fp(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function oH(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ns(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function aH(n,e,t){return t?e+":"+t+";":""}function lH(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=aH(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=aH(0,e3e(t),n.style[t]));n.setAttribute("style",e)}function Wi(n,e,t){n.style&&(e.forEach((r,i)=>{const o=C5(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),p5()&&lH(n))}function el(n,e){n.style&&(e.forEach((t,r)=>{const i=C5(r);n.style[i]=""}),p5()&&lH(n))}function mp(n){return Array.isArray(n)?1==n.length?n[0]:wB(n):n}const M5=new RegExp("{{\\s*(.+?)\\s*}}","g");function cH(n){let e=[];if("string"==typeof n){let t;for(;t=M5.exec(n);)e.push(t[1]);M5.lastIndex=0}return e}function _g(n,e,t){const r=n.toString(),i=r.replace(M5,(o,s)=>{let a=e[s];return null==a&&(t.push(function p5e(n){return new E(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function vg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const J5e=/-+([a-z0-9])/g;function C5(n){return n.replace(J5e,(...e)=>e[1].toUpperCase())}function e3e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Or(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function f5e(n){return new E(3004,!1)}()}}function uH(n,e){return window.getComputedStyle(n)[e]}function s3e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function a3e(n,e,t){if(":"==n[0]){const l=function l3e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function S5e(n){return new E(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function T5e(n){return new E(3015,!1)}()),e;const i=r[1],o=r[2],s=r[3];e.push(dH(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&e.push(dH(s,i))}(r,t,e)):t.push(n),t}const Mg=new Set(["true","1"]),Cg=new Set(["false","0"]);function dH(n,e){const t=Mg.has(n)||Cg.has(n),r=Mg.has(e)||Cg.has(e);return(i,o)=>{let s="*"==n||n==i,a="*"==e||e==o;return!s&&t&&"boolean"==typeof i&&(s=i?Mg.has(n):Cg.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?Mg.has(e):Cg.has(e)),s&&a}}const c3e=new RegExp("s*:selfs*,?","g");function x5(n,e,t,r){return new u3e(n).build(e,t,r)}class u3e{constructor(e){this._driver=e}build(e,t,r){const i=new p3e(t);return this._resetContextStyleTimingState(i),Or(this,mp(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function y5e(){return new E(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(function g5e(){return new E(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{cH(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(vg(o.values()),t.errors.push(function _5e(n,e){return new E(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Or(this,mp(e.animation),t);return{type:1,matchers:s3e(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:tl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Or(this,r,t)),options:tl(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(s=>{t.currentTime=r;const a=Or(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:tl(e.options)}}visitAnimate(e,t){const r=function m3e(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return E5(gg(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=E5(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=gg(t,e);return E5(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:ir({});if(5==o.type)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=ir(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Fo?r.push(a):t.errors.push(new E(3002,!1)):r.push(oH(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(function k5e(n,e,t,r,i){return new E(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:i}),t.options&&function Q5e(n,e,t){const r=e.params||{},i=cH(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function h5e(n){return new E(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function b5e(){return new E(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,c=0;const u=e.steps.map(k=>{const w=this._makeStyleAst(k,t);let v=null!=w.offset?w.offset:function f3e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(w.styles),x=0;return null!=v&&(o++,x=w.offset=v),l=l||x<0||x>1,a=a||x<c,c=x,s.push(x),w});l&&t.errors.push(function w5e(){return new E(3012,!1)}()),a&&t.errors.push(function M5e(){return new E(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function C5e(){return new E(3202,!1)}()):0==o&&(h=1/(d-1));const p=d-1,f=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((k,w)=>{const v=h>0?w==p?1:h*w:s[w],x=v*g;t.currentTime=f+m.delay+x,m.duration=x,this._validateStyleAst(k,t),k.offset=v,r.styles.push(k)}),r}visitReference(e,t){return{type:8,animation:Or(this,mp(e.animation),t),options:tl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:tl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:tl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function d3e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(c3e,"")),n=n.replace(/@\*/g,yg).replace(/@\w+/g,t=>yg+"-"+t.slice(1)).replace(/:animating/g,b5),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Pr(t.collectedStyles,t.currentQuerySelector,new Map);const a=Or(this,mp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:tl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function x5e(){return new E(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:gg(e.timings,t.errors,!0);return{type:12,animation:Or(this,mp(e.animation),t),timings:r,options:null}}}class p3e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function tl(n){return n?(n=fp(n)).params&&(n.params=function h3e(n){return n?fp(n):null}(n.params)):n={},n}function E5(n,e,t){return{duration:n,delay:e,easing:t}}function T5(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class xg{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const _3e=new RegExp(":enter","g"),k3e=new RegExp(":leave","g");function S5(n,e,t,r,i,o=new Map,s=new Map,a,l,c=[]){return(new b3e).buildKeyframes(n,e,t,r,i,o,s,a,l,c)}class b3e{buildKeyframes(e,t,r,i,o,s,a,l,c,u=[]){c=c||new xg;const d=new D5(e,t,c,i,o,u,[]);d.options=l;const h=l.delay?Os(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),Or(this,r,d);const p=d.timelines.filter(f=>f.containsAnimation());if(p.length&&a.size){let f;for(let m=p.length-1;m>=0;m--){const g=p[m];if(g.element===t){f=g;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,l)}return p.length?p.map(f=>f.buildKeyframes()):[T5(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?Os(r.duration):null,a=null!=r.delay?Os(r.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Or(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Eg);const s=Os(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Or(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Os(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Or(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return gg(t.params?_g(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Os(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Eg);let s=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),Or(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Or(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Eg={};class D5{constructor(e,t,r,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Eg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Tg(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Os(r.duration)),null!=r.delay&&(i.delay=Os(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=_g(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new D5(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Eg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new w3e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(_3e,"."+this._enterClassName)).replace(k3e,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function E5e(n){return new E(3014,!1)}()),a}}class Tg{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Tg(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Fo),this._currentKeyframe.set(t,Fo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},s=function M3e(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,Fo)}else Ns(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=_g(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Fo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=Ns(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===Fo&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const o=e.size?vg(e.values()):[],s=t.size?vg(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return T5(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class w3e extends Tg{constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,l=Ns(e[0]);l.set("offset",0),o.push(l);const c=Ns(e[0]);c.set("offset",fH(a)),o.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Ns(e[d]);const p=h.get("offset");h.set("offset",fH((t+p*r)/s)),o.push(h)}r=s,t=0,i="",e=o}return T5(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function fH(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class I5{}const C3e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class x3e extends I5{normalizePropertyName(e,t){return C5(e)}normalizeStyleValue(e,t,r,i){let o="";const s=r.toString().trim();if(C3e.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function m5e(n,e){return new E(3005,!1)}())}return s+o}}function mH(n,e,t,r,i,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const A5={};class yH{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function E3e(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||A5,f=this.buildStyles(r,a&&a.params||A5,d),m=l&&l.params||A5,g=this.buildStyles(i,m,d),k=new Set,w=new Map,v=new Map,x="void"===i,L={params:T3e(m,h),delay:this.ast.options?.delay},j=u?[]:S5(e,t,this.ast.animation,o,s,f,g,L,c,d);let le=0;if(j.forEach(mt=>{le=Math.max(mt.duration+mt.delay,le)}),d.length)return mH(t,this._triggerName,r,i,x,f,g,[],[],w,v,le,d);j.forEach(mt=>{const lr=mt.element,yu=Pr(w,lr,new Set);mt.preStyleProps.forEach(ki=>yu.add(ki));const jo=Pr(v,lr,new Set);mt.postStyleProps.forEach(ki=>jo.add(ki)),lr!==t&&k.add(lr)});const Ke=vg(k.values());return mH(t,this._triggerName,r,i,x,f,g,j,Ke,w,v,le)}}function T3e(n,e){const t=fp(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class S3e{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=fp(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=_g(s,i,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),r.set(l,s)})}),r}}class I3e{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new S3e(i.style,i.options&&i.options.params||{},r))}),gH(this.states,"true","1"),gH(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new yH(e,i,this.states))}),this.fallbackTransition=function A3e(n,e,t){return new yH(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function gH(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const R3e=new xg;class P3e{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=x5(this._driver,t,r,[]);if(r.length)throw function P5e(n){return new E(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=ZB(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=S5(this._driver,t,o,k5,fg,new Map,new Map,r,R3e,i),s.forEach(u=>{const d=Pr(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function O5e(){return new E(3300,!1)}()),s=[]),i.length)throw function N5e(n){return new E(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,p)=>{u.set(p,this._driver.computeStyle(d,p,Fo))})});const c=Ps(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function F5e(n){return new E(3301,!1)}();return t}listen(e,t,r,i){const o=y5(t,"","","");return f5(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const _H="ng-animate-queued",R5="ng-animate-disabled",V3e=[],vH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},B3e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zr="__ng_removed";class P5{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function q3e(n){return n??null}(r?e.value:e),r){const o=fp(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const yp="void",O5=new P5(yp);class H3e{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Yr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function L5e(n,e){return new E(3302,!1)}();if(null==r||0==r.length)throw function V5e(n){return new E(3303,!1)}();if(!function U3e(n){return"start"==n||"done"==n}(r))throw function B5e(n,e){return new E(3400,!1)}();const o=Pr(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);const a=Pr(this._engine.statesByElement,e,new Map);return a.has(t)||(Yr(e,mg),Yr(e,mg+"-"+t),a.set(t,O5)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function H5e(n){return new E(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),s=new N5(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Yr(e,mg),Yr(e,mg+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new P5(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=O5),c.value!==yp&&l.value===c.value){if(!function W3e(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const m=[],g=o.matchStyles(l.value,l.params,m),k=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{el(e,g),Wi(e,k)})}return}const h=Pr(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let p=o.matchTransition(l.value,c.value,e,c.params),f=!1;if(!p){if(!i)return;p=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:c,player:s,isFallbackTransition:f}),f||(Yr(e,_H),s.onStart(()=>{du(e,_H)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let k=g.indexOf(s);k>=0&&g.splice(k,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,yg,!0);r.forEach(i=>{if(i[Zr])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,yp,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Ps(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,c=r.get(s)||O5,u=new P5(yp),d=new N5(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Zr];(!o||o===vH)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Yr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=y5(o,r.triggerName,r.fromState.value,r.toState.value);l._data=e,f5(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class j3e{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new H3e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(Sg(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Sg(t))return;const o=t[Zr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Yr(e,R5)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),du(e,R5))}removeNode(e,t,r,i){if(Sg(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Zr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Sg(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,yg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,b5,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ps(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Zr];if(t&&t.setForRemoval){if(e[Zr]=vH,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(R5)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Yr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ps(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function j5e(n){return new E(3402,!1)}()}_flushAnimations(e,t){const r=new xg,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(G=>{u.add(G);const X=this.driver.query(G,".ng-animate-queued",!0);for(let te=0;te<X.length;te++)u.add(X[te])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=wH(h,this.collectedEnterElements),f=new Map;let m=0;p.forEach((G,X)=>{const te=k5+m++;f.set(X,te),G.forEach(Oe=>Yr(Oe,te))});const g=[],k=new Set,w=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){const X=this.collectedLeaveElements[G],te=X[Zr];te&&te.setForRemoval&&(g.push(X),k.add(X),te.hasAnimation?this.driver.query(X,".ng-star-inserted",!0).forEach(Oe=>k.add(Oe)):w.add(X))}const v=new Map,x=wH(h,Array.from(k));x.forEach((G,X)=>{const te=fg+m++;v.set(X,te),G.forEach(Oe=>Yr(Oe,te))}),e.push(()=>{p.forEach((G,X)=>{const te=f.get(X);G.forEach(Oe=>du(Oe,te))}),x.forEach((G,X)=>{const te=v.get(X);G.forEach(Oe=>du(Oe,te))}),g.forEach(G=>{this.processLeaveNode(G)})});const L=[],j=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(t).forEach(te=>{const Oe=te.player,dn=te.element;if(L.push(Oe),this.collectedEnterElements.length){const Hn=dn[Zr];if(Hn&&Hn.setForMove){if(Hn.previousTriggersValues&&Hn.previousTriggersValues.has(te.triggerName)){const al=Hn.previousTriggersValues.get(te.triggerName),Xr=this.statesByElement.get(te.element);if(Xr&&Xr.has(te.triggerName)){const Qg=Xr.get(te.triggerName);Qg.value=al,Xr.set(te.triggerName,Qg)}}return void Oe.destroy()}}const Yi=!d||!this.driver.containsElement(d,dn),Nr=v.get(dn),Bs=f.get(dn),xt=this._buildInstruction(te,r,Bs,Nr,Yi);if(xt.errors&&xt.errors.length)return void j.push(xt);if(Yi)return Oe.onStart(()=>el(dn,xt.fromStyles)),Oe.onDestroy(()=>Wi(dn,xt.toStyles)),void i.push(Oe);if(te.isFallbackTransition)return Oe.onStart(()=>el(dn,xt.fromStyles)),Oe.onDestroy(()=>Wi(dn,xt.toStyles)),void i.push(Oe);const qz=[];xt.timelines.forEach(Hn=>{Hn.stretchStartingKeyframe=!0,this.disabledNodes.has(Hn.element)||qz.push(Hn)}),xt.timelines=qz,r.append(dn,xt.timelines),s.push({instruction:xt,player:Oe,element:dn}),xt.queriedElements.forEach(Hn=>Pr(a,Hn,[]).push(Oe)),xt.preStyleProps.forEach((Hn,al)=>{if(Hn.size){let Xr=l.get(al);Xr||l.set(al,Xr=new Set),Hn.forEach((Qg,E3)=>Xr.add(E3))}}),xt.postStyleProps.forEach((Hn,al)=>{let Xr=c.get(al);Xr||c.set(al,Xr=new Set),Hn.forEach((Qg,E3)=>Xr.add(E3))})});if(j.length){const G=[];j.forEach(X=>{G.push(function z5e(n,e){return new E(3505,!1)}())}),L.forEach(X=>X.destroy()),this.reportError(G)}const le=new Map,Ke=new Map;s.forEach(G=>{const X=G.element;r.has(X)&&(Ke.set(X,X),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,le))}),i.forEach(G=>{const X=G.element;this._getPreviousPlayers(X,!1,G.namespaceId,G.triggerName,null).forEach(Oe=>{Pr(le,X,[]).push(Oe),Oe.destroy()})});const mt=g.filter(G=>CH(G,l,c)),lr=new Map;bH(lr,this.driver,w,c,Fo).forEach(G=>{CH(G,l,c)&&mt.push(G)});const jo=new Map;p.forEach((G,X)=>{bH(jo,this.driver,new Set(G),l,"!")}),mt.forEach(G=>{const X=lr.get(G),te=jo.get(G);lr.set(G,new Map([...Array.from(X?.entries()??[]),...Array.from(te?.entries()??[])]))});const ki=[],gu=[],_u={};s.forEach(G=>{const{element:X,player:te,instruction:Oe}=G;if(r.has(X)){if(u.has(X))return te.onDestroy(()=>Wi(X,Oe.toStyles)),te.disabled=!0,te.overrideTotalTime(Oe.totalTime),void i.push(te);let dn=_u;if(Ke.size>1){let Nr=X;const Bs=[];for(;Nr=Nr.parentNode;){const xt=Ke.get(Nr);if(xt){dn=xt;break}Bs.push(Nr)}Bs.forEach(xt=>Ke.set(xt,dn))}const Yi=this._buildAnimation(te.namespaceId,Oe,le,o,jo,lr);if(te.setRealPlayer(Yi),dn===_u)ki.push(te);else{const Nr=this.playersByElement.get(dn);Nr&&Nr.length&&(te.parentPlayer=Ps(Nr)),i.push(te)}}else el(X,Oe.fromStyles),te.onDestroy(()=>Wi(X,Oe.toStyles)),gu.push(te),u.has(X)&&i.push(te)}),gu.forEach(G=>{const X=o.get(G.element);if(X&&X.length){const te=Ps(X);G.setRealPlayer(te)}}),i.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<g.length;G++){const X=g[G],te=X[Zr];if(du(X,fg),te&&te.hasAnimation)continue;let Oe=[];if(a.size){let Yi=a.get(X);Yi&&Yi.length&&Oe.push(...Yi);let Nr=this.driver.query(X,b5,!0);for(let Bs=0;Bs<Nr.length;Bs++){let xt=a.get(Nr[Bs]);xt&&xt.length&&Oe.push(...xt)}}const dn=Oe.filter(Yi=>!Yi.destroyed);dn.length?$3e(this,X,dn):this.processLeaveNode(X)}return g.length=0,ki.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();const X=this.players.indexOf(G);this.players.splice(X,1)}),G.play()}),ki}elementContainsData(e,t){let r=!1;const i=t[Zr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==yp;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,d=Pr(r,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(p=>{const f=p.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),p.destroy(),d.push(p)})}el(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(f=>{const m=f.element;u.add(m);const g=m[Zr];if(g&&g.removedBeforeQueried)return new lp(f.duration,f.delay);const k=m!==l,w=function G3e(n){const e=[];return MH(n,e),e}((r.get(m)||V3e).map(le=>le.getRealPlayer())).filter(le=>!!le.element&&le.element===m),v=o.get(m),x=s.get(m),L=ZB(0,this._normalizer,0,f.keyframes,v,x),j=this._buildPlayer(f,L,w);if(f.subTimeline&&i&&d.add(m),k){const le=new N5(e,a,m);le.setRealPlayer(j),c.push(le)}return j});c.forEach(f=>{Pr(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>function z3e(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,f.element,f))}),u.forEach(f=>Yr(f,iH));const p=Ps(h);return p.onDestroy(()=>{u.forEach(f=>du(f,iH)),Wi(l,t.toStyles)}),d.forEach(f=>{Pr(i,f,[]).push(p)}),p}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new lp(e.duration,e.delay)}}class N5{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new lp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>f5(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Pr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Sg(n){return n&&1===n.nodeType}function kH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function bH(n,e,t,r,i){const o=[];t.forEach(l=>o.push(kH(l)));const s=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[Zr]=B3e,s.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>kH(l,o[a++])),s}function wH(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function Yr(n,e){n.classList?.add(e)}function du(n,e){n.classList?.remove(e)}function $3e(n,e,t){Ps(t).onDone(()=>n.processLeaveNode(e))}function MH(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof CB?MH(r.players,e):e.push(r)}}function CH(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class Dg{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new j3e(e,t,r),this._timelineEngine=new P3e(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const s=e+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],u=x5(this._driver,o,l,[]);if(l.length)throw function A5e(n,e){return new E(3404,!1)}();a=function D3e(n,e,t){return new I3e(n,e,t)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,s]=YB(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=YB(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Z3e=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Wi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wi(this._element,this._initialStyles),this._endStyles&&(Wi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(el(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(el(this._element,this._endStyles),this._endStyles=null),Wi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function F5(n){let e=null;return n.forEach((t,r)=>{(function Y3e(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class xH{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:uH(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class X3e{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return eH(e,t)}getParentElement(e){return _5(e)}query(e,t,r){return tH(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(p=>p instanceof xH);(function t3e(n,e){return 0===n||0===e})(r,i)&&u.forEach(p=>{p.currentSnapshot.forEach((f,m)=>c.set(m,f))});let d=function X5e(n){return n.length?n[0]instanceof Map?n:n.map(e=>oH(e)):[]}(t).map(p=>Ns(p));d=function n3e(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,uH(n,a)))}}return e}(e,d,c);const h=function K3e(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=F5(e[0]),e.length>1&&(r=F5(e[e.length-1]))):e instanceof Map&&(t=F5(e)),t||r?new Z3e(n,t,r):null}(e,d);return new xH(e,d,l,h)}}let Q3e=(()=>{class n extends bB{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:ei.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?wB(t):t;return EH(this._renderer,null,r,"register",[i]),new J3e(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(C(ju),C(Me))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class J3e extends class uge{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new eTe(this._id,e,t||{},this._renderer)}}class eTe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return EH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function EH(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const TH="@.disabled";let tTe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(o);return u||(u=new SH("",o,this.engine),this._rendererCache.set(o,u)),u}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,t,u.name,u)};return r.data.animation.forEach(l),new nTe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(C(ju),C(Dg),C(ie))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class SH{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==TH?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class nTe extends SH{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==TH?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function rTe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function iTe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let oTe=(()=>{class n extends Dg{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(C(Me),C(v5),C(I5),C(oa))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const DH=[{provide:bB,useClass:Q3e},{provide:I5,useFactory:function sTe(){return new x3e}},{provide:Dg,useClass:oTe},{provide:ju,useFactory:function aTe(n,e,t){return new tTe(n,e,t)},deps:[a1,Dg,ie]}],L5=[{provide:v5,useFactory:()=>new X3e},{provide:nc,useValue:"BrowserAnimations"},...DH],IH=[{provide:v5,useClass:nH},{provide:nc,useValue:"NoopAnimations"},...DH];let lTe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?IH:L5}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({providers:L5,imports:[b8]}),n})();function cTe(n,e){if(1&n&&(D(0,"h1")(1,"span"),I(2),R()()),2&n){const t=e.ngIf;U(1),Yn("color",t.color||"black"),U(1),Jo(t.displayName)}}let uTe=(()=>{class n{constructor(t){this.usersService=t,this.user$=this.usersService.currentUserProfile$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(_(tp))},n.\u0275cmp=Qe({type:n,selectors:[["app-home"]],decls:17,vars:3,consts:[[1,"page-container"],[4,"ngIf"],["routerLink","/login",1,"icon-link"],[1,"huge-icon"],["xmlns","http://www.w3.org/2000/svg","width","200","height","200","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-ghost"],["d","M9 10h.01"],["d","M15 10h.01"],["d","M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"],["routerLink","/sign-up",1,"sign-up-link"]],template:function(t,r){1&t&&(D(0,"div",0)(1,"h1"),I(2,"Welcome!"),R(),de(3,cTe,3,3,"h1",1),ra(4,"async"),D(5,"a",2)(6,"div",3),Up(),D(7,"svg",4),_e(8,"path",5)(9,"path",6)(10,"path",7),R()()(),O2(),D(11,"h2"),I(12,"About"),R(),D(13,"p"),I(14," Chatsper redefines messaging apps by prioritizing security and reliability. Developed to counter the prevailing surveillance practices of major corporations, Chatsper stands out as a secure and trustworthy applet. Focused on safeguarding user data and ensuring privacy, it offers an alternative to conventional messaging platforms, emphasizing confidentiality in communication. With a commitment to user empowerment, Chatsper provides a concise and secure messaging experience, challenging the norms of data-centric practices prevalent in the industry. "),R(),D(15,"a",8),I(16,"Sign up Today!"),R()()),2&t&&(U(3),z("ngIf",ia(4,1,r.user$)))},dependencies:[di,kc,ud],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;display:flex;align-items:center;justify-content:center}.larger-icon[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(.8)}.larger-icon[_ngcontent-%COMP%]{font-size:200px;width:100%;height:100%;text-align:center;line-height:normal}.huge-icon[_ngcontent-%COMP%]{font-size:200px;width:100%;height:100%;color:#000;text-align:center;transition:filter .3s ease}.huge-icon[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(1.8)}.sign-up-link[_ngcontent-%COMP%]{margin-top:20px}"]}),n})();function dTe(n,e){if(1&n&&(D(0,"h1")(1,"span"),I(2),R()()),2&n){const t=e.ngIf;U(1),Yn("color",t.color||"black"),U(1),Jo(t.displayName)}}let hTe=(()=>{class n{constructor(t){this.usersService=t,this.user$=this.usersService.currentUserProfile$}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(_(tp))},n.\u0275cmp=Qe({type:n,selectors:[["app-landing"]],decls:17,vars:3,consts:[[1,"page-container"],[4,"ngIf"],["routerLink","/login",1,"icon-link"],[1,"huge-icon"],["xmlns","http://www.w3.org/2000/svg","width","200","height","200","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-ghost"],["d","M9 10h.01"],["d","M15 10h.01"],["d","M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"],["routerLink","/sign-up",1,"sign-up-link"]],template:function(t,r){1&t&&(D(0,"div",0)(1,"h1"),I(2,"Welcome!"),R(),de(3,dTe,3,3,"h1",1),ra(4,"async"),D(5,"a",2)(6,"div",3),Up(),D(7,"svg",4),_e(8,"path",5)(9,"path",6)(10,"path",7),R()()(),O2(),D(11,"h2"),I(12,"About"),R(),D(13,"p"),I(14," Chatsper redefines messaging apps by prioritizing security and reliability. Developed to counter the prevailing surveillance practices of major corporations, Chatsper stands out as a secure and trustworthy applet. Focused on safeguarding user data and ensuring privacy, it offers an alternative to conventional messaging platforms, emphasizing confidentiality in communication. With a commitment to user empowerment, Chatsper provides a concise and secure messaging experience, challenging the norms of data-centric practices prevalent in the industry. "),R(),D(15,"a",8),I(16,"Sign up Today!"),R()()),2&t&&(U(3),z("ngIf",ia(4,1,r.user$)))},dependencies:[di,kc,ud]}),n})(),AH=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(_(ii),_(He))},n.\u0275dir=K({type:n}),n})(),nl=(()=>{class n extends AH{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=hn(n)))(r||n)}}(),n.\u0275dir=K({type:n,features:[ge]}),n})();const gi=new P("NgValueAccessor"),fTe={provide:gi,useExisting:Xe(()=>hu),multi:!0},yTe=new P("CompositionEventMode");let hu=(()=>{class n extends AH{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mTe(){const n=Ai()?Ai().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(_(ii),_(He),_(yTe,8))},n.\u0275dir=K({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&je("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[$e([fTe]),ge]}),n})();function Fs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function PH(n){return null!=n&&"number"==typeof n.length}const Bn=new P("NgValidators"),Ls=new P("NgAsyncValidators"),_Te=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Lo{static min(e){return function OH(n){return e=>{if(Fs(e.value)||Fs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function NH(n){return e=>{if(Fs(e.value)||Fs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function FH(n){return Fs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function LH(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function VH(n){return Fs(n.value)||_Te.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function BH(n){return e=>Fs(e.value)||!PH(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function HH(n){return e=>PH(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function jH(n){if(!n)return Ag;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Fs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return WH(e)}static composeAsync(e){return KH(e)}}function Ag(n){return null}function zH(n){return null!=n}function qH(n){return Yu(n)?ze(n):n}function UH(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function $H(n,e){return e.map(t=>t(n))}function GH(n){return n.map(e=>function vTe(n){return!n.validate}(e)?e:t=>e.validate(t))}function WH(n){if(!n)return null;const e=n.filter(zH);return 0==e.length?null:function(t){return UH($H(t,e))}}function V5(n){return null!=n?WH(GH(n)):null}function KH(n){if(!n)return null;const e=n.filter(zH);return 0==e.length?null:function(t){return iB($H(t,e).map(qH)).pipe(re(UH))}}function B5(n){return null!=n?KH(GH(n)):null}function ZH(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function YH(n){return n._rawValidators}function XH(n){return n._rawAsyncValidators}function H5(n){return n?Array.isArray(n)?n:[n]:[]}function Rg(n,e){return Array.isArray(n)?n.includes(e):n===e}function QH(n,e){const t=H5(e);return H5(n).forEach(i=>{Rg(t,i)||t.push(i)}),t}function JH(n,e){return H5(e).filter(t=>!Rg(n,t))}class ej{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=V5(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=B5(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class or extends ej{get formDirective(){return null}get path(){return null}}class Vo extends ej{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pg=(()=>{class n extends tj{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(_(Vo,2))},n.\u0275dir=K({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&An("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ge]}),n})(),Og=(()=>{class n extends tj{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(_(or,10))},n.\u0275dir=K({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&An("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ge]}),n})();const gp="VALID",Fg="INVALID",pu="PENDING",_p="DISABLED";function U5(n){return(Lg(n)?n.validators:n)||null}function rj(n){return Array.isArray(n)?V5(n):n||null}function $5(n,e){return(Lg(e)?e.asyncValidators:n)||null}function ij(n){return Array.isArray(n)?B5(n):n||null}function Lg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function oj(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new E(1e3,"");if(!r[t])throw new E(1001,"")}function sj(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new E(1002,"")})}class Vg{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=rj(this._rawValidators),this._composedAsyncValidatorFn=ij(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gp}get invalid(){return this.status===Fg}get pending(){return this.status==pu}get disabled(){return this.status===_p}get enabled(){return this.status!==_p}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=rj(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ij(e)}addValidators(e){this.setValidators(QH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JH(e,this._rawAsyncValidators))}hasValidator(e){return Rg(this._rawValidators,e)}hasAsyncValidator(e){return Rg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_p,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gp||this.status===pu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_p:gp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pu,this._hasOwnPendingAsyncValidator=!0;const t=qH(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?_p:this.errors?Fg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pu)?pu:this._anyControlsHaveStatus(Fg)?Fg:gp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Bg extends Vg{constructor(e,t,r){super(U5(t),$5(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){sj(this,0,e),Object.keys(e).forEach(r=>{oj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function vp(n,e){G5(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function STe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&aj(n,e)})}(n,e),function ITe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function DTe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&aj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function TTe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function jg(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function G5(n,e){const t=YH(n);null!==e.validator?n.setValidators(ZH(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=XH(n);null!==e.asyncValidator?n.setAsyncValidators(ZH(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();zg(e._rawValidators,i),zg(e._rawAsyncValidators,i)}function qg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=YH(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=XH(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return zg(e._rawValidators,r),zg(e._rawAsyncValidators,r),t}function aj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function lj(n,e){G5(n,e)}function uj(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const NTe={provide:or,useExisting:Xe(()=>Ug)},kp=(()=>Promise.resolve(null))();let Ug=(()=>{class n extends or{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pe,this.form=new Bg({},V5(t),B5(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){kp.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),vp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){kp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){kp.then(()=>{const r=this._findContainer(t.path),i=new Bg({});lj(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){kp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){kp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,uj(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(_(Bn,10),_(Ls,10))},n.\u0275dir=K({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&je("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([NTe]),ge]}),n})();function dj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function hj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const bp=class extends Vg{constructor(e=null,t,r){super(U5(t),$5(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=hj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){hj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let $g=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),_j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({}),n})();const Z5=new P("NgModelWithFormControlWarning"),UTe={provide:or,useExisting:Xe(()=>rl)};let rl=(()=>{class n extends or{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return vp(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){jg(t.control||null,t,!1),function OTe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,uj(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(jg(r||null,t),(n=>n instanceof bp)(i)&&(vp(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);lj(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function ATe(n,e){return qg(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){G5(this.form,this),this._oldForm&&qg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(_(Bn,10),_(Ls,10))},n.\u0275dir=K({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&je("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([UTe]),ge,$n]}),n})();const WTe={provide:Vo,useExisting:Xe(()=>wp)};let wp=(()=>{class n extends Vo{constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Pe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function K5(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===hu?t=o:function PTe(n){return Object.getPrototypeOf(n.constructor)===nl}(o)?r=o:i=o}),i||r||t||null}(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function W5(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Hg(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(_(or,13),_(Bn,10),_(Ls,10),_(gi,10),_(Z5,8))},n.\u0275dir=K({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$e([WTe]),ge,$n]}),n})(),lSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[_j]}),n})(),t3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Z5,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[lSe]}),n})();class Oj extends Vg{constructor(e,t,r){super(U5(t),$5(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){sj(this,0,e),e.forEach((r,i)=>{oj(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Nj(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let cSe=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return Nj(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Bg(i,o)}control(t,r,i){let o={};return this.useNonNullable?(Nj(r)?o=r:(o.validators=r,o.asyncValidators=i),new bp(t,{...o,nonNullable:!0})):new bp(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new Oj(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof bp||t instanceof Vg?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:t3}),n})(),n3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return tt(cSe).nonNullable},providedIn:t3}),n})();function r3(n){return n instanceof jr}function o3(n){return"function"==typeof n}function Fj(n){return"string"==typeof n}let uSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,r){1&t&&_e(0,"div",0),2&t&&z("innerHTML",r.content,uS)},encapsulation:2}),n})();class dSe{constructor(e){this.args=e,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const e=this.viewRef.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class hSe{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){}destroy(){}}class pSe{constructor(e){if(this.options=e,e.vcr)this.compRef=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector});else{const t=e.resolver.resolveComponentFactory(e.component);this.compRef=t.create(e.injector),e.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(e,t){return this.compRef.instance[e]=t,this}setInputs(e){return Object.keys(e).forEach(t=>{this.compRef.instance[t]=e[t]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let Lj=(()=>{class n{constructor(t,r,i){this.resolver=t,this.injector=r,this.appRef=i}createComponent(t,r={}){return new pSe({component:t,vcr:r.vcr,injector:r.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(t,r={}){return new dSe({vcr:r.vcr,appRef:this.appRef,tpl:t,context:r.context})}createView(t,r={}){if(r3(t))return this.createTemplate(t,r);if(o3(t))return this.createComponent(t,r);if(Fj(t))return new hSe(t);throw"Type of content is not supported"}}return n.\u0275fac=function(t){return new(t||n)(C(Ys),C(St),C(oa))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fSe=(()=>{class n{constructor(t,r,i){this.defaultTpl=t,this.vcr=r,this.viewService=i}ngOnInit(){this.resolveContentType()}ngOnChanges(t){t.view&&!t.view.isFirstChange()&&this.resolveContentType()}resolveContentType(){this.viewRef?.destroy(),Fj(this.view)?(this.viewRef=this.viewService.createComponent(uSe,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}}return n.\u0275fac=function(t){return new(t||n)(_(jr),_(Sr),_(Lj))},n.\u0275dir=K({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"]},features:[$n]}),n})(),mSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({}),n})();const{isArray:ySe}=Array;const kSe=["*"],bSe=function(n,e){return{"border-color":n,"border-right-color":e}};function wSe(n,e){if(1&n&&(D(0,"div"),I(1,"\n        "),_e(2,"hot-toast-error",2),I(3,"\n      "),R()),2&n){const t=we(3);U(2),z("theme",t.theme)}}function MSe(n,e){if(1&n&&(D(0,"div"),I(1,"\n        "),_e(2,"hot-toast-checkmark",2),I(3,"\n      "),R()),2&n){const t=we(3);U(2),z("theme",t.theme)}}function CSe(n,e){if(1&n&&(D(0,"div"),I(1,"\n        "),_e(2,"hot-toast-warning",2),I(3,"\n      "),R()),2&n){const t=we(3);U(2),z("theme",t.theme)}}function xSe(n,e){if(1&n&&(D(0,"div"),I(1,"\n        "),_e(2,"hot-toast-info",2),I(3,"\n      "),R()),2&n){const t=we(3);U(2),z("theme",t.theme)}}function ESe(n,e){if(1&n&&(D(0,"div",4),I(1,"\n    "),D(2,"div",5),I(3,"\n      "),de(4,wSe,4,1,"div",6),I(5,"\n      "),de(6,MSe,4,1,"div",6),I(7,"\n      "),de(8,CSe,4,1,"div",6),I(9,"\n      "),de(10,xSe,4,1,"div",6),I(11,"\n    "),R(),I(12,"\n  "),R()),2&n){const t=we(2);U(2),z("ngSwitch",t.type),U(2),z("ngSwitchCase","error"),U(2),z("ngSwitchCase","success"),U(2),z("ngSwitchCase","warning"),U(2),z("ngSwitchCase","info")}}function TSe(n,e){if(1&n&&(D(0,"div",1),I(1,"\n  "),_e(2,"hot-toast-loader",2),I(3,"\n  "),de(4,ESe,13,5,"div",3),I(5,"\n"),R()),2&n){const t=we();U(2),z("theme",t.theme),U(2),z("ngIf","loading"!==t.type)}}const SSe=["hotToastBarBase"];function DSe(n,e){if(1&n&&(ao(0),I(1,"\n          "),D(2,"hot-toast-animated-icon",10),I(3),R(),I(4,"\n        "),lo()),2&n){const t=we(2);U(2),z("iconTheme",t.toast.iconTheme),U(1),Jo(t.toast.icon)}}function ISe(n,e){if(1&n&&(I(0,"\n          "),D(1,"div"),I(2,"\n            "),Ef(3,11),I(4,"\n          "),R(),I(5,"\n        ")),2&n){const t=we(2);U(3),z("dynamicView",t.toast.icon)}}function ASe(n,e){if(1&n&&(ao(0),I(1,"\n        "),de(2,DSe,5,2,"ng-container",4),I(3,"\n        "),de(4,ISe,6,1,"ng-template",null,9,Nf),I(6,"\n      "),lo()),2&n){const t=ea(5),r=we();U(2),z("ngIf",r.isIconString)("ngIfElse",t)}}function RSe(n,e){if(1&n&&(I(0,"\n        "),_e(1,"hot-toast-indicator",12),I(2,"\n      ")),2&n){const t=we();U(1),z("theme",t.toast.iconTheme)("type",t.toast.type)}}function PSe(n,e){1&n&&Ef(0)}function OSe(n,e){if(1&n){const t=Qo();D(0,"button",13),je("click",function(){return Gn(t),Wn(we().close())}),R()}2&n&&z("ngStyle",we().toast.closeStyle)}function NSe(n,e){if(1&n){const t=Qo();D(0,"hot-toast",3),je("height",function(i){const s=Gn(t).$implicit;return Wn(we().updateHeight(i,s))})("beforeClosed",function(){const o=Gn(t).$implicit;return Wn(we().beforeClosed(o))})("afterClosed",function(i){return Gn(t),Wn(we().afterClosed(i))}),R()}if(2&n){const t=e.$implicit,r=e.index,i=we();z("toast",t)("offset",i.calculateOffset(t.id,t.position))("toastRef",i.toastRefs[r])}}const Vj={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class Hj{constructor(e){this.toast=e,this._onClosed=new ke}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:r,updateToast:i,afterClosed:o}=e.addToast(this);return this.dispose=t,this.updateMessage=r,this.updateToast=i,this.afterClosed=function _Se(...n){return 1===(n=function gSe(n){return 1===n.length&&ySe(n[0])?n[0]:n}(n)).length?jn(n[0]):new Ve(function vSe(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(jn(n[r]).subscribe(new Je(e,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}e.next(i)})))}}(n))}(this._onClosed.asObservable(),o),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}get data(){return this.toast.data}}let BSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},ngContentSelectors:kSe,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(t,r){1&t&&(Ti(),D(0,"div",0),I(1,"\n  "),en(2),I(3,"\n"),R(),I(4,"\n")),2&t&&Yn("color",null==r.iconTheme?null:r.iconTheme.primary)},styles:["@keyframes hotToastEnter{0%{transform:scale(0)}to{transform:scale(1)}}.hot-toast-animated-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-animated-icon-animation, hotToastEnter .3s ease-in-out forwards);position:var(--hot-toast-animated-icon-position, relative);transform:var(--hot-toast-animated-icon-transform, scale(0))}@media (prefers-reduced-motion: reduce){.hot-toast-animated-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-animated-icon-reduced-motion-animation-duration, none);opacity:var(--hot-toast-animated-icon-reduced-motion-opacity, 1);transform:var(--hot-toast-animated-icon-reduced-motion-transform, scale(1))}}"],changeDetection:0}),n})(),HSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(t,r){1&t&&(_e(0,"div",0),I(1,"\n")),2&t&&z("ngStyle",IA(1,bSe,null==r.theme?null:r.theme.primary,null==r.theme?null:r.theme.secondary))},dependencies:[av],styles:["@keyframes hotToastRotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.hot-toast-loader-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-loader-icon-animation, hotToastRotate 1s linear infinite);border:var(--hot-toast-loader-icon-border, 2px solid);border-bottom-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-left-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);border-radius:var(--hot-toast-loader-icon-border-radius, 100%);border-right-color:var(--hot-toast-loader-icon-border-right-color, #616161);border-top-color:var(--hot-toast-loader-icon-border-color, #e0e0e0);box-sizing:var(--hot-toast-loader-icon-box-sizing, border-box);height:var(--hot-toast-loader-icon-height, 18px);padding-top:var(--hot-toast-loader-icon-padding-top, 2px);width:var(--hot-toast-loader-icon-width, 18px)}@media (prefers-reduced-motion: reduce){.hot-toast-loader-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-loader-icon-reduced-motion-animation-duration, 5s)}}"],changeDetection:0}),n})(),jSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(t,r){1&t&&(_e(0,"div",0),I(1,"\n")),2&t&&Yn("--error-primary",null==r.theme?null:r.theme.primary)("--error-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastErrorCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastFirstLineAnimation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes hotToastSecondLineAnimation{0%{opacity:0;transform:scale(0) rotate(90deg)}to{opacity:1;transform:scale(1) rotate(90deg)}}.hot-toast-error-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-error-icon-animation, hotToastErrorCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-error-icon-animation-delay, .1s);background:var(--hot-toast-error-icon-background, var(--error-primary, #ff4b4b));border-radius:var(--hot-toast-error-icon-border-radius, 10px);height:var(--hot-toast-error-icon-height, 20px);opacity:var(--hot-toast-error-icon-opacity, 0);position:var(--hot-toast-error-icon-position, relative);transform:var(--hot-toast-error-icon-transform, rotate(45deg));width:var(--hot-toast-error-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-error-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-after-before-animation, hotToastFirstLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-after-before-animation-delay, .15s);background:var(--hot-toast-error-icon-after-before-background, var(--error-secondary, #fff));border-radius:var(--hot-toast-error-icon-after-before-border-radius, 3px);bottom:var(--hot-toast-error-icon-after-before-bottom, 9px);content:var(--hot-toast-error-icon-after-before-content, "");height:var(--hot-toast-error-icon-after-before-height, 2px);left:var(--hot-toast-error-icon-after-before-left, 4px);opacity:var(--hot-toast-error-icon-after-before-opacity, 0);position:var(--hot-toast-error-icon-after-before-position, absolute);width:var(--hot-toast-error-icon-after-before-width, 12px)}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:after, .hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-after-before-reduced-motion-animation-duration, 0ms)}}.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation:var(--hot-toast-error-icon-before-animation, hotToastSecondLineAnimation .15s ease-out forwards);animation-delay:var(--hot-toast-error-icon-before-animation-delay, .18s);transform:var(--hot-toast-error-icon-before-transform, rotate(90deg))}@media (prefers-reduced-motion: reduce){.hot-toast-error-icon[_ngcontent-%COMP%]:before{animation-duration:var(--hot-toast-error-icon-before-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),zSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(t,r){1&t&&(_e(0,"div",0),I(1,"\n")),2&t&&Yn("--check-primary",null==r.theme?null:r.theme.primary)("--check-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes hotToastCircleAnimation{0%{opacity:0;transform:scale(0) rotate(45deg)}to{opacity:1;transform:scale(1) rotate(45deg)}}@keyframes hotToastCheckmarkAnimation{0%{height:0;opacity:0;width:0}40%{height:0;opacity:1;width:6px}to{height:10px;opacity:1}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-checkmark-icon-animation, hotToastCircleAnimation .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-checkmark-icon-animation-delay, .1s);background-color:var(--hot-toast-checkmark-icon-background-color, var(--check-primary, #61d345));border-radius:var(--hot-toast-checkmark-icon-border-radius, 10px);height:var(--hot-toast-checkmark-icon-height, 20px);opacity:var(--hot-toast-checkmark-icon-opacity, 0);position:var(--hot-toast-checkmark-icon-position, relative);transform:var(--hot-toast-checkmark-icon-transform, rotate(45deg));width:var(--hot-toast-checkmark-icon-width, 20px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-checkmark-icon-reduced-motion-animation-duration, 0ms)}}.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-checkmark-icon-after-animation, hotToastCheckmarkAnimation .2s ease-out forwards);animation-delay:var(--hot-toast-checkmark-icon-after-animation-delay, .2s);border-bottom-style:solid;border-bottom-width:var(--hot-toast-checkmark-icon-after-border-bottom, 2px);border-color:var(--hot-toast-checkmark-icon-after-border-color, var(--check-secondary, #fff));border-right-style:solid;border-right-width:var(--hot-toast-checkmark-icon-after-border-right, 2px);bottom:var(--hot-toast-checkmark-icon-after-bottom, 6px);box-sizing:var(--hot-toast-checkmark-icon-after-box-sizing, border-box);content:var(--hot-toast-checkmark-icon-after-content, "");height:var(--hot-toast-checkmark-icon-after-height, 10px);left:var(--hot-toast-checkmark-icon-after-left, 6px);opacity:var(--hot-toast-checkmark-icon-after-opacity, 0);position:var(--hot-toast-checkmark-icon-after-position, absolute);width:var(--hot-toast-checkmark-icon-after-width, 6px)}@media (prefers-reduced-motion: reduce){.hot-toast-checkmark-icon[_ngcontent-%COMP%]:after{animation-duration:var(--hot-toast-checkmark-icon-after-reduced-motion-animation-duration, 0ms)}}'],changeDetection:0}),n})(),qSe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(t,r){1&t&&(_e(0,"div",0),I(1,"\n")),2&t&&Yn("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-warn-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-warn-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-warning-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-warning-icon-animation, animate-warn-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-warning-icon-animation-delay, .1s);background-color:var(--hot-toast-warning-icon-background-color, var(--warn-primary, #ffab00));border-radius:var(--hot-toast-warning-icon-border-radius, 50%);display:var(--hot-toast-warning-icon-display, block);height:var(--hot-toast-warning-icon-height, 20px);opacity:var(--hot-toast-warning-icon-opacity, 0);position:var(--hot-toast-warning-icon-position, relative);transform:var(--hot-toast-warning-icon-transform, scale(0));width:var(--hot-toast-warning-icon-width, 20px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after, .hot-toast-warning-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-warning-icon-after-before-background-color, var(--warn-secondary, #fff));border-radius:var(--hot-toast-warning-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-warning-icon-after-before-box-sizing, border-box);content:var(--hot-toast-warning-icon-after-before-content, "");display:var(--hot-toast-warning-icon-after-before-display, block);left:var(--hot-toast-warning-icon-after-before-left, 8.5px);position:var(--hot-toast-warning-icon-after-before-position, absolute);width:var(--hot-toast-warning-icon-after-before-width, 2.5px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-warning-icon-after-animation, animate-warn-line .2s ease-out forwards);animation-delay:var(--hot-toast-warning-icon-after-animation-delay, .2s);height:var(--hot-toast-warning-icon-after-height, 0);opacity:var(--hot-toast-warning-icon-after-opacity, 0);top:var(--hot-toast-warning-icon-after-top, 4px)}.hot-toast-warning-icon[_ngcontent-%COMP%]:before{bottom:var(--hot-toast-warning-icon-before-bottom, 4px);height:var(--hot-toast-warning-icon-before-height, 2px)}'],changeDetection:0}),n})(),USe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(t,r){1&t&&(_e(0,"div",0),I(1,"\n")),2&t&&Yn("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},styles:['@keyframes animate-info-background{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes animate-info-line{0%{height:0;opacity:0}40%{height:4.8px;opacity:1}to{height:8px;opacity:1}}.hot-toast-info-icon[_ngcontent-%COMP%]{animation:var(--hot-toast-info-icon-animation, animate-info-background .3s cubic-bezier(.175, .885, .32, 1.275) forwards);animation-delay:var(--hot-toast-info-icon-animation-delay, .1s);background-color:var(--hot-toast-info-icon-background-color, var(--info-primary, #0d6efd));border-radius:var(--hot-toast-info-icon-border-radius, 50%);display:var(--hot-toast-info-icon-display, block);height:var(--hot-toast-info-icon-height, 20px);opacity:var(--hot-toast-info-icon-opacity, 0);position:var(--hot-toast-info-icon-position, relative);transform:var(--hot-toast-info-icon-transform, scale(0));width:var(--hot-toast-info-icon-width, 20px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after, .hot-toast-info-icon[_ngcontent-%COMP%]:before{background-color:var(--hot-toast-info-icon-after-before-background-color, var(--info-secondary, #fff));border-radius:var(--hot-toast-info-icon-after-before-border-radius, 3px);box-sizing:var(--hot-toast-info-icon-after-before-box-sizing, border-box);content:var(--hot-toast-info-icon-after-before-content, "");display:var(--hot-toast-info-icon-after-before-display, block);left:var(--hot-toast-info-icon-after-before-left, 8.5px);position:var(--hot-toast-info-icon-after-before-position, absolute);width:var(--hot-toast-info-icon-after-before-width, 2.5px)}.hot-toast-info-icon[_ngcontent-%COMP%]:after{animation:var(--hot-toast-info-icon-after-animation, animate-info-line .2s ease-out forwards);animation-delay:var(--hot-toast-info-icon-after-animation-delay, .2s);height:var(--hot-toast-info-icon-after-height, 0);opacity:var(--hot-toast-info-icon-after-opacity, 0);top:var(--hot-toast-info-icon-after-bottom, 8px)}.hot-toast-info-icon[_ngcontent-%COMP%]:before{height:var(--hot-toast-info-icon-before-height, 2px);top:var(--hot-toast-info-icon-before-top, 4px)}'],changeDetection:0}),n})(),$Se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(t,r){1&t&&(de(0,TSe,6,2,"div",0),I(1,"\n")),2&t&&z("ngIf","blank"!==r.type)},dependencies:[HSe,jSe,zSe,qSe,USe,di,cd,sv],styles:[".hot-toast-indicator-wrapper[_ngcontent-%COMP%]{align-items:var(--hot-toast-indicator-wrapper-align-items, center);display:var(--hot-toast-indicator-wrapper-display, flex);justify-content:var(--hot-toast-indicator-wrapper-justify-content, center);min-height:var(--hot-toast-indicator-wrapper-min-height, 20px);min-width:var(--hot-toast-indicator-wrapper-min-width, 20px);position:var(--hot-toast-indicator-wrapper-position, relative)}.hot-toast-status-wrapper[_ngcontent-%COMP%]{position:var(--hot-toast-status-wrapper-position, absolute)}"],changeDetection:0}),n})(),jj=(()=>{class n{constructor(t,r,i){this.injector=t,this.renderer=r,this.ngZone=i,this.offset=0,this.height=new Pe,this.beforeClosed=new Pe,this.afterClosed=new Pe,this.isManualClose=!1,this.unlisteners=[]}ngOnInit(){r3(this.toast.message)&&(this.context={$implicit:this.toastRef}),o3(this.toast.message)&&(this.toastComponentInjector=St.create({providers:[{provide:Hj,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",r=>{this.isExitAnimation(r)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}get containerPositionStyle(){const t=this.toast.position.includes("top"),r=t?{top:0}:{bottom:0},i=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...r,...i}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),r=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${r}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:r}}get isIconString(){return"string"==typeof this.toast.icon}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[r,i]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,r,i)}}return n.\u0275fac=function(t){return new(t||n)(_(St),_(ii),_(ie))},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast"]],viewQuery:function(t,r){if(1&t&&co(SSe,5),2&t){let i;ot(i=st())&&(r.toastBarBase=i.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[3,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(t,r){if(1&t&&(D(0,"div",0),I(1,"\n  "),D(2,"div",1,2),I(4,"\n    "),D(5,"div",3),I(6,"\n      "),de(7,ASe,7,2,"ng-container",4),I(8,"\n\n      "),de(9,RSe,3,2,"ng-template",null,5,Nf),I(11,"\n    "),R(),I(12,"\n\n    "),D(13,"div",6),I(14,"\n      "),D(15,"div"),I(16,"\n        "),de(17,PSe,1,0,"ng-container",7),I(18,"\n      "),R(),I(19,"\n    "),R(),I(20,"\n\n    "),de(21,OSe,1,1,"button",8),I(22,"\n  "),R(),I(23,"\n"),R(),I(24,"\n")),2&t){const i=ea(10);z("ngStyle",r.containerPositionStyle)("ngClass","hot-toast-theme-"+r.toast.theme),U(2),Yn("--hot-toast-animation-state",r.isManualClose?"running":"paused"),z("ngStyle",r.toastBarBaseStyles)("ngClass",r.toast.className),_t("aria-live",r.toast.ariaLive)("role",r.toast.role),U(5),z("ngIf",void 0!==r.toast.icon)("ngIfElse",i),U(10),z("dynamicView",r.toast.message)("dynamicViewContext",r.context)("dynamicViewInjector",r.toastComponentInjector),U(4),z("ngIf",r.toast.dismissible)}},dependencies:[BSe,$Se,av,rv,di,fSe],styles:[".hot-toast-bar-base[_ngcontent-%COMP%]{align-items:var(--hot-toast-align-items, center);background-color:var(--hot-toast-bg, #fff);border-radius:var(--hot-toast-border-radius, 4px);box-shadow:var(--hot-toast-shadow, 0 3px 10px rgba(0, 0, 0, .1), 0 3px 3px rgba(0, 0, 0, .05));color:var(--hot-toast-color, #363636);display:var(--hot-toast-display, flex);line-height:var(--hot-toast-line, 1.3);margin:var(--hot-toast-margin, 16px);max-width:var(--hot-toast-max-width, 350px);padding:var(--hot-toast-padding, 8px 10px);pointer-events:var(--hot-toast-pointer-events, auto);width:var(--hot-toast-width, -moz-fit-content);width:var(--hot-toast-width, fit-content);will-change:var(--hot-toast-will-change, transform)}.hot-toast-bar-base[_ngcontent-%COMP%]:hover, .hot-toast-bar-base[_ngcontent-%COMP%]:focus{animation-play-state:var(--hot-toast-animation-state, paused)!important}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base[_ngcontent-%COMP%]{animation-duration:var(--hot-toast-reduced-motion-animation-duration, 10ms)!important}}.hot-toast-message[_ngcontent-%COMP%]{color:var(--hot-toast-message-color, inherit);display:var(--hot-toast-message-display, flex);flex:var(--hot-toast-message-flex, 1);justify-content:var(--hot-toast-message-justify-content, center);margin:var(--hot-toast-message-margin, 4px 10px)}.hot-toast-bar-base-container[_ngcontent-%COMP%]{display:var(--hot-toast-container-display, flex);pointer-events:var(--hot-toast-container-pointer-events, none);position:var(--hot-toast-container-position, absolute);transition:var(--hot-toast-container-transition, transform .23s cubic-bezier(.21, 1.02, .73, 1))}@media (prefers-reduced-motion: reduce){.hot-toast-bar-base-container[_ngcontent-%COMP%]{transition-duration:var(--hot-toast-container-reduced-motion-transition-duration, 10ms)!important}}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-bar-base[_ngcontent-%COMP%]{background:var(--hot-toast-snackbar-bg, #323232);box-shadow:var(--hot-toast-snackbar-shadow, 0 3px 5px -1px rgba(0, 0, 0, .2), 0 6px 10px 0 rgba(0, 0, 0, .14), 0 1px 18px 0 rgba(0, 0, 0, .12));color:var(--hot-toast-snackbar-color, white)}.hot-toast-bar-base-container.hot-toast-theme-snackbar[_ngcontent-%COMP%]   .hot-toast-close-btn[_ngcontent-%COMP%]{filter:var(--hot-toast-snackbar-close-btn-filter, invert(1) grayscale(100%) brightness(200%))}@keyframes hotToastEnterAnimationNegative{0%{opacity:.5;transform:translateY(-80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastEnterAnimationPositive{0%{opacity:.5;transform:translateY(80px) scale(.6)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes hotToastExitAnimationPositive{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,130px,-1px) scale(.5)}}@keyframes hotToastExitAnimationNegative{0%{opacity:1;transform:translateZ(-1px) scale(1)}to{opacity:0;transform:translate3d(0,-130px,-1px) scale(.5)}}.hot-toast-close-btn[_ngcontent-%COMP%]{align-self:var(--hot-toast-close-btn-align-self, flex-start);background-color:var(--hot-toast-close-btn-background-color, transparent);background-image:var(--hot-toast-close-btn-background-image, url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\"));background-position:var(--hot-toast-close-btn-background-position, center);background-repeat:var(--hot-toast-close-btn-background-repeat, no-repeat);background-size:var(--hot-toast-close-btn-background-size, .75em);border:var(--hot-toast-close-btn-border, 0);border-radius:var(--hot-toast-close-btn-border-radius, .25rem);box-sizing:var(--hot-toast-close-btn-box-sizing, content-box);display:var(--hot-toast-close-btn-display, flex);height:var(--hot-toast-close-btn-height, .8em);margin-top:var(--hot-toast-close-btn-margin-top, .25em);opacity:var(--hot-toast-close-btn-opacity, .5);padding:var(--hot-toast-close-btn-padding, .25em);width:var(--hot-toast-close-btn-width, .8em)}.hot-toast-close-btn[_ngcontent-%COMP%]:focus{box-shadow:var(--hot-toast-close-btn-box-shadow, 0 0 0 .125rem rgba(13, 110, 253, .25));outline:var(--hot-toast-close-btn-outline, none)}.hot-toast-close-btn[_ngcontent-%COMP%]:hover, .hot-toast-close-btn[_ngcontent-%COMP%]:focus{opacity:var(--hot-toast-close-btn-opacity, .75)}.hot-toast-icon[_ngcontent-%COMP%]{align-self:var(--hot-toast-icon-align-self, flex-start);padding-top:var(--hot-toast-icon-padding-top, .25em)}"],changeDetection:0}),n})(),GSe=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new ke,this.onClosed$=this._onClosed.asObservable()}trackById(t,r){return r.id}calculateOffset(t,r){const i=this.toasts.filter(a=>a.visible&&a.position===r),o=i.findIndex(a=>a.id===t);return-1!==o?i.slice(...this.defaultConfig.reverseOrder?[o+1]:[0,o]).reduce((a,l)=>a+(l.height||0)+8,0):0}updateHeight(t,r){r.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const r=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(r.id)},updateMessage:i=>{r.message=i,this.cdr.detectChanges()},updateToast:i=>{this.updateToasts(r,i),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(r)}}closeToast(t){if(t){const r=this.hotToastComponentList.find(i=>i.toast.id===t);r&&r.close()}else this.hotToastComponentList.forEach(r=>r.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(i=>i.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(i=>i.id!==t.id),this.toastRefs=this.toastRefs.filter(i=>i.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(r=>r.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(gn(r=>r.id===t.id))}updateToasts(t,r){this.toasts=this.toasts.map(i=>({...i,...i.id===t.id&&{...t,...r}}))}}return n.\u0275fac=function(t){return new(t||n)(_(zr))},n.\u0275cmp=Qe({type:n,selectors:[["hot-toast-container"]],viewQuery:function(t,r){if(1&t&&co(jj,5),2&t){let i;ot(i=st())&&(r.hotToastComponentList=i)}},inputs:{defaultConfig:"defaultConfig"},decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(t,r){1&t&&(D(0,"div",0),I(1,"\n  "),D(2,"div",1),I(3,"\n    "),de(4,NSe,1,3,"hot-toast",2),I(5,"\n  "),R(),I(6,"\n"),R(),I(7,"\n")),2&t&&(U(4),z("ngForOf",r.toasts)("ngForTrackBy",r.trackById))},dependencies:[jj,iv],encapsulation:2,changeDetection:0}),n})();class s3{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class ZSe{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let a3=(()=>{class n{constructor(t,r,i){this._viewService=t,this.platformId=r,this._isInitialized=!1,this._defaultConfig=new s3,this._defaultPersistConfig=new ZSe,i&&(this._defaultConfig={...this._defaultConfig,...i})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,r){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...r})}error(t,r){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...r})}success(t,r){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...r})}loading(t,r){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...r})}warning(t,r){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...r})}info(t,r){return this.createToast(t||this._defaultConfig.warning.content,"info",{...this._defaultConfig,...this._defaultConfig?.warning,...r})}observe(t){return r=>{let i,o=0;const s=t.loading||this._defaultConfig.loading?.content,a=t.error||this._defaultConfig.error?.content;return cC(()=>(s&&(i=this.createLoadingToast(s),o=Date.now()),r.pipe(bt({next:l=>{i=this.createOrUpdateToast(t,l,i,"success",0===o?o:Date.now()-o)},...a&&{error:l=>{i=this.createOrUpdateToast(t,l,i,"error",0===o?o:Date.now()-o)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){(function pJ(n){return"server"===n})(this.platformId)||(this._componentRef=this._viewService.createComponent(GSe).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,r,i,o,s){let a=null,l={};if(({content:a,options:l}=this.getContentAndOptions(o,t[o]||(this._defaultConfig[o]?this._defaultConfig[o].content:""))),a=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(a,r),i){i.updateMessage(a);const c={type:o,duration:s+Vj[o],...l,...l.duration&&{duration:s+l.duration}};i.updateToast(c)}else this.createToast(a,o,l);return i}createToast(t,r,i,o){this._isInitialized||(this._isInitialized=!0,this.init());const s=Date.now(),a=i?.id??s.toString();if(!this.isDuplicate(a)&&(!i.persist?.enabled||i.persist?.enabled&&this.handleStorageValue(a,i))){const l={ariaLive:i?.ariaLive??"polite",createdAt:s,duration:i?.duration??Vj[r],id:a,message:t,role:i?.role??"status",type:r,visible:!0,observableMessages:o??void 0,...i};return new Hj(l).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,r){let i=1;const o={...this._defaultPersistConfig,...r.persist},s="local"===o.storage?localStorage:sessionStorage,a=o.key.replace(/\${id}/g,t);let l=s.getItem(a);return l?(l=parseInt(l,10),i=l>0?l-1:l):i=o.count,s.setItem(a,i.toString()),i}getContentAndOptions(t,r){let i,o={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof r||r3(r)||o3(r))i=r;else{let s;({content:i,...s}=r),o={...o,...s}}return{content:i,options:o}}createLoadingToast(t){let r=null,i={};return({content:r,options:i}=this.getContentAndOptions("loading",t)),this.loading(r,i)}}return n.\u0275fac=function(t){return new(t||n)(C(Lj),C(tc),C(s3,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YSe=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:s3,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[[dd,mSe]]}),n})();const XSe=["connectionContainer"],QSe=["inputContainer"],JSe=["label"];function eDe(n,e){1&n&&(ao(0),D(1,"div",14),_e(2,"div",15)(3,"div",16)(4,"div",17),R(),D(5,"div",18),_e(6,"div",15)(7,"div",16)(8,"div",17),R(),lo())}function tDe(n,e){if(1&n){const t=Qo();D(0,"div",19),je("cdkObserveContent",function(){return Gn(t),Wn(we().updateOutlineGap())}),en(1,1),R()}2&n&&z("cdkObserveContentDisabled","outline"!=we().appearance)}function nDe(n,e){if(1&n&&(ao(0),en(1,2),D(2,"span"),I(3),R(),lo()),2&n){const t=we(2);U(3),Jo(t._control.placeholder)}}function rDe(n,e){1&n&&en(0,3,["*ngSwitchCase","true"])}function iDe(n,e){1&n&&(D(0,"span",23),I(1," *"),R())}function oDe(n,e){if(1&n){const t=Qo();D(0,"label",20,21),je("cdkObserveContent",function(){return Gn(t),Wn(we().updateOutlineGap())}),de(2,nDe,4,1,"ng-container",12),de(3,rDe,1,0,"ng-content",12),de(4,iDe,2,0,"span",22),R()}if(2&n){const t=we();An("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),z("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),_t("for",t._control.id)("aria-owns",t._control.id),U(2),z("ngSwitchCase",!1),U(1),z("ngSwitchCase",!0),U(1),z("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function sDe(n,e){1&n&&(D(0,"div",24),en(1,4),R())}function aDe(n,e){if(1&n&&(D(0,"div",25),_e(1,"span",26),R()),2&n){const t=we();U(1),An("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function lDe(n,e){1&n&&(D(0,"div"),en(1,5),R()),2&n&&z("@transitionMessages",we()._subscriptAnimationState)}function cDe(n,e){if(1&n&&(D(0,"div",30),I(1),R()),2&n){const t=we(2);z("id",t._hintLabelId),U(1),Jo(t.hintLabel)}}function uDe(n,e){if(1&n&&(D(0,"div",27),de(1,cDe,2,2,"div",28),en(2,6),_e(3,"div",29),en(4,7),R()),2&n){const t=we();z("@transitionMessages",t._subscriptAnimationState),U(1),z("ngIf",t.hintLabel)}}const dDe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],hDe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let pDe=0;const zj=new P("MatError");let qj=(()=>{class n{constructor(t,r){this.id="mat-error-"+pDe++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(Wo("aria-live"),_(He))},n.\u0275dir=K({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&_t("id",r.id)},inputs:{id:"id"},features:[$e([{provide:zj,useExisting:n}])]}),n})();const fDe={transitionMessages:ug("transitionMessages",[ap("enter",ir({opacity:1,transform:"translateY(0%)"})),uu("void => enter",[ir({opacity:0,transform:"translateY(-5px)"}),cu("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let l3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n}),n})();const mDe=new P("MatHint");let Uj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["mat-label"]]}),n})(),yDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=K({type:n,selectors:[["mat-placeholder"]]}),n})();const gDe=new P("MatPrefix"),_De=new P("MatSuffix");let $j=0;const kDe=tg(class{constructor(n){this._elementRef=n}},"primary"),bDe=new P("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Wj=new P("MatFormField");let c3=(()=>{class n extends kDe{constructor(t,r,i,o,s,a,l){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=o,this._platform=s,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ke,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+$j++,this._labelId="mat-form-field-label-"+$j++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=rr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(cs(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Gi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Gi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),dl(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(cs(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(cs(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Gi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,dg(this._label.nativeElement,"transitionend").pipe(zn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const u=r.querySelectorAll(`${i}, ${o}`);for(let d=0;d<u.length;d++)u[d].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,a=0;const l=r.querySelectorAll(i),c=r.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const u=r.getBoundingClientRect();if(0===u.width&&0===u.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const d=this._getStartEnd(u),h=t.children,p=this._getStartEnd(h[0].getBoundingClientRect());let f=0;for(let m=0;m<h.length;m++)f+=h[m].offsetWidth;s=Math.abs(p-d)-5,a=f>0?.75*f+10:0}for(let u=0;u<l.length;u++)l[u].style.width=`${s}px`;for(let u=0;u<c.length;u++)c[u].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(_(He),_(zr),_(QE,8),_(bDe,8),_(gr),_(ie),_(nc,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(pn(i,l3,5),pn(i,l3,7),pn(i,Uj,5),pn(i,Uj,7),pn(i,yDe,5),pn(i,zj,5),pn(i,mDe,5),pn(i,gDe,5),pn(i,_De,5)),2&t){let o;ot(o=st())&&(r._controlNonStatic=o.first),ot(o=st())&&(r._controlStatic=o.first),ot(o=st())&&(r._labelChildNonStatic=o.first),ot(o=st())&&(r._labelChildStatic=o.first),ot(o=st())&&(r._placeholderChild=o.first),ot(o=st())&&(r._errorChildren=o),ot(o=st())&&(r._hintChildren=o),ot(o=st())&&(r._prefixChildren=o),ot(o=st())&&(r._suffixChildren=o)}},viewQuery:function(t,r){if(1&t&&(co(XSe,7),co(QSe,5),co(JSe,5)),2&t){let i;ot(i=st())&&(r._connectionContainerRef=i.first),ot(i=st())&&(r._inputContainerRef=i.first),ot(i=st())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&An("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[$e([{provide:Wj,useExisting:n}]),ge],ngContentSelectors:hDe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(Ti(dDe),D(0,"div",0)(1,"div",1,2),je("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),de(3,eDe,9,0,"ng-container",3),de(4,tDe,2,1,"div",4),D(5,"div",5,6),en(7),D(8,"span",7),de(9,oDe,5,16,"label",8),R()(),de(10,sDe,2,0,"div",9),R(),de(11,aDe,2,4,"div",10),D(12,"div",11),de(13,lDe,2,1,"div",12),de(14,uDe,5,2,"div",13),R()()),2&t&&(U(3),z("ngIf","outline"==r.appearance),U(1),z("ngIf",r._prefixChildren.length),U(5),z("ngIf",r._hasFloatingLabel()),U(1),z("ngIf",r._suffixChildren.length),U(1),z("ngIf","outline"!=r.appearance),U(1),z("ngSwitch",r._getDisplayedMessages()),U(1),z("ngSwitchCase","error"),U(1),z("ngSwitchCase","hint"))},dependencies:[di,cd,sv,qme],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[fDe.transitionMessages]},changeDetection:0}),n})(),u3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[dd,Cn,jV,Cn]}),n})();const Kj=su({passive:!0});let wDe=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Qr;const r=No(t),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new ke,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||r.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&r.classList.contains(s)&&(r.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(r.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",a,Kj),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",a,Kj)}}),o}stopMonitoring(t){const r=No(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(C(gr),C(ie))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({}),n})();const MDe=new P("MAT_INPUT_VALUE_ACCESSOR"),CDe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let xDe=0;const EDe=mye(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r,this.stateChanges=new ke}});let d3=(()=>{class n extends EDe{constructor(t,r,i,o,s,a,l,c,u,d){super(a,o,s,i),this._elementRef=t,this._platform=r,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+xDe++,this.focused=!1,this.stateChanges=new ke,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(f=>NV().has(f)),this._iOSKeyupListener=f=>{const m=f.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,p=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===p,this._isTextarea="textarea"===p,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=rr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Lo.required)??!1}set required(t){this._required=rr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&NV().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=rr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,r=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(r!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=r,r?i.setAttribute("placeholder",r):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){CDe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(_(He),_(gr),_(Vo,10),_(Ug,8),_(rl,8),_(eB),_(MDe,10),_(wDe),_(ie),_(Wj,8))},n.\u0275dir=K({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&je("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(h_("disabled",r.disabled)("required",r.required),_t("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),An("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[$e([{provide:l3,useExisting:n}]),ge,$n]}),n})(),TDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({providers:[eB],imports:[Zj,u3,Cn,Zj,u3]}),n})();function SDe(n,e){1&n&&(D(0,"mat-error"),I(1," Email address is required "),R())}function DDe(n,e){1&n&&(D(0,"mat-error"),I(1," Please enter a valid email address "),R())}function IDe(n,e){1&n&&(D(0,"mat-error"),I(1," Password is required "),R())}let ADe=(()=>{class n{constructor(t,r,i,o){this.authService=t,this.toast=r,this.router=i,this.fb=o,this.loginForm=this.fb.group({email:["",[Lo.required,Lo.email]],password:["",Lo.required]})}ngOnInit(){}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){const{email:t,password:r}=this.loginForm.value;!this.loginForm.valid||!t||!r||this.authService.login(t,r).pipe(this.toast.observe({success:"Logged in successfully",loading:"Logging in...",error:({message:i})=>`There was an error: ${i} `})).subscribe(()=>{this.router.navigate(["/home"])})}}return n.\u0275fac=function(t){return new(t||n)(_(rm),_(a3),_(on),_(n3))},n.\u0275cmp=Qe({type:n,selectors:[["app-login"]],decls:18,vars:4,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Email address","formControlName","email"],[4,"ngIf"],["matInput","","type","password","placeholder","Password","formControlName","password"],[1,"center","margin-top"],["type","submit","mat-raised-button","","color","primary"],["routerLink","/sign-up",1,"sign-up-link"]],template:function(t,r){1&t&&(D(0,"div",0)(1,"h1"),I(2,"Login"),R(),D(3,"form",1),je("ngSubmit",function(){return r.submit()}),D(4,"mat-form-field"),_e(5,"input",2),de(6,SDe,2,0,"mat-error",3),de(7,DDe,2,0,"mat-error",3),R(),D(8,"mat-form-field"),_e(9,"input",4),de(10,IDe,2,0,"mat-error",3),R(),D(11,"div",5)(12,"button",6),I(13,"Login"),R()(),D(14,"span",5),I(15,"New? "),D(16,"a",7),I(17,"Sign up!"),R()()()()),2&t&&(U(3),z("formGroup",r.loginForm),U(3),z("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),U(1),z("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),U(3),z("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required))},dependencies:[di,kc,ag,qj,c3,d3,$g,hu,Pg,Og,rl,wp],styles:[".sign-up-link[_ngcontent-%COMP%]{margin-left:8px}"]}),n})();function RDe(n,e){1&n&&(D(0,"mat-error"),I(1," Name is required "),R())}function PDe(n,e){1&n&&(D(0,"mat-error"),I(1," Email address is required "),R())}function ODe(n,e){1&n&&(D(0,"mat-error"),I(1," Please enter a valid email address "),R())}function NDe(n,e){1&n&&(D(0,"mat-error"),I(1," Password is required "),R())}function FDe(n,e){1&n&&(D(0,"mat-error"),I(1," Confirm Password is required "),R())}function LDe(n,e){1&n&&(D(0,"mat-error"),I(1," Passwords should match "),R())}let BDe=(()=>{class n{constructor(t,r,i,o,s){this.authService=t,this.router=r,this.toast=i,this.usersService=o,this.fb=s,this.signUpForm=this.fb.group({name:["",Lo.required],email:["",[Lo.required,Lo.email]],password:["",Lo.required],confirmPassword:["",Lo.required]},{validators:n=>{const e=n.get("password")?.value,t=n.get("confirmPassword")?.value;return e&&t&&e!==t?{passwordsDontMatch:!0}:null}})}ngOnInit(){}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}get name(){return this.signUpForm.get("name")}submit(){const{name:t,email:r,password:i}=this.signUpForm.value;!this.signUpForm.valid||!t||!i||!r||this.authService.signUp(r,i).pipe(Pn(({user:{uid:o}})=>this.usersService.addUser({uid:o,email:r,displayName:t})),this.toast.observe({success:"Congrats! You are all signed up",loading:"Signing up...",error:({message:o})=>`${o}`})).subscribe(()=>{this.router.navigate(["/home"])})}}return n.\u0275fac=function(t){return new(t||n)(_(rm),_(on),_(a3),_(tp),_(n3))},n.\u0275cmp=Qe({type:n,selectors:[["app-sign-up"]],decls:21,vars:7,consts:[[1,"form-container","mat-elevation-z5"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Name","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Email address","formControlName","email"],["matInput","","type","password","placeholder","Password","formControlName","password"],["matInput","","type","password","placeholder","Confirm Password","formControlName","confirmPassword"],[1,"center","margin-top"],["type","submit","mat-raised-button","","color","primary"]],template:function(t,r){1&t&&(D(0,"div",0)(1,"h1"),I(2,"Sign Up a New User!"),R(),D(3,"form",1),je("ngSubmit",function(){return r.submit()}),D(4,"mat-form-field"),_e(5,"input",2),de(6,RDe,2,0,"mat-error",3),R(),D(7,"mat-form-field"),_e(8,"input",4),de(9,PDe,2,0,"mat-error",3),de(10,ODe,2,0,"mat-error",3),R(),D(11,"mat-form-field"),_e(12,"input",5),de(13,NDe,2,0,"mat-error",3),R(),D(14,"mat-form-field"),_e(15,"input",6),de(16,FDe,2,0,"mat-error",3),R(),de(17,LDe,2,0,"mat-error",3),D(18,"div",7)(19,"button",8),I(20,"Sign Up!"),R()()()()),2&t&&(U(3),z("formGroup",r.signUpForm),U(3),z("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),U(3),z("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),U(1),z("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),U(3),z("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),U(3),z("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),U(1),z("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch))},dependencies:[di,ag,qj,c3,d3,$g,hu,Pg,Og,rl,wp]}),n})();const HDe=Fp,zDe=Symbol("__destroy"),Yj=Symbol("__decoratorApplied");function Xj(n){return"string"==typeof n?Symbol(`__destroy__${n}`):zDe}function Qj(n,e){n[e]||(n[e]=new ke)}function Jj(n,e){n[e]&&(n[e].next(),n[e].complete(),n[e]=null)}function ez(n){n instanceof yt&&n.unsubscribe()}function tz(n,e){return function(){if(n&&n.call(this),Jj(this,Xj()),e.arrayName&&function UDe(n){Array.isArray(n)&&n.forEach(ez)}(this[e.arrayName]),e.checkProperties)for(const t in this)e.blackList?.includes(t)||ez(this[t])}}Symbol("CheckerHasBeenSet");const oz="firebasestorage.googleapis.com",sz="storageBucket";class Ct extends Dr{constructor(e,t,r=0){super(p3(e),`Firebase Storage: ${t} (${p3(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return p3(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var it=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(it||(it={})),it))();function p3(n){return"storage/"+n}function f3(){return new Ct(it.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function m3(n){return new Ct(it.INVALID_ARGUMENT,n)}function uz(){return new Ct(it.APP_DELETED,"The Firebase app was deleted.")}function Mp(n,e){return new Ct(it.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Cp(n){throw new Ct(it.INTERNAL_ERROR,"Internal error: "+n)}class sr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=sr.makeFromUrl(e,t)}catch{return new sr(e,"")}if(""===r.path)return r;throw function cIe(n){return new Ct(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(x){x.path_=decodeURIComponent(x.path)}const d=t.replace(/[.]/g,"\\."),v=[{regex:a,indices:{bucket:1,path:3},postModify:function o(x){"/"===x.path.charAt(x.path.length-1)&&(x.path_=x.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===oz?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<v.length;x++){const L=v[x],j=L.regex.exec(e);if(j){let Ke=j[L.indices.path];Ke||(Ke=""),r=new sr(j[L.indices.bucket],Ke),L.postModify(r);break}}if(null==r)throw function lIe(n){return new Ct(it.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class mIe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Gg(n){return"string"==typeof n||n instanceof String}function dz(n){return y3()&&n instanceof Blob}function y3(){return typeof Blob<"u"&&!function O8(){var n;const e=null===(n=u1())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function g3(n,e,t,r){if(r<e)throw m3(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw m3(`Invalid value for '${n}'. Expected ${t} or less.`)}function Bo(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function hz(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Vs=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Vs||(Vs={})),Vs))();class bIe{constructor(e,t,r,i,o,s,a,l,c,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,f)=>{this.resolve_=p,this.reject_=f,this.start_()})}start_(){const t=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function _Ie(n){return void 0!==n}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=f3();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(i.canceled?this.appDelete_?uz():function lz(){return new Ct(it.CANCELED,"User canceled the upload/download.")}():function az(){return new Ct(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new Wg(!1,null,!0)):this.backoffId_=function yIe(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(...g){c||(c=!0,e.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,n(p,l())},g)}function h(){o&&clearTimeout(o)}function p(g,...k){if(c)return void h();if(g)return h(),void u.call(null,g,...k);if(l()||s)return h(),void u.call(null,g,...k);let v;r<64&&(r*=2),1===a?(a=2,v=0):v=1e3*(r+Math.random()),d(v)}let f=!1;function m(g){f||(f=!0,h(),!c&&(null!==i?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},t),m}((r,i)=>{if(i)return void r(!1,new Wg(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Vs.NO_ERROR,l=o.getStatus();if(!a||function pz(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||i||o}(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===Vs.ABORT;return void r(!1,new Wg(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);r(!0,new Wg(c,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function gIe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Wg{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function SIe(...n){const e=function TIe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(y3())return new Blob(n);throw new Ct(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}class _3{constructor(e,t){this.data=e,this.contentType=t||null}}function mz(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function yz(n,e){switch(n){case"base64":{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw Mp(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Mp(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function IIe(n){if(typeof atob>"u")throw function pIe(n){return new Ct(it.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Mp(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class gz{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Mp("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function OIe(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Ho{constructor(e,t){let r=0,i="";dz(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(dz(this.data_)){const i=function DIe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Ho(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ho(r,!0)}}static getBlob(...e){if(y3()){const t=e.map(r=>r instanceof Ho?r.data_:r);return new Ho(SIe.apply(null,t))}{const t=e.map(s=>Gg(s)?function fz(n,e){switch(n){case"raw":return new _3(mz(e));case"base64":case"base64url":return new _3(yz(n,e));case"data_url":return new _3(function RIe(n){const e=new gz(n);return e.base64?yz("base64",e.rest):function AIe(n){let e;try{e=decodeURIComponent(n)}catch{throw Mp("data_url","Malformed data URL.")}return mz(e)}(e.rest)}(e),function PIe(n){return new gz(n).contentType}(e))}throw f3()}("raw",s).data:s.data_);let r=0;t.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Ho(i,!0)}}uploadData(){return this.data_}}function v3(n){let e;try{e=JSON.parse(n)}catch{return null}return function kIe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function _z(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function LIe(n,e){return e}class ar{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||LIe}}let Kg=null;function xp(){if(Kg)return Kg;const n=[];n.push(new ar("bucket")),n.push(new ar("generation")),n.push(new ar("metageneration")),n.push(new ar("name","fullPath",!0));const t=new ar("name");t.xform=function e(o,s){return function VIe(n){return!Gg(n)||n.length<2?n:_z(n)}(s)},n.push(t);const i=new ar("size");return i.xform=function r(o,s){return void 0!==s?Number(s):s},n.push(i),n.push(new ar("timeCreated")),n.push(new ar("updated")),n.push(new ar("md5Hash",null,!0)),n.push(new ar("cacheControl",null,!0)),n.push(new ar("contentDisposition",null,!0)),n.push(new ar("contentEncoding",null,!0)),n.push(new ar("contentLanguage",null,!0)),n.push(new ar("contentType",null,!0)),n.push(new ar("metadata","customMetadata",!0)),Kg=n,Kg}function vz(n,e,t){const r=v3(e);return null===r?null:function HIe(n,e,t){const r={type:"file"},i=t.length;for(let o=0;o<i;o++){const s=t[o];r[s.local]=s.xform(r,e[s.server])}return function BIe(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new sr(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(r,n),r}(n,r,t)}class Ki{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Zi(n){if(!n)throw f3()}function fu(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function sIe(){return new Ct(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function oIe(){return new Ct(it.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function iIe(n){return new Ct(it.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function aIe(n){return new Ct(it.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function xz(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let v="";for(let x=0;x<2;x++)v+=Math.random().toString().slice(2);return v}();s["Content-Type"]="multipart/related; boundary="+l;const c=function Cz(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function YIe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),u=function k3(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(c,t),p=Ho.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===p)throw function cz(){return new Ct(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const f={name:c.fullPath},m=Bo(o,n.host,n._protocol),k=n.maxUploadRetryTime,w=new Ki(m,"POST",function Zg(n,e){return function t(r,i){const o=vz(n,i,e);return Zi(null!==o),o}}(n,t),k);return w.urlParams=f,w.headers=s,w.body=p.uploadData(),w.errorHandler=fu(e),w}class nAe extends class tAe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Cp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Cp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function vi(){return new nAe}class ol{constructor(e,t){this._service=e,this._location=t instanceof sr?t:sr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ol(e,t)}get root(){const e=new sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _z(this._location.path)}get storage(){return this._service}get parent(){const e=function NIe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new sr(this._location.bucket,e);return new ol(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function fIe(n){return new Ct(it.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function mAe(n){n._throwIfRoot("getDownloadURL");const e=function WIe(n,e,t){const i=Bo(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new Ki(i,"GET",function $Ie(n,e){return function t(r,i){const o=vz(n,i,e);return Zi(null!==o),function jIe(n,e,t,r){const i=v3(e);if(null===i||!Gg(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const d=n.fullPath;return Bo("/b/"+s(n.bucket)+"/o/"+s(d),t,r)+hz({alt:"media",token:c})})[0]}(o,i,n.host,n._protocol)}}(n,t),s);return a.errorHandler=function Ep(n){const e=fu(n);return function t(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function rIe(n){return new Ct(it.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=i.serverResponse,o}}(e),a}(n.storage,n._location,xp());return n.storage.makeRequestWithTokens(e,vi).then(t=>{if(null===t)throw function hIe(){return new Ct(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function Rz(n,e){if(n instanceof C3){const t=n;if(null==t._bucket)throw function uIe(){return new Ct(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sz+"' property when initializing the app?")}();const r=new ol(t,t._bucket);return null!=e?Rz(r,e):r}return void 0!==e?function Az(n,e){const t=function FIe(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new sr(n._location.bucket,t);return new ol(n.storage,r)}(n,e):n}function Pz(n,e){const t=e?.[sz];return null==t?null:sr.makeFromBucketSpec(t,n)}class C3{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=oz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?sr.makeFromBucketSpec(i,this._host):Pz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?sr.makeFromBucketSpec(this._url,e):Pz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){g3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){g3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return y(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return y(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ol(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new mIe(uz());{const s=function EIe(n,e,t,r,i,o,s=!0){const a=hz(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function CIe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function wIe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function MIe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,o),function xIe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,r),new bIe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var r=this;return y(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,o).getPromise()})()}}const Oz="@firebase/storage",Fz="storage";function bAe(n,e,t){return function Sz(n,e,t){n._throwIfRoot("uploadBytes");const r=xz(n.storage,n._location,xp(),new Ho(e,!0),t);return n.storage.makeRequestWithTokens(r,vi).then(i=>({metadata:i,ref:n}))}(n=kt(n),e,t)}function wAe(n){return mAe(n=kt(n))}function MAe(n,e){return function vAe(n,e){if(e&&function gAe(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof C3)return function _Ae(n,e){return new ol(n,e)}(n,e);throw m3("To use ref(service, url), the first argument must be a Storage instance.")}return Rz(n,e)}(n=kt(n),e)}function CAe(n=g1(),e){const r=ha(n=kt(n),Fz).getImmediate({identifier:e}),i=I8("storage");return i&&function xAe(n,e,t,r={}){!function kAe(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:P8(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function EAe(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new C3(t,r,i,e,rs)}!function TAe(){Rn(new fn(Fz,EAe,"PUBLIC").setMultipleInstances(!0)),at(Oz,"0.11.2",""),at(Oz,"0.11.2","esm2017")}();class Xg{constructor(e){return e}}const Lz="storage",x3=new P("angularfire2.storage-instances");function IAe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Xg(r)}}const AAe={provide:class SAe{constructor(){return S1(Lz)}},deps:[[new pt,x3]]},RAe={provide:Xg,useFactory:function DAe(n,e){const t=T1(Lz,n,e);return t&&new Xg(t)},deps:[[new pt,x3],va]};let PAe=(()=>{class n{constructor(){at("angularfire",kd.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({providers:[RAe,AAe]}),n})();function OAe(n,...e){return{ngModule:PAe,providers:[{provide:x3,useFactory:IAe(n),multi:!0,deps:[ie,St,D1,I1,[new pt,oC],[new pt,V1],...e]}]}}const NAe=er(wAe,!0),FAe=er(CAe,!0),LAe=er(MAe,!0),VAe=er(bAe,!0);let BAe=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,r){const i=LAe(this.storage,r);return ze(VAe(i,t)).pipe(Pn(s=>NAe(s.ref)))}}return n.\u0275fac=function(t){return new(t||n)(C(Xg))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HAe(n,e){if(1&n&&(D(0,"h1"),I(1," Update Profile: "),D(2,"span"),I(3),R()()),2&n){const t=e.ngIf;U(2),Yn("color",t.color||"black"),U(1),Jo(t.displayName)}}function jAe(n,e){if(1&n){const t=Qo();ao(0),D(1,"button",14),je("click",function(){const o=Gn(t).$implicit;return Wn(we(2).setColor(o))}),_e(2,"div",15),R(),lo()}if(2&n){const t=e.$implicit;U(2),Yn("background",t)}}function zAe(n,e){if(1&n){const t=Qo();D(0,"div",1),de(1,HAe,4,3,"h1",2),ra(2,"async"),D(3,"div",3)(4,"mat-icon",4),je("mouseenter",function(){return Gn(t),Wn(we().onMouseEnter())})("mouseleave",function(){return Gn(t),Wn(we().onMouseLeave())}),I(5," face "),R()(),D(6,"mat-menu",5,6),de(8,jAe,3,2,"ng-container",7),R(),D(9,"form",8),je("ngSubmit",function(){return Gn(t),Wn(we().saveProfile())}),D(10,"mat-form-field"),_e(11,"input",9),R(),D(12,"mat-form-field"),_e(13,"input",10),R(),D(14,"mat-form-field"),_e(15,"input",11),R(),D(16,"mat-form-field"),_e(17,"textarea",12),R(),D(18,"button",13),I(19," Save Changes "),R()()()}if(2&n){const t=e.ngIf,r=ea(7),i=we();U(1),z("ngIf",ia(2,12,i.user$)),U(2),z("matMenuTriggerFor",r),U(1),Yn("color",t.color),U(2),z("hasBackdrop",!0)("overlapTrigger",!1),U(2),z("ngForOf",i.colorOptions),U(1),z("formGroup",i.profileForm),U(9),Yn("background",t.color||"primary")("color","white")}}let sl=class{constructor(e,t,r,i){this.imageUploadService=e,this.toast=t,this.usersService=r,this.fb=i,this.user$=this.usersService.currentUserProfile$,this.profileForm=this.fb.group({uid:[""],displayName:[""],firstName:[""],lastName:[""],bio:[""],color:[""]}),this.colorOptions=["rgb(255, 154, 159)","rgb(82, 129, 206)","rgb(186, 232, 172)","rgb(233, 215, 135)","rgb(153, 140, 235)","rgb(236, 157, 126)","rgb(216, 171, 158)","rgb(255, 192, 203)","rgb(128, 128, 128)"]}ngOnInit(){this.usersService.currentUserProfile$.pipe(function QDe(n,e){return t=>{const r=Xj(e);return"string"==typeof e?function XDe(n,e,t){const r=n[e];Qj(n,t),n[e]=function(){r.apply(this,arguments),Jj(this,t),n[e]=r}}(n,e,r):Qj(n,r),t.pipe(Gi(n[r]))}}(this),bt(console.log)).subscribe(e=>{this.profileForm.patchValue({...e})})}uploadFile(e,{uid:t}){this.imageUploadService.uploadImage(e.target.files[0],`images/profile/${t}`).pipe(this.toast.observe({loading:"Uploading profile image...",success:"Image uploaded successfully",error:"There was an error in uploading the image"}),Pn(r=>this.usersService.updateUser({uid:t}))).subscribe()}setColor(e){this.profileForm.patchValue({color:e}),this.saveProfile()}saveProfile(){const{uid:e,...t}=this.profileForm.value;!e||this.usersService.updateUser({uid:e,...t}).pipe(this.toast.observe({loading:"Saving profile data...",success:"Profile updated successfully",error:"There was an error in updating the profile"})).subscribe()}onMouseEnter(){const e=document.querySelector(".larger-icon");e&&e.classList.add("hovered")}onMouseLeave(){const e=document.querySelector(".larger-icon");e&&e.classList.remove("hovered")}};sl.\u0275fac=function(e){return new(e||sl)(_(BAe),_(a3),_(tp),_(n3))},sl.\u0275cmp=Qe({type:sl,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","form-container mat-elevation-z5 text-center",4,"ngIf"],[1,"form-container","mat-elevation-z5","text-center"],[4,"ngIf"],[1,"icon-container",3,"matMenuTriggerFor"],[1,"larger-icon",3,"mouseenter","mouseleave"],[1,"profile-menu",3,"hasBackdrop","overlapTrigger"],["colorMenu","matMenu"],[4,"ngFor","ngForOf"],[1,"margin-top",3,"formGroup","ngSubmit"],["type","text","matInput","","formControlName","firstName","placeholder","First Name"],["type","text","matInput","","formControlName","lastName","placeholder","Last Name"],["type","text","matInput","","formControlName","displayName","placeholder","Display Name"],["type","text","matInput","","formControlName","bio","placeholder","Bio/Mood","rows","1"],["type","submit","mat-raised-button","",1,"margin-top"],["mat-menu-item","",3,"click"],[1,"color-circle"]],template:function(e,t){1&e&&(de(0,zAe,20,14,"div",0),ra(1,"async")),2&e&&z("ngIf",ia(1,1,t.user$))},dependencies:[iv,di,yB,ag,c3,d3,$g,hu,Pg,Og,rl,wp,qB,dp,GB,ud],styles:[".profile-image[_ngcontent-%COMP%]{position:relative;width:120px;margin:auto}.profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center}.form-container[_ngcontent-%COMP%]{max-width:400px}.row[_ngcontent-%COMP%]{display:flex;gap:16px}.icon-container[_ngcontent-%COMP%]{width:165px;height:165px;display:flex;justify-content:center;align-items:center;margin:auto;position:relative}.larger-icon[_ngcontent-%COMP%]{font-size:165px;width:100%;height:100%;transition:filter .3s}.larger-icon[_ngcontent-%COMP%]:hover{cursor:pointer;filter:brightness(1.2)}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{align-self:flex-end;margin-bottom:10px;z-index:1}.color-circle[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;margin:4px}mat-button-toggle-group[_ngcontent-%COMP%]{display:flex}  .profile-menu{position:fixed;transform:translate(23.5%,-15%)!important}  .mat-menu-content{flex-wrap:wrap;justify-content:flex-start}  .mat-menu-content .color-circle{margin:4px auto}  .mat-menu-content .mat-button-wrapper{text-align:center}"]}),sl=function Roe(n,e,t,r){var s,i=arguments.length,o=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}([function WDe(n={}){return e=>{!function jDe(n){return!!n[HDe]}(e)?function $De(n,e){n.prototype.ngOnDestroy=tz(n.prototype.ngOnDestroy,e)}(e,n):function GDe(n,e){const t=n.\u0275pipe;t.onDestroy=tz(t.onDestroy,e)}(e,n),function qDe(n){n.prototype[Yj]=!0}(e)}}()],sl);const qAe=[{path:"",pathMatch:"full",component:hTe},{path:"login",component:ADe},{path:"sign-up",component:BDe},{path:"home",component:uTe},{path:"profile",component:sl}];let UAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[Z9.forRoot(qAe),Z9]}),n})();const Vz_firebase={projectId:"chat-app-132a2",appId:"1:784045443083:web:d64407a29e978df5975f0e",storageBucket:"chat-app-132a2.appspot.com",apiKey:"AIzaSyBkBN7gCsLABcwNdHqhSiQoQnjIcoWrkPQ",authDomain:"chat-app-132a2.firebaseapp.com",messagingSenderId:"784045443083"};let QAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({imports:[Cn,t5,Cn]}),n})();const n6e={provide:new P("mat-tooltip-scroll-strategy"),deps:[up],useFactory:function t6e(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let i6e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n}),n.\u0275inj=be({providers:[n6e],imports:[lye,dd,HB,Cn,Cn,hg]}),n})(),o6e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=xe({type:n,bootstrap:[c5e]}),n.\u0275inj=be({imports:[b8,lTe,UAe,Tye,Zye,tge,u3,TDe,t3,zie(()=>qie(Vz_firebase)),Ale(()=>Ole()),fme(()=>yme()),OAe(()=>FAe()),YSe.forRoot(),n2e,QAe,i6e,s5e.pick({Ghost:WB})]}),n})();(function TX(){T6=!1})(),jJ().bootstrapModule(o6e).catch(n=>console.error(n))}},Re=>{Re(Re.s=809)}]);